function RH(t,r){for(var n=0;n<r.length;n++){const s=r[n];if(typeof s!="string"&&!Array.isArray(s)){for(const a in s)if(a!=="default"&&!(a in t)){const i=Object.getOwnPropertyDescriptor(s,a);i&&Object.defineProperty(t,a,i.get?i:{enumerable:!0,get:()=>s[a]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(a){if(a.ep)return;a.ep=!0;const i=n(a);fetch(a.href,i)}})();var jc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ar(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function IH(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var r=t.default;if(typeof r=="function"){var n=function s(){return this instanceof s?Reflect.construct(r,arguments,this.constructor):r.apply(this,arguments)};n.prototype=r.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(s){var a=Object.getOwnPropertyDescriptor(t,s);Object.defineProperty(n,s,a.get?a:{enumerable:!0,get:function(){return t[s]}})}),n}var Mj={exports:{}},Sf={},Dj={exports:{}},Wt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gP;function LH(){if(gP)return Wt;gP=1;var t=Symbol.for("react.element"),r=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),p=Symbol.iterator;function x(q){return q===null||typeof q!="object"?null:(q=p&&q[p]||q["@@iterator"],typeof q=="function"?q:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,y={};function j(q,J,ie){this.props=q,this.context=J,this.refs=y,this.updater=ie||v}j.prototype.isReactComponent={},j.prototype.setState=function(q,J){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,J,"setState")},j.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function S(){}S.prototype=j.prototype;function C(q,J,ie){this.props=q,this.context=J,this.refs=y,this.updater=ie||v}var P=C.prototype=new S;P.constructor=C,w(P,j.prototype),P.isPureReactComponent=!0;var T=Array.isArray,_=Object.prototype.hasOwnProperty,k={current:null},M={key:!0,ref:!0,__self:!0,__source:!0};function $(q,J,ie){var ee,ae={},oe=null,te=null;if(J!=null)for(ee in J.ref!==void 0&&(te=J.ref),J.key!==void 0&&(oe=""+J.key),J)_.call(J,ee)&&!M.hasOwnProperty(ee)&&(ae[ee]=J[ee]);var ue=arguments.length-2;if(ue===1)ae.children=ie;else if(1<ue){for(var de=Array(ue),fe=0;fe<ue;fe++)de[fe]=arguments[fe+2];ae.children=de}if(q&&q.defaultProps)for(ee in ue=q.defaultProps,ue)ae[ee]===void 0&&(ae[ee]=ue[ee]);return{$$typeof:t,type:q,key:oe,ref:te,props:ae,_owner:k.current}}function B(q,J){return{$$typeof:t,type:q.type,key:J,ref:q.ref,props:q.props,_owner:q._owner}}function F(q){return typeof q=="object"&&q!==null&&q.$$typeof===t}function H(q){var J={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(ie){return J[ie]})}var K=/\/+/g;function Z(q,J){return typeof q=="object"&&q!==null&&q.key!=null?H(""+q.key):J.toString(36)}function V(q,J,ie,ee,ae){var oe=typeof q;(oe==="undefined"||oe==="boolean")&&(q=null);var te=!1;if(q===null)te=!0;else switch(oe){case"string":case"number":te=!0;break;case"object":switch(q.$$typeof){case t:case r:te=!0}}if(te)return te=q,ae=ae(te),q=ee===""?"."+Z(te,0):ee,T(ae)?(ie="",q!=null&&(ie=q.replace(K,"$&/")+"/"),V(ae,J,ie,"",function(fe){return fe})):ae!=null&&(F(ae)&&(ae=B(ae,ie+(!ae.key||te&&te.key===ae.key?"":(""+ae.key).replace(K,"$&/")+"/")+q)),J.push(ae)),1;if(te=0,ee=ee===""?".":ee+":",T(q))for(var ue=0;ue<q.length;ue++){oe=q[ue];var de=ee+Z(oe,ue);te+=V(oe,J,ie,de,ae)}else if(de=x(q),typeof de=="function")for(q=de.call(q),ue=0;!(oe=q.next()).done;)oe=oe.value,de=ee+Z(oe,ue++),te+=V(oe,J,ie,de,ae);else if(oe==="object")throw J=String(q),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.");return te}function W(q,J,ie){if(q==null)return q;var ee=[],ae=0;return V(q,ee,"","",function(oe){return J.call(ie,oe,ae++)}),ee}function G(q){if(q._status===-1){var J=q._result;J=J(),J.then(function(ie){(q._status===0||q._status===-1)&&(q._status=1,q._result=ie)},function(ie){(q._status===0||q._status===-1)&&(q._status=2,q._result=ie)}),q._status===-1&&(q._status=0,q._result=J)}if(q._status===1)return q._result.default;throw q._result}var O={current:null},R={transition:null},D={ReactCurrentDispatcher:O,ReactCurrentBatchConfig:R,ReactCurrentOwner:k};function I(){throw Error("act(...) is not supported in production builds of React.")}return Wt.Children={map:W,forEach:function(q,J,ie){W(q,function(){J.apply(this,arguments)},ie)},count:function(q){var J=0;return W(q,function(){J++}),J},toArray:function(q){return W(q,function(J){return J})||[]},only:function(q){if(!F(q))throw Error("React.Children.only expected to receive a single React element child.");return q}},Wt.Component=j,Wt.Fragment=n,Wt.Profiler=a,Wt.PureComponent=C,Wt.StrictMode=s,Wt.Suspense=c,Wt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,Wt.act=I,Wt.cloneElement=function(q,J,ie){if(q==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+q+".");var ee=w({},q.props),ae=q.key,oe=q.ref,te=q._owner;if(J!=null){if(J.ref!==void 0&&(oe=J.ref,te=k.current),J.key!==void 0&&(ae=""+J.key),q.type&&q.type.defaultProps)var ue=q.type.defaultProps;for(de in J)_.call(J,de)&&!M.hasOwnProperty(de)&&(ee[de]=J[de]===void 0&&ue!==void 0?ue[de]:J[de])}var de=arguments.length-2;if(de===1)ee.children=ie;else if(1<de){ue=Array(de);for(var fe=0;fe<de;fe++)ue[fe]=arguments[fe+2];ee.children=ue}return{$$typeof:t,type:q.type,key:ae,ref:oe,props:ee,_owner:te}},Wt.createContext=function(q){return q={$$typeof:o,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},q.Provider={$$typeof:i,_context:q},q.Consumer=q},Wt.createElement=$,Wt.createFactory=function(q){var J=$.bind(null,q);return J.type=q,J},Wt.createRef=function(){return{current:null}},Wt.forwardRef=function(q){return{$$typeof:l,render:q}},Wt.isValidElement=F,Wt.lazy=function(q){return{$$typeof:m,_payload:{_status:-1,_result:q},_init:G}},Wt.memo=function(q,J){return{$$typeof:u,type:q,compare:J===void 0?null:J}},Wt.startTransition=function(q){var J=R.transition;R.transition={};try{q()}finally{R.transition=J}},Wt.unstable_act=I,Wt.useCallback=function(q,J){return O.current.useCallback(q,J)},Wt.useContext=function(q){return O.current.useContext(q)},Wt.useDebugValue=function(){},Wt.useDeferredValue=function(q){return O.current.useDeferredValue(q)},Wt.useEffect=function(q,J){return O.current.useEffect(q,J)},Wt.useId=function(){return O.current.useId()},Wt.useImperativeHandle=function(q,J,ie){return O.current.useImperativeHandle(q,J,ie)},Wt.useInsertionEffect=function(q,J){return O.current.useInsertionEffect(q,J)},Wt.useLayoutEffect=function(q,J){return O.current.useLayoutEffect(q,J)},Wt.useMemo=function(q,J){return O.current.useMemo(q,J)},Wt.useReducer=function(q,J,ie){return O.current.useReducer(q,J,ie)},Wt.useRef=function(q){return O.current.useRef(q)},Wt.useState=function(q){return O.current.useState(q)},Wt.useSyncExternalStore=function(q,J,ie){return O.current.useSyncExternalStore(q,J,ie)},Wt.useTransition=function(){return O.current.useTransition()},Wt.version="18.3.1",Wt}var vP;function Eo(){return vP||(vP=1,Dj.exports=LH()),Dj.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yP;function $H(){if(yP)return Sf;yP=1;var t=Eo(),r=Symbol.for("react.element"),n=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function o(l,c,u){var m,p={},x=null,v=null;u!==void 0&&(x=""+u),c.key!==void 0&&(x=""+c.key),c.ref!==void 0&&(v=c.ref);for(m in c)s.call(c,m)&&!i.hasOwnProperty(m)&&(p[m]=c[m]);if(l&&l.defaultProps)for(m in c=l.defaultProps,c)p[m]===void 0&&(p[m]=c[m]);return{$$typeof:r,type:l,key:x,ref:v,props:p,_owner:a.current}}return Sf.Fragment=n,Sf.jsx=o,Sf.jsxs=o,Sf}var bP;function BH(){return bP||(bP=1,Mj.exports=$H()),Mj.exports}var e=BH(),N=Eo();const ce=ar(N),FH=RH({__proto__:null,default:ce},[N]);var zg={},Rj={exports:{}},qs={},Ij={exports:{}},Lj={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jP;function zH(){return jP||(jP=1,(function(t){function r(R,D){var I=R.length;R.push(D);e:for(;0<I;){var q=I-1>>>1,J=R[q];if(0<a(J,D))R[q]=D,R[I]=J,I=q;else break e}}function n(R){return R.length===0?null:R[0]}function s(R){if(R.length===0)return null;var D=R[0],I=R.pop();if(I!==D){R[0]=I;e:for(var q=0,J=R.length,ie=J>>>1;q<ie;){var ee=2*(q+1)-1,ae=R[ee],oe=ee+1,te=R[oe];if(0>a(ae,I))oe<J&&0>a(te,ae)?(R[q]=te,R[oe]=I,q=oe):(R[q]=ae,R[ee]=I,q=ee);else if(oe<J&&0>a(te,I))R[q]=te,R[oe]=I,q=oe;else break e}}return D}function a(R,D){var I=R.sortIndex-D.sortIndex;return I!==0?I:R.id-D.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],m=1,p=null,x=3,v=!1,w=!1,y=!1,j=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function P(R){for(var D=n(u);D!==null;){if(D.callback===null)s(u);else if(D.startTime<=R)s(u),D.sortIndex=D.expirationTime,r(c,D);else break;D=n(u)}}function T(R){if(y=!1,P(R),!w)if(n(c)!==null)w=!0,G(_);else{var D=n(u);D!==null&&O(T,D.startTime-R)}}function _(R,D){w=!1,y&&(y=!1,S($),$=-1),v=!0;var I=x;try{for(P(D),p=n(c);p!==null&&(!(p.expirationTime>D)||R&&!H());){var q=p.callback;if(typeof q=="function"){p.callback=null,x=p.priorityLevel;var J=q(p.expirationTime<=D);D=t.unstable_now(),typeof J=="function"?p.callback=J:p===n(c)&&s(c),P(D)}else s(c);p=n(c)}if(p!==null)var ie=!0;else{var ee=n(u);ee!==null&&O(T,ee.startTime-D),ie=!1}return ie}finally{p=null,x=I,v=!1}}var k=!1,M=null,$=-1,B=5,F=-1;function H(){return!(t.unstable_now()-F<B)}function K(){if(M!==null){var R=t.unstable_now();F=R;var D=!0;try{D=M(!0,R)}finally{D?Z():(k=!1,M=null)}}else k=!1}var Z;if(typeof C=="function")Z=function(){C(K)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,W=V.port2;V.port1.onmessage=K,Z=function(){W.postMessage(null)}}else Z=function(){j(K,0)};function G(R){M=R,k||(k=!0,Z())}function O(R,D){$=j(function(){R(t.unstable_now())},D)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(R){R.callback=null},t.unstable_continueExecution=function(){w||v||(w=!0,G(_))},t.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<R?Math.floor(1e3/R):5},t.unstable_getCurrentPriorityLevel=function(){return x},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(R){switch(x){case 1:case 2:case 3:var D=3;break;default:D=x}var I=x;x=D;try{return R()}finally{x=I}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(R,D){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var I=x;x=R;try{return D()}finally{x=I}},t.unstable_scheduleCallback=function(R,D,I){var q=t.unstable_now();switch(typeof I=="object"&&I!==null?(I=I.delay,I=typeof I=="number"&&0<I?q+I:q):I=q,R){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=I+J,R={id:m++,callback:D,priorityLevel:R,startTime:I,expirationTime:J,sortIndex:-1},I>q?(R.sortIndex=I,r(u,R),n(c)===null&&R===n(u)&&(y?(S($),$=-1):y=!0,O(T,I-q))):(R.sortIndex=J,r(c,R),w||v||(w=!0,G(_))),R},t.unstable_shouldYield=H,t.unstable_wrapCallback=function(R){var D=x;return function(){var I=x;x=D;try{return R.apply(this,arguments)}finally{x=I}}}})(Lj)),Lj}var wP;function UH(){return wP||(wP=1,Ij.exports=zH()),Ij.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NP;function HH(){if(NP)return qs;NP=1;var t=Eo(),r=UH();function n(d){for(var f="https://reactjs.org/docs/error-decoder.html?invariant="+d,b=1;b<arguments.length;b++)f+="&args[]="+encodeURIComponent(arguments[b]);return"Minified React error #"+d+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,a={};function i(d,f){o(d,f),o(d+"Capture",f)}function o(d,f){for(a[d]=f,d=0;d<f.length;d++)s.add(f[d])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,u=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},p={};function x(d){return c.call(p,d)?!0:c.call(m,d)?!1:u.test(d)?p[d]=!0:(m[d]=!0,!1)}function v(d,f,b,E){if(b!==null&&b.type===0)return!1;switch(typeof f){case"function":case"symbol":return!0;case"boolean":return E?!1:b!==null?!b.acceptsBooleans:(d=d.toLowerCase().slice(0,5),d!=="data-"&&d!=="aria-");default:return!1}}function w(d,f,b,E){if(f===null||typeof f>"u"||v(d,f,b,E))return!0;if(E)return!1;if(b!==null)switch(b.type){case 3:return!f;case 4:return f===!1;case 5:return isNaN(f);case 6:return isNaN(f)||1>f}return!1}function y(d,f,b,E,U,Y,se){this.acceptsBooleans=f===2||f===3||f===4,this.attributeName=E,this.attributeNamespace=U,this.mustUseProperty=b,this.propertyName=d,this.type=f,this.sanitizeURL=Y,this.removeEmptyString=se}var j={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(d){j[d]=new y(d,0,!1,d,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(d){var f=d[0];j[f]=new y(f,1,!1,d[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(d){j[d]=new y(d,2,!1,d.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(d){j[d]=new y(d,2,!1,d,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(d){j[d]=new y(d,3,!1,d.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(d){j[d]=new y(d,3,!0,d,null,!1,!1)}),["capture","download"].forEach(function(d){j[d]=new y(d,4,!1,d,null,!1,!1)}),["cols","rows","size","span"].forEach(function(d){j[d]=new y(d,6,!1,d,null,!1,!1)}),["rowSpan","start"].forEach(function(d){j[d]=new y(d,5,!1,d.toLowerCase(),null,!1,!1)});var S=/[\-:]([a-z])/g;function C(d){return d[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(d){var f=d.replace(S,C);j[f]=new y(f,1,!1,d,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(d){var f=d.replace(S,C);j[f]=new y(f,1,!1,d,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(d){var f=d.replace(S,C);j[f]=new y(f,1,!1,d,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(d){j[d]=new y(d,1,!1,d.toLowerCase(),null,!1,!1)}),j.xlinkHref=new y("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(d){j[d]=new y(d,1,!1,d.toLowerCase(),null,!0,!0)});function P(d,f,b,E){var U=j.hasOwnProperty(f)?j[f]:null;(U!==null?U.type!==0:E||!(2<f.length)||f[0]!=="o"&&f[0]!=="O"||f[1]!=="n"&&f[1]!=="N")&&(w(f,b,U,E)&&(b=null),E||U===null?x(f)&&(b===null?d.removeAttribute(f):d.setAttribute(f,""+b)):U.mustUseProperty?d[U.propertyName]=b===null?U.type===3?!1:"":b:(f=U.attributeName,E=U.attributeNamespace,b===null?d.removeAttribute(f):(U=U.type,b=U===3||U===4&&b===!0?"":""+b,E?d.setAttributeNS(E,f,b):d.setAttribute(f,b))))}var T=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_=Symbol.for("react.element"),k=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),$=Symbol.for("react.strict_mode"),B=Symbol.for("react.profiler"),F=Symbol.for("react.provider"),H=Symbol.for("react.context"),K=Symbol.for("react.forward_ref"),Z=Symbol.for("react.suspense"),V=Symbol.for("react.suspense_list"),W=Symbol.for("react.memo"),G=Symbol.for("react.lazy"),O=Symbol.for("react.offscreen"),R=Symbol.iterator;function D(d){return d===null||typeof d!="object"?null:(d=R&&d[R]||d["@@iterator"],typeof d=="function"?d:null)}var I=Object.assign,q;function J(d){if(q===void 0)try{throw Error()}catch(b){var f=b.stack.trim().match(/\n( *(at )?)/);q=f&&f[1]||""}return`
`+q+d}var ie=!1;function ee(d,f){if(!d||ie)return"";ie=!0;var b=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(f)if(f=function(){throw Error()},Object.defineProperty(f.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(f,[])}catch(_e){var E=_e}Reflect.construct(d,[],f)}else{try{f.call()}catch(_e){E=_e}d.call(f.prototype)}else{try{throw Error()}catch(_e){E=_e}d()}}catch(_e){if(_e&&E&&typeof _e.stack=="string"){for(var U=_e.stack.split(`
`),Y=E.stack.split(`
`),se=U.length-1,me=Y.length-1;1<=se&&0<=me&&U[se]!==Y[me];)me--;for(;1<=se&&0<=me;se--,me--)if(U[se]!==Y[me]){if(se!==1||me!==1)do if(se--,me--,0>me||U[se]!==Y[me]){var xe=`
`+U[se].replace(" at new "," at ");return d.displayName&&xe.includes("<anonymous>")&&(xe=xe.replace("<anonymous>",d.displayName)),xe}while(1<=se&&0<=me);break}}}finally{ie=!1,Error.prepareStackTrace=b}return(d=d?d.displayName||d.name:"")?J(d):""}function ae(d){switch(d.tag){case 5:return J(d.type);case 16:return J("Lazy");case 13:return J("Suspense");case 19:return J("SuspenseList");case 0:case 2:case 15:return d=ee(d.type,!1),d;case 11:return d=ee(d.type.render,!1),d;case 1:return d=ee(d.type,!0),d;default:return""}}function oe(d){if(d==null)return null;if(typeof d=="function")return d.displayName||d.name||null;if(typeof d=="string")return d;switch(d){case M:return"Fragment";case k:return"Portal";case B:return"Profiler";case $:return"StrictMode";case Z:return"Suspense";case V:return"SuspenseList"}if(typeof d=="object")switch(d.$$typeof){case H:return(d.displayName||"Context")+".Consumer";case F:return(d._context.displayName||"Context")+".Provider";case K:var f=d.render;return d=d.displayName,d||(d=f.displayName||f.name||"",d=d!==""?"ForwardRef("+d+")":"ForwardRef"),d;case W:return f=d.displayName||null,f!==null?f:oe(d.type)||"Memo";case G:f=d._payload,d=d._init;try{return oe(d(f))}catch{}}return null}function te(d){var f=d.type;switch(d.tag){case 24:return"Cache";case 9:return(f.displayName||"Context")+".Consumer";case 10:return(f._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return d=f.render,d=d.displayName||d.name||"",f.displayName||(d!==""?"ForwardRef("+d+")":"ForwardRef");case 7:return"Fragment";case 5:return f;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return oe(f);case 8:return f===$?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof f=="function")return f.displayName||f.name||null;if(typeof f=="string")return f}return null}function ue(d){switch(typeof d){case"boolean":case"number":case"string":case"undefined":return d;case"object":return d;default:return""}}function de(d){var f=d.type;return(d=d.nodeName)&&d.toLowerCase()==="input"&&(f==="checkbox"||f==="radio")}function fe(d){var f=de(d)?"checked":"value",b=Object.getOwnPropertyDescriptor(d.constructor.prototype,f),E=""+d[f];if(!d.hasOwnProperty(f)&&typeof b<"u"&&typeof b.get=="function"&&typeof b.set=="function"){var U=b.get,Y=b.set;return Object.defineProperty(d,f,{configurable:!0,get:function(){return U.call(this)},set:function(se){E=""+se,Y.call(this,se)}}),Object.defineProperty(d,f,{enumerable:b.enumerable}),{getValue:function(){return E},setValue:function(se){E=""+se},stopTracking:function(){d._valueTracker=null,delete d[f]}}}}function ye(d){d._valueTracker||(d._valueTracker=fe(d))}function he(d){if(!d)return!1;var f=d._valueTracker;if(!f)return!0;var b=f.getValue(),E="";return d&&(E=de(d)?d.checked?"true":"false":d.value),d=E,d!==b?(f.setValue(d),!0):!1}function Ce(d){if(d=d||(typeof document<"u"?document:void 0),typeof d>"u")return null;try{return d.activeElement||d.body}catch{return d.body}}function Se(d,f){var b=f.checked;return I({},f,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:b??d._wrapperState.initialChecked})}function $e(d,f){var b=f.defaultValue==null?"":f.defaultValue,E=f.checked!=null?f.checked:f.defaultChecked;b=ue(f.value!=null?f.value:b),d._wrapperState={initialChecked:E,initialValue:b,controlled:f.type==="checkbox"||f.type==="radio"?f.checked!=null:f.value!=null}}function qe(d,f){f=f.checked,f!=null&&P(d,"checked",f,!1)}function Fe(d,f){qe(d,f);var b=ue(f.value),E=f.type;if(b!=null)E==="number"?(b===0&&d.value===""||d.value!=b)&&(d.value=""+b):d.value!==""+b&&(d.value=""+b);else if(E==="submit"||E==="reset"){d.removeAttribute("value");return}f.hasOwnProperty("value")?rt(d,f.type,b):f.hasOwnProperty("defaultValue")&&rt(d,f.type,ue(f.defaultValue)),f.checked==null&&f.defaultChecked!=null&&(d.defaultChecked=!!f.defaultChecked)}function it(d,f,b){if(f.hasOwnProperty("value")||f.hasOwnProperty("defaultValue")){var E=f.type;if(!(E!=="submit"&&E!=="reset"||f.value!==void 0&&f.value!==null))return;f=""+d._wrapperState.initialValue,b||f===d.value||(d.value=f),d.defaultValue=f}b=d.name,b!==""&&(d.name=""),d.defaultChecked=!!d._wrapperState.initialChecked,b!==""&&(d.name=b)}function rt(d,f,b){(f!=="number"||Ce(d.ownerDocument)!==d)&&(b==null?d.defaultValue=""+d._wrapperState.initialValue:d.defaultValue!==""+b&&(d.defaultValue=""+b))}var yt=Array.isArray;function Pt(d,f,b,E){if(d=d.options,f){f={};for(var U=0;U<b.length;U++)f["$"+b[U]]=!0;for(b=0;b<d.length;b++)U=f.hasOwnProperty("$"+d[b].value),d[b].selected!==U&&(d[b].selected=U),U&&E&&(d[b].defaultSelected=!0)}else{for(b=""+ue(b),f=null,U=0;U<d.length;U++){if(d[U].value===b){d[U].selected=!0,E&&(d[U].defaultSelected=!0);return}f!==null||d[U].disabled||(f=d[U])}f!==null&&(f.selected=!0)}}function Et(d,f){if(f.dangerouslySetInnerHTML!=null)throw Error(n(91));return I({},f,{value:void 0,defaultValue:void 0,children:""+d._wrapperState.initialValue})}function Te(d,f){var b=f.value;if(b==null){if(b=f.children,f=f.defaultValue,b!=null){if(f!=null)throw Error(n(92));if(yt(b)){if(1<b.length)throw Error(n(93));b=b[0]}f=b}f==null&&(f=""),b=f}d._wrapperState={initialValue:ue(b)}}function $t(d,f){var b=ue(f.value),E=ue(f.defaultValue);b!=null&&(b=""+b,b!==d.value&&(d.value=b),f.defaultValue==null&&d.defaultValue!==b&&(d.defaultValue=b)),E!=null&&(d.defaultValue=""+E)}function Dt(d){var f=d.textContent;f===d._wrapperState.initialValue&&f!==""&&f!==null&&(d.value=f)}function De(d){switch(d){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ge(d,f){return d==null||d==="http://www.w3.org/1999/xhtml"?De(f):d==="http://www.w3.org/2000/svg"&&f==="foreignObject"?"http://www.w3.org/1999/xhtml":d}var Je,Jt=(function(d){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(f,b,E,U){MSApp.execUnsafeLocalFunction(function(){return d(f,b,E,U)})}:d})(function(d,f){if(d.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in d)d.innerHTML=f;else{for(Je=Je||document.createElement("div"),Je.innerHTML="<svg>"+f.valueOf().toString()+"</svg>",f=Je.firstChild;d.firstChild;)d.removeChild(d.firstChild);for(;f.firstChild;)d.appendChild(f.firstChild)}});function bt(d,f){if(f){var b=d.firstChild;if(b&&b===d.lastChild&&b.nodeType===3){b.nodeValue=f;return}}d.textContent=f}var kr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},dn=["Webkit","ms","Moz","O"];Object.keys(kr).forEach(function(d){dn.forEach(function(f){f=f+d.charAt(0).toUpperCase()+d.substring(1),kr[f]=kr[d]})});function yr(d,f,b){return f==null||typeof f=="boolean"||f===""?"":b||typeof f!="number"||f===0||kr.hasOwnProperty(d)&&kr[d]?(""+f).trim():f+"px"}function js(d,f){d=d.style;for(var b in f)if(f.hasOwnProperty(b)){var E=b.indexOf("--")===0,U=yr(b,f[b],E);b==="float"&&(b="cssFloat"),E?d.setProperty(b,U):d[b]=U}}var ws=I({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ta(d,f){if(f){if(ws[d]&&(f.children!=null||f.dangerouslySetInnerHTML!=null))throw Error(n(137,d));if(f.dangerouslySetInnerHTML!=null){if(f.children!=null)throw Error(n(60));if(typeof f.dangerouslySetInnerHTML!="object"||!("__html"in f.dangerouslySetInnerHTML))throw Error(n(61))}if(f.style!=null&&typeof f.style!="object")throw Error(n(62))}}function is(d,f){if(d.indexOf("-")===-1)return typeof f.is=="string";switch(d){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ra=null;function $r(d){return d=d.target||d.srcElement||window,d.correspondingUseElement&&(d=d.correspondingUseElement),d.nodeType===3?d.parentNode:d}var Sn=null,Zr=null,Rt=null;function Ns(d){if(d=Go(d)){if(typeof Sn!="function")throw Error(n(280));var f=d.stateNode;f&&(f=zu(f),Sn(d.stateNode,d.type,f))}}function _t(d){Zr?Rt?Rt.push(d):Rt=[d]:Zr=d}function br(){if(Zr){var d=Zr,f=Rt;if(Rt=Zr=null,Ns(d),f)for(d=0;d<f.length;d++)Ns(f[d])}}function Cr(d,f){return d(f)}function Br(){}var Da=!1;function Pr(d,f,b){if(Da)return d(f,b);Da=!0;try{return Cr(d,f,b)}finally{Da=!1,(Zr!==null||Rt!==null)&&(Br(),br())}}function un(d,f){var b=d.stateNode;if(b===null)return null;var E=zu(b);if(E===null)return null;b=E[f];e:switch(f){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(E=!E.disabled)||(d=d.type,E=!(d==="button"||d==="input"||d==="select"||d==="textarea")),d=!E;break e;default:d=!1}if(d)return null;if(b&&typeof b!="function")throw Error(n(231,f,typeof b));return b}var Ra=!1;if(l)try{var yn={};Object.defineProperty(yn,"passive",{get:function(){Ra=!0}}),window.addEventListener("test",yn,yn),window.removeEventListener("test",yn,yn)}catch{Ra=!1}function Xn(d,f,b,E,U,Y,se,me,xe){var _e=Array.prototype.slice.call(arguments,3);try{f.apply(b,_e)}catch(Ie){this.onError(Ie)}}var bn=!1,Ye=null,Zi=!1,hi=null,Xi={onError:function(d){bn=!0,Ye=d}};function pu(d,f,b,E,U,Y,se,me,xe){bn=!1,Ye=null,Xn.apply(Xi,arguments)}function zc(d,f,b,E,U,Y,se,me,xe){if(pu.apply(this,arguments),bn){if(bn){var _e=Ye;bn=!1,Ye=null}else throw Error(n(198));Zi||(Zi=!0,hi=_e)}}function os(d){var f=d,b=d;if(d.alternate)for(;f.return;)f=f.return;else{d=f;do f=d,(f.flags&4098)!==0&&(b=f.return),d=f.return;while(d)}return f.tag===3?b:null}function Ia(d){if(d.tag===13){var f=d.memoizedState;if(f===null&&(d=d.alternate,d!==null&&(f=d.memoizedState)),f!==null)return f.dehydrated}return null}function Do(d){if(os(d)!==d)throw Error(n(188))}function xu(d){var f=d.alternate;if(!f){if(f=os(d),f===null)throw Error(n(188));return f!==d?null:d}for(var b=d,E=f;;){var U=b.return;if(U===null)break;var Y=U.alternate;if(Y===null){if(E=U.return,E!==null){b=E;continue}break}if(U.child===Y.child){for(Y=U.child;Y;){if(Y===b)return Do(U),d;if(Y===E)return Do(U),f;Y=Y.sibling}throw Error(n(188))}if(b.return!==E.return)b=U,E=Y;else{for(var se=!1,me=U.child;me;){if(me===b){se=!0,b=U,E=Y;break}if(me===E){se=!0,E=U,b=Y;break}me=me.sibling}if(!se){for(me=Y.child;me;){if(me===b){se=!0,b=Y,E=U;break}if(me===E){se=!0,E=Y,b=U;break}me=me.sibling}if(!se)throw Error(n(189))}}if(b.alternate!==E)throw Error(n(190))}if(b.tag!==3)throw Error(n(188));return b.stateNode.current===b?d:f}function Uc(d){return d=xu(d),d!==null?Hc(d):null}function Hc(d){if(d.tag===5||d.tag===6)return d;for(d=d.child;d!==null;){var f=Hc(d);if(f!==null)return f;d=d.sibling}return null}var Wc=r.unstable_scheduleCallback,Ol=r.unstable_cancelCallback,gu=r.unstable_shouldYield,Ro=r.unstable_requestPaint,Ar=r.unstable_now,vu=r.unstable_getCurrentPriorityLevel,Ml=r.unstable_ImmediatePriority,qc=r.unstable_UserBlockingPriority,Io=r.unstable_NormalPriority,re=r.unstable_LowPriority,Ee=r.unstable_IdlePriority,Qe=null,Vr=null;function na(d){if(Vr&&typeof Vr.onCommitFiberRoot=="function")try{Vr.onCommitFiberRoot(Qe,d,void 0,(d.current.flags&128)===128)}catch{}}var Tt=Math.clz32?Math.clz32:Dl,Fr=Math.log,yu=Math.LN2;function Dl(d){return d>>>=0,d===0?32:31-(Fr(d)/yu|0)|0}var mi=64,Rl=4194304;function Ot(d){switch(d&-d){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return d&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return d}}function Er(d,f){var b=d.pendingLanes;if(b===0)return 0;var E=0,U=d.suspendedLanes,Y=d.pingedLanes,se=b&268435455;if(se!==0){var me=se&~U;me!==0?E=Ot(me):(Y&=se,Y!==0&&(E=Ot(Y)))}else se=b&~U,se!==0?E=Ot(se):Y!==0&&(E=Ot(Y));if(E===0)return 0;if(f!==0&&f!==E&&(f&U)===0&&(U=E&-E,Y=f&-f,U>=Y||U===16&&(Y&4194240)!==0))return f;if((E&4)!==0&&(E|=b&16),f=d.entangledLanes,f!==0)for(d=d.entanglements,f&=E;0<f;)b=31-Tt(f),U=1<<b,E|=d[b],f&=~U;return E}function Bm(d,f){switch(d){case 1:case 2:case 4:return f+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function bu(d,f){for(var b=d.suspendedLanes,E=d.pingedLanes,U=d.expirationTimes,Y=d.pendingLanes;0<Y;){var se=31-Tt(Y),me=1<<se,xe=U[se];xe===-1?((me&b)===0||(me&E)!==0)&&(U[se]=Bm(me,f)):xe<=f&&(d.expiredLanes|=me),Y&=~me}}function ls(d){return d=d.pendingLanes&-1073741825,d!==0?d:d&1073741824?1073741824:0}function Dx(){var d=mi;return mi<<=1,(mi&4194240)===0&&(mi=64),d}function Il(d){for(var f=[],b=0;31>b;b++)f.push(d);return f}function sa(d,f,b){d.pendingLanes|=f,f!==536870912&&(d.suspendedLanes=0,d.pingedLanes=0),d=d.eventTimes,f=31-Tt(f),d[f]=b}function hn(d,f){var b=d.pendingLanes&~f;d.pendingLanes=f,d.suspendedLanes=0,d.pingedLanes=0,d.expiredLanes&=f,d.mutableReadLanes&=f,d.entangledLanes&=f,f=d.entanglements;var E=d.eventTimes;for(d=d.expirationTimes;0<b;){var U=31-Tt(b),Y=1<<U;f[U]=0,E[U]=-1,d[U]=-1,b&=~Y}}function fi(d,f){var b=d.entangledLanes|=f;for(d=d.entanglements;b;){var E=31-Tt(b),U=1<<E;U&f|d[E]&f&&(d[E]|=f),b&=~U}}var Qt=0;function Ll(d){return d&=-d,1<d?4<d?(d&268435455)!==0?16:536870912:4:1}var ju,Lo,wu,Nu,Vc,Gc=!1,$l=[],aa=null,pi=null,La=null,Kc=new Map,kt=new Map,On=[],jr="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Fm(d,f){switch(d){case"focusin":case"focusout":aa=null;break;case"dragenter":case"dragleave":pi=null;break;case"mouseover":case"mouseout":La=null;break;case"pointerover":case"pointerout":Kc.delete(f.pointerId);break;case"gotpointercapture":case"lostpointercapture":kt.delete(f.pointerId)}}function $o(d,f,b,E,U,Y){return d===null||d.nativeEvent!==Y?(d={blockedOn:f,domEventName:b,eventSystemFlags:E,nativeEvent:Y,targetContainers:[U]},f!==null&&(f=Go(f),f!==null&&Lo(f)),d):(d.eventSystemFlags|=E,f=d.targetContainers,U!==null&&f.indexOf(U)===-1&&f.push(U),d)}function zm(d,f,b,E,U){switch(f){case"focusin":return aa=$o(aa,d,f,b,E,U),!0;case"dragenter":return pi=$o(pi,d,f,b,E,U),!0;case"mouseover":return La=$o(La,d,f,b,E,U),!0;case"pointerover":var Y=U.pointerId;return Kc.set(Y,$o(Kc.get(Y)||null,d,f,b,E,U)),!0;case"gotpointercapture":return Y=U.pointerId,kt.set(Y,$o(kt.get(Y)||null,d,f,b,E,U)),!0}return!1}function Su(d){var f=Vo(d.target);if(f!==null){var b=os(f);if(b!==null){if(f=b.tag,f===13){if(f=Ia(b),f!==null){d.blockedOn=f,Vc(d.priority,function(){wu(b)});return}}else if(f===3&&b.stateNode.current.memoizedState.isDehydrated){d.blockedOn=b.tag===3?b.stateNode.containerInfo:null;return}}}d.blockedOn=null}function $a(d){if(d.blockedOn!==null)return!1;for(var f=d.targetContainers;0<f.length;){var b=Cu(d.domEventName,d.eventSystemFlags,f[0],d.nativeEvent);if(b===null){b=d.nativeEvent;var E=new b.constructor(b.type,b);ra=E,b.target.dispatchEvent(E),ra=null}else return f=Go(b),f!==null&&Lo(f),d.blockedOn=b,!1;f.shift()}return!0}function _u(d,f,b){$a(d)&&b.delete(f)}function Yc(){Gc=!1,aa!==null&&$a(aa)&&(aa=null),pi!==null&&$a(pi)&&(pi=null),La!==null&&$a(La)&&(La=null),Kc.forEach(_u),kt.forEach(_u)}function Xr(d,f){d.blockedOn===f&&(d.blockedOn=null,Gc||(Gc=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Yc)))}function ia(d){function f(U){return Xr(U,d)}if(0<$l.length){Xr($l[0],d);for(var b=1;b<$l.length;b++){var E=$l[b];E.blockedOn===d&&(E.blockedOn=null)}}for(aa!==null&&Xr(aa,d),pi!==null&&Xr(pi,d),La!==null&&Xr(La,d),Kc.forEach(f),kt.forEach(f),b=0;b<On.length;b++)E=On[b],E.blockedOn===d&&(E.blockedOn=null);for(;0<On.length&&(b=On[0],b.blockedOn===null);)Su(b),b.blockedOn===null&&On.shift()}var Bo=T.ReactCurrentBatchConfig,Zc=!0;function fb(d,f,b,E){var U=Qt,Y=Bo.transition;Bo.transition=null;try{Qt=1,Xc(d,f,b,E)}finally{Qt=U,Bo.transition=Y}}function Rx(d,f,b,E){var U=Qt,Y=Bo.transition;Bo.transition=null;try{Qt=4,Xc(d,f,b,E)}finally{Qt=U,Bo.transition=Y}}function Xc(d,f,b,E){if(Zc){var U=Cu(d,f,b,E);if(U===null)h(d,f,E,ku,b),Fm(d,E);else if(zm(U,d,f,b,E))E.stopPropagation();else if(Fm(d,E),f&4&&-1<jr.indexOf(d)){for(;U!==null;){var Y=Go(U);if(Y!==null&&ju(Y),Y=Cu(d,f,b,E),Y===null&&h(d,f,E,ku,b),Y===U)break;U=Y}U!==null&&E.stopPropagation()}else h(d,f,E,null,b)}}var ku=null;function Cu(d,f,b,E){if(ku=null,d=$r(E),d=Vo(d),d!==null)if(f=os(d),f===null)d=null;else if(b=f.tag,b===13){if(d=Ia(f),d!==null)return d;d=null}else if(b===3){if(f.stateNode.current.memoizedState.isDehydrated)return f.tag===3?f.stateNode.containerInfo:null;d=null}else f!==d&&(d=null);return ku=d,null}function qt(d){switch(d){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(vu()){case Ml:return 1;case qc:return 4;case Io:case re:return 16;case Ee:return 536870912;default:return 16}default:return 16}}var Ji=null,Ss=null,Qi=null;function Um(){if(Qi)return Qi;var d,f=Ss,b=f.length,E,U="value"in Ji?Ji.value:Ji.textContent,Y=U.length;for(d=0;d<b&&f[d]===U[d];d++);var se=b-d;for(E=1;E<=se&&f[b-E]===U[Y-E];E++);return Qi=U.slice(d,1<E?1-E:void 0)}function Pu(d){var f=d.keyCode;return"charCode"in d?(d=d.charCode,d===0&&f===13&&(d=13)):d=f,d===10&&(d=13),32<=d||d===13?d:0}function Bl(){return!0}function Ix(){return!1}function cs(d){function f(b,E,U,Y,se){this._reactName=b,this._targetInst=U,this.type=E,this.nativeEvent=Y,this.target=se,this.currentTarget=null;for(var me in d)d.hasOwnProperty(me)&&(b=d[me],this[me]=b?b(Y):Y[me]);return this.isDefaultPrevented=(Y.defaultPrevented!=null?Y.defaultPrevented:Y.returnValue===!1)?Bl:Ix,this.isPropagationStopped=Ix,this}return I(f.prototype,{preventDefault:function(){this.defaultPrevented=!0;var b=this.nativeEvent;b&&(b.preventDefault?b.preventDefault():typeof b.returnValue!="unknown"&&(b.returnValue=!1),this.isDefaultPrevented=Bl)},stopPropagation:function(){var b=this.nativeEvent;b&&(b.stopPropagation?b.stopPropagation():typeof b.cancelBubble!="unknown"&&(b.cancelBubble=!0),this.isPropagationStopped=Bl)},persist:function(){},isPersistent:Bl}),f}var Fl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(d){return d.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Hm=cs(Fl),Fo=I({},Fl,{view:0,detail:0}),pb=cs(Fo),$s,Wm,zl,oa=I({},Fo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Uo,button:0,buttons:0,relatedTarget:function(d){return d.relatedTarget===void 0?d.fromElement===d.srcElement?d.toElement:d.fromElement:d.relatedTarget},movementX:function(d){return"movementX"in d?d.movementX:(d!==zl&&(zl&&d.type==="mousemove"?($s=d.screenX-zl.screenX,Wm=d.screenY-zl.screenY):Wm=$s=0,zl=d),$s)},movementY:function(d){return"movementY"in d?d.movementY:Wm}}),qm=cs(oa),Lx=I({},oa,{dataTransfer:0}),Vm=cs(Lx),xb=I({},Fo,{relatedTarget:0}),Au=cs(xb),$x=I({},Fl,{animationName:0,elapsedTime:0,pseudoElement:0}),gb=cs($x),vb=I({},Fl,{clipboardData:function(d){return"clipboardData"in d?d.clipboardData:window.clipboardData}}),Gm=cs(vb),yb=I({},Fl,{data:0}),Km=cs(yb),Bx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Eu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bb(d){var f=this.nativeEvent;return f.getModifierState?f.getModifierState(d):(d=zo[d])?!!f[d]:!1}function Uo(){return bb}var Bs=I({},Fo,{key:function(d){if(d.key){var f=Bx[d.key]||d.key;if(f!=="Unidentified")return f}return d.type==="keypress"?(d=Pu(d),d===13?"Enter":String.fromCharCode(d)):d.type==="keydown"||d.type==="keyup"?Eu[d.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Uo,charCode:function(d){return d.type==="keypress"?Pu(d):0},keyCode:function(d){return d.type==="keydown"||d.type==="keyup"?d.keyCode:0},which:function(d){return d.type==="keypress"?Pu(d):d.type==="keydown"||d.type==="keyup"?d.keyCode:0}}),Fx=cs(Bs),zx=I({},oa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ux=cs(zx),Ym=I({},Fo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Uo}),Zm=cs(Ym),jb=I({},Fl,{propertyName:0,elapsedTime:0,pseudoElement:0}),wb=cs(jb),Hx=I({},oa,{deltaX:function(d){return"deltaX"in d?d.deltaX:"wheelDeltaX"in d?-d.wheelDeltaX:0},deltaY:function(d){return"deltaY"in d?d.deltaY:"wheelDeltaY"in d?-d.wheelDeltaY:"wheelDelta"in d?-d.wheelDelta:0},deltaZ:0,deltaMode:0}),Nb=cs(Hx),la=[9,13,27,32],eo=l&&"CompositionEvent"in window,Jc=null;l&&"documentMode"in document&&(Jc=document.documentMode);var xi=l&&"TextEvent"in window&&!Jc,Wx=l&&(!eo||Jc&&8<Jc&&11>=Jc),Ho=" ",qx=!1;function Ul(d,f){switch(d){case"keyup":return la.indexOf(f.keyCode)!==-1;case"keydown":return f.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Xm(d){return d=d.detail,typeof d=="object"&&"data"in d?d.data:null}var gi=!1;function Sb(d,f){switch(d){case"compositionend":return Xm(f);case"keypress":return f.which!==32?null:(qx=!0,Ho);case"textInput":return d=f.data,d===Ho&&qx?null:d;default:return null}}function to(d,f){if(gi)return d==="compositionend"||!eo&&Ul(d,f)?(d=Um(),Qi=Ss=Ji=null,gi=!1,d):null;switch(d){case"paste":return null;case"keypress":if(!(f.ctrlKey||f.altKey||f.metaKey)||f.ctrlKey&&f.altKey){if(f.char&&1<f.char.length)return f.char;if(f.which)return String.fromCharCode(f.which)}return null;case"compositionend":return Wx&&f.locale!=="ko"?null:f.data;default:return null}}var Tu={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vx(d){var f=d&&d.nodeName&&d.nodeName.toLowerCase();return f==="input"?!!Tu[d.type]:f==="textarea"}function Ou(d,f,b,E){_t(E),f=A(f,"onChange"),0<f.length&&(b=new Hm("onChange","change",null,b,E),d.push({event:b,listeners:f}))}var Qc=null,_s=null;function _b(d){of(d,0)}function vi(d){var f=Ko(d);if(he(f))return d}function kb(d,f){if(d==="change")return f}var Ba=!1;if(l){var Hl;if(l){var Mu="oninput"in document;if(!Mu){var Du=document.createElement("div");Du.setAttribute("oninput","return;"),Mu=typeof Du.oninput=="function"}Hl=Mu}else Hl=!1;Ba=Hl&&(!document.documentMode||9<document.documentMode)}function ed(){Qc&&(Qc.detachEvent("onpropertychange",Ru),_s=Qc=null)}function Ru(d){if(d.propertyName==="value"&&vi(_s)){var f=[];Ou(f,_s,d,$r(d)),Pr(_b,f)}}function Iu(d,f,b){d==="focusin"?(ed(),Qc=f,_s=b,Qc.attachEvent("onpropertychange",Ru)):d==="focusout"&&ed()}function Wl(d){if(d==="selectionchange"||d==="keyup"||d==="keydown")return vi(_s)}function Lu(d,f){if(d==="click")return vi(f)}function Jm(d,f){if(d==="input"||d==="change")return vi(f)}function Gx(d,f){return d===f&&(d!==0||1/d===1/f)||d!==d&&f!==f}var ca=typeof Object.is=="function"?Object.is:Gx;function ro(d,f){if(ca(d,f))return!0;if(typeof d!="object"||d===null||typeof f!="object"||f===null)return!1;var b=Object.keys(d),E=Object.keys(f);if(b.length!==E.length)return!1;for(E=0;E<b.length;E++){var U=b[E];if(!c.call(f,U)||!ca(d[U],f[U]))return!1}return!0}function Kx(d){for(;d&&d.firstChild;)d=d.firstChild;return d}function Qm(d,f){var b=Kx(d);d=0;for(var E;b;){if(b.nodeType===3){if(E=d+b.textContent.length,d<=f&&E>=f)return{node:b,offset:f-d};d=E}e:{for(;b;){if(b.nextSibling){b=b.nextSibling;break e}b=b.parentNode}b=void 0}b=Kx(b)}}function Yx(d,f){return d&&f?d===f?!0:d&&d.nodeType===3?!1:f&&f.nodeType===3?Yx(d,f.parentNode):"contains"in d?d.contains(f):d.compareDocumentPosition?!!(d.compareDocumentPosition(f)&16):!1:!1}function ef(){for(var d=window,f=Ce();f instanceof d.HTMLIFrameElement;){try{var b=typeof f.contentWindow.location.href=="string"}catch{b=!1}if(b)d=f.contentWindow;else break;f=Ce(d.document)}return f}function tf(d){var f=d&&d.nodeName&&d.nodeName.toLowerCase();return f&&(f==="input"&&(d.type==="text"||d.type==="search"||d.type==="tel"||d.type==="url"||d.type==="password")||f==="textarea"||d.contentEditable==="true")}function Fa(d){var f=ef(),b=d.focusedElem,E=d.selectionRange;if(f!==b&&b&&b.ownerDocument&&Yx(b.ownerDocument.documentElement,b)){if(E!==null&&tf(b)){if(f=E.start,d=E.end,d===void 0&&(d=f),"selectionStart"in b)b.selectionStart=f,b.selectionEnd=Math.min(d,b.value.length);else if(d=(f=b.ownerDocument||document)&&f.defaultView||window,d.getSelection){d=d.getSelection();var U=b.textContent.length,Y=Math.min(E.start,U);E=E.end===void 0?Y:Math.min(E.end,U),!d.extend&&Y>E&&(U=E,E=Y,Y=U),U=Qm(b,Y);var se=Qm(b,E);U&&se&&(d.rangeCount!==1||d.anchorNode!==U.node||d.anchorOffset!==U.offset||d.focusNode!==se.node||d.focusOffset!==se.offset)&&(f=f.createRange(),f.setStart(U.node,U.offset),d.removeAllRanges(),Y>E?(d.addRange(f),d.extend(se.node,se.offset)):(f.setEnd(se.node,se.offset),d.addRange(f)))}}for(f=[],d=b;d=d.parentNode;)d.nodeType===1&&f.push({element:d,left:d.scrollLeft,top:d.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<f.length;b++)d=f[b],d.element.scrollLeft=d.left,d.element.scrollTop=d.top}}var $u=l&&"documentMode"in document&&11>=document.documentMode,ql=null,Vl=null,td=null,Bu=!1;function Zx(d,f,b){var E=b.window===b?b.document:b.nodeType===9?b:b.ownerDocument;Bu||ql==null||ql!==Ce(E)||(E=ql,"selectionStart"in E&&tf(E)?E={start:E.selectionStart,end:E.selectionEnd}:(E=(E.ownerDocument&&E.ownerDocument.defaultView||window).getSelection(),E={anchorNode:E.anchorNode,anchorOffset:E.anchorOffset,focusNode:E.focusNode,focusOffset:E.focusOffset}),td&&ro(td,E)||(td=E,E=A(Vl,"onSelect"),0<E.length&&(f=new Hm("onSelect","select",null,f,b),d.push({event:f,listeners:E}),f.target=ql)))}function no(d,f){var b={};return b[d.toLowerCase()]=f.toLowerCase(),b["Webkit"+d]="webkit"+f,b["Moz"+d]="moz"+f,b}var Gl={animationend:no("Animation","AnimationEnd"),animationiteration:no("Animation","AnimationIteration"),animationstart:no("Animation","AnimationStart"),transitionend:no("Transition","TransitionEnd")},so={},rf={};l&&(rf=document.createElement("div").style,"AnimationEvent"in window||(delete Gl.animationend.animation,delete Gl.animationiteration.animation,delete Gl.animationstart.animation),"TransitionEvent"in window||delete Gl.transitionend.transition);function rd(d){if(so[d])return so[d];if(!Gl[d])return d;var f=Gl[d],b;for(b in f)if(f.hasOwnProperty(b)&&b in rf)return so[d]=f[b];return d}var Xx=rd("animationend"),za=rd("animationiteration"),nf=rd("animationstart"),sf=rd("transitionend"),Kl=new Map,Jx="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function da(d,f){Kl.set(d,f),i(f,[d])}for(var Wo=0;Wo<Jx.length;Wo++){var Fu=Jx[Wo],Qx=Fu.toLowerCase(),Cb=Fu[0].toUpperCase()+Fu.slice(1);da(Qx,"on"+Cb)}da(Xx,"onAnimationEnd"),da(za,"onAnimationIteration"),da(nf,"onAnimationStart"),da("dblclick","onDoubleClick"),da("focusin","onFocus"),da("focusout","onBlur"),da(sf,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Yl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),eg=new Set("cancel close invalid load scroll toggle".split(" ").concat(Yl));function af(d,f,b){var E=d.type||"unknown-event";d.currentTarget=b,zc(E,f,void 0,d),d.currentTarget=null}function of(d,f){f=(f&4)!==0;for(var b=0;b<d.length;b++){var E=d[b],U=E.event;E=E.listeners;e:{var Y=void 0;if(f)for(var se=E.length-1;0<=se;se--){var me=E[se],xe=me.instance,_e=me.currentTarget;if(me=me.listener,xe!==Y&&U.isPropagationStopped())break e;af(U,me,_e),Y=xe}else for(se=0;se<E.length;se++){if(me=E[se],xe=me.instance,_e=me.currentTarget,me=me.listener,xe!==Y&&U.isPropagationStopped())break e;af(U,me,_e),Y=xe}}}if(Zi)throw d=hi,Zi=!1,hi=null,d}function wr(d,f){var b=f[Ql];b===void 0&&(b=f[Ql]=new Set);var E=d+"__bubble";b.has(E)||(tg(f,d,2,!1),b.add(E))}function lf(d,f,b){var E=0;f&&(E|=4),tg(b,d,E,f)}var nd="_reactListening"+Math.random().toString(36).slice(2);function Zl(d){if(!d[nd]){d[nd]=!0,s.forEach(function(b){b!=="selectionchange"&&(eg.has(b)||lf(b,!1,d),lf(b,!0,d))});var f=d.nodeType===9?d:d.ownerDocument;f===null||f[nd]||(f[nd]=!0,lf("selectionchange",!1,f))}}function tg(d,f,b,E){switch(qt(f)){case 1:var U=fb;break;case 4:U=Rx;break;default:U=Xc}b=U.bind(null,f,b,d),U=void 0,!Ra||f!=="touchstart"&&f!=="touchmove"&&f!=="wheel"||(U=!0),E?U!==void 0?d.addEventListener(f,b,{capture:!0,passive:U}):d.addEventListener(f,b,!0):U!==void 0?d.addEventListener(f,b,{passive:U}):d.addEventListener(f,b,!1)}function h(d,f,b,E,U){var Y=E;if((f&1)===0&&(f&2)===0&&E!==null)e:for(;;){if(E===null)return;var se=E.tag;if(se===3||se===4){var me=E.stateNode.containerInfo;if(me===U||me.nodeType===8&&me.parentNode===U)break;if(se===4)for(se=E.return;se!==null;){var xe=se.tag;if((xe===3||xe===4)&&(xe=se.stateNode.containerInfo,xe===U||xe.nodeType===8&&xe.parentNode===U))return;se=se.return}for(;me!==null;){if(se=Vo(me),se===null)return;if(xe=se.tag,xe===5||xe===6){E=Y=se;continue e}me=me.parentNode}}E=E.return}Pr(function(){var _e=Y,Ie=$r(b),Le=[];e:{var Re=Kl.get(d);if(Re!==void 0){var Xe=Hm,nt=d;switch(d){case"keypress":if(Pu(b)===0)break e;case"keydown":case"keyup":Xe=Fx;break;case"focusin":nt="focus",Xe=Au;break;case"focusout":nt="blur",Xe=Au;break;case"beforeblur":case"afterblur":Xe=Au;break;case"click":if(b.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Xe=qm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Xe=Vm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Xe=Zm;break;case Xx:case za:case nf:Xe=gb;break;case sf:Xe=wb;break;case"scroll":Xe=pb;break;case"wheel":Xe=Nb;break;case"copy":case"cut":case"paste":Xe=Gm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Xe=Ux}var ot=(f&4)!==0,jn=!ot&&d==="scroll",je=ot?Re!==null?Re+"Capture":null:Re;ot=[];for(var ge=_e,we;ge!==null;){we=ge;var ze=we.stateNode;if(we.tag===5&&ze!==null&&(we=ze,je!==null&&(ze=un(ge,je),ze!=null&&ot.push(g(ge,ze,we)))),jn)break;ge=ge.return}0<ot.length&&(Re=new Xe(Re,nt,null,b,Ie),Le.push({event:Re,listeners:ot}))}}if((f&7)===0){e:{if(Re=d==="mouseover"||d==="pointerover",Xe=d==="mouseout"||d==="pointerout",Re&&b!==ra&&(nt=b.relatedTarget||b.fromElement)&&(Vo(nt)||nt[ur]))break e;if((Xe||Re)&&(Re=Ie.window===Ie?Ie:(Re=Ie.ownerDocument)?Re.defaultView||Re.parentWindow:window,Xe?(nt=b.relatedTarget||b.toElement,Xe=_e,nt=nt?Vo(nt):null,nt!==null&&(jn=os(nt),nt!==jn||nt.tag!==5&&nt.tag!==6)&&(nt=null)):(Xe=null,nt=_e),Xe!==nt)){if(ot=qm,ze="onMouseLeave",je="onMouseEnter",ge="mouse",(d==="pointerout"||d==="pointerover")&&(ot=Ux,ze="onPointerLeave",je="onPointerEnter",ge="pointer"),jn=Xe==null?Re:Ko(Xe),we=nt==null?Re:Ko(nt),Re=new ot(ze,ge+"leave",Xe,b,Ie),Re.target=jn,Re.relatedTarget=we,ze=null,Vo(Ie)===_e&&(ot=new ot(je,ge+"enter",nt,b,Ie),ot.target=we,ot.relatedTarget=jn,ze=ot),jn=ze,Xe&&nt)t:{for(ot=Xe,je=nt,ge=0,we=ot;we;we=z(we))ge++;for(we=0,ze=je;ze;ze=z(ze))we++;for(;0<ge-we;)ot=z(ot),ge--;for(;0<we-ge;)je=z(je),we--;for(;ge--;){if(ot===je||je!==null&&ot===je.alternate)break t;ot=z(ot),je=z(je)}ot=null}else ot=null;Xe!==null&&X(Le,Re,Xe,ot,!1),nt!==null&&jn!==null&&X(Le,jn,nt,ot,!0)}}e:{if(Re=_e?Ko(_e):window,Xe=Re.nodeName&&Re.nodeName.toLowerCase(),Xe==="select"||Xe==="input"&&Re.type==="file")var ct=kb;else if(Vx(Re))if(Ba)ct=Jm;else{ct=Wl;var xt=Iu}else(Xe=Re.nodeName)&&Xe.toLowerCase()==="input"&&(Re.type==="checkbox"||Re.type==="radio")&&(ct=Lu);if(ct&&(ct=ct(d,_e))){Ou(Le,ct,b,Ie);break e}xt&&xt(d,Re,_e),d==="focusout"&&(xt=Re._wrapperState)&&xt.controlled&&Re.type==="number"&&rt(Re,"number",Re.value)}switch(xt=_e?Ko(_e):window,d){case"focusin":(Vx(xt)||xt.contentEditable==="true")&&(ql=xt,Vl=_e,td=null);break;case"focusout":td=Vl=ql=null;break;case"mousedown":Bu=!0;break;case"contextmenu":case"mouseup":case"dragend":Bu=!1,Zx(Le,b,Ie);break;case"selectionchange":if($u)break;case"keydown":case"keyup":Zx(Le,b,Ie)}var gt;if(eo)e:{switch(d){case"compositionstart":var At="onCompositionStart";break e;case"compositionend":At="onCompositionEnd";break e;case"compositionupdate":At="onCompositionUpdate";break e}At=void 0}else gi?Ul(d,b)&&(At="onCompositionEnd"):d==="keydown"&&b.keyCode===229&&(At="onCompositionStart");At&&(Wx&&b.locale!=="ko"&&(gi||At!=="onCompositionStart"?At==="onCompositionEnd"&&gi&&(gt=Um()):(Ji=Ie,Ss="value"in Ji?Ji.value:Ji.textContent,gi=!0)),xt=A(_e,At),0<xt.length&&(At=new Km(At,d,null,b,Ie),Le.push({event:At,listeners:xt}),gt?At.data=gt:(gt=Xm(b),gt!==null&&(At.data=gt)))),(gt=xi?Sb(d,b):to(d,b))&&(_e=A(_e,"onBeforeInput"),0<_e.length&&(Ie=new Km("onBeforeInput","beforeinput",null,b,Ie),Le.push({event:Ie,listeners:_e}),Ie.data=gt))}of(Le,f)})}function g(d,f,b){return{instance:d,listener:f,currentTarget:b}}function A(d,f){for(var b=f+"Capture",E=[];d!==null;){var U=d,Y=U.stateNode;U.tag===5&&Y!==null&&(U=Y,Y=un(d,b),Y!=null&&E.unshift(g(d,Y,U)),Y=un(d,f),Y!=null&&E.push(g(d,Y,U))),d=d.return}return E}function z(d){if(d===null)return null;do d=d.return;while(d&&d.tag!==5);return d||null}function X(d,f,b,E,U){for(var Y=f._reactName,se=[];b!==null&&b!==E;){var me=b,xe=me.alternate,_e=me.stateNode;if(xe!==null&&xe===E)break;me.tag===5&&_e!==null&&(me=_e,U?(xe=un(b,Y),xe!=null&&se.unshift(g(b,xe,me))):U||(xe=un(b,Y),xe!=null&&se.push(g(b,xe,me)))),b=b.return}se.length!==0&&d.push({event:f,listeners:se})}var le=/\r\n?/g,pe=/\u0000|\uFFFD/g;function be(d){return(typeof d=="string"?d:""+d).replace(le,`
`).replace(pe,"")}function Ne(d,f,b){if(f=be(f),be(d)!==f&&b)throw Error(n(425))}function Me(){}var Ve=null,ft=null;function Bt(d,f){return d==="textarea"||d==="noscript"||typeof f.children=="string"||typeof f.children=="number"||typeof f.dangerouslySetInnerHTML=="object"&&f.dangerouslySetInnerHTML!==null&&f.dangerouslySetInnerHTML.__html!=null}var Mn=typeof setTimeout=="function"?setTimeout:void 0,_n=typeof clearTimeout=="function"?clearTimeout:void 0,ks=typeof Promise=="function"?Promise:void 0,ds=typeof queueMicrotask=="function"?queueMicrotask:typeof ks<"u"?function(d){return ks.resolve(null).then(d).catch(Xl)}:Mn;function Xl(d){setTimeout(function(){throw d})}function cf(d,f){var b=f,E=0;do{var U=b.nextSibling;if(d.removeChild(b),U&&U.nodeType===8)if(b=U.data,b==="/$"){if(E===0){d.removeChild(U),ia(f);return}E--}else b!=="$"&&b!=="$?"&&b!=="$!"||E++;b=U}while(b);ia(f)}function ao(d){for(;d!=null;d=d.nextSibling){var f=d.nodeType;if(f===1||f===3)break;if(f===8){if(f=d.data,f==="$"||f==="$!"||f==="$?")break;if(f==="/$")return null}}return d}function rg(d){d=d.previousSibling;for(var f=0;d;){if(d.nodeType===8){var b=d.data;if(b==="$"||b==="$!"||b==="$?"){if(f===0)return d;f--}else b==="/$"&&f++}d=d.previousSibling}return null}var qo=Math.random().toString(36).slice(2),Ua="__reactFiber$"+qo,Jl="__reactProps$"+qo,ur="__reactContainer$"+qo,Ql="__reactEvents$"+qo,Pb="__reactListeners$"+qo,Ab="__reactHandles$"+qo;function Vo(d){var f=d[Ua];if(f)return f;for(var b=d.parentNode;b;){if(f=b[ur]||b[Ua]){if(b=f.alternate,f.child!==null||b!==null&&b.child!==null)for(d=rg(d);d!==null;){if(b=d[Ua])return b;d=rg(d)}return f}d=b,b=d.parentNode}return null}function Go(d){return d=d[Ua]||d[ur],!d||d.tag!==5&&d.tag!==6&&d.tag!==13&&d.tag!==3?null:d}function Ko(d){if(d.tag===5||d.tag===6)return d.stateNode;throw Error(n(33))}function zu(d){return d[Jl]||null}var Eb=[],Uu=-1;function ec(d){return{current:d}}function zr(d){0>Uu||(d.current=Eb[Uu],Eb[Uu]=null,Uu--)}function Tr(d,f){Uu++,Eb[Uu]=d.current,d.current=f}var tc={},us=ec(tc),Fs=ec(!1),sd=tc;function Hu(d,f){var b=d.type.contextTypes;if(!b)return tc;var E=d.stateNode;if(E&&E.__reactInternalMemoizedUnmaskedChildContext===f)return E.__reactInternalMemoizedMaskedChildContext;var U={},Y;for(Y in b)U[Y]=f[Y];return E&&(d=d.stateNode,d.__reactInternalMemoizedUnmaskedChildContext=f,d.__reactInternalMemoizedMaskedChildContext=U),U}function zs(d){return d=d.childContextTypes,d!=null}function ng(){zr(Fs),zr(us)}function B6(d,f,b){if(us.current!==tc)throw Error(n(168));Tr(us,f),Tr(Fs,b)}function F6(d,f,b){var E=d.stateNode;if(f=f.childContextTypes,typeof E.getChildContext!="function")return b;E=E.getChildContext();for(var U in E)if(!(U in f))throw Error(n(108,te(d)||"Unknown",U));return I({},b,E)}function sg(d){return d=(d=d.stateNode)&&d.__reactInternalMemoizedMergedChildContext||tc,sd=us.current,Tr(us,d),Tr(Fs,Fs.current),!0}function z6(d,f,b){var E=d.stateNode;if(!E)throw Error(n(169));b?(d=F6(d,f,sd),E.__reactInternalMemoizedMergedChildContext=d,zr(Fs),zr(us),Tr(us,d)):zr(Fs),Tr(Fs,b)}var Yo=null,ag=!1,Tb=!1;function U6(d){Yo===null?Yo=[d]:Yo.push(d)}function eH(d){ag=!0,U6(d)}function rc(){if(!Tb&&Yo!==null){Tb=!0;var d=0,f=Qt;try{var b=Yo;for(Qt=1;d<b.length;d++){var E=b[d];do E=E(!0);while(E!==null)}Yo=null,ag=!1}catch(U){throw Yo!==null&&(Yo=Yo.slice(d+1)),Wc(Ml,rc),U}finally{Qt=f,Tb=!1}}return null}var Wu=[],qu=0,ig=null,og=0,Ha=[],Wa=0,ad=null,Zo=1,Xo="";function id(d,f){Wu[qu++]=og,Wu[qu++]=ig,ig=d,og=f}function H6(d,f,b){Ha[Wa++]=Zo,Ha[Wa++]=Xo,Ha[Wa++]=ad,ad=d;var E=Zo;d=Xo;var U=32-Tt(E)-1;E&=~(1<<U),b+=1;var Y=32-Tt(f)+U;if(30<Y){var se=U-U%5;Y=(E&(1<<se)-1).toString(32),E>>=se,U-=se,Zo=1<<32-Tt(f)+U|b<<U|E,Xo=Y+d}else Zo=1<<Y|b<<U|E,Xo=d}function Ob(d){d.return!==null&&(id(d,1),H6(d,1,0))}function Mb(d){for(;d===ig;)ig=Wu[--qu],Wu[qu]=null,og=Wu[--qu],Wu[qu]=null;for(;d===ad;)ad=Ha[--Wa],Ha[Wa]=null,Xo=Ha[--Wa],Ha[Wa]=null,Zo=Ha[--Wa],Ha[Wa]=null}var ua=null,ha=null,Gr=!1,yi=null;function W6(d,f){var b=Ka(5,null,null,0);b.elementType="DELETED",b.stateNode=f,b.return=d,f=d.deletions,f===null?(d.deletions=[b],d.flags|=16):f.push(b)}function q6(d,f){switch(d.tag){case 5:var b=d.type;return f=f.nodeType!==1||b.toLowerCase()!==f.nodeName.toLowerCase()?null:f,f!==null?(d.stateNode=f,ua=d,ha=ao(f.firstChild),!0):!1;case 6:return f=d.pendingProps===""||f.nodeType!==3?null:f,f!==null?(d.stateNode=f,ua=d,ha=null,!0):!1;case 13:return f=f.nodeType!==8?null:f,f!==null?(b=ad!==null?{id:Zo,overflow:Xo}:null,d.memoizedState={dehydrated:f,treeContext:b,retryLane:1073741824},b=Ka(18,null,null,0),b.stateNode=f,b.return=d,d.child=b,ua=d,ha=null,!0):!1;default:return!1}}function Db(d){return(d.mode&1)!==0&&(d.flags&128)===0}function Rb(d){if(Gr){var f=ha;if(f){var b=f;if(!q6(d,f)){if(Db(d))throw Error(n(418));f=ao(b.nextSibling);var E=ua;f&&q6(d,f)?W6(E,b):(d.flags=d.flags&-4097|2,Gr=!1,ua=d)}}else{if(Db(d))throw Error(n(418));d.flags=d.flags&-4097|2,Gr=!1,ua=d}}}function V6(d){for(d=d.return;d!==null&&d.tag!==5&&d.tag!==3&&d.tag!==13;)d=d.return;ua=d}function lg(d){if(d!==ua)return!1;if(!Gr)return V6(d),Gr=!0,!1;var f;if((f=d.tag!==3)&&!(f=d.tag!==5)&&(f=d.type,f=f!=="head"&&f!=="body"&&!Bt(d.type,d.memoizedProps)),f&&(f=ha)){if(Db(d))throw G6(),Error(n(418));for(;f;)W6(d,f),f=ao(f.nextSibling)}if(V6(d),d.tag===13){if(d=d.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(n(317));e:{for(d=d.nextSibling,f=0;d;){if(d.nodeType===8){var b=d.data;if(b==="/$"){if(f===0){ha=ao(d.nextSibling);break e}f--}else b!=="$"&&b!=="$!"&&b!=="$?"||f++}d=d.nextSibling}ha=null}}else ha=ua?ao(d.stateNode.nextSibling):null;return!0}function G6(){for(var d=ha;d;)d=ao(d.nextSibling)}function Vu(){ha=ua=null,Gr=!1}function Ib(d){yi===null?yi=[d]:yi.push(d)}var tH=T.ReactCurrentBatchConfig;function df(d,f,b){if(d=b.ref,d!==null&&typeof d!="function"&&typeof d!="object"){if(b._owner){if(b=b._owner,b){if(b.tag!==1)throw Error(n(309));var E=b.stateNode}if(!E)throw Error(n(147,d));var U=E,Y=""+d;return f!==null&&f.ref!==null&&typeof f.ref=="function"&&f.ref._stringRef===Y?f.ref:(f=function(se){var me=U.refs;se===null?delete me[Y]:me[Y]=se},f._stringRef=Y,f)}if(typeof d!="string")throw Error(n(284));if(!b._owner)throw Error(n(290,d))}return d}function cg(d,f){throw d=Object.prototype.toString.call(f),Error(n(31,d==="[object Object]"?"object with keys {"+Object.keys(f).join(", ")+"}":d))}function K6(d){var f=d._init;return f(d._payload)}function Y6(d){function f(je,ge){if(d){var we=je.deletions;we===null?(je.deletions=[ge],je.flags|=16):we.push(ge)}}function b(je,ge){if(!d)return null;for(;ge!==null;)f(je,ge),ge=ge.sibling;return null}function E(je,ge){for(je=new Map;ge!==null;)ge.key!==null?je.set(ge.key,ge):je.set(ge.index,ge),ge=ge.sibling;return je}function U(je,ge){return je=dc(je,ge),je.index=0,je.sibling=null,je}function Y(je,ge,we){return je.index=we,d?(we=je.alternate,we!==null?(we=we.index,we<ge?(je.flags|=2,ge):we):(je.flags|=2,ge)):(je.flags|=1048576,ge)}function se(je){return d&&je.alternate===null&&(je.flags|=2),je}function me(je,ge,we,ze){return ge===null||ge.tag!==6?(ge=Cj(we,je.mode,ze),ge.return=je,ge):(ge=U(ge,we),ge.return=je,ge)}function xe(je,ge,we,ze){var ct=we.type;return ct===M?Ie(je,ge,we.props.children,ze,we.key):ge!==null&&(ge.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===G&&K6(ct)===ge.type)?(ze=U(ge,we.props),ze.ref=df(je,ge,we),ze.return=je,ze):(ze=Mg(we.type,we.key,we.props,null,je.mode,ze),ze.ref=df(je,ge,we),ze.return=je,ze)}function _e(je,ge,we,ze){return ge===null||ge.tag!==4||ge.stateNode.containerInfo!==we.containerInfo||ge.stateNode.implementation!==we.implementation?(ge=Pj(we,je.mode,ze),ge.return=je,ge):(ge=U(ge,we.children||[]),ge.return=je,ge)}function Ie(je,ge,we,ze,ct){return ge===null||ge.tag!==7?(ge=fd(we,je.mode,ze,ct),ge.return=je,ge):(ge=U(ge,we),ge.return=je,ge)}function Le(je,ge,we){if(typeof ge=="string"&&ge!==""||typeof ge=="number")return ge=Cj(""+ge,je.mode,we),ge.return=je,ge;if(typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case _:return we=Mg(ge.type,ge.key,ge.props,null,je.mode,we),we.ref=df(je,null,ge),we.return=je,we;case k:return ge=Pj(ge,je.mode,we),ge.return=je,ge;case G:var ze=ge._init;return Le(je,ze(ge._payload),we)}if(yt(ge)||D(ge))return ge=fd(ge,je.mode,we,null),ge.return=je,ge;cg(je,ge)}return null}function Re(je,ge,we,ze){var ct=ge!==null?ge.key:null;if(typeof we=="string"&&we!==""||typeof we=="number")return ct!==null?null:me(je,ge,""+we,ze);if(typeof we=="object"&&we!==null){switch(we.$$typeof){case _:return we.key===ct?xe(je,ge,we,ze):null;case k:return we.key===ct?_e(je,ge,we,ze):null;case G:return ct=we._init,Re(je,ge,ct(we._payload),ze)}if(yt(we)||D(we))return ct!==null?null:Ie(je,ge,we,ze,null);cg(je,we)}return null}function Xe(je,ge,we,ze,ct){if(typeof ze=="string"&&ze!==""||typeof ze=="number")return je=je.get(we)||null,me(ge,je,""+ze,ct);if(typeof ze=="object"&&ze!==null){switch(ze.$$typeof){case _:return je=je.get(ze.key===null?we:ze.key)||null,xe(ge,je,ze,ct);case k:return je=je.get(ze.key===null?we:ze.key)||null,_e(ge,je,ze,ct);case G:var xt=ze._init;return Xe(je,ge,we,xt(ze._payload),ct)}if(yt(ze)||D(ze))return je=je.get(we)||null,Ie(ge,je,ze,ct,null);cg(ge,ze)}return null}function nt(je,ge,we,ze){for(var ct=null,xt=null,gt=ge,At=ge=0,qn=null;gt!==null&&At<we.length;At++){gt.index>At?(qn=gt,gt=null):qn=gt.sibling;var ir=Re(je,gt,we[At],ze);if(ir===null){gt===null&&(gt=qn);break}d&&gt&&ir.alternate===null&&f(je,gt),ge=Y(ir,ge,At),xt===null?ct=ir:xt.sibling=ir,xt=ir,gt=qn}if(At===we.length)return b(je,gt),Gr&&id(je,At),ct;if(gt===null){for(;At<we.length;At++)gt=Le(je,we[At],ze),gt!==null&&(ge=Y(gt,ge,At),xt===null?ct=gt:xt.sibling=gt,xt=gt);return Gr&&id(je,At),ct}for(gt=E(je,gt);At<we.length;At++)qn=Xe(gt,je,At,we[At],ze),qn!==null&&(d&&qn.alternate!==null&&gt.delete(qn.key===null?At:qn.key),ge=Y(qn,ge,At),xt===null?ct=qn:xt.sibling=qn,xt=qn);return d&&gt.forEach(function(uc){return f(je,uc)}),Gr&&id(je,At),ct}function ot(je,ge,we,ze){var ct=D(we);if(typeof ct!="function")throw Error(n(150));if(we=ct.call(we),we==null)throw Error(n(151));for(var xt=ct=null,gt=ge,At=ge=0,qn=null,ir=we.next();gt!==null&&!ir.done;At++,ir=we.next()){gt.index>At?(qn=gt,gt=null):qn=gt.sibling;var uc=Re(je,gt,ir.value,ze);if(uc===null){gt===null&&(gt=qn);break}d&&gt&&uc.alternate===null&&f(je,gt),ge=Y(uc,ge,At),xt===null?ct=uc:xt.sibling=uc,xt=uc,gt=qn}if(ir.done)return b(je,gt),Gr&&id(je,At),ct;if(gt===null){for(;!ir.done;At++,ir=we.next())ir=Le(je,ir.value,ze),ir!==null&&(ge=Y(ir,ge,At),xt===null?ct=ir:xt.sibling=ir,xt=ir);return Gr&&id(je,At),ct}for(gt=E(je,gt);!ir.done;At++,ir=we.next())ir=Xe(gt,je,At,ir.value,ze),ir!==null&&(d&&ir.alternate!==null&&gt.delete(ir.key===null?At:ir.key),ge=Y(ir,ge,At),xt===null?ct=ir:xt.sibling=ir,xt=ir);return d&&gt.forEach(function(DH){return f(je,DH)}),Gr&&id(je,At),ct}function jn(je,ge,we,ze){if(typeof we=="object"&&we!==null&&we.type===M&&we.key===null&&(we=we.props.children),typeof we=="object"&&we!==null){switch(we.$$typeof){case _:e:{for(var ct=we.key,xt=ge;xt!==null;){if(xt.key===ct){if(ct=we.type,ct===M){if(xt.tag===7){b(je,xt.sibling),ge=U(xt,we.props.children),ge.return=je,je=ge;break e}}else if(xt.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===G&&K6(ct)===xt.type){b(je,xt.sibling),ge=U(xt,we.props),ge.ref=df(je,xt,we),ge.return=je,je=ge;break e}b(je,xt);break}else f(je,xt);xt=xt.sibling}we.type===M?(ge=fd(we.props.children,je.mode,ze,we.key),ge.return=je,je=ge):(ze=Mg(we.type,we.key,we.props,null,je.mode,ze),ze.ref=df(je,ge,we),ze.return=je,je=ze)}return se(je);case k:e:{for(xt=we.key;ge!==null;){if(ge.key===xt)if(ge.tag===4&&ge.stateNode.containerInfo===we.containerInfo&&ge.stateNode.implementation===we.implementation){b(je,ge.sibling),ge=U(ge,we.children||[]),ge.return=je,je=ge;break e}else{b(je,ge);break}else f(je,ge);ge=ge.sibling}ge=Pj(we,je.mode,ze),ge.return=je,je=ge}return se(je);case G:return xt=we._init,jn(je,ge,xt(we._payload),ze)}if(yt(we))return nt(je,ge,we,ze);if(D(we))return ot(je,ge,we,ze);cg(je,we)}return typeof we=="string"&&we!==""||typeof we=="number"?(we=""+we,ge!==null&&ge.tag===6?(b(je,ge.sibling),ge=U(ge,we),ge.return=je,je=ge):(b(je,ge),ge=Cj(we,je.mode,ze),ge.return=je,je=ge),se(je)):b(je,ge)}return jn}var Gu=Y6(!0),Z6=Y6(!1),dg=ec(null),ug=null,Ku=null,Lb=null;function $b(){Lb=Ku=ug=null}function Bb(d){var f=dg.current;zr(dg),d._currentValue=f}function Fb(d,f,b){for(;d!==null;){var E=d.alternate;if((d.childLanes&f)!==f?(d.childLanes|=f,E!==null&&(E.childLanes|=f)):E!==null&&(E.childLanes&f)!==f&&(E.childLanes|=f),d===b)break;d=d.return}}function Yu(d,f){ug=d,Lb=Ku=null,d=d.dependencies,d!==null&&d.firstContext!==null&&((d.lanes&f)!==0&&(Us=!0),d.firstContext=null)}function qa(d){var f=d._currentValue;if(Lb!==d)if(d={context:d,memoizedValue:f,next:null},Ku===null){if(ug===null)throw Error(n(308));Ku=d,ug.dependencies={lanes:0,firstContext:d}}else Ku=Ku.next=d;return f}var od=null;function zb(d){od===null?od=[d]:od.push(d)}function X6(d,f,b,E){var U=f.interleaved;return U===null?(b.next=b,zb(f)):(b.next=U.next,U.next=b),f.interleaved=b,Jo(d,E)}function Jo(d,f){d.lanes|=f;var b=d.alternate;for(b!==null&&(b.lanes|=f),b=d,d=d.return;d!==null;)d.childLanes|=f,b=d.alternate,b!==null&&(b.childLanes|=f),b=d,d=d.return;return b.tag===3?b.stateNode:null}var nc=!1;function Ub(d){d.updateQueue={baseState:d.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function J6(d,f){d=d.updateQueue,f.updateQueue===d&&(f.updateQueue={baseState:d.baseState,firstBaseUpdate:d.firstBaseUpdate,lastBaseUpdate:d.lastBaseUpdate,shared:d.shared,effects:d.effects})}function Qo(d,f){return{eventTime:d,lane:f,tag:0,payload:null,callback:null,next:null}}function sc(d,f,b){var E=d.updateQueue;if(E===null)return null;if(E=E.shared,(rr&2)!==0){var U=E.pending;return U===null?f.next=f:(f.next=U.next,U.next=f),E.pending=f,Jo(d,b)}return U=E.interleaved,U===null?(f.next=f,zb(E)):(f.next=U.next,U.next=f),E.interleaved=f,Jo(d,b)}function hg(d,f,b){if(f=f.updateQueue,f!==null&&(f=f.shared,(b&4194240)!==0)){var E=f.lanes;E&=d.pendingLanes,b|=E,f.lanes=b,fi(d,b)}}function Q6(d,f){var b=d.updateQueue,E=d.alternate;if(E!==null&&(E=E.updateQueue,b===E)){var U=null,Y=null;if(b=b.firstBaseUpdate,b!==null){do{var se={eventTime:b.eventTime,lane:b.lane,tag:b.tag,payload:b.payload,callback:b.callback,next:null};Y===null?U=Y=se:Y=Y.next=se,b=b.next}while(b!==null);Y===null?U=Y=f:Y=Y.next=f}else U=Y=f;b={baseState:E.baseState,firstBaseUpdate:U,lastBaseUpdate:Y,shared:E.shared,effects:E.effects},d.updateQueue=b;return}d=b.lastBaseUpdate,d===null?b.firstBaseUpdate=f:d.next=f,b.lastBaseUpdate=f}function mg(d,f,b,E){var U=d.updateQueue;nc=!1;var Y=U.firstBaseUpdate,se=U.lastBaseUpdate,me=U.shared.pending;if(me!==null){U.shared.pending=null;var xe=me,_e=xe.next;xe.next=null,se===null?Y=_e:se.next=_e,se=xe;var Ie=d.alternate;Ie!==null&&(Ie=Ie.updateQueue,me=Ie.lastBaseUpdate,me!==se&&(me===null?Ie.firstBaseUpdate=_e:me.next=_e,Ie.lastBaseUpdate=xe))}if(Y!==null){var Le=U.baseState;se=0,Ie=_e=xe=null,me=Y;do{var Re=me.lane,Xe=me.eventTime;if((E&Re)===Re){Ie!==null&&(Ie=Ie.next={eventTime:Xe,lane:0,tag:me.tag,payload:me.payload,callback:me.callback,next:null});e:{var nt=d,ot=me;switch(Re=f,Xe=b,ot.tag){case 1:if(nt=ot.payload,typeof nt=="function"){Le=nt.call(Xe,Le,Re);break e}Le=nt;break e;case 3:nt.flags=nt.flags&-65537|128;case 0:if(nt=ot.payload,Re=typeof nt=="function"?nt.call(Xe,Le,Re):nt,Re==null)break e;Le=I({},Le,Re);break e;case 2:nc=!0}}me.callback!==null&&me.lane!==0&&(d.flags|=64,Re=U.effects,Re===null?U.effects=[me]:Re.push(me))}else Xe={eventTime:Xe,lane:Re,tag:me.tag,payload:me.payload,callback:me.callback,next:null},Ie===null?(_e=Ie=Xe,xe=Le):Ie=Ie.next=Xe,se|=Re;if(me=me.next,me===null){if(me=U.shared.pending,me===null)break;Re=me,me=Re.next,Re.next=null,U.lastBaseUpdate=Re,U.shared.pending=null}}while(!0);if(Ie===null&&(xe=Le),U.baseState=xe,U.firstBaseUpdate=_e,U.lastBaseUpdate=Ie,f=U.shared.interleaved,f!==null){U=f;do se|=U.lane,U=U.next;while(U!==f)}else Y===null&&(U.shared.lanes=0);dd|=se,d.lanes=se,d.memoizedState=Le}}function e5(d,f,b){if(d=f.effects,f.effects=null,d!==null)for(f=0;f<d.length;f++){var E=d[f],U=E.callback;if(U!==null){if(E.callback=null,E=b,typeof U!="function")throw Error(n(191,U));U.call(E)}}}var uf={},io=ec(uf),hf=ec(uf),mf=ec(uf);function ld(d){if(d===uf)throw Error(n(174));return d}function Hb(d,f){switch(Tr(mf,f),Tr(hf,d),Tr(io,uf),d=f.nodeType,d){case 9:case 11:f=(f=f.documentElement)?f.namespaceURI:Ge(null,"");break;default:d=d===8?f.parentNode:f,f=d.namespaceURI||null,d=d.tagName,f=Ge(f,d)}zr(io),Tr(io,f)}function Zu(){zr(io),zr(hf),zr(mf)}function t5(d){ld(mf.current);var f=ld(io.current),b=Ge(f,d.type);f!==b&&(Tr(hf,d),Tr(io,b))}function Wb(d){hf.current===d&&(zr(io),zr(hf))}var Jr=ec(0);function fg(d){for(var f=d;f!==null;){if(f.tag===13){var b=f.memoizedState;if(b!==null&&(b=b.dehydrated,b===null||b.data==="$?"||b.data==="$!"))return f}else if(f.tag===19&&f.memoizedProps.revealOrder!==void 0){if((f.flags&128)!==0)return f}else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===d)break;for(;f.sibling===null;){if(f.return===null||f.return===d)return null;f=f.return}f.sibling.return=f.return,f=f.sibling}return null}var qb=[];function Vb(){for(var d=0;d<qb.length;d++)qb[d]._workInProgressVersionPrimary=null;qb.length=0}var pg=T.ReactCurrentDispatcher,Gb=T.ReactCurrentBatchConfig,cd=0,Qr=null,Dn=null,Hn=null,xg=!1,ff=!1,pf=0,rH=0;function hs(){throw Error(n(321))}function Kb(d,f){if(f===null)return!1;for(var b=0;b<f.length&&b<d.length;b++)if(!ca(d[b],f[b]))return!1;return!0}function Yb(d,f,b,E,U,Y){if(cd=Y,Qr=f,f.memoizedState=null,f.updateQueue=null,f.lanes=0,pg.current=d===null||d.memoizedState===null?iH:oH,d=b(E,U),ff){Y=0;do{if(ff=!1,pf=0,25<=Y)throw Error(n(301));Y+=1,Hn=Dn=null,f.updateQueue=null,pg.current=lH,d=b(E,U)}while(ff)}if(pg.current=yg,f=Dn!==null&&Dn.next!==null,cd=0,Hn=Dn=Qr=null,xg=!1,f)throw Error(n(300));return d}function Zb(){var d=pf!==0;return pf=0,d}function oo(){var d={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Hn===null?Qr.memoizedState=Hn=d:Hn=Hn.next=d,Hn}function Va(){if(Dn===null){var d=Qr.alternate;d=d!==null?d.memoizedState:null}else d=Dn.next;var f=Hn===null?Qr.memoizedState:Hn.next;if(f!==null)Hn=f,Dn=d;else{if(d===null)throw Error(n(310));Dn=d,d={memoizedState:Dn.memoizedState,baseState:Dn.baseState,baseQueue:Dn.baseQueue,queue:Dn.queue,next:null},Hn===null?Qr.memoizedState=Hn=d:Hn=Hn.next=d}return Hn}function xf(d,f){return typeof f=="function"?f(d):f}function Xb(d){var f=Va(),b=f.queue;if(b===null)throw Error(n(311));b.lastRenderedReducer=d;var E=Dn,U=E.baseQueue,Y=b.pending;if(Y!==null){if(U!==null){var se=U.next;U.next=Y.next,Y.next=se}E.baseQueue=U=Y,b.pending=null}if(U!==null){Y=U.next,E=E.baseState;var me=se=null,xe=null,_e=Y;do{var Ie=_e.lane;if((cd&Ie)===Ie)xe!==null&&(xe=xe.next={lane:0,action:_e.action,hasEagerState:_e.hasEagerState,eagerState:_e.eagerState,next:null}),E=_e.hasEagerState?_e.eagerState:d(E,_e.action);else{var Le={lane:Ie,action:_e.action,hasEagerState:_e.hasEagerState,eagerState:_e.eagerState,next:null};xe===null?(me=xe=Le,se=E):xe=xe.next=Le,Qr.lanes|=Ie,dd|=Ie}_e=_e.next}while(_e!==null&&_e!==Y);xe===null?se=E:xe.next=me,ca(E,f.memoizedState)||(Us=!0),f.memoizedState=E,f.baseState=se,f.baseQueue=xe,b.lastRenderedState=E}if(d=b.interleaved,d!==null){U=d;do Y=U.lane,Qr.lanes|=Y,dd|=Y,U=U.next;while(U!==d)}else U===null&&(b.lanes=0);return[f.memoizedState,b.dispatch]}function Jb(d){var f=Va(),b=f.queue;if(b===null)throw Error(n(311));b.lastRenderedReducer=d;var E=b.dispatch,U=b.pending,Y=f.memoizedState;if(U!==null){b.pending=null;var se=U=U.next;do Y=d(Y,se.action),se=se.next;while(se!==U);ca(Y,f.memoizedState)||(Us=!0),f.memoizedState=Y,f.baseQueue===null&&(f.baseState=Y),b.lastRenderedState=Y}return[Y,E]}function r5(){}function n5(d,f){var b=Qr,E=Va(),U=f(),Y=!ca(E.memoizedState,U);if(Y&&(E.memoizedState=U,Us=!0),E=E.queue,Qb(i5.bind(null,b,E,d),[d]),E.getSnapshot!==f||Y||Hn!==null&&Hn.memoizedState.tag&1){if(b.flags|=2048,gf(9,a5.bind(null,b,E,U,f),void 0,null),Wn===null)throw Error(n(349));(cd&30)!==0||s5(b,f,U)}return U}function s5(d,f,b){d.flags|=16384,d={getSnapshot:f,value:b},f=Qr.updateQueue,f===null?(f={lastEffect:null,stores:null},Qr.updateQueue=f,f.stores=[d]):(b=f.stores,b===null?f.stores=[d]:b.push(d))}function a5(d,f,b,E){f.value=b,f.getSnapshot=E,o5(f)&&l5(d)}function i5(d,f,b){return b(function(){o5(f)&&l5(d)})}function o5(d){var f=d.getSnapshot;d=d.value;try{var b=f();return!ca(d,b)}catch{return!0}}function l5(d){var f=Jo(d,1);f!==null&&Ni(f,d,1,-1)}function c5(d){var f=oo();return typeof d=="function"&&(d=d()),f.memoizedState=f.baseState=d,d={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xf,lastRenderedState:d},f.queue=d,d=d.dispatch=aH.bind(null,Qr,d),[f.memoizedState,d]}function gf(d,f,b,E){return d={tag:d,create:f,destroy:b,deps:E,next:null},f=Qr.updateQueue,f===null?(f={lastEffect:null,stores:null},Qr.updateQueue=f,f.lastEffect=d.next=d):(b=f.lastEffect,b===null?f.lastEffect=d.next=d:(E=b.next,b.next=d,d.next=E,f.lastEffect=d)),d}function d5(){return Va().memoizedState}function gg(d,f,b,E){var U=oo();Qr.flags|=d,U.memoizedState=gf(1|f,b,void 0,E===void 0?null:E)}function vg(d,f,b,E){var U=Va();E=E===void 0?null:E;var Y=void 0;if(Dn!==null){var se=Dn.memoizedState;if(Y=se.destroy,E!==null&&Kb(E,se.deps)){U.memoizedState=gf(f,b,Y,E);return}}Qr.flags|=d,U.memoizedState=gf(1|f,b,Y,E)}function u5(d,f){return gg(8390656,8,d,f)}function Qb(d,f){return vg(2048,8,d,f)}function h5(d,f){return vg(4,2,d,f)}function m5(d,f){return vg(4,4,d,f)}function f5(d,f){if(typeof f=="function")return d=d(),f(d),function(){f(null)};if(f!=null)return d=d(),f.current=d,function(){f.current=null}}function p5(d,f,b){return b=b!=null?b.concat([d]):null,vg(4,4,f5.bind(null,f,d),b)}function ej(){}function x5(d,f){var b=Va();f=f===void 0?null:f;var E=b.memoizedState;return E!==null&&f!==null&&Kb(f,E[1])?E[0]:(b.memoizedState=[d,f],d)}function g5(d,f){var b=Va();f=f===void 0?null:f;var E=b.memoizedState;return E!==null&&f!==null&&Kb(f,E[1])?E[0]:(d=d(),b.memoizedState=[d,f],d)}function v5(d,f,b){return(cd&21)===0?(d.baseState&&(d.baseState=!1,Us=!0),d.memoizedState=b):(ca(b,f)||(b=Dx(),Qr.lanes|=b,dd|=b,d.baseState=!0),f)}function nH(d,f){var b=Qt;Qt=b!==0&&4>b?b:4,d(!0);var E=Gb.transition;Gb.transition={};try{d(!1),f()}finally{Qt=b,Gb.transition=E}}function y5(){return Va().memoizedState}function sH(d,f,b){var E=lc(d);if(b={lane:E,action:b,hasEagerState:!1,eagerState:null,next:null},b5(d))j5(f,b);else if(b=X6(d,f,b,E),b!==null){var U=Ps();Ni(b,d,E,U),w5(b,f,E)}}function aH(d,f,b){var E=lc(d),U={lane:E,action:b,hasEagerState:!1,eagerState:null,next:null};if(b5(d))j5(f,U);else{var Y=d.alternate;if(d.lanes===0&&(Y===null||Y.lanes===0)&&(Y=f.lastRenderedReducer,Y!==null))try{var se=f.lastRenderedState,me=Y(se,b);if(U.hasEagerState=!0,U.eagerState=me,ca(me,se)){var xe=f.interleaved;xe===null?(U.next=U,zb(f)):(U.next=xe.next,xe.next=U),f.interleaved=U;return}}catch{}finally{}b=X6(d,f,U,E),b!==null&&(U=Ps(),Ni(b,d,E,U),w5(b,f,E))}}function b5(d){var f=d.alternate;return d===Qr||f!==null&&f===Qr}function j5(d,f){ff=xg=!0;var b=d.pending;b===null?f.next=f:(f.next=b.next,b.next=f),d.pending=f}function w5(d,f,b){if((b&4194240)!==0){var E=f.lanes;E&=d.pendingLanes,b|=E,f.lanes=b,fi(d,b)}}var yg={readContext:qa,useCallback:hs,useContext:hs,useEffect:hs,useImperativeHandle:hs,useInsertionEffect:hs,useLayoutEffect:hs,useMemo:hs,useReducer:hs,useRef:hs,useState:hs,useDebugValue:hs,useDeferredValue:hs,useTransition:hs,useMutableSource:hs,useSyncExternalStore:hs,useId:hs,unstable_isNewReconciler:!1},iH={readContext:qa,useCallback:function(d,f){return oo().memoizedState=[d,f===void 0?null:f],d},useContext:qa,useEffect:u5,useImperativeHandle:function(d,f,b){return b=b!=null?b.concat([d]):null,gg(4194308,4,f5.bind(null,f,d),b)},useLayoutEffect:function(d,f){return gg(4194308,4,d,f)},useInsertionEffect:function(d,f){return gg(4,2,d,f)},useMemo:function(d,f){var b=oo();return f=f===void 0?null:f,d=d(),b.memoizedState=[d,f],d},useReducer:function(d,f,b){var E=oo();return f=b!==void 0?b(f):f,E.memoizedState=E.baseState=f,d={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:d,lastRenderedState:f},E.queue=d,d=d.dispatch=sH.bind(null,Qr,d),[E.memoizedState,d]},useRef:function(d){var f=oo();return d={current:d},f.memoizedState=d},useState:c5,useDebugValue:ej,useDeferredValue:function(d){return oo().memoizedState=d},useTransition:function(){var d=c5(!1),f=d[0];return d=nH.bind(null,d[1]),oo().memoizedState=d,[f,d]},useMutableSource:function(){},useSyncExternalStore:function(d,f,b){var E=Qr,U=oo();if(Gr){if(b===void 0)throw Error(n(407));b=b()}else{if(b=f(),Wn===null)throw Error(n(349));(cd&30)!==0||s5(E,f,b)}U.memoizedState=b;var Y={value:b,getSnapshot:f};return U.queue=Y,u5(i5.bind(null,E,Y,d),[d]),E.flags|=2048,gf(9,a5.bind(null,E,Y,b,f),void 0,null),b},useId:function(){var d=oo(),f=Wn.identifierPrefix;if(Gr){var b=Xo,E=Zo;b=(E&~(1<<32-Tt(E)-1)).toString(32)+b,f=":"+f+"R"+b,b=pf++,0<b&&(f+="H"+b.toString(32)),f+=":"}else b=rH++,f=":"+f+"r"+b.toString(32)+":";return d.memoizedState=f},unstable_isNewReconciler:!1},oH={readContext:qa,useCallback:x5,useContext:qa,useEffect:Qb,useImperativeHandle:p5,useInsertionEffect:h5,useLayoutEffect:m5,useMemo:g5,useReducer:Xb,useRef:d5,useState:function(){return Xb(xf)},useDebugValue:ej,useDeferredValue:function(d){var f=Va();return v5(f,Dn.memoizedState,d)},useTransition:function(){var d=Xb(xf)[0],f=Va().memoizedState;return[d,f]},useMutableSource:r5,useSyncExternalStore:n5,useId:y5,unstable_isNewReconciler:!1},lH={readContext:qa,useCallback:x5,useContext:qa,useEffect:Qb,useImperativeHandle:p5,useInsertionEffect:h5,useLayoutEffect:m5,useMemo:g5,useReducer:Jb,useRef:d5,useState:function(){return Jb(xf)},useDebugValue:ej,useDeferredValue:function(d){var f=Va();return Dn===null?f.memoizedState=d:v5(f,Dn.memoizedState,d)},useTransition:function(){var d=Jb(xf)[0],f=Va().memoizedState;return[d,f]},useMutableSource:r5,useSyncExternalStore:n5,useId:y5,unstable_isNewReconciler:!1};function bi(d,f){if(d&&d.defaultProps){f=I({},f),d=d.defaultProps;for(var b in d)f[b]===void 0&&(f[b]=d[b]);return f}return f}function tj(d,f,b,E){f=d.memoizedState,b=b(E,f),b=b==null?f:I({},f,b),d.memoizedState=b,d.lanes===0&&(d.updateQueue.baseState=b)}var bg={isMounted:function(d){return(d=d._reactInternals)?os(d)===d:!1},enqueueSetState:function(d,f,b){d=d._reactInternals;var E=Ps(),U=lc(d),Y=Qo(E,U);Y.payload=f,b!=null&&(Y.callback=b),f=sc(d,Y,U),f!==null&&(Ni(f,d,U,E),hg(f,d,U))},enqueueReplaceState:function(d,f,b){d=d._reactInternals;var E=Ps(),U=lc(d),Y=Qo(E,U);Y.tag=1,Y.payload=f,b!=null&&(Y.callback=b),f=sc(d,Y,U),f!==null&&(Ni(f,d,U,E),hg(f,d,U))},enqueueForceUpdate:function(d,f){d=d._reactInternals;var b=Ps(),E=lc(d),U=Qo(b,E);U.tag=2,f!=null&&(U.callback=f),f=sc(d,U,E),f!==null&&(Ni(f,d,E,b),hg(f,d,E))}};function N5(d,f,b,E,U,Y,se){return d=d.stateNode,typeof d.shouldComponentUpdate=="function"?d.shouldComponentUpdate(E,Y,se):f.prototype&&f.prototype.isPureReactComponent?!ro(b,E)||!ro(U,Y):!0}function S5(d,f,b){var E=!1,U=tc,Y=f.contextType;return typeof Y=="object"&&Y!==null?Y=qa(Y):(U=zs(f)?sd:us.current,E=f.contextTypes,Y=(E=E!=null)?Hu(d,U):tc),f=new f(b,Y),d.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=bg,d.stateNode=f,f._reactInternals=d,E&&(d=d.stateNode,d.__reactInternalMemoizedUnmaskedChildContext=U,d.__reactInternalMemoizedMaskedChildContext=Y),f}function _5(d,f,b,E){d=f.state,typeof f.componentWillReceiveProps=="function"&&f.componentWillReceiveProps(b,E),typeof f.UNSAFE_componentWillReceiveProps=="function"&&f.UNSAFE_componentWillReceiveProps(b,E),f.state!==d&&bg.enqueueReplaceState(f,f.state,null)}function rj(d,f,b,E){var U=d.stateNode;U.props=b,U.state=d.memoizedState,U.refs={},Ub(d);var Y=f.contextType;typeof Y=="object"&&Y!==null?U.context=qa(Y):(Y=zs(f)?sd:us.current,U.context=Hu(d,Y)),U.state=d.memoizedState,Y=f.getDerivedStateFromProps,typeof Y=="function"&&(tj(d,f,Y,b),U.state=d.memoizedState),typeof f.getDerivedStateFromProps=="function"||typeof U.getSnapshotBeforeUpdate=="function"||typeof U.UNSAFE_componentWillMount!="function"&&typeof U.componentWillMount!="function"||(f=U.state,typeof U.componentWillMount=="function"&&U.componentWillMount(),typeof U.UNSAFE_componentWillMount=="function"&&U.UNSAFE_componentWillMount(),f!==U.state&&bg.enqueueReplaceState(U,U.state,null),mg(d,b,U,E),U.state=d.memoizedState),typeof U.componentDidMount=="function"&&(d.flags|=4194308)}function Xu(d,f){try{var b="",E=f;do b+=ae(E),E=E.return;while(E);var U=b}catch(Y){U=`
Error generating stack: `+Y.message+`
`+Y.stack}return{value:d,source:f,stack:U,digest:null}}function nj(d,f,b){return{value:d,source:null,stack:b??null,digest:f??null}}function sj(d,f){try{console.error(f.value)}catch(b){setTimeout(function(){throw b})}}var cH=typeof WeakMap=="function"?WeakMap:Map;function k5(d,f,b){b=Qo(-1,b),b.tag=3,b.payload={element:null};var E=f.value;return b.callback=function(){Cg||(Cg=!0,yj=E),sj(d,f)},b}function C5(d,f,b){b=Qo(-1,b),b.tag=3;var E=d.type.getDerivedStateFromError;if(typeof E=="function"){var U=f.value;b.payload=function(){return E(U)},b.callback=function(){sj(d,f)}}var Y=d.stateNode;return Y!==null&&typeof Y.componentDidCatch=="function"&&(b.callback=function(){sj(d,f),typeof E!="function"&&(ic===null?ic=new Set([this]):ic.add(this));var se=f.stack;this.componentDidCatch(f.value,{componentStack:se!==null?se:""})}),b}function P5(d,f,b){var E=d.pingCache;if(E===null){E=d.pingCache=new cH;var U=new Set;E.set(f,U)}else U=E.get(f),U===void 0&&(U=new Set,E.set(f,U));U.has(b)||(U.add(b),d=NH.bind(null,d,f,b),f.then(d,d))}function A5(d){do{var f;if((f=d.tag===13)&&(f=d.memoizedState,f=f!==null?f.dehydrated!==null:!0),f)return d;d=d.return}while(d!==null);return null}function E5(d,f,b,E,U){return(d.mode&1)===0?(d===f?d.flags|=65536:(d.flags|=128,b.flags|=131072,b.flags&=-52805,b.tag===1&&(b.alternate===null?b.tag=17:(f=Qo(-1,1),f.tag=2,sc(b,f,1))),b.lanes|=1),d):(d.flags|=65536,d.lanes=U,d)}var dH=T.ReactCurrentOwner,Us=!1;function Cs(d,f,b,E){f.child=d===null?Z6(f,null,b,E):Gu(f,d.child,b,E)}function T5(d,f,b,E,U){b=b.render;var Y=f.ref;return Yu(f,U),E=Yb(d,f,b,E,Y,U),b=Zb(),d!==null&&!Us?(f.updateQueue=d.updateQueue,f.flags&=-2053,d.lanes&=~U,el(d,f,U)):(Gr&&b&&Ob(f),f.flags|=1,Cs(d,f,E,U),f.child)}function O5(d,f,b,E,U){if(d===null){var Y=b.type;return typeof Y=="function"&&!kj(Y)&&Y.defaultProps===void 0&&b.compare===null&&b.defaultProps===void 0?(f.tag=15,f.type=Y,M5(d,f,Y,E,U)):(d=Mg(b.type,null,E,f,f.mode,U),d.ref=f.ref,d.return=f,f.child=d)}if(Y=d.child,(d.lanes&U)===0){var se=Y.memoizedProps;if(b=b.compare,b=b!==null?b:ro,b(se,E)&&d.ref===f.ref)return el(d,f,U)}return f.flags|=1,d=dc(Y,E),d.ref=f.ref,d.return=f,f.child=d}function M5(d,f,b,E,U){if(d!==null){var Y=d.memoizedProps;if(ro(Y,E)&&d.ref===f.ref)if(Us=!1,f.pendingProps=E=Y,(d.lanes&U)!==0)(d.flags&131072)!==0&&(Us=!0);else return f.lanes=d.lanes,el(d,f,U)}return aj(d,f,b,E,U)}function D5(d,f,b){var E=f.pendingProps,U=E.children,Y=d!==null?d.memoizedState:null;if(E.mode==="hidden")if((f.mode&1)===0)f.memoizedState={baseLanes:0,cachePool:null,transitions:null},Tr(Qu,ma),ma|=b;else{if((b&1073741824)===0)return d=Y!==null?Y.baseLanes|b:b,f.lanes=f.childLanes=1073741824,f.memoizedState={baseLanes:d,cachePool:null,transitions:null},f.updateQueue=null,Tr(Qu,ma),ma|=d,null;f.memoizedState={baseLanes:0,cachePool:null,transitions:null},E=Y!==null?Y.baseLanes:b,Tr(Qu,ma),ma|=E}else Y!==null?(E=Y.baseLanes|b,f.memoizedState=null):E=b,Tr(Qu,ma),ma|=E;return Cs(d,f,U,b),f.child}function R5(d,f){var b=f.ref;(d===null&&b!==null||d!==null&&d.ref!==b)&&(f.flags|=512,f.flags|=2097152)}function aj(d,f,b,E,U){var Y=zs(b)?sd:us.current;return Y=Hu(f,Y),Yu(f,U),b=Yb(d,f,b,E,Y,U),E=Zb(),d!==null&&!Us?(f.updateQueue=d.updateQueue,f.flags&=-2053,d.lanes&=~U,el(d,f,U)):(Gr&&E&&Ob(f),f.flags|=1,Cs(d,f,b,U),f.child)}function I5(d,f,b,E,U){if(zs(b)){var Y=!0;sg(f)}else Y=!1;if(Yu(f,U),f.stateNode===null)wg(d,f),S5(f,b,E),rj(f,b,E,U),E=!0;else if(d===null){var se=f.stateNode,me=f.memoizedProps;se.props=me;var xe=se.context,_e=b.contextType;typeof _e=="object"&&_e!==null?_e=qa(_e):(_e=zs(b)?sd:us.current,_e=Hu(f,_e));var Ie=b.getDerivedStateFromProps,Le=typeof Ie=="function"||typeof se.getSnapshotBeforeUpdate=="function";Le||typeof se.UNSAFE_componentWillReceiveProps!="function"&&typeof se.componentWillReceiveProps!="function"||(me!==E||xe!==_e)&&_5(f,se,E,_e),nc=!1;var Re=f.memoizedState;se.state=Re,mg(f,E,se,U),xe=f.memoizedState,me!==E||Re!==xe||Fs.current||nc?(typeof Ie=="function"&&(tj(f,b,Ie,E),xe=f.memoizedState),(me=nc||N5(f,b,me,E,Re,xe,_e))?(Le||typeof se.UNSAFE_componentWillMount!="function"&&typeof se.componentWillMount!="function"||(typeof se.componentWillMount=="function"&&se.componentWillMount(),typeof se.UNSAFE_componentWillMount=="function"&&se.UNSAFE_componentWillMount()),typeof se.componentDidMount=="function"&&(f.flags|=4194308)):(typeof se.componentDidMount=="function"&&(f.flags|=4194308),f.memoizedProps=E,f.memoizedState=xe),se.props=E,se.state=xe,se.context=_e,E=me):(typeof se.componentDidMount=="function"&&(f.flags|=4194308),E=!1)}else{se=f.stateNode,J6(d,f),me=f.memoizedProps,_e=f.type===f.elementType?me:bi(f.type,me),se.props=_e,Le=f.pendingProps,Re=se.context,xe=b.contextType,typeof xe=="object"&&xe!==null?xe=qa(xe):(xe=zs(b)?sd:us.current,xe=Hu(f,xe));var Xe=b.getDerivedStateFromProps;(Ie=typeof Xe=="function"||typeof se.getSnapshotBeforeUpdate=="function")||typeof se.UNSAFE_componentWillReceiveProps!="function"&&typeof se.componentWillReceiveProps!="function"||(me!==Le||Re!==xe)&&_5(f,se,E,xe),nc=!1,Re=f.memoizedState,se.state=Re,mg(f,E,se,U);var nt=f.memoizedState;me!==Le||Re!==nt||Fs.current||nc?(typeof Xe=="function"&&(tj(f,b,Xe,E),nt=f.memoizedState),(_e=nc||N5(f,b,_e,E,Re,nt,xe)||!1)?(Ie||typeof se.UNSAFE_componentWillUpdate!="function"&&typeof se.componentWillUpdate!="function"||(typeof se.componentWillUpdate=="function"&&se.componentWillUpdate(E,nt,xe),typeof se.UNSAFE_componentWillUpdate=="function"&&se.UNSAFE_componentWillUpdate(E,nt,xe)),typeof se.componentDidUpdate=="function"&&(f.flags|=4),typeof se.getSnapshotBeforeUpdate=="function"&&(f.flags|=1024)):(typeof se.componentDidUpdate!="function"||me===d.memoizedProps&&Re===d.memoizedState||(f.flags|=4),typeof se.getSnapshotBeforeUpdate!="function"||me===d.memoizedProps&&Re===d.memoizedState||(f.flags|=1024),f.memoizedProps=E,f.memoizedState=nt),se.props=E,se.state=nt,se.context=xe,E=_e):(typeof se.componentDidUpdate!="function"||me===d.memoizedProps&&Re===d.memoizedState||(f.flags|=4),typeof se.getSnapshotBeforeUpdate!="function"||me===d.memoizedProps&&Re===d.memoizedState||(f.flags|=1024),E=!1)}return ij(d,f,b,E,Y,U)}function ij(d,f,b,E,U,Y){R5(d,f);var se=(f.flags&128)!==0;if(!E&&!se)return U&&z6(f,b,!1),el(d,f,Y);E=f.stateNode,dH.current=f;var me=se&&typeof b.getDerivedStateFromError!="function"?null:E.render();return f.flags|=1,d!==null&&se?(f.child=Gu(f,d.child,null,Y),f.child=Gu(f,null,me,Y)):Cs(d,f,me,Y),f.memoizedState=E.state,U&&z6(f,b,!0),f.child}function L5(d){var f=d.stateNode;f.pendingContext?B6(d,f.pendingContext,f.pendingContext!==f.context):f.context&&B6(d,f.context,!1),Hb(d,f.containerInfo)}function $5(d,f,b,E,U){return Vu(),Ib(U),f.flags|=256,Cs(d,f,b,E),f.child}var oj={dehydrated:null,treeContext:null,retryLane:0};function lj(d){return{baseLanes:d,cachePool:null,transitions:null}}function B5(d,f,b){var E=f.pendingProps,U=Jr.current,Y=!1,se=(f.flags&128)!==0,me;if((me=se)||(me=d!==null&&d.memoizedState===null?!1:(U&2)!==0),me?(Y=!0,f.flags&=-129):(d===null||d.memoizedState!==null)&&(U|=1),Tr(Jr,U&1),d===null)return Rb(f),d=f.memoizedState,d!==null&&(d=d.dehydrated,d!==null)?((f.mode&1)===0?f.lanes=1:d.data==="$!"?f.lanes=8:f.lanes=1073741824,null):(se=E.children,d=E.fallback,Y?(E=f.mode,Y=f.child,se={mode:"hidden",children:se},(E&1)===0&&Y!==null?(Y.childLanes=0,Y.pendingProps=se):Y=Dg(se,E,0,null),d=fd(d,E,b,null),Y.return=f,d.return=f,Y.sibling=d,f.child=Y,f.child.memoizedState=lj(b),f.memoizedState=oj,d):cj(f,se));if(U=d.memoizedState,U!==null&&(me=U.dehydrated,me!==null))return uH(d,f,se,E,me,U,b);if(Y){Y=E.fallback,se=f.mode,U=d.child,me=U.sibling;var xe={mode:"hidden",children:E.children};return(se&1)===0&&f.child!==U?(E=f.child,E.childLanes=0,E.pendingProps=xe,f.deletions=null):(E=dc(U,xe),E.subtreeFlags=U.subtreeFlags&14680064),me!==null?Y=dc(me,Y):(Y=fd(Y,se,b,null),Y.flags|=2),Y.return=f,E.return=f,E.sibling=Y,f.child=E,E=Y,Y=f.child,se=d.child.memoizedState,se=se===null?lj(b):{baseLanes:se.baseLanes|b,cachePool:null,transitions:se.transitions},Y.memoizedState=se,Y.childLanes=d.childLanes&~b,f.memoizedState=oj,E}return Y=d.child,d=Y.sibling,E=dc(Y,{mode:"visible",children:E.children}),(f.mode&1)===0&&(E.lanes=b),E.return=f,E.sibling=null,d!==null&&(b=f.deletions,b===null?(f.deletions=[d],f.flags|=16):b.push(d)),f.child=E,f.memoizedState=null,E}function cj(d,f){return f=Dg({mode:"visible",children:f},d.mode,0,null),f.return=d,d.child=f}function jg(d,f,b,E){return E!==null&&Ib(E),Gu(f,d.child,null,b),d=cj(f,f.pendingProps.children),d.flags|=2,f.memoizedState=null,d}function uH(d,f,b,E,U,Y,se){if(b)return f.flags&256?(f.flags&=-257,E=nj(Error(n(422))),jg(d,f,se,E)):f.memoizedState!==null?(f.child=d.child,f.flags|=128,null):(Y=E.fallback,U=f.mode,E=Dg({mode:"visible",children:E.children},U,0,null),Y=fd(Y,U,se,null),Y.flags|=2,E.return=f,Y.return=f,E.sibling=Y,f.child=E,(f.mode&1)!==0&&Gu(f,d.child,null,se),f.child.memoizedState=lj(se),f.memoizedState=oj,Y);if((f.mode&1)===0)return jg(d,f,se,null);if(U.data==="$!"){if(E=U.nextSibling&&U.nextSibling.dataset,E)var me=E.dgst;return E=me,Y=Error(n(419)),E=nj(Y,E,void 0),jg(d,f,se,E)}if(me=(se&d.childLanes)!==0,Us||me){if(E=Wn,E!==null){switch(se&-se){case 4:U=2;break;case 16:U=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:U=32;break;case 536870912:U=268435456;break;default:U=0}U=(U&(E.suspendedLanes|se))!==0?0:U,U!==0&&U!==Y.retryLane&&(Y.retryLane=U,Jo(d,U),Ni(E,d,U,-1))}return _j(),E=nj(Error(n(421))),jg(d,f,se,E)}return U.data==="$?"?(f.flags|=128,f.child=d.child,f=SH.bind(null,d),U._reactRetry=f,null):(d=Y.treeContext,ha=ao(U.nextSibling),ua=f,Gr=!0,yi=null,d!==null&&(Ha[Wa++]=Zo,Ha[Wa++]=Xo,Ha[Wa++]=ad,Zo=d.id,Xo=d.overflow,ad=f),f=cj(f,E.children),f.flags|=4096,f)}function F5(d,f,b){d.lanes|=f;var E=d.alternate;E!==null&&(E.lanes|=f),Fb(d.return,f,b)}function dj(d,f,b,E,U){var Y=d.memoizedState;Y===null?d.memoizedState={isBackwards:f,rendering:null,renderingStartTime:0,last:E,tail:b,tailMode:U}:(Y.isBackwards=f,Y.rendering=null,Y.renderingStartTime=0,Y.last=E,Y.tail=b,Y.tailMode=U)}function z5(d,f,b){var E=f.pendingProps,U=E.revealOrder,Y=E.tail;if(Cs(d,f,E.children,b),E=Jr.current,(E&2)!==0)E=E&1|2,f.flags|=128;else{if(d!==null&&(d.flags&128)!==0)e:for(d=f.child;d!==null;){if(d.tag===13)d.memoizedState!==null&&F5(d,b,f);else if(d.tag===19)F5(d,b,f);else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===f)break e;for(;d.sibling===null;){if(d.return===null||d.return===f)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}E&=1}if(Tr(Jr,E),(f.mode&1)===0)f.memoizedState=null;else switch(U){case"forwards":for(b=f.child,U=null;b!==null;)d=b.alternate,d!==null&&fg(d)===null&&(U=b),b=b.sibling;b=U,b===null?(U=f.child,f.child=null):(U=b.sibling,b.sibling=null),dj(f,!1,U,b,Y);break;case"backwards":for(b=null,U=f.child,f.child=null;U!==null;){if(d=U.alternate,d!==null&&fg(d)===null){f.child=U;break}d=U.sibling,U.sibling=b,b=U,U=d}dj(f,!0,b,null,Y);break;case"together":dj(f,!1,null,null,void 0);break;default:f.memoizedState=null}return f.child}function wg(d,f){(f.mode&1)===0&&d!==null&&(d.alternate=null,f.alternate=null,f.flags|=2)}function el(d,f,b){if(d!==null&&(f.dependencies=d.dependencies),dd|=f.lanes,(b&f.childLanes)===0)return null;if(d!==null&&f.child!==d.child)throw Error(n(153));if(f.child!==null){for(d=f.child,b=dc(d,d.pendingProps),f.child=b,b.return=f;d.sibling!==null;)d=d.sibling,b=b.sibling=dc(d,d.pendingProps),b.return=f;b.sibling=null}return f.child}function hH(d,f,b){switch(f.tag){case 3:L5(f),Vu();break;case 5:t5(f);break;case 1:zs(f.type)&&sg(f);break;case 4:Hb(f,f.stateNode.containerInfo);break;case 10:var E=f.type._context,U=f.memoizedProps.value;Tr(dg,E._currentValue),E._currentValue=U;break;case 13:if(E=f.memoizedState,E!==null)return E.dehydrated!==null?(Tr(Jr,Jr.current&1),f.flags|=128,null):(b&f.child.childLanes)!==0?B5(d,f,b):(Tr(Jr,Jr.current&1),d=el(d,f,b),d!==null?d.sibling:null);Tr(Jr,Jr.current&1);break;case 19:if(E=(b&f.childLanes)!==0,(d.flags&128)!==0){if(E)return z5(d,f,b);f.flags|=128}if(U=f.memoizedState,U!==null&&(U.rendering=null,U.tail=null,U.lastEffect=null),Tr(Jr,Jr.current),E)break;return null;case 22:case 23:return f.lanes=0,D5(d,f,b)}return el(d,f,b)}var U5,uj,H5,W5;U5=function(d,f){for(var b=f.child;b!==null;){if(b.tag===5||b.tag===6)d.appendChild(b.stateNode);else if(b.tag!==4&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===f)break;for(;b.sibling===null;){if(b.return===null||b.return===f)return;b=b.return}b.sibling.return=b.return,b=b.sibling}},uj=function(){},H5=function(d,f,b,E){var U=d.memoizedProps;if(U!==E){d=f.stateNode,ld(io.current);var Y=null;switch(b){case"input":U=Se(d,U),E=Se(d,E),Y=[];break;case"select":U=I({},U,{value:void 0}),E=I({},E,{value:void 0}),Y=[];break;case"textarea":U=Et(d,U),E=Et(d,E),Y=[];break;default:typeof U.onClick!="function"&&typeof E.onClick=="function"&&(d.onclick=Me)}ta(b,E);var se;b=null;for(_e in U)if(!E.hasOwnProperty(_e)&&U.hasOwnProperty(_e)&&U[_e]!=null)if(_e==="style"){var me=U[_e];for(se in me)me.hasOwnProperty(se)&&(b||(b={}),b[se]="")}else _e!=="dangerouslySetInnerHTML"&&_e!=="children"&&_e!=="suppressContentEditableWarning"&&_e!=="suppressHydrationWarning"&&_e!=="autoFocus"&&(a.hasOwnProperty(_e)?Y||(Y=[]):(Y=Y||[]).push(_e,null));for(_e in E){var xe=E[_e];if(me=U!=null?U[_e]:void 0,E.hasOwnProperty(_e)&&xe!==me&&(xe!=null||me!=null))if(_e==="style")if(me){for(se in me)!me.hasOwnProperty(se)||xe&&xe.hasOwnProperty(se)||(b||(b={}),b[se]="");for(se in xe)xe.hasOwnProperty(se)&&me[se]!==xe[se]&&(b||(b={}),b[se]=xe[se])}else b||(Y||(Y=[]),Y.push(_e,b)),b=xe;else _e==="dangerouslySetInnerHTML"?(xe=xe?xe.__html:void 0,me=me?me.__html:void 0,xe!=null&&me!==xe&&(Y=Y||[]).push(_e,xe)):_e==="children"?typeof xe!="string"&&typeof xe!="number"||(Y=Y||[]).push(_e,""+xe):_e!=="suppressContentEditableWarning"&&_e!=="suppressHydrationWarning"&&(a.hasOwnProperty(_e)?(xe!=null&&_e==="onScroll"&&wr("scroll",d),Y||me===xe||(Y=[])):(Y=Y||[]).push(_e,xe))}b&&(Y=Y||[]).push("style",b);var _e=Y;(f.updateQueue=_e)&&(f.flags|=4)}},W5=function(d,f,b,E){b!==E&&(f.flags|=4)};function vf(d,f){if(!Gr)switch(d.tailMode){case"hidden":f=d.tail;for(var b=null;f!==null;)f.alternate!==null&&(b=f),f=f.sibling;b===null?d.tail=null:b.sibling=null;break;case"collapsed":b=d.tail;for(var E=null;b!==null;)b.alternate!==null&&(E=b),b=b.sibling;E===null?f||d.tail===null?d.tail=null:d.tail.sibling=null:E.sibling=null}}function ms(d){var f=d.alternate!==null&&d.alternate.child===d.child,b=0,E=0;if(f)for(var U=d.child;U!==null;)b|=U.lanes|U.childLanes,E|=U.subtreeFlags&14680064,E|=U.flags&14680064,U.return=d,U=U.sibling;else for(U=d.child;U!==null;)b|=U.lanes|U.childLanes,E|=U.subtreeFlags,E|=U.flags,U.return=d,U=U.sibling;return d.subtreeFlags|=E,d.childLanes=b,f}function mH(d,f,b){var E=f.pendingProps;switch(Mb(f),f.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ms(f),null;case 1:return zs(f.type)&&ng(),ms(f),null;case 3:return E=f.stateNode,Zu(),zr(Fs),zr(us),Vb(),E.pendingContext&&(E.context=E.pendingContext,E.pendingContext=null),(d===null||d.child===null)&&(lg(f)?f.flags|=4:d===null||d.memoizedState.isDehydrated&&(f.flags&256)===0||(f.flags|=1024,yi!==null&&(wj(yi),yi=null))),uj(d,f),ms(f),null;case 5:Wb(f);var U=ld(mf.current);if(b=f.type,d!==null&&f.stateNode!=null)H5(d,f,b,E,U),d.ref!==f.ref&&(f.flags|=512,f.flags|=2097152);else{if(!E){if(f.stateNode===null)throw Error(n(166));return ms(f),null}if(d=ld(io.current),lg(f)){E=f.stateNode,b=f.type;var Y=f.memoizedProps;switch(E[Ua]=f,E[Jl]=Y,d=(f.mode&1)!==0,b){case"dialog":wr("cancel",E),wr("close",E);break;case"iframe":case"object":case"embed":wr("load",E);break;case"video":case"audio":for(U=0;U<Yl.length;U++)wr(Yl[U],E);break;case"source":wr("error",E);break;case"img":case"image":case"link":wr("error",E),wr("load",E);break;case"details":wr("toggle",E);break;case"input":$e(E,Y),wr("invalid",E);break;case"select":E._wrapperState={wasMultiple:!!Y.multiple},wr("invalid",E);break;case"textarea":Te(E,Y),wr("invalid",E)}ta(b,Y),U=null;for(var se in Y)if(Y.hasOwnProperty(se)){var me=Y[se];se==="children"?typeof me=="string"?E.textContent!==me&&(Y.suppressHydrationWarning!==!0&&Ne(E.textContent,me,d),U=["children",me]):typeof me=="number"&&E.textContent!==""+me&&(Y.suppressHydrationWarning!==!0&&Ne(E.textContent,me,d),U=["children",""+me]):a.hasOwnProperty(se)&&me!=null&&se==="onScroll"&&wr("scroll",E)}switch(b){case"input":ye(E),it(E,Y,!0);break;case"textarea":ye(E),Dt(E);break;case"select":case"option":break;default:typeof Y.onClick=="function"&&(E.onclick=Me)}E=U,f.updateQueue=E,E!==null&&(f.flags|=4)}else{se=U.nodeType===9?U:U.ownerDocument,d==="http://www.w3.org/1999/xhtml"&&(d=De(b)),d==="http://www.w3.org/1999/xhtml"?b==="script"?(d=se.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild)):typeof E.is=="string"?d=se.createElement(b,{is:E.is}):(d=se.createElement(b),b==="select"&&(se=d,E.multiple?se.multiple=!0:E.size&&(se.size=E.size))):d=se.createElementNS(d,b),d[Ua]=f,d[Jl]=E,U5(d,f,!1,!1),f.stateNode=d;e:{switch(se=is(b,E),b){case"dialog":wr("cancel",d),wr("close",d),U=E;break;case"iframe":case"object":case"embed":wr("load",d),U=E;break;case"video":case"audio":for(U=0;U<Yl.length;U++)wr(Yl[U],d);U=E;break;case"source":wr("error",d),U=E;break;case"img":case"image":case"link":wr("error",d),wr("load",d),U=E;break;case"details":wr("toggle",d),U=E;break;case"input":$e(d,E),U=Se(d,E),wr("invalid",d);break;case"option":U=E;break;case"select":d._wrapperState={wasMultiple:!!E.multiple},U=I({},E,{value:void 0}),wr("invalid",d);break;case"textarea":Te(d,E),U=Et(d,E),wr("invalid",d);break;default:U=E}ta(b,U),me=U;for(Y in me)if(me.hasOwnProperty(Y)){var xe=me[Y];Y==="style"?js(d,xe):Y==="dangerouslySetInnerHTML"?(xe=xe?xe.__html:void 0,xe!=null&&Jt(d,xe)):Y==="children"?typeof xe=="string"?(b!=="textarea"||xe!=="")&&bt(d,xe):typeof xe=="number"&&bt(d,""+xe):Y!=="suppressContentEditableWarning"&&Y!=="suppressHydrationWarning"&&Y!=="autoFocus"&&(a.hasOwnProperty(Y)?xe!=null&&Y==="onScroll"&&wr("scroll",d):xe!=null&&P(d,Y,xe,se))}switch(b){case"input":ye(d),it(d,E,!1);break;case"textarea":ye(d),Dt(d);break;case"option":E.value!=null&&d.setAttribute("value",""+ue(E.value));break;case"select":d.multiple=!!E.multiple,Y=E.value,Y!=null?Pt(d,!!E.multiple,Y,!1):E.defaultValue!=null&&Pt(d,!!E.multiple,E.defaultValue,!0);break;default:typeof U.onClick=="function"&&(d.onclick=Me)}switch(b){case"button":case"input":case"select":case"textarea":E=!!E.autoFocus;break e;case"img":E=!0;break e;default:E=!1}}E&&(f.flags|=4)}f.ref!==null&&(f.flags|=512,f.flags|=2097152)}return ms(f),null;case 6:if(d&&f.stateNode!=null)W5(d,f,d.memoizedProps,E);else{if(typeof E!="string"&&f.stateNode===null)throw Error(n(166));if(b=ld(mf.current),ld(io.current),lg(f)){if(E=f.stateNode,b=f.memoizedProps,E[Ua]=f,(Y=E.nodeValue!==b)&&(d=ua,d!==null))switch(d.tag){case 3:Ne(E.nodeValue,b,(d.mode&1)!==0);break;case 5:d.memoizedProps.suppressHydrationWarning!==!0&&Ne(E.nodeValue,b,(d.mode&1)!==0)}Y&&(f.flags|=4)}else E=(b.nodeType===9?b:b.ownerDocument).createTextNode(E),E[Ua]=f,f.stateNode=E}return ms(f),null;case 13:if(zr(Jr),E=f.memoizedState,d===null||d.memoizedState!==null&&d.memoizedState.dehydrated!==null){if(Gr&&ha!==null&&(f.mode&1)!==0&&(f.flags&128)===0)G6(),Vu(),f.flags|=98560,Y=!1;else if(Y=lg(f),E!==null&&E.dehydrated!==null){if(d===null){if(!Y)throw Error(n(318));if(Y=f.memoizedState,Y=Y!==null?Y.dehydrated:null,!Y)throw Error(n(317));Y[Ua]=f}else Vu(),(f.flags&128)===0&&(f.memoizedState=null),f.flags|=4;ms(f),Y=!1}else yi!==null&&(wj(yi),yi=null),Y=!0;if(!Y)return f.flags&65536?f:null}return(f.flags&128)!==0?(f.lanes=b,f):(E=E!==null,E!==(d!==null&&d.memoizedState!==null)&&E&&(f.child.flags|=8192,(f.mode&1)!==0&&(d===null||(Jr.current&1)!==0?Rn===0&&(Rn=3):_j())),f.updateQueue!==null&&(f.flags|=4),ms(f),null);case 4:return Zu(),uj(d,f),d===null&&Zl(f.stateNode.containerInfo),ms(f),null;case 10:return Bb(f.type._context),ms(f),null;case 17:return zs(f.type)&&ng(),ms(f),null;case 19:if(zr(Jr),Y=f.memoizedState,Y===null)return ms(f),null;if(E=(f.flags&128)!==0,se=Y.rendering,se===null)if(E)vf(Y,!1);else{if(Rn!==0||d!==null&&(d.flags&128)!==0)for(d=f.child;d!==null;){if(se=fg(d),se!==null){for(f.flags|=128,vf(Y,!1),E=se.updateQueue,E!==null&&(f.updateQueue=E,f.flags|=4),f.subtreeFlags=0,E=b,b=f.child;b!==null;)Y=b,d=E,Y.flags&=14680066,se=Y.alternate,se===null?(Y.childLanes=0,Y.lanes=d,Y.child=null,Y.subtreeFlags=0,Y.memoizedProps=null,Y.memoizedState=null,Y.updateQueue=null,Y.dependencies=null,Y.stateNode=null):(Y.childLanes=se.childLanes,Y.lanes=se.lanes,Y.child=se.child,Y.subtreeFlags=0,Y.deletions=null,Y.memoizedProps=se.memoizedProps,Y.memoizedState=se.memoizedState,Y.updateQueue=se.updateQueue,Y.type=se.type,d=se.dependencies,Y.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext}),b=b.sibling;return Tr(Jr,Jr.current&1|2),f.child}d=d.sibling}Y.tail!==null&&Ar()>eh&&(f.flags|=128,E=!0,vf(Y,!1),f.lanes=4194304)}else{if(!E)if(d=fg(se),d!==null){if(f.flags|=128,E=!0,b=d.updateQueue,b!==null&&(f.updateQueue=b,f.flags|=4),vf(Y,!0),Y.tail===null&&Y.tailMode==="hidden"&&!se.alternate&&!Gr)return ms(f),null}else 2*Ar()-Y.renderingStartTime>eh&&b!==1073741824&&(f.flags|=128,E=!0,vf(Y,!1),f.lanes=4194304);Y.isBackwards?(se.sibling=f.child,f.child=se):(b=Y.last,b!==null?b.sibling=se:f.child=se,Y.last=se)}return Y.tail!==null?(f=Y.tail,Y.rendering=f,Y.tail=f.sibling,Y.renderingStartTime=Ar(),f.sibling=null,b=Jr.current,Tr(Jr,E?b&1|2:b&1),f):(ms(f),null);case 22:case 23:return Sj(),E=f.memoizedState!==null,d!==null&&d.memoizedState!==null!==E&&(f.flags|=8192),E&&(f.mode&1)!==0?(ma&1073741824)!==0&&(ms(f),f.subtreeFlags&6&&(f.flags|=8192)):ms(f),null;case 24:return null;case 25:return null}throw Error(n(156,f.tag))}function fH(d,f){switch(Mb(f),f.tag){case 1:return zs(f.type)&&ng(),d=f.flags,d&65536?(f.flags=d&-65537|128,f):null;case 3:return Zu(),zr(Fs),zr(us),Vb(),d=f.flags,(d&65536)!==0&&(d&128)===0?(f.flags=d&-65537|128,f):null;case 5:return Wb(f),null;case 13:if(zr(Jr),d=f.memoizedState,d!==null&&d.dehydrated!==null){if(f.alternate===null)throw Error(n(340));Vu()}return d=f.flags,d&65536?(f.flags=d&-65537|128,f):null;case 19:return zr(Jr),null;case 4:return Zu(),null;case 10:return Bb(f.type._context),null;case 22:case 23:return Sj(),null;case 24:return null;default:return null}}var Ng=!1,fs=!1,pH=typeof WeakSet=="function"?WeakSet:Set,et=null;function Ju(d,f){var b=d.ref;if(b!==null)if(typeof b=="function")try{b(null)}catch(E){mn(d,f,E)}else b.current=null}function hj(d,f,b){try{b()}catch(E){mn(d,f,E)}}var q5=!1;function xH(d,f){if(Ve=Zc,d=ef(),tf(d)){if("selectionStart"in d)var b={start:d.selectionStart,end:d.selectionEnd};else e:{b=(b=d.ownerDocument)&&b.defaultView||window;var E=b.getSelection&&b.getSelection();if(E&&E.rangeCount!==0){b=E.anchorNode;var U=E.anchorOffset,Y=E.focusNode;E=E.focusOffset;try{b.nodeType,Y.nodeType}catch{b=null;break e}var se=0,me=-1,xe=-1,_e=0,Ie=0,Le=d,Re=null;t:for(;;){for(var Xe;Le!==b||U!==0&&Le.nodeType!==3||(me=se+U),Le!==Y||E!==0&&Le.nodeType!==3||(xe=se+E),Le.nodeType===3&&(se+=Le.nodeValue.length),(Xe=Le.firstChild)!==null;)Re=Le,Le=Xe;for(;;){if(Le===d)break t;if(Re===b&&++_e===U&&(me=se),Re===Y&&++Ie===E&&(xe=se),(Xe=Le.nextSibling)!==null)break;Le=Re,Re=Le.parentNode}Le=Xe}b=me===-1||xe===-1?null:{start:me,end:xe}}else b=null}b=b||{start:0,end:0}}else b=null;for(ft={focusedElem:d,selectionRange:b},Zc=!1,et=f;et!==null;)if(f=et,d=f.child,(f.subtreeFlags&1028)!==0&&d!==null)d.return=f,et=d;else for(;et!==null;){f=et;try{var nt=f.alternate;if((f.flags&1024)!==0)switch(f.tag){case 0:case 11:case 15:break;case 1:if(nt!==null){var ot=nt.memoizedProps,jn=nt.memoizedState,je=f.stateNode,ge=je.getSnapshotBeforeUpdate(f.elementType===f.type?ot:bi(f.type,ot),jn);je.__reactInternalSnapshotBeforeUpdate=ge}break;case 3:var we=f.stateNode.containerInfo;we.nodeType===1?we.textContent="":we.nodeType===9&&we.documentElement&&we.removeChild(we.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(ze){mn(f,f.return,ze)}if(d=f.sibling,d!==null){d.return=f.return,et=d;break}et=f.return}return nt=q5,q5=!1,nt}function yf(d,f,b){var E=f.updateQueue;if(E=E!==null?E.lastEffect:null,E!==null){var U=E=E.next;do{if((U.tag&d)===d){var Y=U.destroy;U.destroy=void 0,Y!==void 0&&hj(f,b,Y)}U=U.next}while(U!==E)}}function Sg(d,f){if(f=f.updateQueue,f=f!==null?f.lastEffect:null,f!==null){var b=f=f.next;do{if((b.tag&d)===d){var E=b.create;b.destroy=E()}b=b.next}while(b!==f)}}function mj(d){var f=d.ref;if(f!==null){var b=d.stateNode;switch(d.tag){case 5:d=b;break;default:d=b}typeof f=="function"?f(d):f.current=d}}function V5(d){var f=d.alternate;f!==null&&(d.alternate=null,V5(f)),d.child=null,d.deletions=null,d.sibling=null,d.tag===5&&(f=d.stateNode,f!==null&&(delete f[Ua],delete f[Jl],delete f[Ql],delete f[Pb],delete f[Ab])),d.stateNode=null,d.return=null,d.dependencies=null,d.memoizedProps=null,d.memoizedState=null,d.pendingProps=null,d.stateNode=null,d.updateQueue=null}function G5(d){return d.tag===5||d.tag===3||d.tag===4}function K5(d){e:for(;;){for(;d.sibling===null;){if(d.return===null||G5(d.return))return null;d=d.return}for(d.sibling.return=d.return,d=d.sibling;d.tag!==5&&d.tag!==6&&d.tag!==18;){if(d.flags&2||d.child===null||d.tag===4)continue e;d.child.return=d,d=d.child}if(!(d.flags&2))return d.stateNode}}function fj(d,f,b){var E=d.tag;if(E===5||E===6)d=d.stateNode,f?b.nodeType===8?b.parentNode.insertBefore(d,f):b.insertBefore(d,f):(b.nodeType===8?(f=b.parentNode,f.insertBefore(d,b)):(f=b,f.appendChild(d)),b=b._reactRootContainer,b!=null||f.onclick!==null||(f.onclick=Me));else if(E!==4&&(d=d.child,d!==null))for(fj(d,f,b),d=d.sibling;d!==null;)fj(d,f,b),d=d.sibling}function pj(d,f,b){var E=d.tag;if(E===5||E===6)d=d.stateNode,f?b.insertBefore(d,f):b.appendChild(d);else if(E!==4&&(d=d.child,d!==null))for(pj(d,f,b),d=d.sibling;d!==null;)pj(d,f,b),d=d.sibling}var Jn=null,ji=!1;function ac(d,f,b){for(b=b.child;b!==null;)Y5(d,f,b),b=b.sibling}function Y5(d,f,b){if(Vr&&typeof Vr.onCommitFiberUnmount=="function")try{Vr.onCommitFiberUnmount(Qe,b)}catch{}switch(b.tag){case 5:fs||Ju(b,f);case 6:var E=Jn,U=ji;Jn=null,ac(d,f,b),Jn=E,ji=U,Jn!==null&&(ji?(d=Jn,b=b.stateNode,d.nodeType===8?d.parentNode.removeChild(b):d.removeChild(b)):Jn.removeChild(b.stateNode));break;case 18:Jn!==null&&(ji?(d=Jn,b=b.stateNode,d.nodeType===8?cf(d.parentNode,b):d.nodeType===1&&cf(d,b),ia(d)):cf(Jn,b.stateNode));break;case 4:E=Jn,U=ji,Jn=b.stateNode.containerInfo,ji=!0,ac(d,f,b),Jn=E,ji=U;break;case 0:case 11:case 14:case 15:if(!fs&&(E=b.updateQueue,E!==null&&(E=E.lastEffect,E!==null))){U=E=E.next;do{var Y=U,se=Y.destroy;Y=Y.tag,se!==void 0&&((Y&2)!==0||(Y&4)!==0)&&hj(b,f,se),U=U.next}while(U!==E)}ac(d,f,b);break;case 1:if(!fs&&(Ju(b,f),E=b.stateNode,typeof E.componentWillUnmount=="function"))try{E.props=b.memoizedProps,E.state=b.memoizedState,E.componentWillUnmount()}catch(me){mn(b,f,me)}ac(d,f,b);break;case 21:ac(d,f,b);break;case 22:b.mode&1?(fs=(E=fs)||b.memoizedState!==null,ac(d,f,b),fs=E):ac(d,f,b);break;default:ac(d,f,b)}}function Z5(d){var f=d.updateQueue;if(f!==null){d.updateQueue=null;var b=d.stateNode;b===null&&(b=d.stateNode=new pH),f.forEach(function(E){var U=_H.bind(null,d,E);b.has(E)||(b.add(E),E.then(U,U))})}}function wi(d,f){var b=f.deletions;if(b!==null)for(var E=0;E<b.length;E++){var U=b[E];try{var Y=d,se=f,me=se;e:for(;me!==null;){switch(me.tag){case 5:Jn=me.stateNode,ji=!1;break e;case 3:Jn=me.stateNode.containerInfo,ji=!0;break e;case 4:Jn=me.stateNode.containerInfo,ji=!0;break e}me=me.return}if(Jn===null)throw Error(n(160));Y5(Y,se,U),Jn=null,ji=!1;var xe=U.alternate;xe!==null&&(xe.return=null),U.return=null}catch(_e){mn(U,f,_e)}}if(f.subtreeFlags&12854)for(f=f.child;f!==null;)X5(f,d),f=f.sibling}function X5(d,f){var b=d.alternate,E=d.flags;switch(d.tag){case 0:case 11:case 14:case 15:if(wi(f,d),lo(d),E&4){try{yf(3,d,d.return),Sg(3,d)}catch(ot){mn(d,d.return,ot)}try{yf(5,d,d.return)}catch(ot){mn(d,d.return,ot)}}break;case 1:wi(f,d),lo(d),E&512&&b!==null&&Ju(b,b.return);break;case 5:if(wi(f,d),lo(d),E&512&&b!==null&&Ju(b,b.return),d.flags&32){var U=d.stateNode;try{bt(U,"")}catch(ot){mn(d,d.return,ot)}}if(E&4&&(U=d.stateNode,U!=null)){var Y=d.memoizedProps,se=b!==null?b.memoizedProps:Y,me=d.type,xe=d.updateQueue;if(d.updateQueue=null,xe!==null)try{me==="input"&&Y.type==="radio"&&Y.name!=null&&qe(U,Y),is(me,se);var _e=is(me,Y);for(se=0;se<xe.length;se+=2){var Ie=xe[se],Le=xe[se+1];Ie==="style"?js(U,Le):Ie==="dangerouslySetInnerHTML"?Jt(U,Le):Ie==="children"?bt(U,Le):P(U,Ie,Le,_e)}switch(me){case"input":Fe(U,Y);break;case"textarea":$t(U,Y);break;case"select":var Re=U._wrapperState.wasMultiple;U._wrapperState.wasMultiple=!!Y.multiple;var Xe=Y.value;Xe!=null?Pt(U,!!Y.multiple,Xe,!1):Re!==!!Y.multiple&&(Y.defaultValue!=null?Pt(U,!!Y.multiple,Y.defaultValue,!0):Pt(U,!!Y.multiple,Y.multiple?[]:"",!1))}U[Jl]=Y}catch(ot){mn(d,d.return,ot)}}break;case 6:if(wi(f,d),lo(d),E&4){if(d.stateNode===null)throw Error(n(162));U=d.stateNode,Y=d.memoizedProps;try{U.nodeValue=Y}catch(ot){mn(d,d.return,ot)}}break;case 3:if(wi(f,d),lo(d),E&4&&b!==null&&b.memoizedState.isDehydrated)try{ia(f.containerInfo)}catch(ot){mn(d,d.return,ot)}break;case 4:wi(f,d),lo(d);break;case 13:wi(f,d),lo(d),U=d.child,U.flags&8192&&(Y=U.memoizedState!==null,U.stateNode.isHidden=Y,!Y||U.alternate!==null&&U.alternate.memoizedState!==null||(vj=Ar())),E&4&&Z5(d);break;case 22:if(Ie=b!==null&&b.memoizedState!==null,d.mode&1?(fs=(_e=fs)||Ie,wi(f,d),fs=_e):wi(f,d),lo(d),E&8192){if(_e=d.memoizedState!==null,(d.stateNode.isHidden=_e)&&!Ie&&(d.mode&1)!==0)for(et=d,Ie=d.child;Ie!==null;){for(Le=et=Ie;et!==null;){switch(Re=et,Xe=Re.child,Re.tag){case 0:case 11:case 14:case 15:yf(4,Re,Re.return);break;case 1:Ju(Re,Re.return);var nt=Re.stateNode;if(typeof nt.componentWillUnmount=="function"){E=Re,b=Re.return;try{f=E,nt.props=f.memoizedProps,nt.state=f.memoizedState,nt.componentWillUnmount()}catch(ot){mn(E,b,ot)}}break;case 5:Ju(Re,Re.return);break;case 22:if(Re.memoizedState!==null){eP(Le);continue}}Xe!==null?(Xe.return=Re,et=Xe):eP(Le)}Ie=Ie.sibling}e:for(Ie=null,Le=d;;){if(Le.tag===5){if(Ie===null){Ie=Le;try{U=Le.stateNode,_e?(Y=U.style,typeof Y.setProperty=="function"?Y.setProperty("display","none","important"):Y.display="none"):(me=Le.stateNode,xe=Le.memoizedProps.style,se=xe!=null&&xe.hasOwnProperty("display")?xe.display:null,me.style.display=yr("display",se))}catch(ot){mn(d,d.return,ot)}}}else if(Le.tag===6){if(Ie===null)try{Le.stateNode.nodeValue=_e?"":Le.memoizedProps}catch(ot){mn(d,d.return,ot)}}else if((Le.tag!==22&&Le.tag!==23||Le.memoizedState===null||Le===d)&&Le.child!==null){Le.child.return=Le,Le=Le.child;continue}if(Le===d)break e;for(;Le.sibling===null;){if(Le.return===null||Le.return===d)break e;Ie===Le&&(Ie=null),Le=Le.return}Ie===Le&&(Ie=null),Le.sibling.return=Le.return,Le=Le.sibling}}break;case 19:wi(f,d),lo(d),E&4&&Z5(d);break;case 21:break;default:wi(f,d),lo(d)}}function lo(d){var f=d.flags;if(f&2){try{e:{for(var b=d.return;b!==null;){if(G5(b)){var E=b;break e}b=b.return}throw Error(n(160))}switch(E.tag){case 5:var U=E.stateNode;E.flags&32&&(bt(U,""),E.flags&=-33);var Y=K5(d);pj(d,Y,U);break;case 3:case 4:var se=E.stateNode.containerInfo,me=K5(d);fj(d,me,se);break;default:throw Error(n(161))}}catch(xe){mn(d,d.return,xe)}d.flags&=-3}f&4096&&(d.flags&=-4097)}function gH(d,f,b){et=d,J5(d)}function J5(d,f,b){for(var E=(d.mode&1)!==0;et!==null;){var U=et,Y=U.child;if(U.tag===22&&E){var se=U.memoizedState!==null||Ng;if(!se){var me=U.alternate,xe=me!==null&&me.memoizedState!==null||fs;me=Ng;var _e=fs;if(Ng=se,(fs=xe)&&!_e)for(et=U;et!==null;)se=et,xe=se.child,se.tag===22&&se.memoizedState!==null?tP(U):xe!==null?(xe.return=se,et=xe):tP(U);for(;Y!==null;)et=Y,J5(Y),Y=Y.sibling;et=U,Ng=me,fs=_e}Q5(d)}else(U.subtreeFlags&8772)!==0&&Y!==null?(Y.return=U,et=Y):Q5(d)}}function Q5(d){for(;et!==null;){var f=et;if((f.flags&8772)!==0){var b=f.alternate;try{if((f.flags&8772)!==0)switch(f.tag){case 0:case 11:case 15:fs||Sg(5,f);break;case 1:var E=f.stateNode;if(f.flags&4&&!fs)if(b===null)E.componentDidMount();else{var U=f.elementType===f.type?b.memoizedProps:bi(f.type,b.memoizedProps);E.componentDidUpdate(U,b.memoizedState,E.__reactInternalSnapshotBeforeUpdate)}var Y=f.updateQueue;Y!==null&&e5(f,Y,E);break;case 3:var se=f.updateQueue;if(se!==null){if(b=null,f.child!==null)switch(f.child.tag){case 5:b=f.child.stateNode;break;case 1:b=f.child.stateNode}e5(f,se,b)}break;case 5:var me=f.stateNode;if(b===null&&f.flags&4){b=me;var xe=f.memoizedProps;switch(f.type){case"button":case"input":case"select":case"textarea":xe.autoFocus&&b.focus();break;case"img":xe.src&&(b.src=xe.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(f.memoizedState===null){var _e=f.alternate;if(_e!==null){var Ie=_e.memoizedState;if(Ie!==null){var Le=Ie.dehydrated;Le!==null&&ia(Le)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}fs||f.flags&512&&mj(f)}catch(Re){mn(f,f.return,Re)}}if(f===d){et=null;break}if(b=f.sibling,b!==null){b.return=f.return,et=b;break}et=f.return}}function eP(d){for(;et!==null;){var f=et;if(f===d){et=null;break}var b=f.sibling;if(b!==null){b.return=f.return,et=b;break}et=f.return}}function tP(d){for(;et!==null;){var f=et;try{switch(f.tag){case 0:case 11:case 15:var b=f.return;try{Sg(4,f)}catch(xe){mn(f,b,xe)}break;case 1:var E=f.stateNode;if(typeof E.componentDidMount=="function"){var U=f.return;try{E.componentDidMount()}catch(xe){mn(f,U,xe)}}var Y=f.return;try{mj(f)}catch(xe){mn(f,Y,xe)}break;case 5:var se=f.return;try{mj(f)}catch(xe){mn(f,se,xe)}}}catch(xe){mn(f,f.return,xe)}if(f===d){et=null;break}var me=f.sibling;if(me!==null){me.return=f.return,et=me;break}et=f.return}}var vH=Math.ceil,_g=T.ReactCurrentDispatcher,xj=T.ReactCurrentOwner,Ga=T.ReactCurrentBatchConfig,rr=0,Wn=null,kn=null,Qn=0,ma=0,Qu=ec(0),Rn=0,bf=null,dd=0,kg=0,gj=0,jf=null,Hs=null,vj=0,eh=1/0,tl=null,Cg=!1,yj=null,ic=null,Pg=!1,oc=null,Ag=0,wf=0,bj=null,Eg=-1,Tg=0;function Ps(){return(rr&6)!==0?Ar():Eg!==-1?Eg:Eg=Ar()}function lc(d){return(d.mode&1)===0?1:(rr&2)!==0&&Qn!==0?Qn&-Qn:tH.transition!==null?(Tg===0&&(Tg=Dx()),Tg):(d=Qt,d!==0||(d=window.event,d=d===void 0?16:qt(d.type)),d)}function Ni(d,f,b,E){if(50<wf)throw wf=0,bj=null,Error(n(185));sa(d,b,E),((rr&2)===0||d!==Wn)&&(d===Wn&&((rr&2)===0&&(kg|=b),Rn===4&&cc(d,Qn)),Ws(d,E),b===1&&rr===0&&(f.mode&1)===0&&(eh=Ar()+500,ag&&rc()))}function Ws(d,f){var b=d.callbackNode;bu(d,f);var E=Er(d,d===Wn?Qn:0);if(E===0)b!==null&&Ol(b),d.callbackNode=null,d.callbackPriority=0;else if(f=E&-E,d.callbackPriority!==f){if(b!=null&&Ol(b),f===1)d.tag===0?eH(nP.bind(null,d)):U6(nP.bind(null,d)),ds(function(){(rr&6)===0&&rc()}),b=null;else{switch(Ll(E)){case 1:b=Ml;break;case 4:b=qc;break;case 16:b=Io;break;case 536870912:b=Ee;break;default:b=Io}b=uP(b,rP.bind(null,d))}d.callbackPriority=f,d.callbackNode=b}}function rP(d,f){if(Eg=-1,Tg=0,(rr&6)!==0)throw Error(n(327));var b=d.callbackNode;if(th()&&d.callbackNode!==b)return null;var E=Er(d,d===Wn?Qn:0);if(E===0)return null;if((E&30)!==0||(E&d.expiredLanes)!==0||f)f=Og(d,E);else{f=E;var U=rr;rr|=2;var Y=aP();(Wn!==d||Qn!==f)&&(tl=null,eh=Ar()+500,hd(d,f));do try{jH();break}catch(me){sP(d,me)}while(!0);$b(),_g.current=Y,rr=U,kn!==null?f=0:(Wn=null,Qn=0,f=Rn)}if(f!==0){if(f===2&&(U=ls(d),U!==0&&(E=U,f=jj(d,U))),f===1)throw b=bf,hd(d,0),cc(d,E),Ws(d,Ar()),b;if(f===6)cc(d,E);else{if(U=d.current.alternate,(E&30)===0&&!yH(U)&&(f=Og(d,E),f===2&&(Y=ls(d),Y!==0&&(E=Y,f=jj(d,Y))),f===1))throw b=bf,hd(d,0),cc(d,E),Ws(d,Ar()),b;switch(d.finishedWork=U,d.finishedLanes=E,f){case 0:case 1:throw Error(n(345));case 2:md(d,Hs,tl);break;case 3:if(cc(d,E),(E&130023424)===E&&(f=vj+500-Ar(),10<f)){if(Er(d,0)!==0)break;if(U=d.suspendedLanes,(U&E)!==E){Ps(),d.pingedLanes|=d.suspendedLanes&U;break}d.timeoutHandle=Mn(md.bind(null,d,Hs,tl),f);break}md(d,Hs,tl);break;case 4:if(cc(d,E),(E&4194240)===E)break;for(f=d.eventTimes,U=-1;0<E;){var se=31-Tt(E);Y=1<<se,se=f[se],se>U&&(U=se),E&=~Y}if(E=U,E=Ar()-E,E=(120>E?120:480>E?480:1080>E?1080:1920>E?1920:3e3>E?3e3:4320>E?4320:1960*vH(E/1960))-E,10<E){d.timeoutHandle=Mn(md.bind(null,d,Hs,tl),E);break}md(d,Hs,tl);break;case 5:md(d,Hs,tl);break;default:throw Error(n(329))}}}return Ws(d,Ar()),d.callbackNode===b?rP.bind(null,d):null}function jj(d,f){var b=jf;return d.current.memoizedState.isDehydrated&&(hd(d,f).flags|=256),d=Og(d,f),d!==2&&(f=Hs,Hs=b,f!==null&&wj(f)),d}function wj(d){Hs===null?Hs=d:Hs.push.apply(Hs,d)}function yH(d){for(var f=d;;){if(f.flags&16384){var b=f.updateQueue;if(b!==null&&(b=b.stores,b!==null))for(var E=0;E<b.length;E++){var U=b[E],Y=U.getSnapshot;U=U.value;try{if(!ca(Y(),U))return!1}catch{return!1}}}if(b=f.child,f.subtreeFlags&16384&&b!==null)b.return=f,f=b;else{if(f===d)break;for(;f.sibling===null;){if(f.return===null||f.return===d)return!0;f=f.return}f.sibling.return=f.return,f=f.sibling}}return!0}function cc(d,f){for(f&=~gj,f&=~kg,d.suspendedLanes|=f,d.pingedLanes&=~f,d=d.expirationTimes;0<f;){var b=31-Tt(f),E=1<<b;d[b]=-1,f&=~E}}function nP(d){if((rr&6)!==0)throw Error(n(327));th();var f=Er(d,0);if((f&1)===0)return Ws(d,Ar()),null;var b=Og(d,f);if(d.tag!==0&&b===2){var E=ls(d);E!==0&&(f=E,b=jj(d,E))}if(b===1)throw b=bf,hd(d,0),cc(d,f),Ws(d,Ar()),b;if(b===6)throw Error(n(345));return d.finishedWork=d.current.alternate,d.finishedLanes=f,md(d,Hs,tl),Ws(d,Ar()),null}function Nj(d,f){var b=rr;rr|=1;try{return d(f)}finally{rr=b,rr===0&&(eh=Ar()+500,ag&&rc())}}function ud(d){oc!==null&&oc.tag===0&&(rr&6)===0&&th();var f=rr;rr|=1;var b=Ga.transition,E=Qt;try{if(Ga.transition=null,Qt=1,d)return d()}finally{Qt=E,Ga.transition=b,rr=f,(rr&6)===0&&rc()}}function Sj(){ma=Qu.current,zr(Qu)}function hd(d,f){d.finishedWork=null,d.finishedLanes=0;var b=d.timeoutHandle;if(b!==-1&&(d.timeoutHandle=-1,_n(b)),kn!==null)for(b=kn.return;b!==null;){var E=b;switch(Mb(E),E.tag){case 1:E=E.type.childContextTypes,E!=null&&ng();break;case 3:Zu(),zr(Fs),zr(us),Vb();break;case 5:Wb(E);break;case 4:Zu();break;case 13:zr(Jr);break;case 19:zr(Jr);break;case 10:Bb(E.type._context);break;case 22:case 23:Sj()}b=b.return}if(Wn=d,kn=d=dc(d.current,null),Qn=ma=f,Rn=0,bf=null,gj=kg=dd=0,Hs=jf=null,od!==null){for(f=0;f<od.length;f++)if(b=od[f],E=b.interleaved,E!==null){b.interleaved=null;var U=E.next,Y=b.pending;if(Y!==null){var se=Y.next;Y.next=U,E.next=se}b.pending=E}od=null}return d}function sP(d,f){do{var b=kn;try{if($b(),pg.current=yg,xg){for(var E=Qr.memoizedState;E!==null;){var U=E.queue;U!==null&&(U.pending=null),E=E.next}xg=!1}if(cd=0,Hn=Dn=Qr=null,ff=!1,pf=0,xj.current=null,b===null||b.return===null){Rn=1,bf=f,kn=null;break}e:{var Y=d,se=b.return,me=b,xe=f;if(f=Qn,me.flags|=32768,xe!==null&&typeof xe=="object"&&typeof xe.then=="function"){var _e=xe,Ie=me,Le=Ie.tag;if((Ie.mode&1)===0&&(Le===0||Le===11||Le===15)){var Re=Ie.alternate;Re?(Ie.updateQueue=Re.updateQueue,Ie.memoizedState=Re.memoizedState,Ie.lanes=Re.lanes):(Ie.updateQueue=null,Ie.memoizedState=null)}var Xe=A5(se);if(Xe!==null){Xe.flags&=-257,E5(Xe,se,me,Y,f),Xe.mode&1&&P5(Y,_e,f),f=Xe,xe=_e;var nt=f.updateQueue;if(nt===null){var ot=new Set;ot.add(xe),f.updateQueue=ot}else nt.add(xe);break e}else{if((f&1)===0){P5(Y,_e,f),_j();break e}xe=Error(n(426))}}else if(Gr&&me.mode&1){var jn=A5(se);if(jn!==null){(jn.flags&65536)===0&&(jn.flags|=256),E5(jn,se,me,Y,f),Ib(Xu(xe,me));break e}}Y=xe=Xu(xe,me),Rn!==4&&(Rn=2),jf===null?jf=[Y]:jf.push(Y),Y=se;do{switch(Y.tag){case 3:Y.flags|=65536,f&=-f,Y.lanes|=f;var je=k5(Y,xe,f);Q6(Y,je);break e;case 1:me=xe;var ge=Y.type,we=Y.stateNode;if((Y.flags&128)===0&&(typeof ge.getDerivedStateFromError=="function"||we!==null&&typeof we.componentDidCatch=="function"&&(ic===null||!ic.has(we)))){Y.flags|=65536,f&=-f,Y.lanes|=f;var ze=C5(Y,me,f);Q6(Y,ze);break e}}Y=Y.return}while(Y!==null)}oP(b)}catch(ct){f=ct,kn===b&&b!==null&&(kn=b=b.return);continue}break}while(!0)}function aP(){var d=_g.current;return _g.current=yg,d===null?yg:d}function _j(){(Rn===0||Rn===3||Rn===2)&&(Rn=4),Wn===null||(dd&268435455)===0&&(kg&268435455)===0||cc(Wn,Qn)}function Og(d,f){var b=rr;rr|=2;var E=aP();(Wn!==d||Qn!==f)&&(tl=null,hd(d,f));do try{bH();break}catch(U){sP(d,U)}while(!0);if($b(),rr=b,_g.current=E,kn!==null)throw Error(n(261));return Wn=null,Qn=0,Rn}function bH(){for(;kn!==null;)iP(kn)}function jH(){for(;kn!==null&&!gu();)iP(kn)}function iP(d){var f=dP(d.alternate,d,ma);d.memoizedProps=d.pendingProps,f===null?oP(d):kn=f,xj.current=null}function oP(d){var f=d;do{var b=f.alternate;if(d=f.return,(f.flags&32768)===0){if(b=mH(b,f,ma),b!==null){kn=b;return}}else{if(b=fH(b,f),b!==null){b.flags&=32767,kn=b;return}if(d!==null)d.flags|=32768,d.subtreeFlags=0,d.deletions=null;else{Rn=6,kn=null;return}}if(f=f.sibling,f!==null){kn=f;return}kn=f=d}while(f!==null);Rn===0&&(Rn=5)}function md(d,f,b){var E=Qt,U=Ga.transition;try{Ga.transition=null,Qt=1,wH(d,f,b,E)}finally{Ga.transition=U,Qt=E}return null}function wH(d,f,b,E){do th();while(oc!==null);if((rr&6)!==0)throw Error(n(327));b=d.finishedWork;var U=d.finishedLanes;if(b===null)return null;if(d.finishedWork=null,d.finishedLanes=0,b===d.current)throw Error(n(177));d.callbackNode=null,d.callbackPriority=0;var Y=b.lanes|b.childLanes;if(hn(d,Y),d===Wn&&(kn=Wn=null,Qn=0),(b.subtreeFlags&2064)===0&&(b.flags&2064)===0||Pg||(Pg=!0,uP(Io,function(){return th(),null})),Y=(b.flags&15990)!==0,(b.subtreeFlags&15990)!==0||Y){Y=Ga.transition,Ga.transition=null;var se=Qt;Qt=1;var me=rr;rr|=4,xj.current=null,xH(d,b),X5(b,d),Fa(ft),Zc=!!Ve,ft=Ve=null,d.current=b,gH(b),Ro(),rr=me,Qt=se,Ga.transition=Y}else d.current=b;if(Pg&&(Pg=!1,oc=d,Ag=U),Y=d.pendingLanes,Y===0&&(ic=null),na(b.stateNode),Ws(d,Ar()),f!==null)for(E=d.onRecoverableError,b=0;b<f.length;b++)U=f[b],E(U.value,{componentStack:U.stack,digest:U.digest});if(Cg)throw Cg=!1,d=yj,yj=null,d;return(Ag&1)!==0&&d.tag!==0&&th(),Y=d.pendingLanes,(Y&1)!==0?d===bj?wf++:(wf=0,bj=d):wf=0,rc(),null}function th(){if(oc!==null){var d=Ll(Ag),f=Ga.transition,b=Qt;try{if(Ga.transition=null,Qt=16>d?16:d,oc===null)var E=!1;else{if(d=oc,oc=null,Ag=0,(rr&6)!==0)throw Error(n(331));var U=rr;for(rr|=4,et=d.current;et!==null;){var Y=et,se=Y.child;if((et.flags&16)!==0){var me=Y.deletions;if(me!==null){for(var xe=0;xe<me.length;xe++){var _e=me[xe];for(et=_e;et!==null;){var Ie=et;switch(Ie.tag){case 0:case 11:case 15:yf(8,Ie,Y)}var Le=Ie.child;if(Le!==null)Le.return=Ie,et=Le;else for(;et!==null;){Ie=et;var Re=Ie.sibling,Xe=Ie.return;if(V5(Ie),Ie===_e){et=null;break}if(Re!==null){Re.return=Xe,et=Re;break}et=Xe}}}var nt=Y.alternate;if(nt!==null){var ot=nt.child;if(ot!==null){nt.child=null;do{var jn=ot.sibling;ot.sibling=null,ot=jn}while(ot!==null)}}et=Y}}if((Y.subtreeFlags&2064)!==0&&se!==null)se.return=Y,et=se;else e:for(;et!==null;){if(Y=et,(Y.flags&2048)!==0)switch(Y.tag){case 0:case 11:case 15:yf(9,Y,Y.return)}var je=Y.sibling;if(je!==null){je.return=Y.return,et=je;break e}et=Y.return}}var ge=d.current;for(et=ge;et!==null;){se=et;var we=se.child;if((se.subtreeFlags&2064)!==0&&we!==null)we.return=se,et=we;else e:for(se=ge;et!==null;){if(me=et,(me.flags&2048)!==0)try{switch(me.tag){case 0:case 11:case 15:Sg(9,me)}}catch(ct){mn(me,me.return,ct)}if(me===se){et=null;break e}var ze=me.sibling;if(ze!==null){ze.return=me.return,et=ze;break e}et=me.return}}if(rr=U,rc(),Vr&&typeof Vr.onPostCommitFiberRoot=="function")try{Vr.onPostCommitFiberRoot(Qe,d)}catch{}E=!0}return E}finally{Qt=b,Ga.transition=f}}return!1}function lP(d,f,b){f=Xu(b,f),f=k5(d,f,1),d=sc(d,f,1),f=Ps(),d!==null&&(sa(d,1,f),Ws(d,f))}function mn(d,f,b){if(d.tag===3)lP(d,d,b);else for(;f!==null;){if(f.tag===3){lP(f,d,b);break}else if(f.tag===1){var E=f.stateNode;if(typeof f.type.getDerivedStateFromError=="function"||typeof E.componentDidCatch=="function"&&(ic===null||!ic.has(E))){d=Xu(b,d),d=C5(f,d,1),f=sc(f,d,1),d=Ps(),f!==null&&(sa(f,1,d),Ws(f,d));break}}f=f.return}}function NH(d,f,b){var E=d.pingCache;E!==null&&E.delete(f),f=Ps(),d.pingedLanes|=d.suspendedLanes&b,Wn===d&&(Qn&b)===b&&(Rn===4||Rn===3&&(Qn&130023424)===Qn&&500>Ar()-vj?hd(d,0):gj|=b),Ws(d,f)}function cP(d,f){f===0&&((d.mode&1)===0?f=1:(f=Rl,Rl<<=1,(Rl&130023424)===0&&(Rl=4194304)));var b=Ps();d=Jo(d,f),d!==null&&(sa(d,f,b),Ws(d,b))}function SH(d){var f=d.memoizedState,b=0;f!==null&&(b=f.retryLane),cP(d,b)}function _H(d,f){var b=0;switch(d.tag){case 13:var E=d.stateNode,U=d.memoizedState;U!==null&&(b=U.retryLane);break;case 19:E=d.stateNode;break;default:throw Error(n(314))}E!==null&&E.delete(f),cP(d,b)}var dP;dP=function(d,f,b){if(d!==null)if(d.memoizedProps!==f.pendingProps||Fs.current)Us=!0;else{if((d.lanes&b)===0&&(f.flags&128)===0)return Us=!1,hH(d,f,b);Us=(d.flags&131072)!==0}else Us=!1,Gr&&(f.flags&1048576)!==0&&H6(f,og,f.index);switch(f.lanes=0,f.tag){case 2:var E=f.type;wg(d,f),d=f.pendingProps;var U=Hu(f,us.current);Yu(f,b),U=Yb(null,f,E,d,U,b);var Y=Zb();return f.flags|=1,typeof U=="object"&&U!==null&&typeof U.render=="function"&&U.$$typeof===void 0?(f.tag=1,f.memoizedState=null,f.updateQueue=null,zs(E)?(Y=!0,sg(f)):Y=!1,f.memoizedState=U.state!==null&&U.state!==void 0?U.state:null,Ub(f),U.updater=bg,f.stateNode=U,U._reactInternals=f,rj(f,E,d,b),f=ij(null,f,E,!0,Y,b)):(f.tag=0,Gr&&Y&&Ob(f),Cs(null,f,U,b),f=f.child),f;case 16:E=f.elementType;e:{switch(wg(d,f),d=f.pendingProps,U=E._init,E=U(E._payload),f.type=E,U=f.tag=CH(E),d=bi(E,d),U){case 0:f=aj(null,f,E,d,b);break e;case 1:f=I5(null,f,E,d,b);break e;case 11:f=T5(null,f,E,d,b);break e;case 14:f=O5(null,f,E,bi(E.type,d),b);break e}throw Error(n(306,E,""))}return f;case 0:return E=f.type,U=f.pendingProps,U=f.elementType===E?U:bi(E,U),aj(d,f,E,U,b);case 1:return E=f.type,U=f.pendingProps,U=f.elementType===E?U:bi(E,U),I5(d,f,E,U,b);case 3:e:{if(L5(f),d===null)throw Error(n(387));E=f.pendingProps,Y=f.memoizedState,U=Y.element,J6(d,f),mg(f,E,null,b);var se=f.memoizedState;if(E=se.element,Y.isDehydrated)if(Y={element:E,isDehydrated:!1,cache:se.cache,pendingSuspenseBoundaries:se.pendingSuspenseBoundaries,transitions:se.transitions},f.updateQueue.baseState=Y,f.memoizedState=Y,f.flags&256){U=Xu(Error(n(423)),f),f=$5(d,f,E,b,U);break e}else if(E!==U){U=Xu(Error(n(424)),f),f=$5(d,f,E,b,U);break e}else for(ha=ao(f.stateNode.containerInfo.firstChild),ua=f,Gr=!0,yi=null,b=Z6(f,null,E,b),f.child=b;b;)b.flags=b.flags&-3|4096,b=b.sibling;else{if(Vu(),E===U){f=el(d,f,b);break e}Cs(d,f,E,b)}f=f.child}return f;case 5:return t5(f),d===null&&Rb(f),E=f.type,U=f.pendingProps,Y=d!==null?d.memoizedProps:null,se=U.children,Bt(E,U)?se=null:Y!==null&&Bt(E,Y)&&(f.flags|=32),R5(d,f),Cs(d,f,se,b),f.child;case 6:return d===null&&Rb(f),null;case 13:return B5(d,f,b);case 4:return Hb(f,f.stateNode.containerInfo),E=f.pendingProps,d===null?f.child=Gu(f,null,E,b):Cs(d,f,E,b),f.child;case 11:return E=f.type,U=f.pendingProps,U=f.elementType===E?U:bi(E,U),T5(d,f,E,U,b);case 7:return Cs(d,f,f.pendingProps,b),f.child;case 8:return Cs(d,f,f.pendingProps.children,b),f.child;case 12:return Cs(d,f,f.pendingProps.children,b),f.child;case 10:e:{if(E=f.type._context,U=f.pendingProps,Y=f.memoizedProps,se=U.value,Tr(dg,E._currentValue),E._currentValue=se,Y!==null)if(ca(Y.value,se)){if(Y.children===U.children&&!Fs.current){f=el(d,f,b);break e}}else for(Y=f.child,Y!==null&&(Y.return=f);Y!==null;){var me=Y.dependencies;if(me!==null){se=Y.child;for(var xe=me.firstContext;xe!==null;){if(xe.context===E){if(Y.tag===1){xe=Qo(-1,b&-b),xe.tag=2;var _e=Y.updateQueue;if(_e!==null){_e=_e.shared;var Ie=_e.pending;Ie===null?xe.next=xe:(xe.next=Ie.next,Ie.next=xe),_e.pending=xe}}Y.lanes|=b,xe=Y.alternate,xe!==null&&(xe.lanes|=b),Fb(Y.return,b,f),me.lanes|=b;break}xe=xe.next}}else if(Y.tag===10)se=Y.type===f.type?null:Y.child;else if(Y.tag===18){if(se=Y.return,se===null)throw Error(n(341));se.lanes|=b,me=se.alternate,me!==null&&(me.lanes|=b),Fb(se,b,f),se=Y.sibling}else se=Y.child;if(se!==null)se.return=Y;else for(se=Y;se!==null;){if(se===f){se=null;break}if(Y=se.sibling,Y!==null){Y.return=se.return,se=Y;break}se=se.return}Y=se}Cs(d,f,U.children,b),f=f.child}return f;case 9:return U=f.type,E=f.pendingProps.children,Yu(f,b),U=qa(U),E=E(U),f.flags|=1,Cs(d,f,E,b),f.child;case 14:return E=f.type,U=bi(E,f.pendingProps),U=bi(E.type,U),O5(d,f,E,U,b);case 15:return M5(d,f,f.type,f.pendingProps,b);case 17:return E=f.type,U=f.pendingProps,U=f.elementType===E?U:bi(E,U),wg(d,f),f.tag=1,zs(E)?(d=!0,sg(f)):d=!1,Yu(f,b),S5(f,E,U),rj(f,E,U,b),ij(null,f,E,!0,d,b);case 19:return z5(d,f,b);case 22:return D5(d,f,b)}throw Error(n(156,f.tag))};function uP(d,f){return Wc(d,f)}function kH(d,f,b,E){this.tag=d,this.key=b,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=f,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=E,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ka(d,f,b,E){return new kH(d,f,b,E)}function kj(d){return d=d.prototype,!(!d||!d.isReactComponent)}function CH(d){if(typeof d=="function")return kj(d)?1:0;if(d!=null){if(d=d.$$typeof,d===K)return 11;if(d===W)return 14}return 2}function dc(d,f){var b=d.alternate;return b===null?(b=Ka(d.tag,f,d.key,d.mode),b.elementType=d.elementType,b.type=d.type,b.stateNode=d.stateNode,b.alternate=d,d.alternate=b):(b.pendingProps=f,b.type=d.type,b.flags=0,b.subtreeFlags=0,b.deletions=null),b.flags=d.flags&14680064,b.childLanes=d.childLanes,b.lanes=d.lanes,b.child=d.child,b.memoizedProps=d.memoizedProps,b.memoizedState=d.memoizedState,b.updateQueue=d.updateQueue,f=d.dependencies,b.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext},b.sibling=d.sibling,b.index=d.index,b.ref=d.ref,b}function Mg(d,f,b,E,U,Y){var se=2;if(E=d,typeof d=="function")kj(d)&&(se=1);else if(typeof d=="string")se=5;else e:switch(d){case M:return fd(b.children,U,Y,f);case $:se=8,U|=8;break;case B:return d=Ka(12,b,f,U|2),d.elementType=B,d.lanes=Y,d;case Z:return d=Ka(13,b,f,U),d.elementType=Z,d.lanes=Y,d;case V:return d=Ka(19,b,f,U),d.elementType=V,d.lanes=Y,d;case O:return Dg(b,U,Y,f);default:if(typeof d=="object"&&d!==null)switch(d.$$typeof){case F:se=10;break e;case H:se=9;break e;case K:se=11;break e;case W:se=14;break e;case G:se=16,E=null;break e}throw Error(n(130,d==null?d:typeof d,""))}return f=Ka(se,b,f,U),f.elementType=d,f.type=E,f.lanes=Y,f}function fd(d,f,b,E){return d=Ka(7,d,E,f),d.lanes=b,d}function Dg(d,f,b,E){return d=Ka(22,d,E,f),d.elementType=O,d.lanes=b,d.stateNode={isHidden:!1},d}function Cj(d,f,b){return d=Ka(6,d,null,f),d.lanes=b,d}function Pj(d,f,b){return f=Ka(4,d.children!==null?d.children:[],d.key,f),f.lanes=b,f.stateNode={containerInfo:d.containerInfo,pendingChildren:null,implementation:d.implementation},f}function PH(d,f,b,E,U){this.tag=f,this.containerInfo=d,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Il(0),this.expirationTimes=Il(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Il(0),this.identifierPrefix=E,this.onRecoverableError=U,this.mutableSourceEagerHydrationData=null}function Aj(d,f,b,E,U,Y,se,me,xe){return d=new PH(d,f,b,me,xe),f===1?(f=1,Y===!0&&(f|=8)):f=0,Y=Ka(3,null,null,f),d.current=Y,Y.stateNode=d,Y.memoizedState={element:E,isDehydrated:b,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ub(Y),d}function AH(d,f,b){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:k,key:E==null?null:""+E,children:d,containerInfo:f,implementation:b}}function hP(d){if(!d)return tc;d=d._reactInternals;e:{if(os(d)!==d||d.tag!==1)throw Error(n(170));var f=d;do{switch(f.tag){case 3:f=f.stateNode.context;break e;case 1:if(zs(f.type)){f=f.stateNode.__reactInternalMemoizedMergedChildContext;break e}}f=f.return}while(f!==null);throw Error(n(171))}if(d.tag===1){var b=d.type;if(zs(b))return F6(d,b,f)}return f}function mP(d,f,b,E,U,Y,se,me,xe){return d=Aj(b,E,!0,d,U,Y,se,me,xe),d.context=hP(null),b=d.current,E=Ps(),U=lc(b),Y=Qo(E,U),Y.callback=f??null,sc(b,Y,U),d.current.lanes=U,sa(d,U,E),Ws(d,E),d}function Rg(d,f,b,E){var U=f.current,Y=Ps(),se=lc(U);return b=hP(b),f.context===null?f.context=b:f.pendingContext=b,f=Qo(Y,se),f.payload={element:d},E=E===void 0?null:E,E!==null&&(f.callback=E),d=sc(U,f,se),d!==null&&(Ni(d,U,se,Y),hg(d,U,se)),se}function Ig(d){if(d=d.current,!d.child)return null;switch(d.child.tag){case 5:return d.child.stateNode;default:return d.child.stateNode}}function fP(d,f){if(d=d.memoizedState,d!==null&&d.dehydrated!==null){var b=d.retryLane;d.retryLane=b!==0&&b<f?b:f}}function Ej(d,f){fP(d,f),(d=d.alternate)&&fP(d,f)}function EH(){return null}var pP=typeof reportError=="function"?reportError:function(d){console.error(d)};function Tj(d){this._internalRoot=d}Lg.prototype.render=Tj.prototype.render=function(d){var f=this._internalRoot;if(f===null)throw Error(n(409));Rg(d,f,null,null)},Lg.prototype.unmount=Tj.prototype.unmount=function(){var d=this._internalRoot;if(d!==null){this._internalRoot=null;var f=d.containerInfo;ud(function(){Rg(null,d,null,null)}),f[ur]=null}};function Lg(d){this._internalRoot=d}Lg.prototype.unstable_scheduleHydration=function(d){if(d){var f=Nu();d={blockedOn:null,target:d,priority:f};for(var b=0;b<On.length&&f!==0&&f<On[b].priority;b++);On.splice(b,0,d),b===0&&Su(d)}};function Oj(d){return!(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)}function $g(d){return!(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11&&(d.nodeType!==8||d.nodeValue!==" react-mount-point-unstable "))}function xP(){}function TH(d,f,b,E,U){if(U){if(typeof E=="function"){var Y=E;E=function(){var _e=Ig(se);Y.call(_e)}}var se=mP(f,E,d,0,null,!1,!1,"",xP);return d._reactRootContainer=se,d[ur]=se.current,Zl(d.nodeType===8?d.parentNode:d),ud(),se}for(;U=d.lastChild;)d.removeChild(U);if(typeof E=="function"){var me=E;E=function(){var _e=Ig(xe);me.call(_e)}}var xe=Aj(d,0,!1,null,null,!1,!1,"",xP);return d._reactRootContainer=xe,d[ur]=xe.current,Zl(d.nodeType===8?d.parentNode:d),ud(function(){Rg(f,xe,b,E)}),xe}function Bg(d,f,b,E,U){var Y=b._reactRootContainer;if(Y){var se=Y;if(typeof U=="function"){var me=U;U=function(){var xe=Ig(se);me.call(xe)}}Rg(f,se,d,U)}else se=TH(b,f,d,U,E);return Ig(se)}ju=function(d){switch(d.tag){case 3:var f=d.stateNode;if(f.current.memoizedState.isDehydrated){var b=Ot(f.pendingLanes);b!==0&&(fi(f,b|1),Ws(f,Ar()),(rr&6)===0&&(eh=Ar()+500,rc()))}break;case 13:ud(function(){var E=Jo(d,1);if(E!==null){var U=Ps();Ni(E,d,1,U)}}),Ej(d,1)}},Lo=function(d){if(d.tag===13){var f=Jo(d,134217728);if(f!==null){var b=Ps();Ni(f,d,134217728,b)}Ej(d,134217728)}},wu=function(d){if(d.tag===13){var f=lc(d),b=Jo(d,f);if(b!==null){var E=Ps();Ni(b,d,f,E)}Ej(d,f)}},Nu=function(){return Qt},Vc=function(d,f){var b=Qt;try{return Qt=d,f()}finally{Qt=b}},Sn=function(d,f,b){switch(f){case"input":if(Fe(d,b),f=b.name,b.type==="radio"&&f!=null){for(b=d;b.parentNode;)b=b.parentNode;for(b=b.querySelectorAll("input[name="+JSON.stringify(""+f)+'][type="radio"]'),f=0;f<b.length;f++){var E=b[f];if(E!==d&&E.form===d.form){var U=zu(E);if(!U)throw Error(n(90));he(E),Fe(E,U)}}}break;case"textarea":$t(d,b);break;case"select":f=b.value,f!=null&&Pt(d,!!b.multiple,f,!1)}},Cr=Nj,Br=ud;var OH={usingClientEntryPoint:!1,Events:[Go,Ko,zu,_t,br,Nj]},Nf={findFiberByHostInstance:Vo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},MH={bundleType:Nf.bundleType,version:Nf.version,rendererPackageName:Nf.rendererPackageName,rendererConfig:Nf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:T.ReactCurrentDispatcher,findHostInstanceByFiber:function(d){return d=Uc(d),d===null?null:d.stateNode},findFiberByHostInstance:Nf.findFiberByHostInstance||EH,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fg.isDisabled&&Fg.supportsFiber)try{Qe=Fg.inject(MH),Vr=Fg}catch{}}return qs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=OH,qs.createPortal=function(d,f){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Oj(f))throw Error(n(200));return AH(d,f,null,b)},qs.createRoot=function(d,f){if(!Oj(d))throw Error(n(299));var b=!1,E="",U=pP;return f!=null&&(f.unstable_strictMode===!0&&(b=!0),f.identifierPrefix!==void 0&&(E=f.identifierPrefix),f.onRecoverableError!==void 0&&(U=f.onRecoverableError)),f=Aj(d,1,!1,null,null,b,!1,E,U),d[ur]=f.current,Zl(d.nodeType===8?d.parentNode:d),new Tj(f)},qs.findDOMNode=function(d){if(d==null)return null;if(d.nodeType===1)return d;var f=d._reactInternals;if(f===void 0)throw typeof d.render=="function"?Error(n(188)):(d=Object.keys(d).join(","),Error(n(268,d)));return d=Uc(f),d=d===null?null:d.stateNode,d},qs.flushSync=function(d){return ud(d)},qs.hydrate=function(d,f,b){if(!$g(f))throw Error(n(200));return Bg(null,d,f,!0,b)},qs.hydrateRoot=function(d,f,b){if(!Oj(d))throw Error(n(405));var E=b!=null&&b.hydratedSources||null,U=!1,Y="",se=pP;if(b!=null&&(b.unstable_strictMode===!0&&(U=!0),b.identifierPrefix!==void 0&&(Y=b.identifierPrefix),b.onRecoverableError!==void 0&&(se=b.onRecoverableError)),f=mP(f,null,d,1,b??null,U,!1,Y,se),d[ur]=f.current,Zl(d),E)for(d=0;d<E.length;d++)b=E[d],U=b._getVersion,U=U(b._source),f.mutableSourceEagerHydrationData==null?f.mutableSourceEagerHydrationData=[b,U]:f.mutableSourceEagerHydrationData.push(b,U);return new Lg(f)},qs.render=function(d,f,b){if(!$g(f))throw Error(n(200));return Bg(null,d,f,!1,b)},qs.unmountComponentAtNode=function(d){if(!$g(d))throw Error(n(40));return d._reactRootContainer?(ud(function(){Bg(null,null,d,!1,function(){d._reactRootContainer=null,d[ur]=null})}),!0):!1},qs.unstable_batchedUpdates=Nj,qs.unstable_renderSubtreeIntoContainer=function(d,f,b,E){if(!$g(b))throw Error(n(200));if(d==null||d._reactInternals===void 0)throw Error(n(38));return Bg(d,f,b,!1,E)},qs.version="18.3.1-next-f1338f8080-20240426",qs}var SP;function WI(){if(SP)return Rj.exports;SP=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(r){console.error(r)}}return t(),Rj.exports=HH(),Rj.exports}var _P;function WH(){if(_P)return zg;_P=1;var t=WI();return zg.createRoot=t.createRoot,zg.hydrateRoot=t.hydrateRoot,zg}var kP=WH();/**
 * react-router v7.11.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var CP="popstate";function qH(t={}){function r(a,i){let{pathname:o="/",search:l="",hash:c=""}=su(a.location.hash.substring(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),BS("",{pathname:o,search:l,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(a,i){let o=a.document.querySelector("base"),l="";if(o&&o.getAttribute("href")){let c=a.location.href,u=c.indexOf("#");l=u===-1?c:c.slice(0,u)}return l+"#"+(typeof i=="string"?i:dp(i))}function s(a,i){Qs(a.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(i)})`)}return GH(r,n,s,t)}function Yr(t,r){if(t===!1||t===null||typeof t>"u")throw new Error(r)}function Qs(t,r){if(!t){typeof console<"u"&&console.warn(r);try{throw new Error(r)}catch{}}}function VH(){return Math.random().toString(36).substring(2,10)}function PP(t,r){return{usr:t.state,key:t.key,idx:r}}function BS(t,r,n=null,s){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof r=="string"?su(r):r,state:n,key:r&&r.key||s||VH()}}function dp({pathname:t="/",search:r="",hash:n=""}){return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function su(t){let r={};if(t){let n=t.indexOf("#");n>=0&&(r.hash=t.substring(n),t=t.substring(0,n));let s=t.indexOf("?");s>=0&&(r.search=t.substring(s),t=t.substring(0,s)),t&&(r.pathname=t)}return r}function GH(t,r,n,s={}){let{window:a=document.defaultView,v5Compat:i=!1}=s,o=a.history,l="POP",c=null,u=m();u==null&&(u=0,o.replaceState({...o.state,idx:u},""));function m(){return(o.state||{idx:null}).idx}function p(){l="POP";let j=m(),S=j==null?null:j-u;u=j,c&&c({action:l,location:y.location,delta:S})}function x(j,S){l="PUSH";let C=BS(y.location,j,S);n&&n(C,j),u=m()+1;let P=PP(C,u),T=y.createHref(C);try{o.pushState(P,"",T)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;a.location.assign(T)}i&&c&&c({action:l,location:y.location,delta:1})}function v(j,S){l="REPLACE";let C=BS(y.location,j,S);n&&n(C,j),u=m();let P=PP(C,u),T=y.createHref(C);o.replaceState(P,"",T),i&&c&&c({action:l,location:y.location,delta:0})}function w(j){return KH(j)}let y={get action(){return l},get location(){return t(a,o)},listen(j){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(CP,p),c=j,()=>{a.removeEventListener(CP,p),c=null}},createHref(j){return r(a,j)},createURL:w,encodeLocation(j){let S=w(j);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:x,replace:v,go(j){return o.go(j)}};return y}function KH(t,r=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Yr(n,"No window.location.(origin|href) available to create URL");let s=typeof t=="string"?t:dp(t);return s=s.replace(/ $/,"%20"),!r&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function qI(t,r,n="/"){return YH(t,r,n,!1)}function YH(t,r,n,s){let a=typeof r=="string"?su(r):r,i=gl(a.pathname||"/",n);if(i==null)return null;let o=VI(t);ZH(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=oW(i);l=aW(o[c],u,s)}return l}function VI(t,r=[],n=[],s="",a=!1){let i=(o,l,c=a,u)=>{let m={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};if(m.relativePath.startsWith("/")){if(!m.relativePath.startsWith(s)&&c)return;Yr(m.relativePath.startsWith(s),`Absolute route path "${m.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(s.length)}let p=dl([s,m.relativePath]),x=n.concat(m);o.children&&o.children.length>0&&(Yr(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),VI(o.children,r,x,p,c)),!(o.path==null&&!o.index)&&r.push({path:p,score:nW(p,o.index),routesMeta:x})};return t.forEach((o,l)=>{var c;if(o.path===""||!((c=o.path)!=null&&c.includes("?")))i(o,l);else for(let u of GI(o.path))i(o,l,!0,u)}),r}function GI(t){let r=t.split("/");if(r.length===0)return[];let[n,...s]=r,a=n.endsWith("?"),i=n.replace(/\?$/,"");if(s.length===0)return a?[i,""]:[i];let o=GI(s.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),a&&l.push(...o),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function ZH(t){t.sort((r,n)=>r.score!==n.score?n.score-r.score:sW(r.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var XH=/^:[\w-]+$/,JH=3,QH=2,eW=1,tW=10,rW=-2,AP=t=>t==="*";function nW(t,r){let n=t.split("/"),s=n.length;return n.some(AP)&&(s+=rW),r&&(s+=QH),n.filter(a=>!AP(a)).reduce((a,i)=>a+(XH.test(i)?JH:i===""?eW:tW),s)}function sW(t,r){return t.length===r.length&&t.slice(0,-1).every((s,a)=>s===r[a])?t[t.length-1]-r[r.length-1]:0}function aW(t,r,n=!1){let{routesMeta:s}=t,a={},i="/",o=[];for(let l=0;l<s.length;++l){let c=s[l],u=l===s.length-1,m=i==="/"?r:r.slice(i.length)||"/",p=P0({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},m),x=c.route;if(!p&&u&&n&&!s[s.length-1].route.index&&(p=P0({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},m)),!p)return null;Object.assign(a,p.params),o.push({params:a,pathname:dl([i,p.pathname]),pathnameBase:uW(dl([i,p.pathnameBase])),route:x}),p.pathnameBase!=="/"&&(i=dl([i,p.pathnameBase]))}return o}function P0(t,r){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,s]=iW(t.path,t.caseSensitive,t.end),a=r.match(n);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:s.reduce((u,{paramName:m,isOptional:p},x)=>{if(m==="*"){let w=l[x]||"";o=i.slice(0,i.length-w.length).replace(/(.)\/+$/,"$1")}const v=l[x];return p&&!v?u[m]=void 0:u[m]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:t}}function iW(t,r=!1,n=!0){Qs(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let s=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(s.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(s.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,r?void 0:"i"),s]}function oW(t){try{return t.split("/").map(r=>decodeURIComponent(r).replace(/\//g,"%2F")).join("/")}catch(r){return Qs(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${r}).`),t}}function gl(t,r){if(r==="/")return t;if(!t.toLowerCase().startsWith(r.toLowerCase()))return null;let n=r.endsWith("/")?r.length-1:r.length,s=t.charAt(n);return s&&s!=="/"?null:t.slice(n)||"/"}var KI=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,lW=t=>KI.test(t);function cW(t,r="/"){let{pathname:n,search:s="",hash:a=""}=typeof t=="string"?su(t):t,i;if(n)if(lW(n))i=n;else{if(n.includes("//")){let o=n;n=n.replace(/\/\/+/g,"/"),Qs(!1,`Pathnames cannot have embedded double slashes - normalizing ${o} -> ${n}`)}n.startsWith("/")?i=EP(n.substring(1),"/"):i=EP(n,r)}else i=r;return{pathname:i,search:hW(s),hash:mW(a)}}function EP(t,r){let n=r.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function $j(t,r,n,s){return`Cannot include a '${t}' character in a manually specified \`to.${r}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function dW(t){return t.filter((r,n)=>n===0||r.route.path&&r.route.path.length>0)}function lC(t){let r=dW(t);return r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase)}function cC(t,r,n,s=!1){let a;typeof t=="string"?a=su(t):(a={...t},Yr(!a.pathname||!a.pathname.includes("?"),$j("?","pathname","search",a)),Yr(!a.pathname||!a.pathname.includes("#"),$j("#","pathname","hash",a)),Yr(!a.search||!a.search.includes("#"),$j("#","search","hash",a)));let i=t===""||a.pathname==="",o=i?"/":a.pathname,l;if(o==null)l=n;else{let p=r.length-1;if(!s&&o.startsWith("..")){let x=o.split("/");for(;x[0]==="..";)x.shift(),p-=1;a.pathname=x.join("/")}l=p>=0?r[p]:"/"}let c=cW(a,l),u=o&&o!=="/"&&o.endsWith("/"),m=(i||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||m)&&(c.pathname+="/"),c}var dl=t=>t.join("/").replace(/\/\/+/g,"/"),uW=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),hW=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,mW=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,fW=class{constructor(t,r,n,s=!1){this.status=t,this.statusText=r||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function pW(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function xW(t){return t.map(r=>r.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var YI=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function ZI(t,r){let n=t;if(typeof n!="string"||!KI.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let s=n,a=!1;if(YI)try{let i=new URL(window.location.href),o=n.startsWith("//")?new URL(i.protocol+n):new URL(n),l=gl(o.pathname,r);o.origin===i.origin&&l!=null?n=l+o.search+o.hash:a=!0}catch{Qs(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:a,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var XI=["POST","PUT","PATCH","DELETE"];new Set(XI);var gW=["GET",...XI];new Set(gW);var vm=N.createContext(null);vm.displayName="DataRouter";var Yv=N.createContext(null);Yv.displayName="DataRouterState";var vW=N.createContext(!1),JI=N.createContext({isTransitioning:!1});JI.displayName="ViewTransition";var yW=N.createContext(new Map);yW.displayName="Fetchers";var bW=N.createContext(null);bW.displayName="Await";var Ta=N.createContext(null);Ta.displayName="Navigation";var cx=N.createContext(null);cx.displayName="Location";var qi=N.createContext({outlet:null,matches:[],isDataRoute:!1});qi.displayName="Route";var dC=N.createContext(null);dC.displayName="RouteError";var QI="REACT_ROUTER_ERROR",jW="REDIRECT",wW="ROUTE_ERROR_RESPONSE";function NW(t){if(t.startsWith(`${QI}:${jW}:{`))try{let r=JSON.parse(t.slice(28));if(typeof r=="object"&&r&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.location=="string"&&typeof r.reloadDocument=="boolean"&&typeof r.replace=="boolean")return r}catch{}}function SW(t){if(t.startsWith(`${QI}:${wW}:{`))try{let r=JSON.parse(t.slice(40));if(typeof r=="object"&&r&&typeof r.status=="number"&&typeof r.statusText=="string")return new fW(r.status,r.statusText,r.data)}catch{}}function _W(t,{relative:r}={}){Yr(ym(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=N.useContext(Ta),{hash:a,pathname:i,search:o}=dx(t,{relative:r}),l=i;return n!=="/"&&(l=i==="/"?n:dl([n,i])),s.createHref({pathname:l,search:o,hash:a})}function ym(){return N.useContext(cx)!=null}function Oa(){return Yr(ym(),"useLocation() may be used only in the context of a <Router> component."),N.useContext(cx).location}var eL="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function tL(t){N.useContext(Ta).static||N.useLayoutEffect(t)}function vn(){let{isDataRoute:t}=N.useContext(qi);return t?$W():kW()}function kW(){Yr(ym(),"useNavigate() may be used only in the context of a <Router> component.");let t=N.useContext(vm),{basename:r,navigator:n}=N.useContext(Ta),{matches:s}=N.useContext(qi),{pathname:a}=Oa(),i=JSON.stringify(lC(s)),o=N.useRef(!1);return tL(()=>{o.current=!0}),N.useCallback((c,u={})=>{if(Qs(o.current,eL),!o.current)return;if(typeof c=="number"){n.go(c);return}let m=cC(c,JSON.parse(i),a,u.relative==="path");t==null&&r!=="/"&&(m.pathname=m.pathname==="/"?r:dl([r,m.pathname])),(u.replace?n.replace:n.push)(m,u.state,u)},[r,n,i,a,t])}N.createContext(null);function rL(){let{matches:t}=N.useContext(qi),r=t[t.length-1];return r?r.params:{}}function dx(t,{relative:r}={}){let{matches:n}=N.useContext(qi),{pathname:s}=Oa(),a=JSON.stringify(lC(n));return N.useMemo(()=>cC(t,JSON.parse(a),s,r==="path"),[t,a,s,r])}function CW(t,r){return nL(t,r)}function nL(t,r,n,s,a){var C;Yr(ym(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=N.useContext(Ta),{matches:o}=N.useContext(qi),l=o[o.length-1],c=l?l.params:{},u=l?l.pathname:"/",m=l?l.pathnameBase:"/",p=l&&l.route;{let P=p&&p.path||"";aL(u,!p||P.endsWith("*")||P.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${P}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${P}"> to <Route path="${P==="/"?"*":`${P}/*`}">.`)}let x=Oa(),v;if(r){let P=typeof r=="string"?su(r):r;Yr(m==="/"||((C=P.pathname)==null?void 0:C.startsWith(m)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${P.pathname}" was given in the \`location\` prop.`),v=P}else v=x;let w=v.pathname||"/",y=w;if(m!=="/"){let P=m.replace(/^\//,"").split("/");y="/"+w.replace(/^\//,"").split("/").slice(P.length).join("/")}let j=qI(t,{pathname:y});Qs(p||j!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),Qs(j==null||j[j.length-1].route.element!==void 0||j[j.length-1].route.Component!==void 0||j[j.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let S=OW(j&&j.map(P=>Object.assign({},P,{params:Object.assign({},c,P.params),pathname:dl([m,i.encodeLocation?i.encodeLocation(P.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:P.pathname]),pathnameBase:P.pathnameBase==="/"?m:dl([m,i.encodeLocation?i.encodeLocation(P.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:P.pathnameBase])})),o,n,s,a);return r&&S?N.createElement(cx.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},S):S}function PW(){let t=LW(),r=pW(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},i={padding:"2px 4px",backgroundColor:s},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=N.createElement(N.Fragment,null,N.createElement("p",null," Hey developer "),N.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",N.createElement("code",{style:i},"ErrorBoundary")," or"," ",N.createElement("code",{style:i},"errorElement")," prop on your route.")),N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},r),n?N.createElement("pre",{style:a},n):null,o)}var AW=N.createElement(PW,null),sL=class extends N.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){this.props.onError?this.props.onError(t,r):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=SW(t.digest);n&&(t=n)}let r=t!==void 0?N.createElement(qi.Provider,{value:this.props.routeContext},N.createElement(dC.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?N.createElement(EW,{error:t},r):r}};sL.contextType=vW;var Bj=new WeakMap;function EW({children:t,error:r}){let{basename:n}=N.useContext(Ta);if(typeof r=="object"&&r&&"digest"in r&&typeof r.digest=="string"){let s=NW(r.digest);if(s){let a=Bj.get(r);if(a)throw a;let i=ZI(s.location,n);if(YI&&!Bj.get(r))if(i.isExternal||s.reloadDocument)window.location.href=i.absoluteURL||i.to;else{const o=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(i.to,{replace:s.replace}));throw Bj.set(r,o),o}return N.createElement("meta",{httpEquiv:"refresh",content:`0;url=${i.absoluteURL||i.to}`})}}return t}function TW({routeContext:t,match:r,children:n}){let s=N.useContext(vm);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),N.createElement(qi.Provider,{value:t},n)}function OW(t,r=[],n=null,s=null,a=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(r.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,o=n==null?void 0:n.errors;if(o!=null){let m=i.findIndex(p=>p.route.id&&(o==null?void 0:o[p.route.id])!==void 0);Yr(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,m+1))}let l=!1,c=-1;if(n)for(let m=0;m<i.length;m++){let p=i[m];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(c=m),p.route.id){let{loaderData:x,errors:v}=n,w=p.route.loader&&!x.hasOwnProperty(p.route.id)&&(!v||v[p.route.id]===void 0);if(p.route.lazy||w){l=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}let u=n&&s?(m,p)=>{var x,v;s(m,{location:n.location,params:((v=(x=n.matches)==null?void 0:x[0])==null?void 0:v.params)??{},unstable_pattern:xW(n.matches),errorInfo:p})}:void 0;return i.reduceRight((m,p,x)=>{let v,w=!1,y=null,j=null;n&&(v=o&&p.route.id?o[p.route.id]:void 0,y=p.route.errorElement||AW,l&&(c<0&&x===0?(aL("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,j=null):c===x&&(w=!0,j=p.route.hydrateFallbackElement||null)));let S=r.concat(i.slice(0,x+1)),C=()=>{let P;return v?P=y:w?P=j:p.route.Component?P=N.createElement(p.route.Component,null):p.route.element?P=p.route.element:P=m,N.createElement(TW,{match:p,routeContext:{outlet:m,matches:S,isDataRoute:n!=null},children:P})};return n&&(p.route.ErrorBoundary||p.route.errorElement||x===0)?N.createElement(sL,{location:n.location,revalidation:n.revalidation,component:y,error:v,children:C(),routeContext:{outlet:null,matches:S,isDataRoute:!0},onError:u}):C()},null)}function uC(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function MW(t){let r=N.useContext(vm);return Yr(r,uC(t)),r}function DW(t){let r=N.useContext(Yv);return Yr(r,uC(t)),r}function RW(t){let r=N.useContext(qi);return Yr(r,uC(t)),r}function hC(t){let r=RW(t),n=r.matches[r.matches.length-1];return Yr(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function IW(){return hC("useRouteId")}function LW(){var s;let t=N.useContext(dC),r=DW("useRouteError"),n=hC("useRouteError");return t!==void 0?t:(s=r.errors)==null?void 0:s[n]}function $W(){let{router:t}=MW("useNavigate"),r=hC("useNavigate"),n=N.useRef(!1);return tL(()=>{n.current=!0}),N.useCallback(async(a,i={})=>{Qs(n.current,eL),n.current&&(typeof a=="number"?await t.navigate(a):await t.navigate(a,{fromRouteId:r,...i}))},[t,r])}var TP={};function aL(t,r,n){!r&&!TP[t]&&(TP[t]=!0,Qs(!1,n))}N.memo(BW);function BW({routes:t,future:r,state:n,onError:s}){return nL(t,void 0,n,s,r)}function FW({to:t,replace:r,state:n,relative:s}){Yr(ym(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=N.useContext(Ta);Qs(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=N.useContext(qi),{pathname:o}=Oa(),l=vn(),c=cC(t,lC(i),o,s==="path"),u=JSON.stringify(c);return N.useEffect(()=>{l(JSON.parse(u),{replace:r,state:n,relative:s})},[l,u,s,r,n]),null}function Nr(t){Yr(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function zW({basename:t="/",children:r=null,location:n,navigationType:s="POP",navigator:a,static:i=!1,unstable_useTransitions:o}){Yr(!ym(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),c=N.useMemo(()=>({basename:l,navigator:a,static:i,unstable_useTransitions:o,future:{}}),[l,a,i,o]);typeof n=="string"&&(n=su(n));let{pathname:u="/",search:m="",hash:p="",state:x=null,key:v="default"}=n,w=N.useMemo(()=>{let y=gl(u,l);return y==null?null:{location:{pathname:y,search:m,hash:p,state:x,key:v},navigationType:s}},[l,u,m,p,x,v,s]);return Qs(w!=null,`<Router basename="${l}"> is not able to match the URL "${u}${m}${p}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:N.createElement(Ta.Provider,{value:c},N.createElement(cx.Provider,{children:r,value:w}))}function UW({children:t,location:r}){return CW(FS(t),r)}function FS(t,r=[]){let n=[];return N.Children.forEach(t,(s,a)=>{if(!N.isValidElement(s))return;let i=[...r,a];if(s.type===N.Fragment){n.push.apply(n,FS(s.props.children,i));return}Yr(s.type===Nr,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Yr(!s.props.index||!s.props.children,"An index route cannot have child routes.");let o={id:s.props.id||i.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(o.children=FS(s.props.children,i)),n.push(o)}),n}var y0="get",b0="application/x-www-form-urlencoded";function Zv(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function HW(t){return Zv(t)&&t.tagName.toLowerCase()==="button"}function WW(t){return Zv(t)&&t.tagName.toLowerCase()==="form"}function qW(t){return Zv(t)&&t.tagName.toLowerCase()==="input"}function VW(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function GW(t,r){return t.button===0&&(!r||r==="_self")&&!VW(t)}function zS(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((r,n)=>{let s=t[n];return r.concat(Array.isArray(s)?s.map(a=>[n,a]):[[n,s]])},[]))}function KW(t,r){let n=zS(t);return r&&r.forEach((s,a)=>{n.has(a)||r.getAll(a).forEach(i=>{n.append(a,i)})}),n}var Ug=null;function YW(){if(Ug===null)try{new FormData(document.createElement("form"),0),Ug=!1}catch{Ug=!0}return Ug}var ZW=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Fj(t){return t!=null&&!ZW.has(t)?(Qs(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${b0}"`),null):t}function XW(t,r){let n,s,a,i,o;if(WW(t)){let l=t.getAttribute("action");s=l?gl(l,r):null,n=t.getAttribute("method")||y0,a=Fj(t.getAttribute("enctype"))||b0,i=new FormData(t)}else if(HW(t)||qW(t)&&(t.type==="submit"||t.type==="image")){let l=t.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=t.getAttribute("formaction")||l.getAttribute("action");if(s=c?gl(c,r):null,n=t.getAttribute("formmethod")||l.getAttribute("method")||y0,a=Fj(t.getAttribute("formenctype"))||Fj(l.getAttribute("enctype"))||b0,i=new FormData(l,t),!YW()){let{name:u,type:m,value:p}=t;if(m==="image"){let x=u?`${u}.`:"";i.append(`${x}x`,"0"),i.append(`${x}y`,"0")}else u&&i.append(u,p)}}else{if(Zv(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=y0,s=null,a=b0,o=t}return i&&a==="text/plain"&&(o=i,i=void 0),{action:s,method:n.toLowerCase(),encType:a,formData:i,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function mC(t,r){if(t===!1||t===null||typeof t>"u")throw new Error(r)}function JW(t,r,n){let s=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return s.pathname==="/"?s.pathname=`_root.${n}`:r&&gl(s.pathname,r)==="/"?s.pathname=`${r.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function QW(t,r){if(t.id in r)return r[t.id];try{let n=await import(t.module);return r[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function eq(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function tq(t,r,n){let s=await Promise.all(t.map(async a=>{let i=r.routes[a.route.id];if(i){let o=await QW(i,n);return o.links?o.links():[]}return[]}));return aq(s.flat(1).filter(eq).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function OP(t,r,n,s,a,i){let o=(c,u)=>n[u]?c.route.id!==n[u].route.id:!0,l=(c,u)=>{var m;return n[u].pathname!==c.pathname||((m=n[u].route.path)==null?void 0:m.endsWith("*"))&&n[u].params["*"]!==c.params["*"]};return i==="assets"?r.filter((c,u)=>o(c,u)||l(c,u)):i==="data"?r.filter((c,u)=>{var p;let m=s.routes[c.route.id];if(!m||!m.hasLoader)return!1;if(o(c,u)||l(c,u))return!0;if(c.route.shouldRevalidate){let x=c.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((p=n[0])==null?void 0:p.params)||{},nextUrl:new URL(t,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function rq(t,r,{includeHydrateFallback:n}={}){return nq(t.map(s=>{let a=r.routes[s.route.id];if(!a)return[];let i=[a.module];return a.clientActionModule&&(i=i.concat(a.clientActionModule)),a.clientLoaderModule&&(i=i.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(i=i.concat(a.hydrateFallbackModule)),a.imports&&(i=i.concat(a.imports)),i}).flat(1))}function nq(t){return[...new Set(t)]}function sq(t){let r={},n=Object.keys(t).sort();for(let s of n)r[s]=t[s];return r}function aq(t,r){let n=new Set;return new Set(r),t.reduce((s,a)=>{let i=JSON.stringify(sq(a));return n.has(i)||(n.add(i),s.push({key:i,link:a})),s},[])}function iL(){let t=N.useContext(vm);return mC(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function iq(){let t=N.useContext(Yv);return mC(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var fC=N.createContext(void 0);fC.displayName="FrameworkContext";function oL(){let t=N.useContext(fC);return mC(t,"You must render this element inside a <HydratedRouter> element"),t}function oq(t,r){let n=N.useContext(fC),[s,a]=N.useState(!1),[i,o]=N.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:m,onTouchStart:p}=r,x=N.useRef(null);N.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let y=S=>{S.forEach(C=>{o(C.isIntersecting)})},j=new IntersectionObserver(y,{threshold:.5});return x.current&&j.observe(x.current),()=>{j.disconnect()}}},[t]),N.useEffect(()=>{if(s){let y=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(y)}}},[s]);let v=()=>{a(!0)},w=()=>{a(!1),o(!1)};return n?t!=="intent"?[i,x,{}]:[i,x,{onFocus:_f(l,v),onBlur:_f(c,w),onMouseEnter:_f(u,v),onMouseLeave:_f(m,w),onTouchStart:_f(p,v)}]:[!1,x,{}]}function _f(t,r){return n=>{t&&t(n),n.defaultPrevented||r(n)}}function lq({page:t,...r}){let{router:n}=iL(),s=N.useMemo(()=>qI(n.routes,t,n.basename),[n.routes,t,n.basename]);return s?N.createElement(dq,{page:t,matches:s,...r}):null}function cq(t){let{manifest:r,routeModules:n}=oL(),[s,a]=N.useState([]);return N.useEffect(()=>{let i=!1;return tq(t,r,n).then(o=>{i||a(o)}),()=>{i=!0}},[t,r,n]),s}function dq({page:t,matches:r,...n}){let s=Oa(),{manifest:a,routeModules:i}=oL(),{basename:o}=iL(),{loaderData:l,matches:c}=iq(),u=N.useMemo(()=>OP(t,r,c,a,s,"data"),[t,r,c,a,s]),m=N.useMemo(()=>OP(t,r,c,a,s,"assets"),[t,r,c,a,s]),p=N.useMemo(()=>{if(t===s.pathname+s.search+s.hash)return[];let w=new Set,y=!1;if(r.forEach(S=>{var P;let C=a.routes[S.route.id];!C||!C.hasLoader||(!u.some(T=>T.route.id===S.route.id)&&S.route.id in l&&((P=i[S.route.id])!=null&&P.shouldRevalidate)||C.hasClientLoader?y=!0:w.add(S.route.id))}),w.size===0)return[];let j=JW(t,o,"data");return y&&w.size>0&&j.searchParams.set("_routes",r.filter(S=>w.has(S.route.id)).map(S=>S.route.id).join(",")),[j.pathname+j.search]},[o,l,s,a,u,r,t,i]),x=N.useMemo(()=>rq(m,a),[m,a]),v=cq(m);return N.createElement(N.Fragment,null,p.map(w=>N.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...n})),x.map(w=>N.createElement("link",{key:w,rel:"modulepreload",href:w,...n})),v.map(({key:w,link:y})=>N.createElement("link",{key:w,nonce:n.nonce,...y})))}function uq(...t){return r=>{t.forEach(n=>{typeof n=="function"?n(r):n!=null&&(n.current=r)})}}var hq=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{hq&&(window.__reactRouterVersion="7.11.0")}catch{}function mq({basename:t,children:r,unstable_useTransitions:n,window:s}){let a=N.useRef();a.current==null&&(a.current=qH({window:s,v5Compat:!0}));let i=a.current,[o,l]=N.useState({action:i.action,location:i.location}),c=N.useCallback(u=>{n===!1?l(u):N.startTransition(()=>l(u))},[n]);return N.useLayoutEffect(()=>i.listen(c),[i,c]),N.createElement(zW,{basename:t,children:r,location:o.location,navigationType:o.action,navigator:i,unstable_useTransitions:n})}var lL=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,It=N.forwardRef(function({onClick:r,discover:n="render",prefetch:s="none",relative:a,reloadDocument:i,replace:o,state:l,target:c,to:u,preventScrollReset:m,viewTransition:p,unstable_defaultShouldRevalidate:x,...v},w){let{basename:y,unstable_useTransitions:j}=N.useContext(Ta),S=typeof u=="string"&&lL.test(u),C=ZI(u,y);u=C.to;let P=_W(u,{relative:a}),[T,_,k]=oq(s,v),M=gq(u,{replace:o,state:l,target:c,preventScrollReset:m,relative:a,viewTransition:p,unstable_defaultShouldRevalidate:x,unstable_useTransitions:j});function $(F){r&&r(F),F.defaultPrevented||M(F)}let B=N.createElement("a",{...v,...k,href:C.absoluteURL||P,onClick:C.isExternal||i?r:$,ref:uq(w,_),target:c,"data-discover":!S&&n==="render"?"true":void 0});return T&&!S?N.createElement(N.Fragment,null,B,N.createElement(lq,{page:P})):B});It.displayName="Link";var fq=N.forwardRef(function({"aria-current":r="page",caseSensitive:n=!1,className:s="",end:a=!1,style:i,to:o,viewTransition:l,children:c,...u},m){let p=dx(o,{relative:u.relative}),x=Oa(),v=N.useContext(Yv),{navigator:w,basename:y}=N.useContext(Ta),j=v!=null&&wq(p)&&l===!0,S=w.encodeLocation?w.encodeLocation(p).pathname:p.pathname,C=x.pathname,P=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;n||(C=C.toLowerCase(),P=P?P.toLowerCase():null,S=S.toLowerCase()),P&&y&&(P=gl(P,y)||P);const T=S!=="/"&&S.endsWith("/")?S.length-1:S.length;let _=C===S||!a&&C.startsWith(S)&&C.charAt(T)==="/",k=P!=null&&(P===S||!a&&P.startsWith(S)&&P.charAt(S.length)==="/"),M={isActive:_,isPending:k,isTransitioning:j},$=_?r:void 0,B;typeof s=="function"?B=s(M):B=[s,_?"active":null,k?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let F=typeof i=="function"?i(M):i;return N.createElement(It,{...u,"aria-current":$,className:B,ref:m,style:F,to:o,viewTransition:l},typeof c=="function"?c(M):c)});fq.displayName="NavLink";var pq=N.forwardRef(({discover:t="render",fetcherKey:r,navigate:n,reloadDocument:s,replace:a,state:i,method:o=y0,action:l,onSubmit:c,relative:u,preventScrollReset:m,viewTransition:p,unstable_defaultShouldRevalidate:x,...v},w)=>{let{unstable_useTransitions:y}=N.useContext(Ta),j=bq(),S=jq(l,{relative:u}),C=o.toLowerCase()==="get"?"get":"post",P=typeof l=="string"&&lL.test(l),T=_=>{if(c&&c(_),_.defaultPrevented)return;_.preventDefault();let k=_.nativeEvent.submitter,M=(k==null?void 0:k.getAttribute("formmethod"))||o,$=()=>j(k||_.currentTarget,{fetcherKey:r,method:M,navigate:n,replace:a,state:i,relative:u,preventScrollReset:m,viewTransition:p,unstable_defaultShouldRevalidate:x});y&&n!==!1?N.startTransition(()=>$()):$()};return N.createElement("form",{ref:w,method:C,action:S,onSubmit:s?c:T,...v,"data-discover":!P&&t==="render"?"true":void 0})});pq.displayName="Form";function xq(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function cL(t){let r=N.useContext(vm);return Yr(r,xq(t)),r}function gq(t,{target:r,replace:n,state:s,preventScrollReset:a,relative:i,viewTransition:o,unstable_defaultShouldRevalidate:l,unstable_useTransitions:c}={}){let u=vn(),m=Oa(),p=dx(t,{relative:i});return N.useCallback(x=>{if(GW(x,r)){x.preventDefault();let v=n!==void 0?n:dp(m)===dp(p),w=()=>u(t,{replace:v,state:s,preventScrollReset:a,relative:i,viewTransition:o,unstable_defaultShouldRevalidate:l});c?N.startTransition(()=>w()):w()}},[m,u,p,n,s,r,t,a,i,o,l,c])}function pC(t){Qs(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let r=N.useRef(zS(t)),n=N.useRef(!1),s=Oa(),a=N.useMemo(()=>KW(s.search,n.current?null:r.current),[s.search]),i=vn(),o=N.useCallback((l,c)=>{const u=zS(typeof l=="function"?l(new URLSearchParams(a)):l);n.current=!0,i("?"+u,c)},[i,a]);return[a,o]}var vq=0,yq=()=>`__${String(++vq)}__`;function bq(){let{router:t}=cL("useSubmit"),{basename:r}=N.useContext(Ta),n=IW(),s=t.fetch,a=t.navigate;return N.useCallback(async(i,o={})=>{let{action:l,method:c,encType:u,formData:m,body:p}=XW(i,r);if(o.navigate===!1){let x=o.fetcherKey||yq();await s(x,n,o.action||l,{unstable_defaultShouldRevalidate:o.unstable_defaultShouldRevalidate,preventScrollReset:o.preventScrollReset,formData:m,body:p,formMethod:o.method||c,formEncType:o.encType||u,flushSync:o.flushSync})}else await a(o.action||l,{unstable_defaultShouldRevalidate:o.unstable_defaultShouldRevalidate,preventScrollReset:o.preventScrollReset,formData:m,body:p,formMethod:o.method||c,formEncType:o.encType||u,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[s,a,r,n])}function jq(t,{relative:r}={}){let{basename:n}=N.useContext(Ta),s=N.useContext(qi);Yr(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),i={...dx(t||".",{relative:r})},o=Oa();if(t==null){i.search=o.search;let l=new URLSearchParams(i.search),c=l.getAll("index");if(c.some(m=>m==="")){l.delete("index"),c.filter(p=>p).forEach(p=>l.append("index",p));let m=l.toString();i.search=m?`?${m}`:""}}return(!t||t===".")&&a.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(i.pathname=i.pathname==="/"?n:dl([n,i.pathname])),dp(i)}function wq(t,{relative:r}={}){let n=N.useContext(JI);Yr(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=cL("useViewTransitionState"),a=dx(t,{relative:r});if(!n.isTransitioning)return!1;let i=gl(n.currentLocation.pathname,s)||n.currentLocation.pathname,o=gl(n.nextLocation.pathname,s)||n.nextLocation.pathname;return P0(a.pathname,o)!=null||P0(a.pathname,i)!=null}var bm=WI();const dL=ar(bm);function Nq(){const[t]=pC(),r=t.get("demo")==="true";return e.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center p-8",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 max-w-md w-full",children:[e.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Demo Test Page"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600",children:"Current URL:"}),e.jsx("p",{className:"font-mono text-sm bg-gray-100 p-2 rounded",children:window.location.href})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600",children:"Demo parameter:"}),e.jsx("p",{className:"font-mono text-sm bg-gray-100 p-2 rounded",children:t.get("demo")||"null"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600",children:"isDemo value:"}),e.jsx("p",{className:`font-bold text-lg ${r?"text-green-600":"text-red-600"}`,children:r?" TRUE - Demo Mode Active":" FALSE - Normal Mode"})]}),r&&e.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-pink-600 text-white p-4 rounded-lg",children:e.jsx("p",{className:"font-medium text-center",children:" Demo Mode Banner Test"})}),e.jsxs("div",{className:"pt-4 border-t space-y-2",children:[e.jsx("a",{href:"/test-demo?demo=true",className:"block w-full text-center px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700",children:"Test with ?demo=true"}),e.jsx("a",{href:"/test-demo",className:"block w-full text-center px-4 py-2 bg-gray-600 text-white rounded hover:bg-gray-700",children:"Test without demo param"})]})]})]})})}function MP(t,r){if(typeof t=="function")return t(r);t!=null&&(t.current=r)}function Xv(...t){return r=>{let n=!1;const s=t.map(a=>{const i=MP(a,r);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let a=0;a<s.length;a++){const i=s[a];typeof i=="function"?i():MP(t[a],null)}}}}function Xt(...t){return N.useCallback(Xv(...t),t)}var vl=N.forwardRef((t,r)=>{const{children:n,...s}=t,a=N.Children.toArray(n),i=a.find(_q);if(i){const o=i.props.children,l=a.map(c=>c===i?N.Children.count(o)>1?N.Children.only(null):N.isValidElement(o)?o.props.children:null:c);return e.jsx(US,{...s,ref:r,children:N.isValidElement(o)?N.cloneElement(o,void 0,l):null})}return e.jsx(US,{...s,ref:r,children:n})});vl.displayName="Slot";var US=N.forwardRef((t,r)=>{const{children:n,...s}=t;if(N.isValidElement(n)){const a=Cq(n),i=kq(s,n.props);return n.type!==N.Fragment&&(i.ref=r?Xv(r,a):a),N.cloneElement(n,i)}return N.Children.count(n)>1?N.Children.only(null):null});US.displayName="SlotClone";var Sq=({children:t})=>e.jsx(e.Fragment,{children:t});function _q(t){return N.isValidElement(t)&&t.type===Sq}function kq(t,r){const n={...r};for(const s in r){const a=t[s],i=r[s];/^on[A-Z]/.test(s)?a&&i?n[s]=(...l)=>{i(...l),a(...l)}:a&&(n[s]=a):s==="style"?n[s]={...a,...i}:s==="className"&&(n[s]=[a,i].filter(Boolean).join(" "))}return{...t,...n}}function Cq(t){var s,a;let r=(s=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:s.get,n=r&&"isReactWarning"in r&&r.isReactWarning;return n?t.ref:(r=(a=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:a.get,n=r&&"isReactWarning"in r&&r.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function uL(t){var r,n,s="";if(typeof t=="string"||typeof t=="number")s+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(r=0;r<a;r++)t[r]&&(n=uL(t[r]))&&(s&&(s+=" "),s+=n)}else for(n in t)t[n]&&(s&&(s+=" "),s+=n);return s}function Lt(){for(var t,r,n=0,s="",a=arguments.length;n<a;n++)(t=arguments[n])&&(r=uL(t))&&(s&&(s+=" "),s+=r);return s}const DP=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,RP=Lt,xC=(t,r)=>n=>{var s;if((r==null?void 0:r.variants)==null)return RP(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:a,defaultVariants:i}=r,o=Object.keys(a).map(u=>{const m=n==null?void 0:n[u],p=i==null?void 0:i[u];if(m===null)return null;const x=DP(m)||DP(p);return a[u][x]}),l=n&&Object.entries(n).reduce((u,m)=>{let[p,x]=m;return x===void 0||(u[p]=x),u},{}),c=r==null||(s=r.compoundVariants)===null||s===void 0?void 0:s.reduce((u,m)=>{let{class:p,className:x,...v}=m;return Object.entries(v).every(w=>{let[y,j]=w;return Array.isArray(j)?j.includes({...i,...l}[y]):{...i,...l}[y]===j})?[...u,p,x]:u},[]);return RP(t,o,c,n==null?void 0:n.class,n==null?void 0:n.className)},gC="-",Pq=t=>{const r=Eq(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:s}=t;return{getClassGroupId:o=>{const l=o.split(gC);return l[0]===""&&l.length!==1&&l.shift(),hL(l,r)||Aq(o)},getConflictingClassGroupIds:(o,l)=>{const c=n[o]||[];return l&&s[o]?[...c,...s[o]]:c}}},hL=(t,r)=>{var o;if(t.length===0)return r.classGroupId;const n=t[0],s=r.nextPart.get(n),a=s?hL(t.slice(1),s):void 0;if(a)return a;if(r.validators.length===0)return;const i=t.join(gC);return(o=r.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},IP=/^\[(.+)\]$/,Aq=t=>{if(IP.test(t)){const r=IP.exec(t)[1],n=r==null?void 0:r.substring(0,r.indexOf(":"));if(n)return"arbitrary.."+n}},Eq=t=>{const{theme:r,classGroups:n}=t,s={nextPart:new Map,validators:[]};for(const a in n)HS(n[a],s,a,r);return s},HS=(t,r,n,s)=>{t.forEach(a=>{if(typeof a=="string"){const i=a===""?r:LP(r,a);i.classGroupId=n;return}if(typeof a=="function"){if(Tq(a)){HS(a(s),r,n,s);return}r.validators.push({validator:a,classGroupId:n});return}Object.entries(a).forEach(([i,o])=>{HS(o,LP(r,i),n,s)})})},LP=(t,r)=>{let n=t;return r.split(gC).forEach(s=>{n.nextPart.has(s)||n.nextPart.set(s,{nextPart:new Map,validators:[]}),n=n.nextPart.get(s)}),n},Tq=t=>t.isThemeGetter,Oq=t=>{if(t<1)return{get:()=>{},set:()=>{}};let r=0,n=new Map,s=new Map;const a=(i,o)=>{n.set(i,o),r++,r>t&&(r=0,s=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=s.get(i))!==void 0)return a(i,o),o},set(i,o){n.has(i)?n.set(i,o):a(i,o)}}},WS="!",qS=":",Mq=qS.length,Dq=t=>{const{prefix:r,experimentalParseClassName:n}=t;let s=a=>{const i=[];let o=0,l=0,c=0,u;for(let w=0;w<a.length;w++){let y=a[w];if(o===0&&l===0){if(y===qS){i.push(a.slice(c,w)),c=w+Mq;continue}if(y==="/"){u=w;continue}}y==="["?o++:y==="]"?o--:y==="("?l++:y===")"&&l--}const m=i.length===0?a:a.substring(c),p=Rq(m),x=p!==m,v=u&&u>c?u-c:void 0;return{modifiers:i,hasImportantModifier:x,baseClassName:p,maybePostfixModifierPosition:v}};if(r){const a=r+qS,i=s;s=o=>o.startsWith(a)?i(o.substring(a.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:o,maybePostfixModifierPosition:void 0}}if(n){const a=s;s=i=>n({className:i,parseClassName:a})}return s},Rq=t=>t.endsWith(WS)?t.substring(0,t.length-1):t.startsWith(WS)?t.substring(1):t,Iq=t=>{const r=Object.fromEntries(t.orderSensitiveModifiers.map(s=>[s,!0]));return s=>{if(s.length<=1)return s;const a=[];let i=[];return s.forEach(o=>{o[0]==="["||r[o]?(a.push(...i.sort(),o),i=[]):i.push(o)}),a.push(...i.sort()),a}},Lq=t=>({cache:Oq(t.cacheSize),parseClassName:Dq(t),sortModifiers:Iq(t),...Pq(t)}),$q=/\s+/,Bq=(t,r)=>{const{parseClassName:n,getClassGroupId:s,getConflictingClassGroupIds:a,sortModifiers:i}=r,o=[],l=t.trim().split($q);let c="";for(let u=l.length-1;u>=0;u-=1){const m=l[u],{isExternal:p,modifiers:x,hasImportantModifier:v,baseClassName:w,maybePostfixModifierPosition:y}=n(m);if(p){c=m+(c.length>0?" "+c:c);continue}let j=!!y,S=s(j?w.substring(0,y):w);if(!S){if(!j){c=m+(c.length>0?" "+c:c);continue}if(S=s(w),!S){c=m+(c.length>0?" "+c:c);continue}j=!1}const C=i(x).join(":"),P=v?C+WS:C,T=P+S;if(o.includes(T))continue;o.push(T);const _=a(S,j);for(let k=0;k<_.length;++k){const M=_[k];o.push(P+M)}c=m+(c.length>0?" "+c:c)}return c};function Fq(){let t=0,r,n,s="";for(;t<arguments.length;)(r=arguments[t++])&&(n=mL(r))&&(s&&(s+=" "),s+=n);return s}const mL=t=>{if(typeof t=="string")return t;let r,n="";for(let s=0;s<t.length;s++)t[s]&&(r=mL(t[s]))&&(n&&(n+=" "),n+=r);return n};function zq(t,...r){let n,s,a,i=o;function o(c){const u=r.reduce((m,p)=>p(m),t());return n=Lq(u),s=n.cache.get,a=n.cache.set,i=l,l(c)}function l(c){const u=s(c);if(u)return u;const m=Bq(c,n);return a(c,m),m}return function(){return i(Fq.apply(null,arguments))}}const In=t=>{const r=n=>n[t]||[];return r.isThemeGetter=!0,r},fL=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,pL=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Uq=/^\d+\/\d+$/,Hq=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Wq=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,qq=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Vq=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Gq=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,rh=t=>Uq.test(t),Ht=t=>!!t&&!Number.isNaN(Number(t)),hc=t=>!!t&&Number.isInteger(Number(t)),zj=t=>t.endsWith("%")&&Ht(t.slice(0,-1)),rl=t=>Hq.test(t),Kq=()=>!0,Yq=t=>Wq.test(t)&&!qq.test(t),xL=()=>!1,Zq=t=>Vq.test(t),Xq=t=>Gq.test(t),Jq=t=>!st(t)&&!at(t),Qq=t=>jm(t,yL,xL),st=t=>fL.test(t),pd=t=>jm(t,bL,Yq),Uj=t=>jm(t,sV,Ht),$P=t=>jm(t,gL,xL),eV=t=>jm(t,vL,Xq),Hg=t=>jm(t,jL,Zq),at=t=>pL.test(t),kf=t=>wm(t,bL),tV=t=>wm(t,aV),BP=t=>wm(t,gL),rV=t=>wm(t,yL),nV=t=>wm(t,vL),Wg=t=>wm(t,jL,!0),jm=(t,r,n)=>{const s=fL.exec(t);return s?s[1]?r(s[1]):n(s[2]):!1},wm=(t,r,n=!1)=>{const s=pL.exec(t);return s?s[1]?r(s[1]):n:!1},gL=t=>t==="position"||t==="percentage",vL=t=>t==="image"||t==="url",yL=t=>t==="length"||t==="size"||t==="bg-size",bL=t=>t==="length",sV=t=>t==="number",aV=t=>t==="family-name",jL=t=>t==="shadow",iV=()=>{const t=In("color"),r=In("font"),n=In("text"),s=In("font-weight"),a=In("tracking"),i=In("leading"),o=In("breakpoint"),l=In("container"),c=In("spacing"),u=In("radius"),m=In("shadow"),p=In("inset-shadow"),x=In("text-shadow"),v=In("drop-shadow"),w=In("blur"),y=In("perspective"),j=In("aspect"),S=In("ease"),C=In("animate"),P=()=>["auto","avoid","all","avoid-page","page","left","right","column"],T=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],_=()=>[...T(),at,st],k=()=>["auto","hidden","clip","visible","scroll"],M=()=>["auto","contain","none"],$=()=>[at,st,c],B=()=>[rh,"full","auto",...$()],F=()=>[hc,"none","subgrid",at,st],H=()=>["auto",{span:["full",hc,at,st]},hc,at,st],K=()=>[hc,"auto",at,st],Z=()=>["auto","min","max","fr",at,st],V=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],W=()=>["start","end","center","stretch","center-safe","end-safe"],G=()=>["auto",...$()],O=()=>[rh,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...$()],R=()=>[t,at,st],D=()=>[...T(),BP,$P,{position:[at,st]}],I=()=>["no-repeat",{repeat:["","x","y","space","round"]}],q=()=>["auto","cover","contain",rV,Qq,{size:[at,st]}],J=()=>[zj,kf,pd],ie=()=>["","none","full",u,at,st],ee=()=>["",Ht,kf,pd],ae=()=>["solid","dashed","dotted","double"],oe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],te=()=>[Ht,zj,BP,$P],ue=()=>["","none",w,at,st],de=()=>["none",Ht,at,st],fe=()=>["none",Ht,at,st],ye=()=>[Ht,at,st],he=()=>[rh,"full",...$()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[rl],breakpoint:[rl],color:[Kq],container:[rl],"drop-shadow":[rl],ease:["in","out","in-out"],font:[Jq],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[rl],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[rl],shadow:[rl],spacing:["px",Ht],text:[rl],"text-shadow":[rl],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",rh,st,at,j]}],container:["container"],columns:[{columns:[Ht,st,at,l]}],"break-after":[{"break-after":P()}],"break-before":[{"break-before":P()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:_()}],overflow:[{overflow:k()}],"overflow-x":[{"overflow-x":k()}],"overflow-y":[{"overflow-y":k()}],overscroll:[{overscroll:M()}],"overscroll-x":[{"overscroll-x":M()}],"overscroll-y":[{"overscroll-y":M()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:B()}],"inset-x":[{"inset-x":B()}],"inset-y":[{"inset-y":B()}],start:[{start:B()}],end:[{end:B()}],top:[{top:B()}],right:[{right:B()}],bottom:[{bottom:B()}],left:[{left:B()}],visibility:["visible","invisible","collapse"],z:[{z:[hc,"auto",at,st]}],basis:[{basis:[rh,"full","auto",l,...$()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Ht,rh,"auto","initial","none",st]}],grow:[{grow:["",Ht,at,st]}],shrink:[{shrink:["",Ht,at,st]}],order:[{order:[hc,"first","last","none",at,st]}],"grid-cols":[{"grid-cols":F()}],"col-start-end":[{col:H()}],"col-start":[{"col-start":K()}],"col-end":[{"col-end":K()}],"grid-rows":[{"grid-rows":F()}],"row-start-end":[{row:H()}],"row-start":[{"row-start":K()}],"row-end":[{"row-end":K()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":Z()}],"auto-rows":[{"auto-rows":Z()}],gap:[{gap:$()}],"gap-x":[{"gap-x":$()}],"gap-y":[{"gap-y":$()}],"justify-content":[{justify:[...V(),"normal"]}],"justify-items":[{"justify-items":[...W(),"normal"]}],"justify-self":[{"justify-self":["auto",...W()]}],"align-content":[{content:["normal",...V()]}],"align-items":[{items:[...W(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...W(),{baseline:["","last"]}]}],"place-content":[{"place-content":V()}],"place-items":[{"place-items":[...W(),"baseline"]}],"place-self":[{"place-self":["auto",...W()]}],p:[{p:$()}],px:[{px:$()}],py:[{py:$()}],ps:[{ps:$()}],pe:[{pe:$()}],pt:[{pt:$()}],pr:[{pr:$()}],pb:[{pb:$()}],pl:[{pl:$()}],m:[{m:G()}],mx:[{mx:G()}],my:[{my:G()}],ms:[{ms:G()}],me:[{me:G()}],mt:[{mt:G()}],mr:[{mr:G()}],mb:[{mb:G()}],ml:[{ml:G()}],"space-x":[{"space-x":$()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":$()}],"space-y-reverse":["space-y-reverse"],size:[{size:O()}],w:[{w:[l,"screen",...O()]}],"min-w":[{"min-w":[l,"screen","none",...O()]}],"max-w":[{"max-w":[l,"screen","none","prose",{screen:[o]},...O()]}],h:[{h:["screen",...O()]}],"min-h":[{"min-h":["screen","none",...O()]}],"max-h":[{"max-h":["screen",...O()]}],"font-size":[{text:["base",n,kf,pd]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[s,at,Uj]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",zj,st]}],"font-family":[{font:[tV,st,r]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,at,st]}],"line-clamp":[{"line-clamp":[Ht,"none",at,Uj]}],leading:[{leading:[i,...$()]}],"list-image":[{"list-image":["none",at,st]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",at,st]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:R()}],"text-color":[{text:R()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ae(),"wavy"]}],"text-decoration-thickness":[{decoration:[Ht,"from-font","auto",at,pd]}],"text-decoration-color":[{decoration:R()}],"underline-offset":[{"underline-offset":[Ht,"auto",at,st]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:$()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",at,st]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",at,st]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:D()}],"bg-repeat":[{bg:I()}],"bg-size":[{bg:q()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},hc,at,st],radial:["",at,st],conic:[hc,at,st]},nV,eV]}],"bg-color":[{bg:R()}],"gradient-from-pos":[{from:J()}],"gradient-via-pos":[{via:J()}],"gradient-to-pos":[{to:J()}],"gradient-from":[{from:R()}],"gradient-via":[{via:R()}],"gradient-to":[{to:R()}],rounded:[{rounded:ie()}],"rounded-s":[{"rounded-s":ie()}],"rounded-e":[{"rounded-e":ie()}],"rounded-t":[{"rounded-t":ie()}],"rounded-r":[{"rounded-r":ie()}],"rounded-b":[{"rounded-b":ie()}],"rounded-l":[{"rounded-l":ie()}],"rounded-ss":[{"rounded-ss":ie()}],"rounded-se":[{"rounded-se":ie()}],"rounded-ee":[{"rounded-ee":ie()}],"rounded-es":[{"rounded-es":ie()}],"rounded-tl":[{"rounded-tl":ie()}],"rounded-tr":[{"rounded-tr":ie()}],"rounded-br":[{"rounded-br":ie()}],"rounded-bl":[{"rounded-bl":ie()}],"border-w":[{border:ee()}],"border-w-x":[{"border-x":ee()}],"border-w-y":[{"border-y":ee()}],"border-w-s":[{"border-s":ee()}],"border-w-e":[{"border-e":ee()}],"border-w-t":[{"border-t":ee()}],"border-w-r":[{"border-r":ee()}],"border-w-b":[{"border-b":ee()}],"border-w-l":[{"border-l":ee()}],"divide-x":[{"divide-x":ee()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ee()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ae(),"hidden","none"]}],"divide-style":[{divide:[...ae(),"hidden","none"]}],"border-color":[{border:R()}],"border-color-x":[{"border-x":R()}],"border-color-y":[{"border-y":R()}],"border-color-s":[{"border-s":R()}],"border-color-e":[{"border-e":R()}],"border-color-t":[{"border-t":R()}],"border-color-r":[{"border-r":R()}],"border-color-b":[{"border-b":R()}],"border-color-l":[{"border-l":R()}],"divide-color":[{divide:R()}],"outline-style":[{outline:[...ae(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Ht,at,st]}],"outline-w":[{outline:["",Ht,kf,pd]}],"outline-color":[{outline:R()}],shadow:[{shadow:["","none",m,Wg,Hg]}],"shadow-color":[{shadow:R()}],"inset-shadow":[{"inset-shadow":["none",p,Wg,Hg]}],"inset-shadow-color":[{"inset-shadow":R()}],"ring-w":[{ring:ee()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:R()}],"ring-offset-w":[{"ring-offset":[Ht,pd]}],"ring-offset-color":[{"ring-offset":R()}],"inset-ring-w":[{"inset-ring":ee()}],"inset-ring-color":[{"inset-ring":R()}],"text-shadow":[{"text-shadow":["none",x,Wg,Hg]}],"text-shadow-color":[{"text-shadow":R()}],opacity:[{opacity:[Ht,at,st]}],"mix-blend":[{"mix-blend":[...oe(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":oe()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Ht]}],"mask-image-linear-from-pos":[{"mask-linear-from":te()}],"mask-image-linear-to-pos":[{"mask-linear-to":te()}],"mask-image-linear-from-color":[{"mask-linear-from":R()}],"mask-image-linear-to-color":[{"mask-linear-to":R()}],"mask-image-t-from-pos":[{"mask-t-from":te()}],"mask-image-t-to-pos":[{"mask-t-to":te()}],"mask-image-t-from-color":[{"mask-t-from":R()}],"mask-image-t-to-color":[{"mask-t-to":R()}],"mask-image-r-from-pos":[{"mask-r-from":te()}],"mask-image-r-to-pos":[{"mask-r-to":te()}],"mask-image-r-from-color":[{"mask-r-from":R()}],"mask-image-r-to-color":[{"mask-r-to":R()}],"mask-image-b-from-pos":[{"mask-b-from":te()}],"mask-image-b-to-pos":[{"mask-b-to":te()}],"mask-image-b-from-color":[{"mask-b-from":R()}],"mask-image-b-to-color":[{"mask-b-to":R()}],"mask-image-l-from-pos":[{"mask-l-from":te()}],"mask-image-l-to-pos":[{"mask-l-to":te()}],"mask-image-l-from-color":[{"mask-l-from":R()}],"mask-image-l-to-color":[{"mask-l-to":R()}],"mask-image-x-from-pos":[{"mask-x-from":te()}],"mask-image-x-to-pos":[{"mask-x-to":te()}],"mask-image-x-from-color":[{"mask-x-from":R()}],"mask-image-x-to-color":[{"mask-x-to":R()}],"mask-image-y-from-pos":[{"mask-y-from":te()}],"mask-image-y-to-pos":[{"mask-y-to":te()}],"mask-image-y-from-color":[{"mask-y-from":R()}],"mask-image-y-to-color":[{"mask-y-to":R()}],"mask-image-radial":[{"mask-radial":[at,st]}],"mask-image-radial-from-pos":[{"mask-radial-from":te()}],"mask-image-radial-to-pos":[{"mask-radial-to":te()}],"mask-image-radial-from-color":[{"mask-radial-from":R()}],"mask-image-radial-to-color":[{"mask-radial-to":R()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":T()}],"mask-image-conic-pos":[{"mask-conic":[Ht]}],"mask-image-conic-from-pos":[{"mask-conic-from":te()}],"mask-image-conic-to-pos":[{"mask-conic-to":te()}],"mask-image-conic-from-color":[{"mask-conic-from":R()}],"mask-image-conic-to-color":[{"mask-conic-to":R()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:D()}],"mask-repeat":[{mask:I()}],"mask-size":[{mask:q()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",at,st]}],filter:[{filter:["","none",at,st]}],blur:[{blur:ue()}],brightness:[{brightness:[Ht,at,st]}],contrast:[{contrast:[Ht,at,st]}],"drop-shadow":[{"drop-shadow":["","none",v,Wg,Hg]}],"drop-shadow-color":[{"drop-shadow":R()}],grayscale:[{grayscale:["",Ht,at,st]}],"hue-rotate":[{"hue-rotate":[Ht,at,st]}],invert:[{invert:["",Ht,at,st]}],saturate:[{saturate:[Ht,at,st]}],sepia:[{sepia:["",Ht,at,st]}],"backdrop-filter":[{"backdrop-filter":["","none",at,st]}],"backdrop-blur":[{"backdrop-blur":ue()}],"backdrop-brightness":[{"backdrop-brightness":[Ht,at,st]}],"backdrop-contrast":[{"backdrop-contrast":[Ht,at,st]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Ht,at,st]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Ht,at,st]}],"backdrop-invert":[{"backdrop-invert":["",Ht,at,st]}],"backdrop-opacity":[{"backdrop-opacity":[Ht,at,st]}],"backdrop-saturate":[{"backdrop-saturate":[Ht,at,st]}],"backdrop-sepia":[{"backdrop-sepia":["",Ht,at,st]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":$()}],"border-spacing-x":[{"border-spacing-x":$()}],"border-spacing-y":[{"border-spacing-y":$()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",at,st]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Ht,"initial",at,st]}],ease:[{ease:["linear","initial",S,at,st]}],delay:[{delay:[Ht,at,st]}],animate:[{animate:["none",C,at,st]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[y,at,st]}],"perspective-origin":[{"perspective-origin":_()}],rotate:[{rotate:de()}],"rotate-x":[{"rotate-x":de()}],"rotate-y":[{"rotate-y":de()}],"rotate-z":[{"rotate-z":de()}],scale:[{scale:fe()}],"scale-x":[{"scale-x":fe()}],"scale-y":[{"scale-y":fe()}],"scale-z":[{"scale-z":fe()}],"scale-3d":["scale-3d"],skew:[{skew:ye()}],"skew-x":[{"skew-x":ye()}],"skew-y":[{"skew-y":ye()}],transform:[{transform:[at,st,"","none","gpu","cpu"]}],"transform-origin":[{origin:_()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:he()}],"translate-x":[{"translate-x":he()}],"translate-y":[{"translate-y":he()}],"translate-z":[{"translate-z":he()}],"translate-none":["translate-none"],accent:[{accent:R()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:R()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",at,st]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":$()}],"scroll-mx":[{"scroll-mx":$()}],"scroll-my":[{"scroll-my":$()}],"scroll-ms":[{"scroll-ms":$()}],"scroll-me":[{"scroll-me":$()}],"scroll-mt":[{"scroll-mt":$()}],"scroll-mr":[{"scroll-mr":$()}],"scroll-mb":[{"scroll-mb":$()}],"scroll-ml":[{"scroll-ml":$()}],"scroll-p":[{"scroll-p":$()}],"scroll-px":[{"scroll-px":$()}],"scroll-py":[{"scroll-py":$()}],"scroll-ps":[{"scroll-ps":$()}],"scroll-pe":[{"scroll-pe":$()}],"scroll-pt":[{"scroll-pt":$()}],"scroll-pr":[{"scroll-pr":$()}],"scroll-pb":[{"scroll-pb":$()}],"scroll-pl":[{"scroll-pl":$()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",at,st]}],fill:[{fill:["none",...R()]}],"stroke-w":[{stroke:[Ht,kf,pd,Uj]}],stroke:[{stroke:["none",...R()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},oV=zq(iV);function lt(...t){return oV(Lt(t))}const VS=xC("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}}),Q=N.forwardRef(({className:t,variant:r,size:n,asChild:s=!1,...a},i)=>{const o=s?vl:"button";return e.jsx(o,{ref:i,"data-slot":"button",className:lt(VS({variant:r,size:n,className:t})),...a})});Q.displayName="Button";function ne({className:t,...r}){return e.jsx("div",{"data-slot":"card",className:lt("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border",t),...r})}function Hr({className:t,...r}){return e.jsx("div",{"data-slot":"card-header",className:lt("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 pt-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...r})}function wn({className:t,...r}){return e.jsx("h4",{"data-slot":"card-title",className:lt("leading-none",t),...r})}function ns({className:t,...r}){return e.jsx("p",{"data-slot":"card-description",className:lt("text-muted-foreground",t),...r})}function ke({className:t,...r}){return e.jsx("div",{"data-slot":"card-content",className:lt("px-6 [&:last-child]:pb-6",t),...r})}function lV({className:t,...r}){return e.jsx("div",{"data-slot":"card-footer",className:lt("flex items-center px-6 pb-6 [.border-t]:pt-6",t),...r})}/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cV=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),dV=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(r,n,s)=>s?s.toUpperCase():n.toLowerCase()),FP=t=>{const r=dV(t);return r.charAt(0).toUpperCase()+r.slice(1)},wL=(...t)=>t.filter((r,n,s)=>!!r&&r.trim()!==""&&s.indexOf(r)===n).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var uV={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hV=N.forwardRef(({color:t="currentColor",size:r=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:a="",children:i,iconNode:o,...l},c)=>N.createElement("svg",{ref:c,...uV,width:r,height:r,stroke:t,strokeWidth:s?Number(n)*24/Number(r):n,className:wL("lucide",a),...l},[...o.map(([u,m])=>N.createElement(u,m)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pe=(t,r)=>{const n=N.forwardRef(({className:s,...a},i)=>N.createElement(hV,{ref:i,iconNode:r,className:wL(`lucide-${cV(FP(t))}`,`lucide-${t}`,s),...a}));return n.displayName=FP(t),n};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mV=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Zf=Pe("activity",mV);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fV=[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]],NL=Pe("arrow-down-right",fV);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pV=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Vi=Pe("arrow-left",pV);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xV=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],ul=Pe("arrow-right",xV);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gV=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],Xf=Pe("arrow-up-right",gV);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vV=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],_h=Pe("arrow-up",vV);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yV=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],Pc=Pe("award",yV);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bV=[["path",{d:"M9 12h.01",key:"157uk2"}],["path",{d:"M15 12h.01",key:"1k8ypt"}],["path",{d:"M10 16c.5.3 1.2.5 2 .5s1.5-.2 2-.5",key:"1u7htd"}],["path",{d:"M19 6.3a9 9 0 0 1 1.8 3.9 2 2 0 0 1 0 3.6 9 9 0 0 1-17.6 0 2 2 0 0 1 0-3.6A9 9 0 0 1 12 3c2 0 3.5 1.1 3.5 2.5s-.9 2.5-2 2.5c-.8 0-1.5-.4-1.5-1",key:"5yv0yz"}]],jV=Pe("baby",bV);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wV=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M17 17H4a1 1 0 0 1-.74-1.673C4.59 13.956 6 12.499 6 8a6 6 0 0 1 .258-1.742",key:"178tsu"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M8.668 3.01A6 6 0 0 1 18 8c0 2.687.77 4.653 1.707 6.05",key:"1hqiys"}]],NV=Pe("bell-off",wV);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SV=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Na=Pe("bell",SV);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _V=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],Mi=Pe("bot",_V);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kV=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],SL=Pe("briefcase",kV);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CV=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],wo=Pe("building-2",CV);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PV=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"m9 16 2 2 4-4",key:"19s6y9"}]],AV=Pe("calendar-check",PV);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EV=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],TV=Pe("calendar-days",EV);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OV=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M21 13V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h8",key:"3spt84"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M16 19h6",key:"xwg31i"}],["path",{d:"M19 16v6",key:"tddt3s"}]],MV=Pe("calendar-plus",OV);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DV=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],vt=Pe("calendar",DV);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RV=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],IV=Pe("camera",RV);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LV=[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]],$V=Pe("car",LV);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BV=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Ac=Pe("chart-column",BV);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FV=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],zV=Pe("chart-pie",FV);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UV=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],or=Pe("check",UV);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HV=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Jv=Pe("chevron-down",HV);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WV=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Bh=Pe("chevron-left",WV);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qV=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Gs=Pe("chevron-right",qV);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VV=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],_L=Pe("chevron-up",VV);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GV=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 8v8",key:"napkw2"}],["path",{d:"m8 12 4 4 4-4",key:"k98ssh"}]],KV=Pe("circle-arrow-down",GV);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YV=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],An=Pe("circle-alert",YV);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZV=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16 12-4-4-4 4",key:"177agl"}],["path",{d:"M12 16V8",key:"1sbj14"}]],XV=Pe("circle-arrow-up",ZV);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JV=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],zt=Pe("circle-check-big",JV);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QV=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Sc=Pe("circle-check",QV);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eG=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],vC=Pe("circle-help",eG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tG=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]],rG=Pe("circle-play",tG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nG=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],zP=Pe("circle-plus",nG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sG=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],tn=Pe("circle-x",sG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aG=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],iG=Pe("circle",aG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oG=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],pt=Pe("clock",oG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lG=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Ld=Pe("copy",lG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cG=[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]],dG=Pe("cpu",cG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uG=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],Wr=Pe("credit-card",uG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hG=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],ii=Pe("crown",hG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mG=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],kL=Pe("database",mG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fG=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Zt=Pe("dollar-sign",fG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pG=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],vr=Pe("download",pG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xG=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],gG=Pe("external-link",xG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vG=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],GS=Pe("eye-off",vG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yG=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Rr=Pe("eye",yG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bG=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Ti=Pe("file-text",bG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jG=[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]],UP=Pe("flag",jG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wG=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],CL=Pe("folder-open",wG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NG=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Hd=Pe("funnel",NG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SG=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],dr=Pe("gift",SG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _G=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],Oh=Pe("globe",_G);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kG=[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]],CG=Pe("hard-drive",kG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PG=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],AG=Pe("hash",PG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EG=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],Kn=Pe("heart",EG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TG=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],yC=Pe("house",TG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OG=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],No=Pe("image",OG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MG=[["path",{d:"M18 22H4a2 2 0 0 1-2-2V6",key:"pblm9e"}],["path",{d:"m22 13-1.296-1.296a2.41 2.41 0 0 0-3.408 0L11 18",key:"nf6bnh"}],["circle",{cx:"12",cy:"8",r:"2",key:"1822b1"}],["rect",{width:"16",height:"16",x:"6",y:"2",rx:"2",key:"12espp"}]],HP=Pe("images",MG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DG=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],ux=Pe("info",DG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RG=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],IG=Pe("instagram",RG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LG=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],$G=Pe("key",LG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BG=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],FG=Pe("layout-dashboard",BG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zG=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.93 4.93 4.24 4.24",key:"1ymg45"}],["path",{d:"m14.83 9.17 4.24-4.24",key:"1cb5xl"}],["path",{d:"m14.83 14.83 4.24 4.24",key:"q42g0n"}],["path",{d:"m9.17 14.83-4.24 4.24",key:"bqpfvv"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}]],PL=Pe("life-buoy",zG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UG=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],HG=Pe("link-2",UG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WG=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],qG=Pe("link",WG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VG=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],KS=Pe("loader-circle",VG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GG=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],KG=Pe("loader",GG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YG=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]],WP=Pe("lock-open",YG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZG=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Yt=Pe("lock",ZG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XG=[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]],bC=Pe("log-in",XG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JG=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],Qv=Pe("log-out",JG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QG=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],Ut=Pe("mail",QG);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eK=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],vs=Pe("map-pin",eK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tK=[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]],jC=Pe("maximize-2",tK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rK=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],YS=Pe("menu",rK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nK=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],Fh=Pe("message-circle",nK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sK=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],Pa=Pe("message-square",sK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aK=[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]],qP=Pe("mic-off",aK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iK=[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]],Hj=Pe("mic",iK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oK=[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]],wC=Pe("minimize-2",oK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lK=[["path",{d:"M5 12h14",key:"1ays0h"}]],cK=Pe("minus",lK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dK=[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]],AL=Pe("navigation",dK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uK=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],bs=Pe("package",uK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hK=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],EL=Pe("pen",hK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mK=[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]],So=Pe("percent",mK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fK=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],En=Pe("phone",fK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pK=[["path",{d:"M12 22v-5",key:"1ega77"}],["path",{d:"M9 8V2",key:"14iosj"}],["path",{d:"M15 8V2",key:"18g5xt"}],["path",{d:"M18 8v5a4 4 0 0 1-4 4h-4a4 4 0 0 1-4-4V8Z",key:"osxo6l"}]],ZS=Pe("plug",pK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xK=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],er=Pe("plus",xK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gK=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],TL=Pe("receipt",gK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vK=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],xn=Pe("refresh-cw",vK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yK=[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]],OL=Pe("repeat",yK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bK=[["path",{d:"M4 11a9 9 0 0 1 9 9",key:"pv89mb"}],["path",{d:"M4 4a16 16 0 0 1 16 16",key:"k0647b"}],["circle",{cx:"5",cy:"19",r:"1",key:"bfqh0e"}]],zh=Pe("rss",bK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jK=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],wK=Pe("save",jK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NK=[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]],hl=Pe("scissors",NK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SK=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],qr=Pe("search",SK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _K=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],ys=Pe("send",_K);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kK=[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]],VP=Pe("server",kK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CK=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Ec=Pe("settings",CK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PK=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],_o=Pe("share-2",PK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AK=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Yn=Pe("shield",AK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EK=[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]],ml=Pe("shopping-bag",EK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TK=[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]],OK=Pe("sliders-horizontal",TK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MK=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],ML=Pe("smartphone",MK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DK=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],tr=Pe("sparkles",DK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RK=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],oi=Pe("square-pen",RK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IK=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Gt=Pe("star",IK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LK=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],_c=Pe("tag",LK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $K=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],$d=Pe("target",$K);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BK=[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]],FK=Pe("thumbs-up",BK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zK=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],cn=Pe("trash-2",zK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UK=[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]],Bd=Pe("trending-down",UK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HK=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],xr=Pe("trending-up",HK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WK=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],fr=Pe("triangle-alert",WK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qK=[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]],A0=Pe("trophy",qK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VK=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],ss=Pe("upload",VK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GK=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],fl=Pe("user-plus",GK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KK=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],zn=Pe("user",KK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YK=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],pr=Pe("users",YK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZK=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],XK=Pe("volume-2",ZK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JK=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],QK=Pe("wallet",JK);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eY=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],tY=Pe("wifi-off",eY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rY=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],nY=Pe("wifi",rY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sY=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]],j0=Pe("wrench",sY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aY=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ht=Pe("x",aY);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iY=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Ks=Pe("zap",iY),Xs=[{code:"USD",symbol:"$",name:"US Dollar",flag:""},{code:"EUR",symbol:"",name:"Euro",flag:""},{code:"AED",symbol:"AED",name:"UAE Dirham",flag:""},{code:"GBP",symbol:"",name:"British Pound",flag:""},{code:"RUB",symbol:"",name:"Russian Ruble",flag:""},{code:"TRY",symbol:"",name:"Turkish Lira",flag:""},{code:"SAR",symbol:"SAR",name:"Saudi Riyal",flag:""},{code:"QAR",symbol:".",name:"Qatari Riyal",flag:""},{code:"KWD",symbol:".",name:"Kuwaiti Dinar",flag:""},{code:"BHD",symbol:".",name:"Bahraini Dinar",flag:""},{code:"OMR",symbol:".",name:"Omani Rial",flag:""},{code:"EGP",symbol:".",name:"Egyptian Pound",flag:""},{code:"JPY",symbol:"",name:"Japanese Yen",flag:""},{code:"CNY",symbol:"",name:"Chinese Yuan",flag:""},{code:"INR",symbol:"",name:"Indian Rupee",flag:""},{code:"CAD",symbol:"C$",name:"Canadian Dollar",flag:""},{code:"AUD",symbol:"A$",name:"Australian Dollar",flag:""},{code:"CHF",symbol:"Fr",name:"Swiss Franc",flag:""},{code:"PLN",symbol:"z",name:"Polish Zloty",flag:""},{code:"UAH",symbol:"",name:"Ukrainian Hryvnia",flag:""}],DL=N.createContext(void 0);function oY({children:t}){const[r,n]=N.useState(()=>{const m=localStorage.getItem("katia-currency");return m?JSON.parse(m):Xs[2]}),[s,a]=N.useState({AED:1,USD:3.67,EUR:3.98,GBP:4.65,RUB:.0397,TRY:.112,SAR:.98,QAR:1.01,KWD:11.9,BHD:9.71,OMR:9.52,EGP:.076,JPY:.0246,CNY:.508,INR:.0442,CAD:2.7,AUD:2.4,CHF:4.17,PLN:.91,UAH:.091}),[i,o]=N.useState(!0);N.useEffect(()=>{const m=async()=>{try{o(!0);const x=[async()=>{const w=await fetch("https://api.frankfurter.app/latest?from=AED");if(!w.ok)throw new Error("Frankfurter API failed");const y=await w.json(),j={AED:1};return Object.keys(y.rates).forEach(S=>{j[S]=1/y.rates[S]}),j},async()=>{const w=await fetch("https://api.exchangerate.host/latest?base=AED");if(!w.ok)throw new Error("Exchangerate.host API failed");const y=await w.json(),j={AED:1};return Object.keys(y.rates).forEach(S=>{j[S]=1/y.rates[S]}),j},async()=>{const w=await fetch("https://www.floatrates.com/daily/aed.json");if(!w.ok)throw new Error("Floatrates API failed");const y=await w.json(),j={AED:1};return Object.keys(y).forEach(S=>{const C=S.toUpperCase();j[C]=1/y[S].rate}),j}];let v=null;for(let w=0;w<x.length;w++)try{const y=await x[w]();a(y),console.log(" Exchange rates loaded successfully from API",w+1);return}catch(y){v=y,w<x.length-1&&console.log(` API ${w+1} unavailable, trying alternative...`);continue}throw v||new Error("All APIs unavailable")}catch{console.log(" Using offline exchange rates (last updated: 26.12.2024)"),a({AED:1,USD:3.67,EUR:3.98,GBP:4.65,RUB:.0397,TRY:.112,SAR:.98,QAR:1.01,KWD:11.9,BHD:9.71,OMR:9.52,EGP:.076,JPY:.0246,CNY:.508,INR:.0442,CAD:2.7,AUD:2.4,CHF:4.17,PLN:.91,UAH:.091})}finally{o(!1)}};m();const p=setInterval(m,36e5);return()=>clearInterval(p)},[]);const l=m=>{n(m),localStorage.setItem("katia-currency",JSON.stringify(m))},c=(m,p="AED")=>{if(!s||Object.keys(s).length===0||!s[r.code]||!s[p])return m;const v=m*s[p]/s[r.code];return Math.round(v*100)/100},u=(m,p="AED")=>{const x=c(m,p),v=new Intl.NumberFormat("en-US",{minimumFractionDigits:0,maximumFractionDigits:2}).format(x);return["TRY","RUB","UAH","PLN"].includes(r.code)?`${v} ${r.symbol}`:["AED","SAR","QAR","KWD","BHD","OMR","EGP"].includes(r.code)?`${r.symbol} ${v}`:`${r.symbol}${v}`};return e.jsx(DL.Provider,{value:{currency:r,exchangeRates:s,setCurrency:l,convertPrice:c,formatPrice:u,loading:i},children:t})}function Kt(){const t=N.useContext(DL);if(t===void 0)throw new Error("useCurrency must be used within a CurrencyProvider");return t}function lY(t){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",r.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}const cY=t=>{switch(t){case"success":return hY;case"info":return fY;case"warning":return mY;case"error":return pY;default:return null}},dY=Array(12).fill(0),uY=({visible:t,className:r})=>ce.createElement("div",{className:["sonner-loading-wrapper",r].filter(Boolean).join(" "),"data-visible":t},ce.createElement("div",{className:"sonner-spinner"},dY.map((n,s)=>ce.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${s}`})))),hY=ce.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ce.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),mY=ce.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},ce.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),fY=ce.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ce.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),pY=ce.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ce.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),xY=ce.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},ce.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),ce.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),gY=()=>{const[t,r]=ce.useState(document.hidden);return ce.useEffect(()=>{const n=()=>{r(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t};let XS=1;class vY{constructor(){this.subscribe=r=>(this.subscribers.push(r),()=>{const n=this.subscribers.indexOf(r);this.subscribers.splice(n,1)}),this.publish=r=>{this.subscribers.forEach(n=>n(r))},this.addToast=r=>{this.publish(r),this.toasts=[...this.toasts,r]},this.create=r=>{var n;const{message:s,...a}=r,i=typeof(r==null?void 0:r.id)=="number"||((n=r.id)==null?void 0:n.length)>0?r.id:XS++,o=this.toasts.find(c=>c.id===i),l=r.dismissible===void 0?!0:r.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),o?this.toasts=this.toasts.map(c=>c.id===i?(this.publish({...c,...r,id:i,title:s}),{...c,...r,id:i,dismissible:l,title:s}):c):this.addToast({title:s,...a,dismissible:l,id:i}),i},this.dismiss=r=>(r?(this.dismissedToasts.add(r),requestAnimationFrame(()=>this.subscribers.forEach(n=>n({id:r,dismiss:!0})))):this.toasts.forEach(n=>{this.subscribers.forEach(s=>s({id:n.id,dismiss:!0}))}),r),this.message=(r,n)=>this.create({...n,message:r}),this.error=(r,n)=>this.create({...n,message:r,type:"error"}),this.success=(r,n)=>this.create({...n,type:"success",message:r}),this.info=(r,n)=>this.create({...n,type:"info",message:r}),this.warning=(r,n)=>this.create({...n,type:"warning",message:r}),this.loading=(r,n)=>this.create({...n,type:"loading",message:r}),this.promise=(r,n)=>{if(!n)return;let s;n.loading!==void 0&&(s=this.create({...n,promise:r,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));const a=Promise.resolve(r instanceof Function?r():r);let i=s!==void 0,o;const l=a.then(async u=>{if(o=["resolve",u],ce.isValidElement(u))i=!1,this.create({id:s,type:"default",message:u});else if(bY(u)&&!u.ok){i=!1;const p=typeof n.error=="function"?await n.error(`HTTP error! status: ${u.status}`):n.error,x=typeof n.description=="function"?await n.description(`HTTP error! status: ${u.status}`):n.description,w=typeof p=="object"&&!ce.isValidElement(p)?p:{message:p};this.create({id:s,type:"error",description:x,...w})}else if(u instanceof Error){i=!1;const p=typeof n.error=="function"?await n.error(u):n.error,x=typeof n.description=="function"?await n.description(u):n.description,w=typeof p=="object"&&!ce.isValidElement(p)?p:{message:p};this.create({id:s,type:"error",description:x,...w})}else if(n.success!==void 0){i=!1;const p=typeof n.success=="function"?await n.success(u):n.success,x=typeof n.description=="function"?await n.description(u):n.description,w=typeof p=="object"&&!ce.isValidElement(p)?p:{message:p};this.create({id:s,type:"success",description:x,...w})}}).catch(async u=>{if(o=["reject",u],n.error!==void 0){i=!1;const m=typeof n.error=="function"?await n.error(u):n.error,p=typeof n.description=="function"?await n.description(u):n.description,v=typeof m=="object"&&!ce.isValidElement(m)?m:{message:m};this.create({id:s,type:"error",description:p,...v})}}).finally(()=>{i&&(this.dismiss(s),s=void 0),n.finally==null||n.finally.call(n)}),c=()=>new Promise((u,m)=>l.then(()=>o[0]==="reject"?m(o[1]):u(o[1])).catch(m));return typeof s!="string"&&typeof s!="number"?{unwrap:c}:Object.assign(s,{unwrap:c})},this.custom=(r,n)=>{const s=(n==null?void 0:n.id)||XS++;return this.create({jsx:r(s),id:s,...n}),s},this.getActiveToasts=()=>this.toasts.filter(r=>!this.dismissedToasts.has(r.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Vs=new vY,yY=(t,r)=>{const n=(r==null?void 0:r.id)||XS++;return Vs.addToast({title:t,...r,id:n}),n},bY=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",jY=yY,wY=()=>Vs.toasts,NY=()=>Vs.getActiveToasts(),ve=Object.assign(jY,{success:Vs.success,info:Vs.info,warning:Vs.warning,error:Vs.error,custom:Vs.custom,message:Vs.message,promise:Vs.promise,dismiss:Vs.dismiss,loading:Vs.loading},{getHistory:wY,getToasts:NY});lY("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}[data-sonner-toaster][data-lifted=true]{transform:translateY(-8px)}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function qg(t){return t.label!==void 0}const SY=3,_Y="24px",kY="16px",GP=4e3,CY=356,PY=14,AY=45,EY=200;function co(...t){return t.filter(Boolean).join(" ")}function TY(t){const[r,n]=t.split("-"),s=[];return r&&s.push(r),n&&s.push(n),s}const OY=t=>{var r,n,s,a,i,o,l,c,u;const{invert:m,toast:p,unstyled:x,interacting:v,setHeights:w,visibleToasts:y,heights:j,index:S,toasts:C,expanded:P,removeToast:T,defaultRichColors:_,closeButton:k,style:M,cancelButtonStyle:$,actionButtonStyle:B,className:F="",descriptionClassName:H="",duration:K,position:Z,gap:V,expandByDefault:W,classNames:G,icons:O,closeButtonAriaLabel:R="Close toast"}=t,[D,I]=ce.useState(null),[q,J]=ce.useState(null),[ie,ee]=ce.useState(!1),[ae,oe]=ce.useState(!1),[te,ue]=ce.useState(!1),[de,fe]=ce.useState(!1),[ye,he]=ce.useState(!1),[Ce,Se]=ce.useState(0),[$e,qe]=ce.useState(0),Fe=ce.useRef(p.duration||K||GP),it=ce.useRef(null),rt=ce.useRef(null),yt=S===0,Pt=S+1<=y,Et=p.type,Te=p.dismissible!==!1,$t=p.className||"",Dt=p.descriptionClassName||"",De=ce.useMemo(()=>j.findIndex(_t=>_t.toastId===p.id)||0,[j,p.id]),Ge=ce.useMemo(()=>{var _t;return(_t=p.closeButton)!=null?_t:k},[p.closeButton,k]),Je=ce.useMemo(()=>p.duration||K||GP,[p.duration,K]),Jt=ce.useRef(0),bt=ce.useRef(0),kr=ce.useRef(0),dn=ce.useRef(null),[yr,js]=Z.split("-"),ws=ce.useMemo(()=>j.reduce((_t,br,Cr)=>Cr>=De?_t:_t+br.height,0),[j,De]),ta=gY(),is=p.invert||m,ra=Et==="loading";bt.current=ce.useMemo(()=>De*V+ws,[De,ws]),ce.useEffect(()=>{Fe.current=Je},[Je]),ce.useEffect(()=>{ee(!0)},[]),ce.useEffect(()=>{const _t=rt.current;if(_t){const br=_t.getBoundingClientRect().height;return qe(br),w(Cr=>[{toastId:p.id,height:br,position:p.position},...Cr]),()=>w(Cr=>Cr.filter(Br=>Br.toastId!==p.id))}},[w,p.id]),ce.useLayoutEffect(()=>{if(!ie)return;const _t=rt.current,br=_t.style.height;_t.style.height="auto";const Cr=_t.getBoundingClientRect().height;_t.style.height=br,qe(Cr),w(Br=>Br.find(Pr=>Pr.toastId===p.id)?Br.map(Pr=>Pr.toastId===p.id?{...Pr,height:Cr}:Pr):[{toastId:p.id,height:Cr,position:p.position},...Br])},[ie,p.title,p.description,w,p.id]);const $r=ce.useCallback(()=>{oe(!0),Se(bt.current),w(_t=>_t.filter(br=>br.toastId!==p.id)),setTimeout(()=>{T(p)},EY)},[p,T,w,bt]);ce.useEffect(()=>{if(p.promise&&Et==="loading"||p.duration===1/0||p.type==="loading")return;let _t;return P||v||ta?(()=>{if(kr.current<Jt.current){const Br=new Date().getTime()-Jt.current;Fe.current=Fe.current-Br}kr.current=new Date().getTime()})():(()=>{Fe.current!==1/0&&(Jt.current=new Date().getTime(),_t=setTimeout(()=>{p.onAutoClose==null||p.onAutoClose.call(p,p),$r()},Fe.current))})(),()=>clearTimeout(_t)},[P,v,p,Et,ta,$r]),ce.useEffect(()=>{p.delete&&$r()},[$r,p.delete]);function Sn(){var _t;if(O!=null&&O.loading){var br;return ce.createElement("div",{className:co(G==null?void 0:G.loader,p==null||(br=p.classNames)==null?void 0:br.loader,"sonner-loader"),"data-visible":Et==="loading"},O.loading)}return ce.createElement(uY,{className:co(G==null?void 0:G.loader,p==null||(_t=p.classNames)==null?void 0:_t.loader),visible:Et==="loading"})}const Zr=p.icon||(O==null?void 0:O[Et])||cY(Et);var Rt,Ns;return ce.createElement("li",{tabIndex:0,ref:rt,className:co(F,$t,G==null?void 0:G.toast,p==null||(r=p.classNames)==null?void 0:r.toast,G==null?void 0:G.default,G==null?void 0:G[Et],p==null||(n=p.classNames)==null?void 0:n[Et]),"data-sonner-toast":"","data-rich-colors":(Rt=p.richColors)!=null?Rt:_,"data-styled":!(p.jsx||p.unstyled||x),"data-mounted":ie,"data-promise":!!p.promise,"data-swiped":ye,"data-removed":ae,"data-visible":Pt,"data-y-position":yr,"data-x-position":js,"data-index":S,"data-front":yt,"data-swiping":te,"data-dismissible":Te,"data-type":Et,"data-invert":is,"data-swipe-out":de,"data-swipe-direction":q,"data-expanded":!!(P||W&&ie),style:{"--index":S,"--toasts-before":S,"--z-index":C.length-S,"--offset":`${ae?Ce:bt.current}px`,"--initial-height":W?"auto":`${$e}px`,...M,...p.style},onDragEnd:()=>{ue(!1),I(null),dn.current=null},onPointerDown:_t=>{ra||!Te||(it.current=new Date,Se(bt.current),_t.target.setPointerCapture(_t.pointerId),_t.target.tagName!=="BUTTON"&&(ue(!0),dn.current={x:_t.clientX,y:_t.clientY}))},onPointerUp:()=>{var _t,br,Cr;if(de||!Te)return;dn.current=null;const Br=Number(((_t=rt.current)==null?void 0:_t.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Da=Number(((br=rt.current)==null?void 0:br.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Pr=new Date().getTime()-((Cr=it.current)==null?void 0:Cr.getTime()),un=D==="x"?Br:Da,Ra=Math.abs(un)/Pr;if(Math.abs(un)>=AY||Ra>.11){Se(bt.current),p.onDismiss==null||p.onDismiss.call(p,p),J(D==="x"?Br>0?"right":"left":Da>0?"down":"up"),$r(),fe(!0);return}else{var yn,Xn;(yn=rt.current)==null||yn.style.setProperty("--swipe-amount-x","0px"),(Xn=rt.current)==null||Xn.style.setProperty("--swipe-amount-y","0px")}he(!1),ue(!1),I(null)},onPointerMove:_t=>{var br,Cr,Br;if(!dn.current||!Te||((br=window.getSelection())==null?void 0:br.toString().length)>0)return;const Pr=_t.clientY-dn.current.y,un=_t.clientX-dn.current.x;var Ra;const yn=(Ra=t.swipeDirections)!=null?Ra:TY(Z);!D&&(Math.abs(un)>1||Math.abs(Pr)>1)&&I(Math.abs(un)>Math.abs(Pr)?"x":"y");let Xn={x:0,y:0};const bn=Ye=>1/(1.5+Math.abs(Ye)/20);if(D==="y"){if(yn.includes("top")||yn.includes("bottom"))if(yn.includes("top")&&Pr<0||yn.includes("bottom")&&Pr>0)Xn.y=Pr;else{const Ye=Pr*bn(Pr);Xn.y=Math.abs(Ye)<Math.abs(Pr)?Ye:Pr}}else if(D==="x"&&(yn.includes("left")||yn.includes("right")))if(yn.includes("left")&&un<0||yn.includes("right")&&un>0)Xn.x=un;else{const Ye=un*bn(un);Xn.x=Math.abs(Ye)<Math.abs(un)?Ye:un}(Math.abs(Xn.x)>0||Math.abs(Xn.y)>0)&&he(!0),(Cr=rt.current)==null||Cr.style.setProperty("--swipe-amount-x",`${Xn.x}px`),(Br=rt.current)==null||Br.style.setProperty("--swipe-amount-y",`${Xn.y}px`)}},Ge&&!p.jsx&&Et!=="loading"?ce.createElement("button",{"aria-label":R,"data-disabled":ra,"data-close-button":!0,onClick:ra||!Te?()=>{}:()=>{$r(),p.onDismiss==null||p.onDismiss.call(p,p)},className:co(G==null?void 0:G.closeButton,p==null||(s=p.classNames)==null?void 0:s.closeButton)},(Ns=O==null?void 0:O.close)!=null?Ns:xY):null,(Et||p.icon||p.promise)&&p.icon!==null&&((O==null?void 0:O[Et])!==null||p.icon)?ce.createElement("div",{"data-icon":"",className:co(G==null?void 0:G.icon,p==null||(a=p.classNames)==null?void 0:a.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||Sn():null,p.type!=="loading"?Zr:null):null,ce.createElement("div",{"data-content":"",className:co(G==null?void 0:G.content,p==null||(i=p.classNames)==null?void 0:i.content)},ce.createElement("div",{"data-title":"",className:co(G==null?void 0:G.title,p==null||(o=p.classNames)==null?void 0:o.title)},p.jsx?p.jsx:typeof p.title=="function"?p.title():p.title),p.description?ce.createElement("div",{"data-description":"",className:co(H,Dt,G==null?void 0:G.description,p==null||(l=p.classNames)==null?void 0:l.description)},typeof p.description=="function"?p.description():p.description):null),ce.isValidElement(p.cancel)?p.cancel:p.cancel&&qg(p.cancel)?ce.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||$,onClick:_t=>{qg(p.cancel)&&Te&&(p.cancel.onClick==null||p.cancel.onClick.call(p.cancel,_t),$r())},className:co(G==null?void 0:G.cancelButton,p==null||(c=p.classNames)==null?void 0:c.cancelButton)},p.cancel.label):null,ce.isValidElement(p.action)?p.action:p.action&&qg(p.action)?ce.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||B,onClick:_t=>{qg(p.action)&&(p.action.onClick==null||p.action.onClick.call(p.action,_t),!_t.defaultPrevented&&$r())},className:co(G==null?void 0:G.actionButton,p==null||(u=p.classNames)==null?void 0:u.actionButton)},p.action.label):null)};function KP(){if(typeof window>"u"||typeof document>"u")return"ltr";const t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function MY(t,r){const n={};return[t,r].forEach((s,a)=>{const i=a===1,o=i?"--mobile-offset":"--offset",l=i?kY:_Y;function c(u){["top","right","bottom","left"].forEach(m=>{n[`${o}-${m}`]=typeof u=="number"?`${u}px`:u})}typeof s=="number"||typeof s=="string"?c(s):typeof s=="object"?["top","right","bottom","left"].forEach(u=>{s[u]===void 0?n[`${o}-${u}`]=l:n[`${o}-${u}`]=typeof s[u]=="number"?`${s[u]}px`:s[u]}):c(l)}),n}const DY=ce.forwardRef(function(r,n){const{invert:s,position:a="bottom-right",hotkey:i=["altKey","KeyT"],expand:o,closeButton:l,className:c,offset:u,mobileOffset:m,theme:p="light",richColors:x,duration:v,style:w,visibleToasts:y=SY,toastOptions:j,dir:S=KP(),gap:C=PY,icons:P,containerAriaLabel:T="Notifications"}=r,[_,k]=ce.useState([]),M=ce.useMemo(()=>Array.from(new Set([a].concat(_.filter(q=>q.position).map(q=>q.position)))),[_,a]),[$,B]=ce.useState([]),[F,H]=ce.useState(!1),[K,Z]=ce.useState(!1),[V,W]=ce.useState(p!=="system"?p:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),G=ce.useRef(null),O=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),R=ce.useRef(null),D=ce.useRef(!1),I=ce.useCallback(q=>{k(J=>{var ie;return(ie=J.find(ee=>ee.id===q.id))!=null&&ie.delete||Vs.dismiss(q.id),J.filter(({id:ee})=>ee!==q.id)})},[]);return ce.useEffect(()=>Vs.subscribe(q=>{if(q.dismiss){requestAnimationFrame(()=>{k(J=>J.map(ie=>ie.id===q.id?{...ie,delete:!0}:ie))});return}setTimeout(()=>{dL.flushSync(()=>{k(J=>{const ie=J.findIndex(ee=>ee.id===q.id);return ie!==-1?[...J.slice(0,ie),{...J[ie],...q},...J.slice(ie+1)]:[q,...J]})})})}),[_]),ce.useEffect(()=>{if(p!=="system"){W(p);return}if(p==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?W("dark"):W("light")),typeof window>"u")return;const q=window.matchMedia("(prefers-color-scheme: dark)");try{q.addEventListener("change",({matches:J})=>{W(J?"dark":"light")})}catch{q.addListener(({matches:ie})=>{try{W(ie?"dark":"light")}catch(ee){console.error(ee)}})}},[p]),ce.useEffect(()=>{_.length<=1&&H(!1)},[_]),ce.useEffect(()=>{const q=J=>{var ie;if(i.every(oe=>J[oe]||J.code===oe)){var ae;H(!0),(ae=G.current)==null||ae.focus()}J.code==="Escape"&&(document.activeElement===G.current||(ie=G.current)!=null&&ie.contains(document.activeElement))&&H(!1)};return document.addEventListener("keydown",q),()=>document.removeEventListener("keydown",q)},[i]),ce.useEffect(()=>{if(G.current)return()=>{R.current&&(R.current.focus({preventScroll:!0}),R.current=null,D.current=!1)}},[G.current]),ce.createElement("section",{ref:n,"aria-label":`${T} ${O}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},M.map((q,J)=>{var ie;const[ee,ae]=q.split("-");return _.length?ce.createElement("ol",{key:q,dir:S==="auto"?KP():S,tabIndex:-1,ref:G,className:c,"data-sonner-toaster":!0,"data-sonner-theme":V,"data-y-position":ee,"data-lifted":F&&_.length>1&&!o,"data-x-position":ae,style:{"--front-toast-height":`${((ie=$[0])==null?void 0:ie.height)||0}px`,"--width":`${CY}px`,"--gap":`${C}px`,...w,...MY(u,m)},onBlur:oe=>{D.current&&!oe.currentTarget.contains(oe.relatedTarget)&&(D.current=!1,R.current&&(R.current.focus({preventScroll:!0}),R.current=null))},onFocus:oe=>{oe.target instanceof HTMLElement&&oe.target.dataset.dismissible==="false"||D.current||(D.current=!0,R.current=oe.relatedTarget)},onMouseEnter:()=>H(!0),onMouseMove:()=>H(!0),onMouseLeave:()=>{K||H(!1)},onDragEnd:()=>H(!1),onPointerDown:oe=>{oe.target instanceof HTMLElement&&oe.target.dataset.dismissible==="false"||Z(!0)},onPointerUp:()=>Z(!1)},_.filter(oe=>!oe.position&&J===0||oe.position===q).map((oe,te)=>{var ue,de;return ce.createElement(OY,{key:oe.id,icons:P,index:te,toast:oe,defaultRichColors:x,duration:(ue=j==null?void 0:j.duration)!=null?ue:v,className:j==null?void 0:j.className,descriptionClassName:j==null?void 0:j.descriptionClassName,invert:s,visibleToasts:y,closeButton:(de=j==null?void 0:j.closeButton)!=null?de:l,interacting:K,position:q,style:j==null?void 0:j.style,unstyled:j==null?void 0:j.unstyled,classNames:j==null?void 0:j.classNames,cancelButtonStyle:j==null?void 0:j.cancelButtonStyle,actionButtonStyle:j==null?void 0:j.actionButtonStyle,closeButtonAriaLabel:j==null?void 0:j.closeButtonAriaLabel,removeToast:I,toasts:_.filter(fe=>fe.position==oe.position),heights:$.filter(fe=>fe.position==oe.position),setHeights:B,expandByDefault:o,gap:C,expanded:F,swipeDirections:r.swipeDirections})})):null}))});function NC({isOpen:t,onClose:r,amount:n,currency:s,description:a,bookingId:i,onSuccess:o}){const{formatPrice:l}=Kt(),[c,u]=N.useState(!1),[m,p]=N.useState(""),[x,v]=N.useState(""),[w,y]=N.useState(""),[j,S]=N.useState(""),[C,P]=N.useState(""),T=H=>{const K=H.replace(/\s/g,""),Z=K.match(/.{1,4}/g);return Z?Z.join(" "):K},_=H=>{const K=H.replace(/\D/g,"");return K.length>=2?K.slice(0,2)+"/"+K.slice(2,4):K},k=H=>{const K=H.target.value.replace(/\s/g,"");K.length<=16&&p(T(K))},M=H=>{const K=H.target.value.replace(/\D/g,"");K.length<=4&&v(_(K))},$=H=>{const K=H.target.value.replace(/\D/g,"");K.length<=3&&y(K)},B=()=>{if(!j)return P("Cardholder name is required"),!1;if(m.replace(/\s/g,"").length!==16)return P("Card number must be 16 digits"),!1;const K=x.split("/");if(K.length!==2||K[0].length!==2||K[1].length!==2)return P("Invalid expiry date (MM/YY)"),!1;const Z=parseInt(K[0]);return Z<1||Z>12?(P("Invalid month (01-12)"),!1):w.length!==3?(P("CVV must be 3 digits"),!1):(P(""),!0)},F=async()=>{if(B()){u(!0),P("");try{await new Promise(H=>setTimeout(H,2e3)),ve.success("Payment successful! "),o(),r()}catch(H){console.error("Payment error:",H),P(H.message||"Payment failed. Please try again."),ve.error("Payment failed")}finally{u(!1)}}};return t?e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black bg-opacity-50",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"p-6 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Secure Payment"}),e.jsx("button",{onClick:r,disabled:c,className:"text-gray-400 hover:text-gray-600 disabled:opacity-50",children:e.jsx(ht,{className:"w-6 h-6"})})]}),e.jsx("p",{className:"text-sm text-gray-600",children:a})]}),e.jsx("div",{className:"p-6 bg-gradient-to-br from-purple-50 to-pink-50 border-b border-purple-200",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Amount to Pay"}),e.jsx("div",{className:"text-4xl font-bold text-purple-600",children:l(n)}),e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:s.toUpperCase()})]})}),e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cardholder Name"}),e.jsx("input",{type:"text",value:j,onChange:H=>S(H.target.value),placeholder:"John Doe",disabled:c,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 disabled:bg-gray-100 disabled:cursor-not-allowed"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Card Number"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",value:m,onChange:k,placeholder:"1234 5678 9012 3456",disabled:c,className:"w-full px-4 py-3 pl-12 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 disabled:bg-gray-100 disabled:cursor-not-allowed font-mono"}),e.jsx(Wr,{className:"w-5 h-5 text-gray-400 absolute left-4 top-1/2 -translate-y-1/2"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Expiry Date"}),e.jsx("input",{type:"text",value:x,onChange:M,placeholder:"MM/YY",disabled:c,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 disabled:bg-gray-100 disabled:cursor-not-allowed font-mono"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"CVV"}),e.jsx("input",{type:"text",value:w,onChange:$,placeholder:"123",disabled:c,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 disabled:bg-gray-100 disabled:cursor-not-allowed font-mono"})]})]}),C&&e.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg text-sm text-red-700",children:C}),e.jsxs("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg flex items-start gap-3",children:[e.jsx(Yt,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"text-xs text-blue-800",children:[e.jsx("strong",{children:"Secure Payment:"})," Your payment information is encrypted and secure. We never store your card details."]})]}),e.jsxs("div",{className:"p-3 bg-gray-50 border border-gray-200 rounded-lg text-xs text-gray-600",children:[e.jsx("div",{className:"font-semibold mb-1",children:"Test Card (Development):"}),e.jsx("div",{className:"font-mono",children:"4242 4242 4242 4242"}),e.jsx("div",{className:"font-mono",children:"Expiry: Any future date  CVV: Any 3 digits"})]})]}),e.jsxs("div",{className:"p-6 border-t border-gray-200 flex gap-3",children:[e.jsx(Q,{onClick:r,disabled:c,variant:"outline",className:"flex-1",children:"Cancel"}),e.jsx(Q,{onClick:F,disabled:c,className:"flex-1 bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white",children:c?e.jsxs(e.Fragment,{children:[e.jsx(KG,{className:"w-4 h-4 mr-2 animate-spin"}),"Processing..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Yt,{className:"w-4 h-4 mr-2"}),"Pay ",l(n)]})})]}),e.jsx("div",{className:"px-6 pb-6",children:e.jsxs("div",{className:"flex items-center justify-center gap-4 text-xs text-gray-500",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Yt,{className:"w-3 h-3"}),e.jsx("span",{children:"Secured by Stripe"})]}),e.jsx("span",{children:""}),e.jsx("span",{children:"PCI-DSS Compliant"})]})})]})}):null}function RY({isOpen:t,onClose:r,currentPlan:n,newPlan:s,basePrices:a}){const{formatPrice:i}=Kt(),[o,l]=N.useState(!1),[c,u]=N.useState(null);N.useEffect(()=>{t&&m()},[t,n,s]);const m=()=>{const _=new Date,k=new Date(n.startDate),M=n.billingPeriod==="monthly"?30:n.billingPeriod==="semi-annual"?180:365,$=Math.floor((_.getTime()-k.getTime())/(1e3*60*60*24)),B=Math.max(0,M-$),F=n.price*B/M,H=s.price,K=s.billingPeriod==="monthly"?30:s.billingPeriod==="semi-annual"?180:365,Z=H*B/K,V=Z>F,W=Math.abs(Z-F);let G=0;if(!V&&W>0){const O=H/K;G=Math.floor(W/O)}u({isUpgrade:V,daysElapsed:$,daysRemaining:B,periodDays:M,currentPlanRemainingValue:F,newPlanCostForRemainingPeriod:Z,difference:W,extendedDays:G,effectiveDate:_.toLocaleDateString(),newExpiryDate:V?new Date(_.getTime()+B*24*60*60*1e3).toLocaleDateString():new Date(_.getTime()+(B+G)*24*60*60*1e3).toLocaleDateString()})};if(!t||!c)return null;const{isUpgrade:p,daysElapsed:x,daysRemaining:v,periodDays:w,currentPlanRemainingValue:y,newPlanCostForRemainingPeriod:j,difference:S,extendedDays:C,effectiveDate:P,newExpiryDate:T}=c;return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto shadow-2xl",children:[e.jsx("div",{className:`p-6 border-b ${p?"bg-gradient-to-r from-blue-50 to-cyan-50":"bg-gradient-to-r from-purple-50 to-pink-50"}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[p?e.jsx("div",{className:"w-12 h-12 rounded-full bg-blue-100 flex items-center justify-center",children:e.jsx(xr,{className:"w-6 h-6 text-blue-600"})}):e.jsx("div",{className:"w-12 h-12 rounded-full bg-purple-100 flex items-center justify-center",children:e.jsx(Bd,{className:"w-6 h-6 text-purple-600"})}),e.jsxs("div",{children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-900",children:[p?"Plan Upgrade":"Plan Downgrade"," Calculator"]}),e.jsx("p",{className:"text-sm text-gray-600",children:"Detailed proration breakdown"})]})]}),e.jsx("button",{onClick:r,className:"w-8 h-8 rounded-full bg-white hover:bg-gray-100 flex items-center justify-center transition-colors",children:e.jsx(ht,{className:"w-5 h-5 text-gray-500"})})]})}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-xl",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Current Plan"}),e.jsx("p",{className:"font-bold text-gray-900",children:n.name}),e.jsx("p",{className:"text-sm text-gray-600",children:n.billingPeriod==="monthly"?"Monthly":n.billingPeriod==="semi-annual"?"6 Months":"Annual"})]}),e.jsx(ul,{className:`w-6 h-6 ${p?"text-blue-600":"text-purple-600"}`}),e.jsxs("div",{className:"flex-1 text-right",children:[e.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"New Plan"}),e.jsx("p",{className:"font-bold text-gray-900",children:s.name}),e.jsx("p",{className:"text-sm text-gray-600",children:s.billingPeriod==="monthly"?"Monthly":s.billingPeriod==="semi-annual"?"6 Months":"Annual"})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(vt,{className:"w-5 h-5 text-gray-400"}),e.jsx("h3",{className:"font-semibold text-gray-900",children:"Time Breakdown"})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg",children:[e.jsx("p",{className:"text-xs text-blue-600 mb-1",children:"Total Period"}),e.jsx("p",{className:"text-2xl font-bold text-blue-900",children:w}),e.jsx("p",{className:"text-xs text-blue-600",children:"days"})]}),e.jsxs("div",{className:"p-4 bg-orange-50 rounded-lg",children:[e.jsx("p",{className:"text-xs text-orange-600 mb-1",children:"Used"}),e.jsx("p",{className:"text-2xl font-bold text-orange-900",children:x}),e.jsx("p",{className:"text-xs text-orange-600",children:"days"})]}),e.jsxs("div",{className:"p-4 bg-green-50 rounded-lg",children:[e.jsx("p",{className:"text-xs text-green-600 mb-1",children:"Remaining"}),e.jsx("p",{className:"text-2xl font-bold text-green-900",children:v}),e.jsx("p",{className:"text-xs text-green-600",children:"days"})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Zt,{className:"w-5 h-5 text-gray-400"}),e.jsx("h3",{className:"font-semibold text-gray-900",children:"Financial Calculation"})]}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("span",{className:"text-gray-600",children:["Original ",n.name," price:"]}),e.jsx("span",{className:"font-semibold text-gray-900",children:i(n.price)})]}),e.jsxs("div",{className:"flex justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("span",{className:"text-gray-600",children:["Days used (",x,"/",w,"):"]}),e.jsx("span",{className:"font-semibold text-gray-900",children:i(n.price-y)})]}),e.jsxs("div",{className:"flex justify-between p-3 bg-green-50 rounded-lg border border-green-200",children:[e.jsx("span",{className:"text-green-700 font-medium",children:"Remaining value:"}),e.jsx("span",{className:"font-bold text-green-900",children:i(y)})]}),e.jsx("div",{className:"h-px bg-gray-200 my-4"}),e.jsxs("div",{className:"flex justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("span",{className:"text-gray-600",children:["New ",s.name," full price:"]}),e.jsx("span",{className:"font-semibold text-gray-900",children:i(s.price)})]}),e.jsxs("div",{className:"flex justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("span",{className:"text-gray-600",children:["Cost for ",v," days:"]}),e.jsx("span",{className:"font-semibold text-gray-900",children:i(j)})]})]})]}),e.jsx("div",{className:`p-6 rounded-xl border-2 ${p?"bg-gradient-to-br from-blue-50 to-cyan-50 border-blue-200":"bg-gradient-to-br from-purple-50 to-pink-50 border-purple-200"}`,children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center flex-shrink-0 ${p?"bg-blue-100":"bg-purple-100"}`,children:p?e.jsx(Wr,{className:"w-6 h-6 text-blue-600"}):e.jsx(Sc,{className:"w-6 h-6 text-purple-600"})}),e.jsx("div",{className:"flex-1",children:p?e.jsxs(e.Fragment,{children:[e.jsx("h3",{className:"text-lg font-bold text-blue-900 mb-2",children:"Payment Required"}),e.jsxs("p",{className:"text-sm text-blue-800 mb-4",children:["You'll be charged the difference for the remaining ",v," days of your current billing period."]}),e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("span",{className:"text-3xl font-bold text-blue-900",children:i(S)}),e.jsx("span",{className:"text-sm text-blue-600",children:"due now"})]}),e.jsx("p",{className:"text-xs text-blue-600 mt-2",children:"Your plan will upgrade immediately after payment"})]}):e.jsxs(e.Fragment,{children:[e.jsx("h3",{className:"text-lg font-bold text-purple-900 mb-2",children:"Credit Applied"}),e.jsxs("p",{className:"text-sm text-purple-800 mb-4",children:["Your remaining credit of ",e.jsx("strong",{children:i(S)})," will extend your new ",s.name," plan."]}),e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsxs("span",{className:"text-3xl font-bold text-purple-900",children:["+",C]}),e.jsx("span",{className:"text-sm text-purple-600",children:"extra days"})]}),e.jsxs("p",{className:"text-xs text-purple-600 mt-2",children:["Total: ",v+C," days of ",s.name]})]})})]})}),e.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Effective Date:"}),e.jsx("span",{className:"font-semibold text-gray-900",children:P})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"New Expiry Date:"}),e.jsx("span",{className:"font-semibold text-gray-900",children:T})]}),e.jsxs("div",{className:"flex justify-between pt-2 border-t border-gray-200",children:[e.jsx("span",{className:"font-medium text-gray-900",children:p?"Amount to Pay:":"No Payment Required:"}),e.jsx("span",{className:`font-bold text-lg ${p?"text-blue-600":"text-green-600"}`,children:i(p?S:0)})]})]}),e.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(Sc,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-green-900 text-sm mb-1",children:"100% Fair & Transparent"}),e.jsxs("p",{className:"text-xs text-green-700",children:["All calculations are prorated to the day. ",p?"You only pay for what you use.":"You never lose money - all credits are applied to your new plan."]})]})]})})]}),e.jsxs("div",{className:"p-6 border-t bg-gray-50 flex gap-3",children:[e.jsx(Q,{onClick:r,variant:"outline",className:"flex-1",children:"Cancel"}),e.jsx(Q,{onClick:()=>{p?(ve.success(` DEMO: Upgrade to ${s.name} simulated successfully!`),console.log("DEMO: Would charge",i(S)),setTimeout(()=>{r()},1500)):(ve.success(` Downgrade to ${s.name} applied successfully!`),console.log("Applying downgrade with",C,"extra days"),setTimeout(()=>{r()},1500))},className:`flex-1 ${p?"bg-gradient-to-r from-blue-600 to-cyan-600 hover:from-blue-700 hover:to-cyan-700":"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700"} text-white`,children:p?`DEMO: Upgrade for ${i(S)}`:"Confirm Downgrade"})]})]})}),p&&e.jsx(NC,{isOpen:o,onClose:()=>l(!1),planName:`Upgrade to ${s.name}`,price:S.toFixed(2),currency:"aed",onPaymentSuccess:()=>{l(!1),r(),console.log("Upgrade successful!")},type:"upgrade"})]})}function IY(){const[t,r]=N.useState(!1),[n,s]=N.useState(null),a={basic:99,standard:299,business:499},i=[{name:"Upgrade: Standard  Business (After 4 months)",type:"upgrade",currentPlan:{id:"standard",name:"Standard Growth",price:2243,billingPeriod:"annual",startDate:"2024-08-24T00:00:00Z"},newPlan:{id:"business",name:"Business Pro",price:4200,billingPeriod:"annual"}},{name:"Downgrade: Business  Standard (After 3 months)",type:"downgrade",currentPlan:{id:"business",name:"Business Pro",price:4200,billingPeriod:"annual",startDate:"2024-09-24T00:00:00Z"},newPlan:{id:"standard",name:"Standard Growth",price:2243,billingPeriod:"annual"}},{name:"Upgrade: Basic  Standard (Monthly to Annual)",type:"upgrade",currentPlan:{id:"basic",name:"Basic Start",price:99,billingPeriod:"monthly",startDate:"2024-12-04T00:00:00Z"},newPlan:{id:"standard",name:"Standard Growth",price:2243,billingPeriod:"annual"}},{name:"Upgrade: Standard  Business (6 months plan, after 2 months)",type:"upgrade",currentPlan:{id:"standard",name:"Standard Growth",price:1522,billingPeriod:"semi-annual",startDate:"2024-10-24T00:00:00Z"},newPlan:{id:"business",name:"Business Pro",price:2395,billingPeriod:"semi-annual"}}];return e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-purple-50 to-white py-12",children:[e.jsxs("div",{className:"container mx-auto px-4 max-w-4xl",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Upgrade/Downgrade Calculator Demo"}),e.jsx("p",{className:"text-lg text-gray-600",children:"See how proration works in different scenarios"})]}),e.jsx("div",{className:"space-y-4",children:i.map((o,l)=>e.jsx(ne,{className:"p-6 hover:shadow-lg transition-shadow",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[o.type==="upgrade"?e.jsx("div",{className:"w-12 h-12 rounded-full bg-blue-100 flex items-center justify-center",children:e.jsx(XV,{className:"w-6 h-6 text-blue-600"})}):e.jsx("div",{className:"w-12 h-12 rounded-full bg-purple-100 flex items-center justify-center",children:e.jsx(KV,{className:"w-6 h-6 text-purple-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-gray-900",children:o.name}),e.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[o.currentPlan.name,"  ",o.newPlan.name]}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Started: ",new Date(o.currentPlan.startDate).toLocaleDateString()]})]})]}),e.jsx(Q,{onClick:()=>{s(o),r(!0)},className:`${o.type==="upgrade"?"bg-gradient-to-r from-blue-600 to-cyan-600 hover:from-blue-700 hover:to-cyan-700":"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700"} text-white`,children:"View Calculation"})]})},l))}),e.jsxs(ne,{className:"mt-12 p-6 bg-gradient-to-r from-green-50 to-emerald-50 border-green-200",children:[e.jsx("h3",{className:"font-bold text-green-900 mb-3",children:"How Proration Works"}),e.jsxs("ul",{className:"space-y-2 text-sm text-green-800",children:[e.jsxs("li",{children:[" ",e.jsx("strong",{children:"For Upgrades:"})," You only pay the difference for the remaining time of your current plan"]}),e.jsxs("li",{children:[" ",e.jsx("strong",{children:"For Downgrades:"})," Your remaining credit extends your new plan automatically"]}),e.jsxs("li",{children:[" ",e.jsx("strong",{children:"100% Fair:"})," All calculations are done down to the day - you never lose money"]}),e.jsxs("li",{children:[" ",e.jsx("strong",{children:"Instant Effect:"})," Upgrades activate immediately after payment"]}),e.jsxs("li",{children:[" ",e.jsx("strong",{children:"No Penalties:"})," No cancellation fees or hidden charges"]})]})]})]}),n&&e.jsx(RY,{isOpen:t,onClose:()=>r(!1),currentPlan:n.currentPlan,newPlan:n.newPlan,basePrices:a})]})}function He({className:t,type:r,...n}){return e.jsx("input",{type:r,"data-slot":"input",className:lt("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...n})}function RL({salonId:t,products:r,onCheckoutComplete:n}){const{formatPrice:s}=Kt(),[a,i]=N.useState(""),[o,l]=N.useState(new Map),[c,u]=N.useState(""),[m,p]=N.useState(""),[x,v]=N.useState(null),[w,y]=N.useState("cash"),[j,S]=N.useState(!1),C=r.filter(F=>F.name.toLowerCase().includes(a.toLowerCase())||F.category.toLowerCase().includes(a.toLowerCase())),P=Array.from(o.values()).reduce((F,H)=>F+H.product.price*H.quantity,0),T=x!=null&&x.isValid?Math.min(x.currentBalance,P):0,_=P-T,k=F=>{const H=new Map(o),K=H.get(F.id);if(K)if(K.quantity<F.stock)H.set(F.id,{product:F,quantity:K.quantity+1});else{ve.error("Not enough stock");return}else H.set(F.id,{product:F,quantity:1});l(H),ve.success(`Added ${F.name}`)},M=(F,H)=>{const K=new Map(o),Z=K.get(F);if(Z)if(H<=0)K.delete(F);else if(H<=Z.product.stock)K.set(F,{...Z,quantity:H});else{ve.error("Not enough stock");return}l(K)},$=async()=>{if(!m.trim()){ve.error("Enter certificate code");return}try{const H=await(await fetch("/api/certificates/check",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:m,salonId:t})})).json();H.success?(v(H.certificate),ve.success(`Certificate applied! Balance: ${s(H.certificate.currentBalance)}`)):ve.error(H.error||"Invalid certificate")}catch{ve.error("Failed to check certificate")}},B=async()=>{if(o.size===0){ve.error("Cart is empty");return}const F=Array.from(o.values()).map(H=>({id:H.product.id,name:H.product.name,price:H.product.price,quantity:H.quantity}));n({items:F,total:_,paymentMethod:w,certificateUsed:x!=null&&x.isValid?{code:m,amount:T}:void 0,clientId:void 0}),l(new Map),p(""),v(null),u(""),S(!1),ve.success("Sale completed! ")};return e.jsxs("div",{className:"bg-white border-b-2 border-gray-200 shadow-sm",children:[e.jsx("div",{className:"p-4 bg-gradient-to-r from-pink-50 to-purple-50",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-pink-600 to-purple-600 rounded-lg flex items-center justify-center",children:e.jsx(ml,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-gray-900",children:"Quick Retail Checkout"}),e.jsx("p",{className:"text-xs text-gray-600",children:"Sell products without booking"})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[o.size>0&&e.jsxs("div",{className:"px-4 py-2 bg-white rounded-lg border-2 border-purple-200 flex items-center gap-3",children:[e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Cart:"}),e.jsxs("span",{className:"font-bold text-purple-600 ml-2",children:[Array.from(o.values()).reduce((F,H)=>F+H.quantity,0)," items"]})]}),e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Total:"}),e.jsx("span",{className:"font-bold text-purple-600 ml-2",children:s(P)})]})]}),e.jsxs(Q,{onClick:()=>S(!j),className:`gap-2 ${j?"bg-purple-600 hover:bg-purple-700":"bg-white text-purple-600 border-2 border-purple-600 hover:bg-purple-50"}`,children:[e.jsx(ml,{className:"w-4 h-4"}),j?"Hide Products":"Sell Products",o.size>0&&e.jsx("span",{className:"ml-1 px-2 py-0.5 bg-purple-500 text-white rounded-full text-xs font-bold",children:o.size})]})]})]})}),j&&e.jsx("div",{className:"p-4 space-y-4 border-t border-gray-200 bg-gray-50",children:e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"col-span-2 space-y-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx(qr,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx(He,{value:a,onChange:F=>i(F.target.value),placeholder:"Search products...",className:"pl-10 h-12"})]}),e.jsx("div",{className:"grid grid-cols-4 gap-3 max-h-[400px] overflow-y-auto bg-white p-3 rounded-lg border border-gray-200",children:C.map(F=>e.jsxs("button",{onClick:()=>k(F),disabled:F.stock===0,className:`p-3 rounded-lg border-2 transition-all text-left ${F.stock===0?"border-gray-200 bg-gray-50 opacity-50 cursor-not-allowed":"border-gray-300 hover:border-purple-400 hover:shadow-md"}`,children:[e.jsx("div",{className:"aspect-square bg-gradient-to-br from-purple-100 to-pink-100 rounded-lg mb-2 flex items-center justify-center",children:e.jsx(ml,{className:"w-8 h-8 text-purple-600"})}),e.jsx("div",{className:"text-sm font-semibold text-gray-900 truncate",children:F.name}),e.jsx("div",{className:"text-xs text-gray-600 truncate mb-1",children:F.category}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"font-bold text-purple-600",children:s(F.price)}),e.jsxs("span",{className:"text-xs text-gray-500",children:["Stock: ",F.stock]})]})]},F.id))})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs(ne,{className:"p-3",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(zn,{className:"w-4 h-4 text-gray-600"}),e.jsx("span",{className:"text-sm font-semibold text-gray-700",children:"Client (Optional)"})]}),e.jsx(He,{value:c,onChange:F=>u(F.target.value),placeholder:"Phone number",className:"h-10"})]}),e.jsxs(ne,{className:"p-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("span",{className:"text-sm font-semibold text-gray-700",children:"Cart Items"}),o.size>0&&e.jsx("button",{onClick:()=>l(new Map),className:"text-xs text-red-600 hover:text-red-700 font-medium",children:"Clear All"})]}),e.jsx("div",{className:"space-y-2 max-h-[200px] overflow-y-auto",children:o.size===0?e.jsx("div",{className:"text-center py-8 text-sm text-gray-500",children:"Cart is empty"}):Array.from(o.values()).map(({product:F,quantity:H})=>e.jsxs("div",{className:"flex items-center gap-2 p-2 bg-gray-50 rounded",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900 truncate",children:F.name}),e.jsxs("div",{className:"text-xs text-gray-600",children:[s(F.price),"  ",H]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>M(F.id,H-1),className:"w-6 h-6 bg-white border border-gray-300 rounded flex items-center justify-center text-gray-600 hover:bg-gray-100",children:"-"}),e.jsx("span",{className:"w-8 text-center text-sm font-semibold",children:H}),e.jsx("button",{onClick:()=>M(F.id,H+1),className:"w-6 h-6 bg-white border border-gray-300 rounded flex items-center justify-center text-gray-600 hover:bg-gray-100",children:"+"})]}),e.jsx("div",{className:"text-sm font-bold text-gray-900 w-20 text-right",children:s(F.price*H)})]},F.id))})]}),o.size>0&&e.jsxs(ne,{className:"p-3 bg-gradient-to-r from-yellow-50 to-pink-50 border-2 border-yellow-300",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(dr,{className:"w-4 h-4 text-yellow-600"}),e.jsx("span",{className:"text-sm font-semibold text-gray-900",children:"Gift Certificate"})]}),x?e.jsx("div",{className:"space-y-2",children:e.jsxs("div",{className:"p-2 bg-white rounded border border-green-200",children:[e.jsxs("div",{className:"flex items-center justify-between text-xs mb-1",children:[e.jsx("span",{className:"font-semibold text-green-900",children:" Applied"}),e.jsx("button",{onClick:()=>{v(null),p("")},className:"text-red-600 hover:text-red-700 font-medium",children:"Remove"})]}),e.jsxs("div",{className:"text-xs space-y-0.5",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Code:"}),e.jsx("span",{className:"font-mono font-semibold",children:m})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Balance:"}),e.jsx("span",{className:"font-semibold text-green-600",children:s(x.currentBalance)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Using:"}),e.jsx("span",{className:"font-bold text-green-600",children:s(T)})]})]})]})}):e.jsxs("div",{className:"flex gap-2",children:[e.jsx(He,{value:m,onChange:F=>p(F.target.value.toUpperCase()),placeholder:"Code",className:"flex-1 h-9 text-sm uppercase font-mono",maxLength:12}),e.jsx(Q,{onClick:$,size:"sm",className:"bg-yellow-600 hover:bg-yellow-700 text-white h-9",children:"Apply"})]})]}),o.size>0&&e.jsxs(ne,{className:"p-3",children:[e.jsx("div",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Payment Method"}),e.jsx("div",{className:"grid grid-cols-3 gap-2",children:["card","cash","link"].map(F=>e.jsx("button",{onClick:()=>y(F),className:`p-2 rounded border-2 transition-all capitalize text-xs font-medium ${w===F?"border-purple-600 bg-purple-50 text-purple-600":"border-gray-300 text-gray-600 hover:border-purple-300"}`,children:F},F))})]}),o.size>0&&e.jsxs(ne,{className:"p-3 bg-gradient-to-r from-purple-600 to-pink-600 text-white",children:[e.jsxs("div",{className:"space-y-2 mb-3",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{children:"Subtotal:"}),e.jsx("span",{className:"font-semibold",children:s(P)})]}),T>0&&e.jsxs("div",{className:"flex items-center justify-between text-sm text-yellow-200",children:[e.jsx("span",{children:"Certificate:"}),e.jsxs("span",{className:"font-semibold",children:["-",s(T)]})]}),e.jsxs("div",{className:"flex items-center justify-between text-lg font-bold pt-2 border-t border-white/30",children:[e.jsx("span",{children:"Total:"}),e.jsx("span",{children:s(_)})]})]}),e.jsx(Q,{onClick:B,className:"w-full bg-white text-purple-600 hover:bg-gray-100 font-bold h-12",children:_===0?" Complete (Paid with Certificate)":` Charge ${s(_)}`})]})]})]})})]})}function LY({isOpen:t,onClose:r,bookingId:n,clientId:s,clientName:a,initialItems:i=[],onPaymentComplete:o}){const{formatPrice:l,currency:c}=Kt(),[u,m]=N.useState(null),[p,x]=N.useState(!0),[v,w]=N.useState("card"),[y,j]=N.useState(i),[S,C]=N.useState(!1),[P,T]=N.useState("percent"),[_,k]=N.useState(0),[M,$]=N.useState(""),[B,F]=N.useState(null),[H,K]=N.useState(!1),Z=y.filter(te=>te.type==="service").reduce((te,ue)=>te+ue.price*(ue.quantity||1),0),V=y.filter(te=>te.type==="product").reduce((te,ue)=>te+ue.price*(ue.quantity||1),0),W=Z+V,G=P==="percent"?W*_/100:_,O=W-G,R=B!=null&&B.isValid?Math.min(B.currentBalance,O):0,D=Math.max(0,O-R);N.useEffect(()=>{t&&n&&I()},[t,n]);const I=async()=>{x(!0);try{const ue=await(await fetch(`/api/bookings/${n}/payment-info`)).json();m(ue.paymentInfo)}catch(te){console.error("Error fetching payment info:",te),ve.error("Failed to load payment information")}finally{x(!1)}},q=async()=>{if(!M.trim()){ve.error("Please enter certificate code");return}K(!0);try{const ue=await(await fetch("/api/certificates/check",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:M,clientId:s,salonId:"salon-id"})})).json();ue.success&&ue.certificate?(F(ue.certificate),ve.success(` Certificate applied! Balance: ${l(ue.certificate.currentBalance)}`)):(F({code:M,originalAmount:0,currentBalance:0,isValid:!1,errorMessage:ue.error||"Invalid certificate code"}),ve.error(ue.error||"Invalid certificate code"))}catch(te){console.error("Error checking certificate:",te),ve.error("Failed to check certificate")}finally{K(!1)}},J=()=>{F(null),$(""),ve.info("Certificate removed")},ie=te=>{j(ue=>[...ue,te]),C(!1)},ee=te=>{j(ue=>ue.filter(de=>de.id!==te))},ae=(te,ue)=>{j(de=>de.map(fe=>fe.id===te?{...fe,quantity:Math.max(1,ue)}:fe))},oe=async()=>{if(y.length===0){ve.error("Please add at least one service or product");return}if(D<0){ve.error("Invalid total amount");return}o({method:v,amount:D,discount:G>0?G:void 0,certificateUsed:B!=null&&B.isValid?{code:B.code,amountUsed:R,remainingBalance:B.currentBalance-R}:void 0,items:y}),ve.success("Payment completed! "),r()};return t?e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black bg-opacity-50",children:[e.jsxs(ne,{className:"max-w-3xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 p-6 flex items-center justify-between z-10",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Checkout"}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Complete payment for ",a,"'s visit."]})]}),e.jsx("button",{onClick:r,className:"w-8 h-8 flex items-center justify-center rounded-full hover:bg-gray-100",children:e.jsx(ht,{className:"w-5 h-5 text-gray-600"})})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[!p&&u&&u.depositPaid&&e.jsx("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(zt,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"font-semibold text-green-900 mb-1",children:[" Deposit Paid: ",l(u.depositAmount)]}),e.jsxs("div",{className:"text-sm text-green-800",children:["Method: ",u.depositMethod,"  ",u.depositPaidAt&&new Date(u.depositPaidAt).toLocaleString()]})]})]})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("h3",{className:"text-sm font-semibold text-gray-700 flex items-center gap-2",children:[e.jsx(hl,{className:"w-4 h-4"}),"SERVICES (",y.filter(te=>te.type==="service").length,")"]}),e.jsx("span",{className:"text-sm font-semibold text-gray-900",children:l(Z)})]}),e.jsxs("div",{className:"space-y-2",children:[y.filter(te=>te.type==="service").map(te=>e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-purple-50 border border-purple-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[e.jsx("div",{className:"w-10 h-10 bg-purple-600 rounded flex items-center justify-center text-white font-bold",children:e.jsx(hl,{className:"w-5 h-5"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium text-gray-900",children:te.name}),te.category&&e.jsx("div",{className:"text-xs text-gray-600",children:te.category})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"flex items-center gap-2 bg-white border border-gray-300 rounded px-2 py-1",children:[e.jsx("button",{onClick:()=>ae(te.id,(te.quantity||1)-1),className:"text-gray-600 hover:text-gray-900 font-bold",children:"-"}),e.jsx("span",{className:"w-8 text-center font-semibold",children:te.quantity||1}),e.jsx("button",{onClick:()=>ae(te.id,(te.quantity||1)+1),className:"text-gray-600 hover:text-gray-900 font-bold",children:"+"})]}),e.jsx("span",{className:"font-semibold text-gray-900 w-24 text-right",children:l(te.price*(te.quantity||1))}),e.jsx("button",{onClick:()=>ee(te.id),className:"text-red-600 hover:text-red-700",children:e.jsx(cn,{className:"w-4 h-4"})})]})]},te.id)),y.filter(te=>te.type==="service").length===0&&e.jsx("div",{className:"p-4 text-center text-gray-500 text-sm",children:"No services added yet"})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("h3",{className:"text-sm font-semibold text-gray-700 flex items-center gap-2",children:[e.jsx(ml,{className:"w-4 h-4"}),"PRODUCTS (",y.filter(te=>te.type==="product").length,")"]}),e.jsx("span",{className:"text-sm font-semibold text-gray-900",children:l(V)})]}),e.jsxs("div",{className:"space-y-2",children:[y.filter(te=>te.type==="product").map(te=>e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-pink-50 border border-pink-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[e.jsx("div",{className:"w-10 h-10 bg-pink-600 rounded flex items-center justify-center text-white font-bold",children:e.jsx(ml,{className:"w-5 h-5"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium text-gray-900",children:te.name}),te.category&&e.jsx("div",{className:"text-xs text-gray-600",children:te.category})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"flex items-center gap-2 bg-white border border-gray-300 rounded px-2 py-1",children:[e.jsx("button",{onClick:()=>ae(te.id,(te.quantity||1)-1),className:"text-gray-600 hover:text-gray-900 font-bold",children:"-"}),e.jsx("span",{className:"w-8 text-center font-semibold",children:te.quantity||1}),e.jsx("button",{onClick:()=>ae(te.id,(te.quantity||1)+1),className:"text-gray-600 hover:text-gray-900 font-bold",children:"+"})]}),e.jsx("span",{className:"font-semibold text-gray-900 w-24 text-right",children:l(te.price*(te.quantity||1))}),e.jsx("button",{onClick:()=>ee(te.id),className:"text-red-600 hover:text-red-700",children:e.jsx(cn,{className:"w-4 h-4"})})]})]},te.id)),y.filter(te=>te.type==="product").length===0&&e.jsx("div",{className:"p-4 text-center text-gray-500 text-sm",children:"No products added yet"})]})]}),e.jsxs("button",{onClick:()=>C(!0),className:"w-full p-4 border-2 border-dashed border-gray-300 rounded-lg text-gray-600 hover:border-purple-400 hover:text-purple-600 hover:bg-purple-50 transition-colors flex items-center justify-center gap-2",children:[e.jsx(er,{className:"w-5 h-5"}),"Add Service or Product"]}),e.jsxs("div",{className:"p-4 bg-gradient-to-r from-yellow-50 to-pink-50 border-2 border-dashed border-yellow-300 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(dr,{className:"w-5 h-5 text-yellow-600"}),e.jsx("h3",{className:"font-semibold text-gray-900",children:"Gift Certificate"})]}),B?B.isValid?e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"p-3 bg-white border border-green-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"font-semibold text-green-900",children:" Certificate Applied"}),e.jsx("button",{onClick:J,className:"text-red-600 hover:text-red-700 text-sm font-medium",children:"Remove"})]}),e.jsxs("div",{className:"space-y-1 text-sm",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Code:"}),e.jsx("span",{className:"font-mono font-semibold",children:B.code})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Original Balance:"}),e.jsx("span",{className:"font-semibold",children:l(B.originalAmount)})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Current Balance:"}),e.jsx("span",{className:"font-semibold text-green-600",children:l(B.currentBalance)})]}),e.jsxs("div",{className:"flex items-center justify-between pt-2 border-t border-gray-200",children:[e.jsx("span",{className:"text-gray-600",children:"Will be used:"}),e.jsx("span",{className:"font-bold text-green-600",children:l(R)})]}),R<B.currentBalance&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Remaining after:"}),e.jsx("span",{className:"font-semibold text-blue-600",children:l(B.currentBalance-R)})]}),B.expiresAt&&e.jsxs("div",{className:"text-xs text-gray-500 mt-2",children:["Expires: ",new Date(B.expiresAt).toLocaleDateString()]})]})]}),B.currentBalance-R>0&&e.jsx("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg text-sm text-blue-900",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(tr,{className:"w-4 h-4 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold mb-1",children:"Balance Saved!"}),e.jsxs("div",{children:["You'll have ",e.jsx("span",{className:"font-bold",children:l(B.currentBalance-R)})," remaining on your certificate for your next visit."]})]})]})})]}):e.jsxs("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"font-semibold text-red-900",children:" Invalid Certificate"}),e.jsx("button",{onClick:J,className:"text-gray-600 hover:text-gray-700 text-sm font-medium",children:"Try Again"})]}),e.jsx("div",{className:"text-sm text-red-800",children:B.errorMessage})]}):e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx(He,{value:M,onChange:te=>$(te.target.value.toUpperCase()),placeholder:"Enter certificate code",className:"flex-1 uppercase font-mono",maxLength:12}),e.jsx(Q,{onClick:q,disabled:!M.trim()||H,className:"bg-yellow-600 hover:bg-yellow-700 text-white",children:H?"Checking...":"Apply"})]}),e.jsxs("div",{className:"text-xs text-gray-600 flex items-start gap-2",children:[e.jsx(ux,{className:"w-4 h-4 flex-shrink-0 mt-0.5"}),e.jsx("span",{children:"Enter your gift certificate code to apply the balance to this purchase."})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Payment Method"}),e.jsx("div",{className:"grid grid-cols-3 gap-2",children:["card","cash","link"].map(te=>e.jsxs("button",{onClick:()=>w(te),className:`p-4 rounded-lg border-2 transition-all flex flex-col items-center gap-2 ${v===te?"border-purple-600 bg-purple-50":"border-gray-200 hover:border-purple-300"}`,children:[te==="card"&&e.jsx(Wr,{className:`w-6 h-6 ${v===te?"text-purple-600":"text-gray-600"}`}),te==="cash"&&e.jsx(Zt,{className:`w-6 h-6 ${v===te?"text-purple-600":"text-gray-600"}`}),te==="link"&&e.jsx(qG,{className:`w-6 h-6 ${v===te?"text-purple-600":"text-gray-600"}`}),e.jsx("span",{className:`text-sm font-medium capitalize ${v===te?"text-purple-600":"text-gray-700"}`,children:te})]},te))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Discount"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>T("percent"),className:`flex-shrink-0 w-12 h-12 rounded-lg flex items-center justify-center border-2 transition-all ${P==="percent"?"border-purple-600 bg-purple-600 text-white":"border-gray-200 text-gray-600 hover:border-purple-300"}`,children:e.jsx(So,{className:"w-5 h-5"})}),e.jsx("button",{onClick:()=>T("amount"),className:`flex-shrink-0 px-4 h-12 rounded-lg flex items-center justify-center border-2 transition-all font-semibold ${P==="amount"?"border-purple-600 bg-purple-600 text-white":"border-gray-200 text-gray-600 hover:border-purple-300"}`,children:c}),e.jsx(He,{type:"number",value:_,onChange:te=>k(Number(te.target.value)),placeholder:"0",className:"flex-1 h-12 text-center text-lg font-semibold",min:"0",max:P==="percent"?100:W})]})]})]}),e.jsxs("div",{className:"space-y-3 pt-4 border-t-2 border-gray-200",children:[e.jsxs("div",{className:"flex items-center justify-between text-gray-700",children:[e.jsx("span",{children:"Subtotal"}),e.jsx("span",{className:"font-semibold",children:l(W)})]}),G>0&&e.jsxs("div",{className:"flex items-center justify-between text-green-600",children:[e.jsxs("span",{children:["Discount (",P==="percent"?`${_}%`:l(_),")"]}),e.jsxs("span",{className:"font-semibold",children:["-",l(G)]})]}),R>0&&e.jsxs("div",{className:"flex items-center justify-between text-yellow-600",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(dr,{className:"w-4 h-4"}),"Gift Certificate"]}),e.jsxs("span",{className:"font-semibold",children:["-",l(R)]})]}),u&&u.totalPaid>0&&e.jsxs("div",{className:"flex items-center justify-between text-blue-600",children:[e.jsx("span",{children:"Already Paid"}),e.jsxs("span",{className:"font-semibold",children:["-",l(u.totalPaid)]})]}),e.jsxs("div",{className:"flex items-center justify-between text-2xl font-bold pt-3 border-t-2 border-gray-200",children:[e.jsx("span",{className:"text-gray-900",children:"Total To Pay"}),e.jsx("span",{className:"text-purple-600",children:l(D)})]})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx(Q,{onClick:r,variant:"outline",className:"flex-1 h-12",children:"Cancel"}),e.jsx(Q,{onClick:oe,disabled:y.length===0||D<0,className:"flex-1 h-12 bg-purple-600 hover:bg-purple-700 text-white text-lg font-bold",children:D===0?" Complete (Fully Paid)":`Charge ${l(D)}`})]})]})]}),S&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black bg-opacity-50",children:e.jsxs(ne,{className:"max-w-md w-full p-6",children:[e.jsx("h3",{className:"text-xl font-bold mb-4",children:"Add Service or Product"}),e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"This would open a modal to select from available services and products."}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(Q,{onClick:()=>C(!1),variant:"outline",className:"flex-1",children:"Cancel"}),e.jsx(Q,{onClick:()=>{ie({id:`item-${Date.now()}`,name:"Demo Product",price:50,quantity:1,type:"product",category:"Hair Care"})},className:"flex-1 bg-purple-600 hover:bg-purple-700 text-white",children:"Add Item"})]})]})})]}):null}const IL=[{id:"prod-1",name:"Kerastase Nutritive Shampoo",price:145,category:"Hair Care",stock:15,description:"Nourishing shampoo for dry hair"},{id:"prod-2",name:"Olaplex Bond Repair",price:165,category:"Hair Care",stock:12,description:"Professional hair treatment"},{id:"prod-3",name:"Moroccanoil Treatment",price:180,category:"Hair Care",stock:20,description:"Argan oil hair treatment"},{id:"prod-4",name:"Living Proof Conditioner",price:125,category:"Hair Care",stock:10,description:"Moisturizing conditioner"},{id:"prod-5",name:"Bumble and Bumble Serum",price:95,category:"Hair Care",stock:18,description:"Anti-frizz hair serum"},{id:"prod-6",name:"OPI Nail Polish",price:45,category:"Nail Care",stock:30,description:"Long-lasting nail polish"},{id:"prod-7",name:"CND Cuticle Oil",price:55,category:"Nail Care",stock:25,description:"Nourishing cuticle oil"},{id:"prod-8",name:"Essie Gel Couture",price:50,category:"Nail Care",stock:22,description:"Gel-like finish polish"},{id:"prod-9",name:"OPI Top Coat",price:40,category:"Nail Care",stock:20,description:"Quick-dry top coat"},{id:"prod-10",name:"La Roche-Posay Face Cream",price:185,category:"Skin Care",stock:8,description:"Hydrating face cream"},{id:"prod-11",name:"Cetaphil Cleanser",price:75,category:"Skin Care",stock:15,description:"Gentle facial cleanser"},{id:"prod-12",name:"The Ordinary Serum",price:95,category:"Skin Care",stock:12,description:"Anti-aging serum"},{id:"prod-13",name:"Neutrogena SPF 50",price:85,category:"Skin Care",stock:10,description:"Sun protection cream"},{id:"prod-14",name:"MAC Ruby Woo Lipstick",price:110,category:"Makeup",stock:14,description:"Classic red lipstick"},{id:"prod-15",name:"Urban Decay Eyeshadow",price:220,category:"Makeup",stock:8,description:"Naked palette"},{id:"prod-16",name:"Fenty Beauty Foundation",price:195,category:"Makeup",stock:10,description:"Full coverage foundation"},{id:"prod-17",name:"Benefit Mascara",price:135,category:"Makeup",stock:12,description:"Volumizing mascara"},{id:"prod-18",name:"Ardell Lashes",price:35,category:"Lashes",stock:40,description:"Natural-looking lashes"},{id:"prod-19",name:"Lash Glue Professional",price:25,category:"Lashes",stock:30,description:"Strong hold lash adhesive"},{id:"prod-20",name:"Anastasia Brow Gel",price:125,category:"Brows",stock:15,description:"Clear brow gel"},{id:"prod-21",name:"Bath & Body Works Lotion",price:65,category:"Body Care",stock:25,description:"Moisturizing body lotion"},{id:"prod-22",name:"Vaseline Body Oil",price:45,category:"Body Care",stock:20,description:"Nourishing body oil"},{id:"prod-23",name:"Nivea Hand Cream",price:35,category:"Body Care",stock:30,description:"Intensive hand care"},{id:"prod-24",name:"Professional Hair Brush",price:85,category:"Tools",stock:12,description:"Detangling brush"},{id:"prod-25",name:"Nail File Set",price:40,category:"Tools",stock:25,description:"Professional nail files"},{id:"prod-26",name:"Makeup Brushes Set",price:250,category:"Tools",stock:8,description:"Complete brush set"},{id:"prod-27",name:"Luxury Hair Care Set",price:450,category:"Gift Sets",stock:5,description:"Shampoo + Conditioner + Treatment"},{id:"prod-28",name:"Manicure Gift Box",price:180,category:"Gift Sets",stock:10,description:"Complete nail care kit"},{id:"prod-29",name:"Spa Day Package",price:350,category:"Gift Sets",stock:6,description:"Relaxation essentials"},{id:"prod-30",name:"Chanel No. 5",price:550,category:"Perfume",stock:4,description:"Classic fragrance"},{id:"prod-31",name:"Dior Sauvage",price:480,category:"Perfume",stock:6,description:"Fresh & spicy scent"},{id:"prod-32",name:"Jo Malone Cologne",price:420,category:"Perfume",stock:5,description:"English pear & freesia"}],$Y=[{id:"booking-1",clientId:"client-1",clientName:"Sarah Johnson",serviceName:"Haircut & Styling",servicePrice:200,time:"10:00 AM",depositPaid:!0,depositAmount:50},{id:"booking-2",clientId:"client-2",clientName:"Emma Williams",serviceName:"Manicure",servicePrice:150,time:"2:00 PM",depositPaid:!1,depositAmount:0},{id:"booking-3",clientId:"client-3",clientName:"Olivia Brown",serviceName:"Facial Treatment",servicePrice:300,time:"4:30 PM",depositPaid:!0,depositAmount:100}];function BY(){const t=vn(),{formatPrice:r}=Kt(),[n,s]=N.useState([]),[a,i]=N.useState(!1),[o,l]=N.useState(null),c=w=>{const y={...w,id:`sale-${Date.now()}`,timestamp:new Date,type:"retail"};s(j=>[y,...j]),ve.success(" Retail sale completed!",{description:`${w.items.length} items sold - ${r(w.total)}`})},u=w=>{l(w),i(!0)},m=w=>{const y={...w,id:`booking-sale-${Date.now()}`,timestamp:new Date,type:"booking",bookingId:o.id};s(j=>[y,...j]),ve.success(" Booking payment completed!",{description:`${o.clientName} - ${r(w.amount)}`}),i(!1),l(null)},p=n.reduce((w,y)=>w+y.total,0),x=n.filter(w=>w.type==="retail").reduce((w,y)=>w+y.total,0),v=n.filter(w=>w.type==="booking").reduce((w,y)=>w+y.total,0);return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-pink-600 text-white",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs(Q,{variant:"outline",className:"bg-white/10 border-white/20 text-white hover:bg-white/20",onClick:()=>t("/dashboard"),children:[e.jsx(Vi,{className:"w-4 h-4 mr-2"}),"Back"]}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:" Quick Retail Checkout Demo"}),e.jsx("p",{className:"text-purple-100 mt-1",children:"Sell products without booking + Enhanced checkout for appointments"})]})]})})})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[e.jsx(ne,{className:"p-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-green-500 to-green-600 rounded-lg flex items-center justify-center",children:e.jsx(zt,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Total Revenue"}),e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:r(p)})]})]})}),e.jsx(ne,{className:"p-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-pink-500 to-pink-600 rounded-lg flex items-center justify-center",children:e.jsx(ml,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Retail Sales"}),e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:r(x)}),e.jsxs("div",{className:"text-xs text-gray-500",children:[n.filter(w=>w.type==="retail").length," transactions"]})]})]})}),e.jsx(ne,{className:"p-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-500 to-purple-600 rounded-lg flex items-center justify-center",children:e.jsx(vt,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Booking Revenue"}),e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:r(v)}),e.jsxs("div",{className:"text-xs text-gray-500",children:[n.filter(w=>w.type==="booking").length," bookings"]})]})]})})]}),e.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:e.jsx(RL,{salonId:"demo-salon-123",products:IL,onCheckoutComplete:c})}),e.jsx(ne,{children:e.jsxs("div",{className:"p-6",children:[e.jsxs("h3",{className:"font-bold text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx(vt,{className:"w-5 h-5 text-purple-600"}),"Today's Bookings"]}),e.jsx("div",{className:"space-y-3",children:$Y.map(w=>e.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg border-2 border-gray-200 hover:border-purple-400 transition-all cursor-pointer",onClick:()=>u(w),children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:"font-semibold text-gray-900",children:w.clientName}),e.jsx("div",{className:"text-sm font-medium text-purple-600",children:w.time})]}),e.jsx("div",{className:"text-sm text-gray-600 mb-2",children:w.serviceName}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"text-sm font-semibold text-gray-900",children:r(w.servicePrice)}),w.depositPaid?e.jsxs("div",{className:"px-2 py-1 bg-green-100 text-green-700 text-xs font-medium rounded",children:[" Deposit: ",r(w.depositAmount)]}):e.jsx("div",{className:"px-2 py-1 bg-yellow-100 text-yellow-700 text-xs font-medium rounded",children:" No deposit"})]}),e.jsx("div",{className:"mt-3 pt-3 border-t border-gray-200",children:e.jsx(Q,{size:"sm",className:"w-full bg-purple-600 hover:bg-purple-700 text-white",onClick:y=>{y.stopPropagation(),u(w)},children:" Open Checkout"})})]},w.id))})]})})]}),e.jsx(ne,{children:e.jsxs("div",{className:"p-6",children:[e.jsxs("h3",{className:"font-bold text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx(zt,{className:"w-5 h-5 text-green-600"}),"Sales History",e.jsxs("span",{className:"ml-auto text-sm font-normal text-gray-600",children:[n.length," transactions"]})]}),n.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(ml,{className:"w-8 h-8 text-gray-400"})}),e.jsx("p",{className:"text-gray-600 mb-2",children:"No sales yet"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Try selling some products or completing a booking checkout"})]}):e.jsx("div",{className:"space-y-3 max-h-[600px] overflow-y-auto",children:n.map(w=>e.jsxs("div",{className:`p-4 rounded-lg border-2 ${w.type==="retail"?"bg-pink-50 border-pink-200":"bg-purple-50 border-purple-200"}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("div",{className:"font-semibold text-gray-900 flex items-center gap-2",children:w.type==="retail"?e.jsxs(e.Fragment,{children:[e.jsx(ml,{className:"w-4 h-4 text-pink-600"}),"Retail Sale"]}):e.jsxs(e.Fragment,{children:[e.jsx(vt,{className:"w-4 h-4 text-purple-600"}),"Booking Checkout"]})}),e.jsx("div",{className:"text-xs text-gray-600",children:new Date(w.timestamp).toLocaleTimeString()})]}),e.jsx("div",{className:"space-y-1 text-sm mb-3",children:w.items.map((y,j)=>e.jsxs("div",{className:"flex items-center justify-between text-gray-700",children:[e.jsxs("span",{children:[y.name,"  ",y.quantity||1]}),e.jsx("span",{className:"font-medium",children:r(y.price*(y.quantity||1))})]},j))}),e.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-gray-200",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Payment:"}),e.jsx("span",{className:"text-sm font-medium capitalize px-2 py-0.5 bg-white rounded",children:w.method}),w.certificateUsed&&e.jsx("span",{className:"text-xs font-medium px-2 py-0.5 bg-yellow-100 text-yellow-700 rounded",children:" Certificate"})]}),e.jsx("div",{className:"text-lg font-bold text-gray-900",children:r(w.total)})]}),w.certificateUsed&&e.jsxs("div",{className:"mt-2 p-2 bg-yellow-50 border border-yellow-200 rounded text-xs",children:[e.jsxs("div",{className:"font-medium text-yellow-900 mb-1",children:["Certificate Used: ",w.certificateUsed.code]}),e.jsxs("div",{className:"text-yellow-700",children:["Amount: ",r(w.certificateUsed.amountUsed)]})]})]},w.id))})]})})]})]}),a&&o&&e.jsx(LY,{isOpen:a,onClose:()=>{i(!1),l(null)},bookingId:o.id,clientId:o.clientId,clientName:o.clientName,initialItems:[{id:o.id,name:o.serviceName,price:o.servicePrice,type:"service",quantity:1}],onPaymentComplete:m})]})}const nr="bbayqzqlqgqipohulcsd",cr="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJiYXlxenFscWdxaXBvaHVsY3NkIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjYzMjkxMjMsImV4cCI6MjA4MTkwNTEyM30.XNZhbdsEgVkFTVh1A6m7fpoVgePVT4ovMORxwKl3fGQ",E0=`https://${nr}.supabase.co/functions/v1/make-server-3e5c72fb`,up={LOGOS:"logos",PRODUCTS:"products",CERTIFICATES:"certificates",MASTERS:"masters",GALLERY:"gallery",AVATARS:"avatars",GENERAL:"general"};async function FY(t,r=up.GENERAL){try{const n=new FormData;n.append("file",t),n.append("folder",r);const s=await fetch(`${E0}/storage/upload`,{method:"POST",headers:{Authorization:`Bearer ${cr}`},body:n});if(!s.ok){const i=await s.json();throw new Error(i.error||"Failed to upload image")}const a=await s.json();return console.log(` Image uploaded to ${r}:`,a.publicUrl),a.publicUrl}catch(n){throw console.error(" Error uploading image:",n),n}}async function zY(t){try{const r=t?`${E0}/storage/images/${t}`:`${E0}/storage/images`,n=await fetch(r,{headers:{Authorization:`Bearer ${cr}`}});if(!n.ok){const a=await n.json();throw new Error(a.error||"Failed to list images")}return await n.json()}catch(r){throw console.error(" Error listing images:",r),r}}async function UY(t){try{const r=await fetch(`${E0}/storage/delete`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${cr}`},body:JSON.stringify({filePath:t})});if(!r.ok){const n=await r.json();throw new Error(n.error||"Failed to delete image")}console.log(` Image deleted: ${t}`)}catch(r){throw console.error(" Error deleting image:",r),r}}function HY(t,r=5){if(!["image/png","image/jpeg","image/jpg","image/webp","image/svg+xml"].includes(t.type))throw new Error(`Invalid file type: ${t.type}. Allowed: PNG, JPEG, JPG, WebP, SVG`);const s=r*1024*1024;if(t.size>s)throw new Error(`File too large: ${(t.size/1024/1024).toFixed(2)}MB. Max: ${r}MB`);return!0}function WY(){const[t,r]=N.useState(!1),[n,s]=N.useState(0),[a,i]=N.useState(null),[o,l]=N.useState(null);return{uploading:t,progress:n,error:a,imageUrl:o,uploadImageFile:async(m,p=up.GENERAL)=>{try{r(!0),i(null),s(0),HY(m),s(20);const x=await FY(m,p);return s(100),l(x),x}catch(x){const v=x instanceof Error?x.message:"Failed to upload image";return i(v),console.error(" Upload error:",v),null}finally{r(!1)}},reset:()=>{r(!1),s(0),i(null),l(null)}}}function qY({folder:t=up.GENERAL,onUploadComplete:r,currentImageUrl:n,label:s="Upload Image",className:a=""}){const{uploadImageFile:i,uploading:o,error:l,imageUrl:c}=WY(),[u,m]=N.useState(n||null),p=N.useRef(null),x=async y=>{var P;const j=(P=y.target.files)==null?void 0:P[0];if(!j)return;const S=new FileReader;S.onloadend=()=>{m(S.result)},S.readAsDataURL(j);const C=await i(j,t);C&&r&&r(C)},v=()=>{m(null),p.current&&(p.current.value=""),r&&r("")},w=c||u;return e.jsxs("div",{className:`space-y-3 ${a}`,children:[s&&e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:s}),e.jsxs("div",{className:"relative",children:[w?e.jsxs("div",{className:"relative w-full h-48 rounded-lg overflow-hidden border-2 border-gray-200 group",children:[e.jsx("img",{src:w,alt:"Preview",className:"w-full h-full object-contain bg-gray-50"}),e.jsx("button",{type:"button",onClick:v,className:"absolute top-2 right-2 p-2 bg-red-500 text-white rounded-full opacity-0 group-hover:opacity-100 hover:bg-red-600 transition-all shadow-lg",children:e.jsx(ht,{className:"w-4 h-4"})}),c&&e.jsx("div",{className:"absolute top-2 left-2 p-2 bg-green-500 text-white rounded-full shadow-lg",children:e.jsx(or,{className:"w-4 h-4"})})]}):e.jsx("button",{type:"button",onClick:()=>{var y;return(y=p.current)==null?void 0:y.click()},disabled:o,className:"relative w-full h-48 border-2 border-dashed border-gray-300 rounded-lg hover:border-purple-500 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 transition-all disabled:opacity-50 disabled:cursor-not-allowed group",children:e.jsx("div",{className:"flex flex-col items-center justify-center h-full",children:o?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600 mb-3"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Uploading..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(ss,{className:"w-12 h-12 text-gray-400 mb-3 group-hover:text-purple-500 transition-colors"}),e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Click to upload or drag and drop"}),e.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG, WebP or SVG (max 5MB)"})]})})}),e.jsx("input",{ref:p,type:"file",accept:"image/png,image/jpeg,image/jpg,image/webp,image/svg+xml",onChange:x,className:"hidden"})]}),l&&e.jsxs("div",{className:"flex items-center gap-2 p-3 bg-red-50 border border-red-200 rounded-lg",children:[e.jsx(An,{className:"w-4 h-4 text-red-500 flex-shrink-0"}),e.jsx("p",{className:"text-sm text-red-700",children:l})]}),w&&c&&e.jsxs("p",{className:"text-xs text-green-600 flex items-center gap-1",children:[e.jsx(or,{className:"w-3 h-3"}),"Image uploaded successfully"]})]})}function VY({src:t,alt:r,className:n="",fallbackSrc:s="",loading:a="lazy",onError:i,onLoad:o}){const[l,c]=N.useState(!1),[u,m]=N.useState(!0),p=()=>{c(!0),m(!1),i==null||i()},x=()=>{m(!1),o==null||o()},v=l&&s?s:t;return!t&&!s?e.jsx("div",{className:`bg-gradient-to-br from-purple-100 to-pink-100 flex items-center justify-center ${n}`,children:e.jsx("svg",{className:"w-1/3 h-1/3 text-purple-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})}):e.jsxs("div",{className:"relative",children:[u&&e.jsx("div",{className:`absolute inset-0 bg-gradient-to-br from-gray-200 to-gray-300 animate-pulse ${n}`}),e.jsx("img",{src:v,alt:r,className:n,loading:a,onError:p,onLoad:x})]})}function GY(){const[t,r]=N.useState(up.GENERAL),[n,s]=N.useState([]),[a,i]=N.useState(!1),[o,l]=N.useState("");N.useEffect(()=>{c()},[t]);const c=async()=>{try{i(!0);const{files:x}=await zY(t);s(x)}catch(x){console.error("Failed to load images:",x)}finally{i(!1)}},u=async x=>{if(confirm("Delete this image?"))try{await UY(x),s(n.filter(v=>v.path!==x))}catch(v){console.error("Failed to delete image:",v),alert("Failed to delete image")}},m=x=>{l(x),setTimeout(()=>c(),1e3)},p=Object.entries(up);return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-pink-50 to-blue-50 py-12 px-4",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-purple-500 to-pink-500 rounded-full mb-4",children:e.jsx(No,{className:"w-8 h-8 text-white"})}),e.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent mb-2",children:"Supabase Storage Demo"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Test image upload, listing, and deletion"}),e.jsxs(It,{to:"/storage-admin",className:"inline-flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-xl hover:shadow-lg transition-all",children:[e.jsx(Ec,{className:"w-4 h-4"}),"Open Storage Admin"]})]}),e.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[e.jsx("div",{className:"lg:col-span-1",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-6 sticky top-6",children:[e.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx(ss,{className:"w-5 h-5 text-purple-600"}),"Upload Image"]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Folder"}),e.jsx("select",{value:t,onChange:x=>r(x.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:p.map(([x,v])=>e.jsxs("option",{value:v,children:[x.toLowerCase()," (",v,")"]},v))})]}),e.jsx(qY,{folder:t,onUploadComplete:m,label:"Drop image here"}),o&&e.jsxs("div",{className:"mt-4 p-4 bg-green-50 border border-green-200 rounded-lg",children:[e.jsx("p",{className:"text-sm font-medium text-green-900 mb-2",children:" Uploaded successfully!"}),e.jsx("p",{className:"text-xs text-green-700 break-all",children:o})]}),e.jsxs("div",{className:"mt-6 p-4 bg-purple-50 rounded-lg",children:[e.jsx("h3",{className:"text-sm font-medium text-purple-900 mb-2",children:"Storage Stats"}),e.jsxs("div",{className:"space-y-1 text-xs text-purple-700",children:[e.jsxs("p",{children:["Folder: ",e.jsx("span",{className:"font-semibold",children:t})]}),e.jsxs("p",{children:["Images: ",e.jsx("span",{className:"font-semibold",children:n.length})]}),e.jsxs("p",{children:["Max Size: ",e.jsx("span",{className:"font-semibold",children:"5 MB"})]}),e.jsxs("p",{children:["Types: ",e.jsx("span",{className:"font-semibold",children:"PNG, JPG, WebP, SVG"})]})]})]})]})}),e.jsx("div",{className:"lg:col-span-2",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h2",{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:[e.jsx(CL,{className:"w-5 h-5 text-purple-600"}),t," (",n.length,")"]}),e.jsx("button",{onClick:c,disabled:a,className:"px-4 py-2 text-sm font-medium text-purple-600 hover:bg-purple-50 rounded-lg transition-colors disabled:opacity-50",children:a?"Loading...":"Refresh"})]}),a?e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-4",children:[...Array(6)].map((x,v)=>e.jsx("div",{className:"aspect-square bg-gray-200 rounded-lg animate-pulse"},v))}):n.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(No,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500",children:"No images in this folder"}),e.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Upload your first image to get started"})]}):e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-4",children:n.map(x=>e.jsxs("div",{className:"group relative aspect-square bg-gray-100 rounded-lg overflow-hidden hover:shadow-lg transition-shadow",children:[e.jsx(VY,{src:x.publicUrl,alt:x.name,className:"w-full h-full object-cover"}),e.jsxs("div",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity flex flex-col items-center justify-center p-4",children:[e.jsx("p",{className:"text-white text-xs font-medium text-center mb-3 line-clamp-2",children:x.name}),e.jsxs("p",{className:"text-white/70 text-xs mb-4",children:[(x.size/1024).toFixed(1)," KB"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("a",{href:x.publicUrl,target:"_blank",rel:"noopener noreferrer",className:"px-3 py-1.5 bg-white text-purple-600 rounded-lg text-xs font-medium hover:bg-purple-50 transition-colors",children:"View"}),e.jsxs("button",{onClick:()=>u(x.path),className:"px-3 py-1.5 bg-red-500 text-white rounded-lg text-xs font-medium hover:bg-red-600 transition-colors flex items-center gap-1",children:[e.jsx(cn,{className:"w-3 h-3"}),"Delete"]})]})]})]},x.path))})]})})]}),e.jsxs("div",{className:"mt-8 bg-white rounded-2xl shadow-xl p-6",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:" Documentation"}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-4 text-sm",children:[e.jsxs("div",{className:"p-4 bg-purple-50 rounded-lg",children:[e.jsx("h4",{className:"font-semibold text-purple-900 mb-2",children:"Folder Structure"}),e.jsxs("ul",{className:"text-purple-700 space-y-1 text-xs",children:[e.jsxs("li",{children:[" ",e.jsx("code",{children:"logos/"})," - Salon logos"]}),e.jsxs("li",{children:[" ",e.jsx("code",{children:"products/"})," - Product photos"]}),e.jsxs("li",{children:[" ",e.jsx("code",{children:"certificates/"})," - Gift certificates"]}),e.jsxs("li",{children:[" ",e.jsx("code",{children:"masters/"})," - Master photos"]}),e.jsxs("li",{children:[" ",e.jsx("code",{children:"gallery/"})," - Work gallery"]}),e.jsxs("li",{children:[" ",e.jsx("code",{children:"avatars/"})," - User avatars"]})]})]}),e.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg",children:[e.jsx("h4",{className:"font-semibold text-blue-900 mb-2",children:"Validation Rules"}),e.jsxs("ul",{className:"text-blue-700 space-y-1 text-xs",children:[e.jsx("li",{children:" Max size: 5 MB"}),e.jsx("li",{children:" Types: PNG, JPG, WebP, SVG"}),e.jsx("li",{children:" Auto-generated unique names"}),e.jsx("li",{children:" Public read access"})]})]}),e.jsxs("div",{className:"p-4 bg-green-50 rounded-lg",children:[e.jsx("h4",{className:"font-semibold text-green-900 mb-2",children:"Features"}),e.jsxs("ul",{className:"text-green-700 space-y-1 text-xs",children:[e.jsx("li",{children:" CDN-powered delivery"}),e.jsx("li",{children:" Automatic optimization"}),e.jsx("li",{children:" Lazy loading support"}),e.jsx("li",{children:" Fallback handling"})]})]})]})]})]})})}const xd=[{url:"https://images.unsplash.com/photo-1560066984-138dadb4c035?w=400",folder:"logos",name:"salon-logo-1.jpg"},{url:"https://images.unsplash.com/photo-1521590832167-7bcbfaa6381f?w=400",folder:"logos",name:"salon-logo-2.jpg"},{url:"https://images.unsplash.com/photo-1522337360788-8b13dee7a37e?w=400",folder:"logos",name:"salon-logo-3.jpg"},{url:"https://images.unsplash.com/photo-1556228578-8c89e6adf883?w=800",folder:"products",name:"product-lipstick.jpg"},{url:"https://images.unsplash.com/photo-1571875257727-256c39da42af?w=800",folder:"products",name:"product-makeup.jpg"},{url:"https://images.unsplash.com/photo-1596462502278-27bfdc403348?w=800",folder:"products",name:"product-skincare.jpg"},{url:"https://images.unsplash.com/photo-1608248543803-ba4f8c70ae0b?w=800",folder:"products",name:"product-cosmetics.jpg"},{url:"https://images.unsplash.com/photo-1570172619644-dfd03ed5d881?w=800",folder:"products",name:"product-nails.jpg"},{url:"https://images.unsplash.com/photo-1513151233558-d860c5398176?w=1200",folder:"certificates",name:"cert-background-1.jpg"},{url:"https://images.unsplash.com/photo-1487700160041-babef9c3cb55?w=1200",folder:"certificates",name:"cert-background-2.jpg"},{url:"https://images.unsplash.com/photo-1522335789203-aabd1fc54bc9?w=1200",folder:"certificates",name:"cert-background-3.jpg"},{url:"https://images.unsplash.com/photo-1594744803329-e58b31de8bf5?w=600",folder:"masters",name:"master-stylist-1.jpg"},{url:"https://images.unsplash.com/photo-1580618672591-eb180b1a973f?w=600",folder:"masters",name:"master-stylist-2.jpg"},{url:"https://images.unsplash.com/photo-1562322140-8baeececf3df?w=600",folder:"masters",name:"master-makeup-artist.jpg"},{url:"https://images.unsplash.com/photo-1519699047748-de8e457a634e?w=600",folder:"masters",name:"master-hairdresser.jpg"},{url:"https://images.unsplash.com/photo-1522337660859-02fbefca4702?w=1000",folder:"gallery",name:"work-hairstyle-1.jpg"},{url:"https://images.unsplash.com/photo-1560869713-7d0a29430803?w=1000",folder:"gallery",name:"work-hairstyle-2.jpg"},{url:"https://images.unsplash.com/photo-1487412947147-5cebf100ffc2?w=1000",folder:"gallery",name:"work-makeup-1.jpg"},{url:"https://images.unsplash.com/photo-1516975080664-ed2fc6a32937?w=1000",folder:"gallery",name:"work-nails-1.jpg"},{url:"https://images.unsplash.com/photo-1604902396830-aca29e19b067?w=1000",folder:"gallery",name:"work-nails-2.jpg"},{url:"https://images.unsplash.com/photo-1519699047748-de8e457a634e?w=1000",folder:"gallery",name:"work-salon-1.jpg"},{url:"https://images.unsplash.com/photo-1494790108377-be9c29b29330?w=400",folder:"avatars",name:"avatar-woman-1.jpg"},{url:"https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=400",folder:"avatars",name:"avatar-woman-2.jpg"},{url:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=400",folder:"avatars",name:"avatar-man-1.jpg"},{url:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=400",folder:"avatars",name:"avatar-man-2.jpg"},{url:"https://images.unsplash.com/photo-1560066984-138dadb4c035?w=1200",folder:"general",name:"salon-interior-1.jpg"},{url:"https://images.unsplash.com/photo-1521590832167-7bcbfaa6381f?w=1200",folder:"general",name:"salon-interior-2.jpg"},{url:"https://images.unsplash.com/photo-1633681926022-84c23e8cb2d6?w=1200",folder:"general",name:"beauty-salon.jpg"}];function KY({onUploadComplete:t}){const[r,n]=N.useState(!1),[s,a]=N.useState(0),[i,o]=N.useState([]),[l,c]=N.useState(!1),u=async v=>{try{const y=await(await fetch(v.url)).blob(),j=new FormData;j.append("file",y,v.name),j.append("folder",v.folder);const S=await fetch(`https://${nr}.supabase.co/functions/v1/make-server-3e5c72fb/storage/upload`,{method:"POST",headers:{Authorization:`Bearer ${cr}`},body:j});if(!S.ok)throw new Error(`Upload failed: ${S.statusText}`);const C=await S.json();return{name:v.name,success:!0,url:C.publicUrl}}catch(w){return{name:v.name,success:!1,error:w instanceof Error?w.message:"Unknown error"}}},m=async()=>{n(!0),a(0),o([]),c(!1);const v=[];for(let w=0;w<xd.length;w++){const y=await u(xd[w]);v.push(y),a(Math.round((w+1)/xd.length*100)),o([...v]),await new Promise(j=>setTimeout(j,500))}n(!1),c(!0),t&&t()},p=i.filter(v=>v.success).length,x=i.filter(v=>!v.success).length;return e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-500 to-pink-500 rounded-xl flex items-center justify-center",children:e.jsx(ss,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Image Seeder"}),e.jsx("p",{className:"text-sm text-gray-500",children:" -  Storage"})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[e.jsxs("div",{className:"bg-purple-50 rounded-lg p-4 text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-purple-600",children:xd.length}),e.jsx("p",{className:"text-xs text-purple-700 mt-1",children:" "})]}),e.jsxs("div",{className:"bg-green-50 rounded-lg p-4 text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-green-600",children:p}),e.jsx("p",{className:"text-xs text-green-700 mt-1",children:""})]}),e.jsxs("div",{className:"bg-red-50 rounded-lg p-4 text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-red-600",children:x}),e.jsx("p",{className:"text-xs text-red-700 mt-1",children:""})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-3",children:" :"}),e.jsx("div",{className:"grid grid-cols-2 gap-2 text-xs",children:Object.entries(xd.reduce((v,w)=>(v[w.folder]=(v[w.folder]||0)+1,v),{})).map(([v,w])=>e.jsxs("div",{className:"flex justify-between items-center bg-gray-50 rounded px-3 py-2",children:[e.jsx("span",{className:"text-gray-600 capitalize",children:v}),e.jsx("span",{className:"font-semibold text-gray-900",children:w})]},v))})]}),r&&e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"..."}),e.jsxs("span",{className:"text-sm font-bold text-purple-600",children:[s,"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3 overflow-hidden",children:e.jsx("div",{className:"h-full bg-gradient-to-r from-purple-500 to-pink-500 transition-all duration-300",style:{width:`${s}%`}})})]}),e.jsx("button",{onClick:m,disabled:r,className:"w-full py-4 bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-xl font-semibold hover:shadow-lg disabled:opacity-50 disabled:cursor-not-allowed transition-all flex items-center justify-center gap-2",children:r?e.jsxs(e.Fragment,{children:[e.jsx(KS,{className:"w-5 h-5 animate-spin"})," ",s,"%..."]}):l?e.jsxs(e.Fragment,{children:[e.jsx(zt,{className:"w-5 h-5"})," !"]}):e.jsxs(e.Fragment,{children:[e.jsx(ss,{className:"w-5 h-5"})," ",xd.length," "]})}),i.length>0&&e.jsxs("div",{className:"mt-6 max-h-64 overflow-y-auto",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-3",children:":"}),e.jsx("div",{className:"space-y-1",children:i.map((v,w)=>e.jsxs("div",{className:`flex items-center justify-between text-xs px-3 py-2 rounded ${v.success?"bg-green-50 text-green-700":"bg-red-50 text-red-700"}`,children:[e.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[v.success?e.jsx(zt,{className:"w-3 h-3 flex-shrink-0"}):e.jsx(An,{className:"w-3 h-3 flex-shrink-0"}),e.jsx("span",{className:"truncate",children:v.name})]}),!v.success&&v.error&&e.jsx("span",{className:"text-xs opacity-70 ml-2",children:v.error})]},w))})]}),l&&e.jsx("div",{className:"mt-6 p-4 bg-green-50 border border-green-200 rounded-xl",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(zt,{className:"w-5 h-5 text-green-600 mt-0.5 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-green-900",children:"!"}),e.jsxs("p",{className:"text-sm text-green-700 mt-1",children:["  ",p,"  ",xd.length," .",x>0&&` ${x} .`]}),e.jsx("p",{className:"text-xs text-green-600 mt-2",children:" Storage Admin    ."})]})]})})]})}function YY(){var m,p,x;const[t,r]=N.useState(null),[n,s]=N.useState(!1),[a,i]=N.useState(!1),[o,l]=N.useState(null),c=async()=>{s(!0),l(null);try{const v=await fetch(`https://${nr}.supabase.co/functions/v1/make-server-3e5c72fb/storage/status`,{headers:{Authorization:`Bearer ${cr}`}});if(!v.ok)throw new Error("Failed to fetch storage status");const w=await v.json();r(w)}catch(v){l(v instanceof Error?v.message:"Unknown error")}finally{s(!1)}},u=async()=>{i(!0),l(null);try{const v=await fetch(`https://${nr}.supabase.co/functions/v1/make-server-3e5c72fb/storage/init`,{headers:{Authorization:`Bearer ${cr}`}});if(!v.ok)throw new Error("Failed to initialize bucket");const w=await v.json();console.log(" Bucket initialized:",w),await c()}catch(v){l(v instanceof Error?v.message:"Unknown error")}finally{i(!1)}};return N.useEffect(()=>{c()},[]),e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-pink-50 to-purple-50 p-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsx("div",{className:"bg-white rounded-2xl shadow-lg p-8 mb-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-purple-500 to-pink-500 rounded-xl flex items-center justify-center",children:e.jsx(kL,{className:"w-7 h-7 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Storage Admin"}),e.jsx("p",{className:"text-gray-500 mt-1",children:"Supabase Storage Management"})]})]}),e.jsxs("button",{onClick:c,disabled:n,className:"px-4 py-2 bg-purple-500 text-white rounded-lg hover:bg-purple-600 disabled:opacity-50 flex items-center gap-2 transition-colors",children:[e.jsx(xn,{className:`w-4 h-4 ${n?"animate-spin":""}`}),"Refresh"]})]})}),o&&e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4 mb-6 flex items-start gap-3",children:[e.jsx(An,{className:"w-5 h-5 text-red-500 mt-0.5 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-red-900",children:"Error"}),e.jsx("p",{className:"text-red-700 text-sm mt-1",children:o})]})]}),n&&!t&&e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-12 text-center",children:[e.jsx(xn,{className:"w-8 h-8 text-purple-500 animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500",children:"Loading storage status..."})]}),t&&!t.exists&&e.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-2xl p-8 text-center",children:[e.jsx(An,{className:"w-12 h-12 text-yellow-500 mx-auto mb-4"}),e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"Bucket Not Found"}),e.jsx("p",{className:"text-gray-600 mb-6",children:t.message}),e.jsx("button",{onClick:u,disabled:a,className:"px-6 py-3 bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-xl hover:shadow-lg disabled:opacity-50 transition-all",children:a?"Initializing...":"Initialize Bucket"})]}),t&&t.exists&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx(zt,{className:"w-6 h-6 text-green-500"}),e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Bucket Active"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Bucket Name"}),e.jsx("p",{className:"font-semibold text-gray-900",children:t.bucketName})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Total Images"}),e.jsx("p",{className:"font-semibold text-gray-900",children:t.totalImages||0})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Public Access"}),e.jsx("p",{className:"font-semibold text-gray-900",children:(m=t.bucket)!=null&&m.public?"Enabled":"Disabled"})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"File Size Limit"}),e.jsx("p",{className:"font-semibold text-gray-900",children:(p=t.bucket)!=null&&p.file_size_limit?`${(t.bucket.file_size_limit/1024/1024).toFixed(1)} MB`:"N/A"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx(CL,{className:"w-6 h-6 text-purple-500"}),e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Folder Statistics"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:(x=t.folders)==null?void 0:x.map(v=>e.jsxs("div",{className:"border-2 border-gray-200 rounded-xl p-4 hover:border-purple-300 transition-colors",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(No,{className:"w-5 h-5 text-purple-500"}),e.jsx("span",{className:"font-semibold text-gray-900 capitalize",children:v.folder})]}),e.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-semibold ${v.count>0?"bg-green-100 text-green-700":"bg-gray-100 text-gray-500"}`,children:v.count})]}),v.error&&e.jsx("p",{className:"text-xs text-red-500 mt-2",children:v.error})]},v.folder))})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsx("button",{onClick:u,disabled:a,className:"px-6 py-3 bg-gray-100 text-gray-700 rounded-xl hover:bg-gray-200 disabled:opacity-50 transition-colors",children:a?"Reinitializing...":"Reinitialize Bucket"})}),e.jsx("div",{className:"mt-8",children:e.jsx(KY,{onUploadComplete:c})})]})]})})}var ho=function(){return ho=Object.assign||function(r){for(var n,s=1,a=arguments.length;s<a;s++){n=arguments[s];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])}return r},ho.apply(this,arguments)};function Nm(t,r){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&r.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(t);a<s.length;a++)r.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(t,s[a])&&(n[s[a]]=t[s[a]]);return n}function ZY(t,r,n,s){function a(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(m){try{u(s.next(m))}catch(p){o(p)}}function c(m){try{u(s.throw(m))}catch(p){o(p)}}function u(m){m.done?i(m.value):a(m.value).then(l,c)}u((s=s.apply(t,r||[])).next())})}function XY(t,r,n){if(n||arguments.length===2)for(var s=0,a=r.length,i;s<a;s++)(i||!(s in r))&&(i||(i=Array.prototype.slice.call(r,0,s)),i[s]=r[s]);return t.concat(i||Array.prototype.slice.call(r))}const JY=t=>t?(...r)=>t(...r):(...r)=>fetch(...r);class SC extends Error{constructor(r,n="FunctionsError",s){super(r),this.name=n,this.context=s}}class QY extends SC{constructor(r){super("Failed to send a request to the Edge Function","FunctionsFetchError",r)}}class YP extends SC{constructor(r){super("Relay Error invoking the Edge Function","FunctionsRelayError",r)}}class ZP extends SC{constructor(r){super("Edge Function returned a non-2xx status code","FunctionsHttpError",r)}}var JS;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(JS||(JS={}));class eZ{constructor(r,{headers:n={},customFetch:s,region:a=JS.Any}={}){this.url=r,this.headers=n,this.region=a,this.fetch=JY(s)}setAuth(r){this.headers.Authorization=`Bearer ${r}`}invoke(r){return ZY(this,arguments,void 0,function*(n,s={}){var a;let i,o;try{const{headers:l,method:c,body:u,signal:m,timeout:p}=s;let x={},{region:v}=s;v||(v=this.region);const w=new URL(`${this.url}/${n}`);v&&v!=="any"&&(x["x-region"]=v,w.searchParams.set("forceFunctionRegion",v));let y;u&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(x["Content-Type"]="application/octet-stream",y=u):typeof u=="string"?(x["Content-Type"]="text/plain",y=u):typeof FormData<"u"&&u instanceof FormData?y=u:(x["Content-Type"]="application/json",y=JSON.stringify(u)):y=u;let j=m;p&&(o=new AbortController,i=setTimeout(()=>o.abort(),p),m?(j=o.signal,m.addEventListener("abort",()=>o.abort())):j=o.signal);const S=yield this.fetch(w.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},x),this.headers),l),body:y,signal:j}).catch(_=>{throw new QY(_)}),C=S.headers.get("x-relay-error");if(C&&C==="true")throw new YP(S);if(!S.ok)throw new ZP(S);let P=((a=S.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),T;return P==="application/json"?T=yield S.json():P==="application/octet-stream"||P==="application/pdf"?T=yield S.blob():P==="text/event-stream"?T=S:P==="multipart/form-data"?T=yield S.formData():T=yield S.text(),{data:T,error:null,response:S}}catch(l){return{data:null,error:l,response:l instanceof ZP||l instanceof YP?l.context:void 0}}finally{i&&clearTimeout(i)}})}}var tZ=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}},rZ=class{constructor(t){var r,n;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(r=t.shouldThrowOnError)!==null&&r!==void 0?r:!1,this.signal=t.signal,this.isMaybeSingle=(n=t.isMaybeSingle)!==null&&n!==void 0?n:!1,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=new Headers(this.headers),this.headers.set(t,r),this}then(t,r){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const s=this.fetch;let a=s(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{let o=null,l=null,c=null,u=i.status,m=i.statusText;if(i.ok){var p,x;if(n.method!=="HEAD"){var v;const S=await i.text();S===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((v=n.headers.get("Accept"))===null||v===void 0)&&v.includes("application/vnd.pgrst.plan+text"))?l=S:l=JSON.parse(S))}const y=(p=n.headers.get("Prefer"))===null||p===void 0?void 0:p.match(/count=(exact|planned|estimated)/),j=(x=i.headers.get("content-range"))===null||x===void 0?void 0:x.split("/");y&&j&&j.length>1&&(c=parseInt(j[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(l)&&(l.length>1?(o={code:"PGRST116",details:`Results contain ${l.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},l=null,c=null,u=406,m="Not Acceptable"):l.length===1?l=l[0]:l=null)}else{var w;const y=await i.text();try{o=JSON.parse(y),Array.isArray(o)&&i.status===404&&(l=[],o=null,u=200,m="OK")}catch{i.status===404&&y===""?(u=204,m="No Content"):o={message:y}}if(o&&n.isMaybeSingle&&(!(o==null||(w=o.details)===null||w===void 0)&&w.includes("0 rows"))&&(o=null,u=200,m="OK"),o&&n.shouldThrowOnError)throw new tZ(o)}return{error:o,data:l,count:c,status:u,statusText:m}});return this.shouldThrowOnError||(a=a.catch(i=>{var o;let l="";const c=i==null?void 0:i.cause;if(c){var u,m,p,x;const w=(u=c==null?void 0:c.message)!==null&&u!==void 0?u:"",y=(m=c==null?void 0:c.code)!==null&&m!==void 0?m:"";l=`${(p=i==null?void 0:i.name)!==null&&p!==void 0?p:"FetchError"}: ${i==null?void 0:i.message}`,l+=`

Caused by: ${(x=c==null?void 0:c.name)!==null&&x!==void 0?x:"Error"}: ${w}`,y&&(l+=` (${y})`),c!=null&&c.stack&&(l+=`
${c.stack}`)}else{var v;l=(v=i==null?void 0:i.stack)!==null&&v!==void 0?v:""}return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:l,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),a.then(t,r)}returns(){return this}overrideTypes(){return this}},nZ=class extends rZ{select(t){let r=!1;const n=(t??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:a=s}={}){const i=a?`${a}.order`:"order",o=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${o?`${o},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:s=n}={}){const a=typeof s>"u"?"offset":`${s}.offset`,i=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(a,`${t}`),this.url.searchParams.set(i,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:a=!1,format:i="text"}={}){var o;const l=[t?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,a?"wal":null].filter(Boolean).join("|"),c=(o=this.headers.get("Accept"))!==null&&o!==void 0?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${c}"; options=${l};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};const XP=new RegExp("[,()]");var bh=class extends nZ{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}regexMatch(t,r){return this.url.searchParams.append(t,`match.${r}`),this}regexIMatch(t,r){return this.url.searchParams.append(t,`imatch.${r}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}isDistinct(t,r){return this.url.searchParams.append(t,`isdistinct.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&XP.test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}notIn(t,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&XP.test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`not.in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:s}={}){let a="";s==="plain"?a="pl":s==="phrase"?a="ph":s==="websearch"&&(a="w");const i=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${a}fts${i}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}},sZ=class{constructor(t,{headers:r={},schema:n,fetch:s}){this.url=t,this.headers=new Headers(r),this.schema=n,this.fetch=s}select(t,r){const{head:n=!1,count:s}=r??{},a=n?"HEAD":"GET";let i=!1;const o=(t??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),s&&this.headers.append("Prefer",`count=${s}`),new bh({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:r,defaultToNull:n=!0}={}){var s;const a="POST";if(r&&this.headers.append("Prefer",`count=${r}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const i=t.reduce((o,l)=>o.concat(Object.keys(l)),[]);if(i.length>0){const o=[...new Set(i)].map(l=>`"${l}"`);this.url.searchParams.set("columns",o.join(","))}}return new bh({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:a=!0}={}){var i;const o="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),r!==void 0&&this.url.searchParams.set("on_conflict",r),s&&this.headers.append("Prefer",`count=${s}`),a||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const l=t.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){const c=[...new Set(l)].map(u=>`"${u}"`);this.url.searchParams.set("columns",c.join(","))}}return new bh({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}update(t,{count:r}={}){var n;const s="PATCH";return r&&this.headers.append("Prefer",`count=${r}`),new bh({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:t}={}){var r;const n="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new bh({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}},aZ=class LL{constructor(r,{headers:n={},schema:s,fetch:a}={}){this.url=r,this.headers=new Headers(n),this.schemaName=s,this.fetch=a}from(r){if(!r||typeof r!="string"||r.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new sZ(new URL(`${this.url}/${r}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(r){return new LL(this.url,{headers:this.headers,schema:r,fetch:this.fetch})}rpc(r,n={},{head:s=!1,get:a=!1,count:i}={}){var o;let l;const c=new URL(`${this.url}/rpc/${r}`);let u;s||a?(l=s?"HEAD":"GET",Object.entries(n).filter(([p,x])=>x!==void 0).map(([p,x])=>[p,Array.isArray(x)?`{${x.join(",")}}`:`${x}`]).forEach(([p,x])=>{c.searchParams.append(p,x)})):(l="POST",u=n);const m=new Headers(this.headers);return i&&m.set("Prefer",`count=${i}`),new bh({method:l,url:c,headers:m,schema:this.schemaName,body:u,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};class iZ{constructor(){}static detectEnvironment(){var r;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((r=navigator.userAgent)===null||r===void 0)&&r.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const s=n.node,a=parseInt(s.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const r=this.detectEnvironment();if(r.constructor)return r.constructor;let n=r.error||"WebSocket not supported in this environment.";throw r.workaround&&(n+=`

Suggested solution: ${r.workaround}`),new Error(n)}static createWebSocket(r,n){const s=this.getWebSocketConstructor();return new s(r,n)}static isWebSocketSupported(){try{const r=this.detectEnvironment();return r.type==="native"||r.type==="ws"}catch{return!1}}}const oZ="2.89.0",lZ=`realtime-js/${oZ}`,$L="1.0.0",cZ="2.0.0",JP=$L,QS=1e4,dZ=1e3,uZ=100;var gc;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(gc||(gc={}));var $n;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})($n||($n={}));var Pi;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Pi||(Pi={}));var e_;(function(t){t.websocket="websocket"})(e_||(e_={}));var Cd;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Cd||(Cd={}));class hZ{constructor(r){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=r??[]}encode(r,n){if(r.event===this.BROADCAST_EVENT&&!(r.payload instanceof ArrayBuffer)&&typeof r.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(r));let s=[r.join_ref,r.ref,r.topic,r.event,r.payload];return n(JSON.stringify(s))}_binaryEncodeUserBroadcastPush(r){var n;return this._isArrayBuffer((n=r.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(r):this._encodeJsonUserBroadcastPush(r)}_encodeBinaryUserBroadcastPush(r){var n,s;const a=(s=(n=r.payload)===null||n===void 0?void 0:n.payload)!==null&&s!==void 0?s:new ArrayBuffer(0);return this._encodeUserBroadcastPush(r,this.BINARY_ENCODING,a)}_encodeJsonUserBroadcastPush(r){var n,s;const a=(s=(n=r.payload)===null||n===void 0?void 0:n.payload)!==null&&s!==void 0?s:{},o=new TextEncoder().encode(JSON.stringify(a)).buffer;return this._encodeUserBroadcastPush(r,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(r,n,s){var a,i;const o=r.topic,l=(a=r.ref)!==null&&a!==void 0?a:"",c=(i=r.join_ref)!==null&&i!==void 0?i:"",u=r.payload.event,m=this.allowedMetadataKeys?this._pick(r.payload,this.allowedMetadataKeys):{},p=Object.keys(m).length===0?"":JSON.stringify(m);if(c.length>255)throw new Error(`joinRef length ${c.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`ref length ${l.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`metadata length ${p.length} exceeds maximum of 255`);const x=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+l.length+o.length+u.length+p.length,v=new ArrayBuffer(this.HEADER_LENGTH+x);let w=new DataView(v),y=0;w.setUint8(y++,this.KINDS.userBroadcastPush),w.setUint8(y++,c.length),w.setUint8(y++,l.length),w.setUint8(y++,o.length),w.setUint8(y++,u.length),w.setUint8(y++,p.length),w.setUint8(y++,n),Array.from(c,S=>w.setUint8(y++,S.charCodeAt(0))),Array.from(l,S=>w.setUint8(y++,S.charCodeAt(0))),Array.from(o,S=>w.setUint8(y++,S.charCodeAt(0))),Array.from(u,S=>w.setUint8(y++,S.charCodeAt(0))),Array.from(p,S=>w.setUint8(y++,S.charCodeAt(0)));var j=new Uint8Array(v.byteLength+s.byteLength);return j.set(new Uint8Array(v),0),j.set(new Uint8Array(s),v.byteLength),j.buffer}decode(r,n){if(this._isArrayBuffer(r)){let s=this._binaryDecode(r);return n(s)}if(typeof r=="string"){const s=JSON.parse(r),[a,i,o,l,c]=s;return n({join_ref:a,ref:i,topic:o,event:l,payload:c})}return n({})}_binaryDecode(r){const n=new DataView(r),s=n.getUint8(0),a=new TextDecoder;switch(s){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(r,n,a)}}_decodeUserBroadcast(r,n,s){const a=n.getUint8(1),i=n.getUint8(2),o=n.getUint8(3),l=n.getUint8(4);let c=this.HEADER_LENGTH+4;const u=s.decode(r.slice(c,c+a));c=c+a;const m=s.decode(r.slice(c,c+i));c=c+i;const p=s.decode(r.slice(c,c+o));c=c+o;const x=r.slice(c,r.byteLength),v=l===this.JSON_ENCODING?JSON.parse(s.decode(x)):x,w={type:this.BROADCAST_EVENT,event:m,payload:v};return o>0&&(w.meta=JSON.parse(p)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:w}}_isArrayBuffer(r){var n;return r instanceof ArrayBuffer||((n=r==null?void 0:r.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(r,n){return!r||typeof r!="object"?{}:Object.fromEntries(Object.entries(r).filter(([s])=>n.includes(s)))}}class BL{constructor(r,n){this.callback=r,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=r,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Or;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Or||(Or={}));const QP=(t,r,n={})=>{var s;const a=(s=n.skipTypes)!==null&&s!==void 0?s:[];return r?Object.keys(r).reduce((i,o)=>(i[o]=mZ(o,t,r,a),i),{}):{}},mZ=(t,r,n,s)=>{const a=r.find(l=>l.name===t),i=a==null?void 0:a.type,o=n[t];return i&&!s.includes(i)?FL(i,o):t_(o)},FL=(t,r)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return gZ(r,n)}switch(t){case Or.bool:return fZ(r);case Or.float4:case Or.float8:case Or.int2:case Or.int4:case Or.int8:case Or.numeric:case Or.oid:return pZ(r);case Or.json:case Or.jsonb:return xZ(r);case Or.timestamp:return vZ(r);case Or.abstime:case Or.date:case Or.daterange:case Or.int4range:case Or.int8range:case Or.money:case Or.reltime:case Or.text:case Or.time:case Or.timestamptz:case Or.timetz:case Or.tsrange:case Or.tstzrange:return t_(r);default:return t_(r)}},t_=t=>t,fZ=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},pZ=t=>{if(typeof t=="string"){const r=parseFloat(t);if(!Number.isNaN(r))return r}return t},xZ=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t},gZ=(t,r)=>{if(typeof t!="string")return t;const n=t.length-1,s=t[n];if(t[0]==="{"&&s==="}"){let i;const o=t.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>FL(r,l))}return t},vZ=t=>typeof t=="string"?t.replace(" ","T"):t,zL=t=>{const r=new URL(t);return r.protocol=r.protocol.replace(/^ws/i,"http"),r.pathname=r.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),r.pathname===""||r.pathname==="/"?r.pathname="/api/broadcast":r.pathname=r.pathname+"/api/broadcast",r.href};class Wj{constructor(r,n,s={},a=QS){this.channel=r,this.event=n,this.payload=s,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(r){this.timeout=r,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(r){this.payload=Object.assign(Object.assign({},this.payload),r)}receive(r,n){var s;return this._hasReceived(r)&&n((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:r,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const r=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},r),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(r,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:r,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:r,response:n}){this.recHooks.filter(s=>s.status===r).forEach(s=>s.callback(n))}_hasReceived(r){return this.receivedResp&&this.receivedResp.status===r}}var e3;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(e3||(e3={}));class Jf{constructor(r,n){this.channel=r,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Jf.syncState(this.state,a,i,o),this.pendingDiffs.forEach(c=>{this.state=Jf.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(s.diff,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=Jf.syncDiff(this.state,a,i,o),l())}),this.onJoin((a,i,o)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:i,newPresences:o})}),this.onLeave((a,i,o)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(r,n,s,a){const i=this.cloneDeep(r),o=this.transformState(n),l={},c={};return this.map(i,(u,m)=>{o[u]||(c[u]=m)}),this.map(o,(u,m)=>{const p=i[u];if(p){const x=m.map(j=>j.presence_ref),v=p.map(j=>j.presence_ref),w=m.filter(j=>v.indexOf(j.presence_ref)<0),y=p.filter(j=>x.indexOf(j.presence_ref)<0);w.length>0&&(l[u]=w),y.length>0&&(c[u]=y)}else l[u]=m}),this.syncDiff(i,{joins:l,leaves:c},s,a)}static syncDiff(r,n,s,a){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return s||(s=()=>{}),a||(a=()=>{}),this.map(i,(l,c)=>{var u;const m=(u=r[l])!==null&&u!==void 0?u:[];if(r[l]=this.cloneDeep(c),m.length>0){const p=r[l].map(v=>v.presence_ref),x=m.filter(v=>p.indexOf(v.presence_ref)<0);r[l].unshift(...x)}s(l,m,c)}),this.map(o,(l,c)=>{let u=r[l];if(!u)return;const m=c.map(p=>p.presence_ref);u=u.filter(p=>m.indexOf(p.presence_ref)<0),r[l]=u,a(l,u,c),u.length===0&&delete r[l]}),r}static map(r,n){return Object.getOwnPropertyNames(r).map(s=>n(s,r[s]))}static transformState(r){return r=this.cloneDeep(r),Object.getOwnPropertyNames(r).reduce((n,s)=>{const a=r[s];return"metas"in a?n[s]=a.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[s]=a,n},{})}static cloneDeep(r){return JSON.parse(JSON.stringify(r))}onJoin(r){this.caller.onJoin=r}onLeave(r){this.caller.onLeave=r}onSync(r){this.caller.onSync=r}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var t3;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(t3||(t3={}));var Qf;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Qf||(Qf={}));var al;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(al||(al={}));class kh{constructor(r,n={config:{}},s){var a,i;if(this.topic=r,this.params=n,this.socket=s,this.bindings={},this.state=$n.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=r.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Wj(this,Pi.join,this.params,this.timeout),this.rejoinTimer=new BL(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=$n.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=$n.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=$n.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=$n.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=$n.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Pi.reply,{},(o,l)=>{this._trigger(this._replyEventName(l),o)}),this.presence=new Jf(this),this.broadcastEndpointURL=zL(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(r,n=this.timeout){var s,a,i;if(this.socket.isConnected()||this.socket.connect(),this.state==$n.closed){const{config:{broadcast:o,presence:l,private:c}}=this.params,u=(a=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(v=>v.filter))!==null&&a!==void 0?a:[],m=!!this.bindings[Qf.PRESENCE]&&this.bindings[Qf.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,p={},x={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:m}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(p.access_token=this.socket.accessTokenValue),this._onError(v=>r==null?void 0:r(al.CHANNEL_ERROR,v)),this._onClose(()=>r==null?void 0:r(al.CLOSED)),this.updateJoinPayload(Object.assign({config:x},p)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:v})=>{var w;if(this.socket._isManualToken()||this.socket.setAuth(),v===void 0){r==null||r(al.SUBSCRIBED);return}else{const y=this.bindings.postgres_changes,j=(w=y==null?void 0:y.length)!==null&&w!==void 0?w:0,S=[];for(let C=0;C<j;C++){const P=y[C],{filter:{event:T,schema:_,table:k,filter:M}}=P,$=v&&v[C];if($&&$.event===T&&kh.isFilterValueEqual($.schema,_)&&kh.isFilterValueEqual($.table,k)&&kh.isFilterValueEqual($.filter,M))S.push(Object.assign(Object.assign({},P),{id:$.id}));else{this.unsubscribe(),this.state=$n.errored,r==null||r(al.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=S,r&&r(al.SUBSCRIBED);return}}).receive("error",v=>{this.state=$n.errored,r==null||r(al.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(v).join(", ")||"error")))}).receive("timeout",()=>{r==null||r(al.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(r,n={}){return await this.send({type:"presence",event:"track",payload:r},n.timeout||this.timeout)}async untrack(r={}){return await this.send({type:"presence",event:"untrack"},r)}on(r,n,s){return this.state===$n.joined&&r===Qf.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(r,n,s)}async httpSend(r,n,s={}){var a;if(n==null)return Promise.reject("Payload is required for httpSend()");const i={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(i.Authorization=`Bearer ${this.socket.accessTokenValue}`);const o={method:"POST",headers:i,body:JSON.stringify({messages:[{topic:this.subTopic,event:r,payload:n,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(a=s.timeout)!==null&&a!==void 0?a:this.timeout);if(l.status===202)return{success:!0};let c=l.statusText;try{const u=await l.json();c=u.error||u.message||c}catch{}return Promise.reject(new Error(c))}async send(r,n={}){var s,a;if(!this._canPush()&&r.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:o}=r,l={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(l.Authorization=`Bearer ${this.socket.accessTokenValue}`);const c={method:"POST",headers:l,body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);return await((a=u.body)===null||a===void 0?void 0:a.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,c;const u=this._push(r.type,r,n.timeout||this.timeout);r.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(r){this.joinPush.updatePayload(r)}unsubscribe(r=this.timeout){this.state=$n.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Pi.close,"leave",this._joinRef())};this.joinPush.destroy();let s=null;return new Promise(a=>{s=new Wj(this,Pi.leave,{},r),s.receive("ok",()=>{n(),a("ok")}).receive("timeout",()=>{n(),a("timed out")}).receive("error",()=>{a("error")}),s.send(),this._canPush()||s.trigger("ok",{})}).finally(()=>{s==null||s.destroy()})}teardown(){this.pushBuffer.forEach(r=>r.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=$n.closed,this.bindings={}}async _fetchWithTimeout(r,n,s){const a=new AbortController,i=setTimeout(()=>a.abort(),s),o=await this.socket.fetch(r,Object.assign(Object.assign({},n),{signal:a.signal}));return clearTimeout(i),o}_push(r,n,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${r}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new Wj(this,r,n,s);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(r){if(r.startTimeout(),this.pushBuffer.push(r),this.pushBuffer.length>uZ){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(r,n,s){return n}_isMember(r){return this.topic===r}_joinRef(){return this.joinPush.ref}_trigger(r,n,s){var a,i;const o=r.toLocaleLowerCase(),{close:l,error:c,leave:u,join:m}=Pi;if(s&&[l,c,u,m].indexOf(o)>=0&&s!==this._joinRef())return;let x=this._onMessage(o,n,s);if(n&&!x)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(v=>{var w,y,j;return((w=v.filter)===null||w===void 0?void 0:w.event)==="*"||((j=(y=v.filter)===null||y===void 0?void 0:y.event)===null||j===void 0?void 0:j.toLocaleLowerCase())===o}).map(v=>v.callback(x,s)):(i=this.bindings[o])===null||i===void 0||i.filter(v=>{var w,y,j,S,C,P;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in v){const T=v.id,_=(w=v.filter)===null||w===void 0?void 0:w.event;return T&&((y=n.ids)===null||y===void 0?void 0:y.includes(T))&&(_==="*"||(_==null?void 0:_.toLocaleLowerCase())===((j=n.data)===null||j===void 0?void 0:j.type.toLocaleLowerCase()))}else{const T=(C=(S=v==null?void 0:v.filter)===null||S===void 0?void 0:S.event)===null||C===void 0?void 0:C.toLocaleLowerCase();return T==="*"||T===((P=n==null?void 0:n.event)===null||P===void 0?void 0:P.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===o}).map(v=>{if(typeof x=="object"&&"ids"in x){const w=x.data,{schema:y,table:j,commit_timestamp:S,type:C,errors:P}=w;x=Object.assign(Object.assign({},{schema:y,table:j,commit_timestamp:S,eventType:C,new:{},old:{},errors:P}),this._getPayloadRecords(w))}v.callback(x,s)})}_isClosed(){return this.state===$n.closed}_isJoined(){return this.state===$n.joined}_isJoining(){return this.state===$n.joining}_isLeaving(){return this.state===$n.leaving}_replyEventName(r){return`chan_reply_${r}`}_on(r,n,s){const a=r.toLocaleLowerCase(),i={type:a,filter:n,callback:s};return this.bindings[a]?this.bindings[a].push(i):this.bindings[a]=[i],this}_off(r,n){const s=r.toLocaleLowerCase();return this.bindings[s]&&(this.bindings[s]=this.bindings[s].filter(a=>{var i;return!(((i=a.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===s&&kh.isEqual(a.filter,n))})),this}static isEqual(r,n){if(Object.keys(r).length!==Object.keys(n).length)return!1;for(const s in r)if(r[s]!==n[s])return!1;return!0}static isFilterValueEqual(r,n){return(r??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(r){this._on(Pi.close,{},r)}_onError(r){this._on(Pi.error,{},n=>r(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(r=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=$n.joining,this.joinPush.resend(r))}_getPayloadRecords(r){const n={new:{},old:{}};return(r.type==="INSERT"||r.type==="UPDATE")&&(n.new=QP(r.columns,r.record)),(r.type==="UPDATE"||r.type==="DELETE")&&(n.old=QP(r.columns,r.old_record)),n}}const qj=()=>{},Vg={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},yZ=[1e3,2e3,5e3,1e4],bZ=1e4,jZ=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class wZ{constructor(r,n){var s;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=QS,this.transport=null,this.heartbeatIntervalMs=Vg.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=qj,this.ref=0,this.reconnectTimer=null,this.vsn=JP,this.logger=qj,this.conn=null,this.sendBuffer=[],this.serializer=new hZ,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>a?(...i)=>a(...i):(...i)=>fetch(...i),!(!((s=n==null?void 0:n.params)===null||s===void 0)&&s.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${r}/${e_.websocket}`,this.httpEndpoint=zL(r),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=iZ.createWebSocket(this.endpointURL())}catch(r){this._setConnectionState("disconnected");const n=r.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(r,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const s=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(s),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(r?this.conn.close(r,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(r){const n=await r.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const r=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),r}log(r,n,s){this.logger(r,n,s)}connectionState(){switch(this.conn&&this.conn.readyState){case gc.connecting:return Cd.Connecting;case gc.open:return Cd.Open;case gc.closing:return Cd.Closing;default:return Cd.Closed}}isConnected(){return this.connectionState()===Cd.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(r,n={config:{}}){const s=`realtime:${r}`,a=this.getChannels().find(i=>i.topic===s);if(a)return a;{const i=new kh(`realtime:${r}`,n,this);return this.channels.push(i),i}}push(r){const{topic:n,event:s,payload:a,ref:i}=r,o=()=>{this.encode(r,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${n} ${s} (${i})`,a),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(r=null){this._authPromise=this._performAuth(r);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var r;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(r=this.conn)===null||r===void 0||r.close(dZ,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Vg.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(r){this.heartbeatCallback=r}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(r=>r()),this.sendBuffer=[])}_makeRef(){let r=this.ref+1;return r===this.ref?this.ref=0:this.ref=r,this.ref.toString()}_leaveOpenTopic(r){let n=this.channels.find(s=>s.topic===r&&(s._isJoined()||s._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${r}"`),n.unsubscribe())}_remove(r){this.channels=this.channels.filter(n=>n.topic!==r.topic)}_onConnMessage(r){this.decode(r.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:s,event:a,payload:i,ref:o}=n,l=o?`(${o})`:"",c=i.status||"";this.log("receive",`${c} ${s} ${a} ${l}`.trim(),i),this.channels.filter(u=>u._isMember(s)).forEach(u=>u._trigger(a,i,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(r){var n;r==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):r==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=r=>this._onConnError(r),this.conn.onmessage=r=>this._onConnMessage(r),this.conn.onclose=r=>this._onConnClose(r),this.conn.readyState===gc.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===gc.open||this.conn.readyState===gc.connecting)try{this.conn.close()}catch(r){this.log("error","Error closing connection",r)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(r=>r.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const r=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(r),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(r){var n;this._setConnectionState("disconnected"),this.log("transport","close",r),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",r)}_onConnError(r){this._setConnectionState("disconnected"),this.log("transport",`${r}`),this._triggerChanError(),this._triggerStateCallbacks("error",r)}_triggerChanError(){this.channels.forEach(r=>r._trigger(Pi.error))}_appendParams(r,n){if(Object.keys(n).length===0)return r;const s=r.match(/\?/)?"&":"?",a=new URLSearchParams(n);return`${r}${s}${a}`}_workerObjectUrl(r){let n;if(r)n=r;else{const s=new Blob([jZ],{type:"application/javascript"});n=URL.createObjectURL(s)}return n}_setConnectionState(r,n=!1){this._connectionState=r,r==="connecting"?this._wasManualDisconnect=!1:r==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(r=null){let n,s=!1;if(r)n=r,s=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(a){this.log("error","Error fetching access token from callback",a),n=this.accessTokenValue}else n=this.accessTokenValue;s?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(a=>{const i={access_token:n,version:lZ};n&&a.updateJoinPayload(i),a.joinedOnce&&a._isJoined()&&a._push(Pi.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(r="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${r}`,n)})}_triggerStateCallbacks(r,n){try{this.stateChangeCallbacks[r].forEach(s=>{try{s(n)}catch(a){this.log("error",`error in ${r} callback`,a)}})}catch(s){this.log("error",`error triggering ${r} callbacks`,s)}}_setupReconnectionTimer(){this.reconnectTimer=new BL(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Vg.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(r){var n,s,a,i,o,l,c,u,m,p,x,v;switch(this.transport=(n=r==null?void 0:r.transport)!==null&&n!==void 0?n:null,this.timeout=(s=r==null?void 0:r.timeout)!==null&&s!==void 0?s:QS,this.heartbeatIntervalMs=(a=r==null?void 0:r.heartbeatIntervalMs)!==null&&a!==void 0?a:Vg.HEARTBEAT_INTERVAL,this.worker=(i=r==null?void 0:r.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=r==null?void 0:r.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=r==null?void 0:r.heartbeatCallback)!==null&&l!==void 0?l:qj,this.vsn=(c=r==null?void 0:r.vsn)!==null&&c!==void 0?c:JP,r!=null&&r.params&&(this.params=r.params),r!=null&&r.logger&&(this.logger=r.logger),(r!=null&&r.logLevel||r!=null&&r.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=r==null?void 0:r.reconnectAfterMs)!==null&&u!==void 0?u:(w=>yZ[w-1]||bZ),this.vsn){case $L:this.encode=(m=r==null?void 0:r.encode)!==null&&m!==void 0?m:((w,y)=>y(JSON.stringify(w))),this.decode=(p=r==null?void 0:r.decode)!==null&&p!==void 0?p:((w,y)=>y(JSON.parse(w)));break;case cZ:this.encode=(x=r==null?void 0:r.encode)!==null&&x!==void 0?x:this.serializer.encode.bind(this.serializer),this.decode=(v=r==null?void 0:r.decode)!==null&&v!==void 0?v:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=r==null?void 0:r.workerUrl}}}var hp=class extends Error{constructor(t,r){var n;super(t),this.name="IcebergError",this.status=r.status,this.icebergType=r.icebergType,this.icebergCode=r.icebergCode,this.details=r.details,this.isCommitStateUnknown=r.icebergType==="CommitStateUnknownException"||[500,502,504].includes(r.status)&&((n=r.icebergType)==null?void 0:n.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function NZ(t,r,n){const s=new URL(r,t);if(n)for(const[a,i]of Object.entries(n))i!==void 0&&s.searchParams.set(a,i);return s.toString()}async function SZ(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function _Z(t){const r=t.fetchImpl??globalThis.fetch;return{async request({method:n,path:s,query:a,body:i,headers:o}){const l=NZ(t.baseUrl,s,a),c=await SZ(t.auth),u=await r(l,{method:n,headers:{...i?{"Content-Type":"application/json"}:{},...c,...o},body:i?JSON.stringify(i):void 0}),m=await u.text(),p=(u.headers.get("content-type")||"").includes("application/json"),x=p&&m?JSON.parse(m):m;if(!u.ok){const v=p?x:void 0,w=v==null?void 0:v.error;throw new hp((w==null?void 0:w.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:w==null?void 0:w.type,icebergCode:w==null?void 0:w.code,details:v})}return{status:u.status,headers:u.headers,data:x}}}}function Gg(t){return t.join("")}var kZ=class{constructor(t,r=""){this.client=t,this.prefix=r}async listNamespaces(t){const r=t?{parent:Gg(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:r})).data.namespaces.map(s=>({namespace:s}))}async createNamespace(t,r){const n={namespace:t.namespace,properties:r==null?void 0:r.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Gg(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Gg(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Gg(t.namespace)}`}),!0}catch(r){if(r instanceof hp&&r.status===404)return!1;throw r}}async createNamespaceIfNotExists(t,r){try{return await this.createNamespace(t,r)}catch(n){if(n instanceof hp&&n.status===409)return;throw n}}};function nh(t){return t.join("")}var CZ=class{constructor(t,r="",n){this.client=t,this.prefix=r,this.accessDelegation=n}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${nh(t.namespace)}/tables`})).data.identifiers}async createTable(t,r){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${nh(t.namespace)}/tables`,body:r,headers:n})).data.metadata}async updateTable(t,r){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${nh(t.namespace)}/tables/${t.name}`,body:r});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(t,r){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${nh(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String((r==null?void 0:r.purge)??!1)}})}async loadTable(t){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${nh(t.namespace)}/tables/${t.name}`,headers:r})).data.metadata}async tableExists(t){const r={};this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${nh(t.namespace)}/tables/${t.name}`,headers:r}),!0}catch(n){if(n instanceof hp&&n.status===404)return!1;throw n}}async createTableIfNotExists(t,r){try{return await this.createTable(t,r)}catch(n){if(n instanceof hp&&n.status===409)return await this.loadTable({namespace:t.namespace,name:r.name});throw n}}},PZ=class{constructor(t){var s;let r="v1";t.catalogName&&(r+=`/${t.catalogName}`);const n=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=_Z({baseUrl:n,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=(s=t.accessDelegation)==null?void 0:s.join(","),this.namespaceOps=new kZ(this.client,r),this.tableOps=new CZ(this.client,r,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,r){return this.namespaceOps.createNamespace(t,r)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,r){return this.tableOps.createTable(t,r)}async updateTable(t,r){return this.tableOps.updateTable(t,r)}async dropTable(t,r){await this.tableOps.dropTable(t,r)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,r){return this.namespaceOps.createNamespaceIfNotExists(t,r)}async createTableIfNotExists(t,r){return this.tableOps.createTableIfNotExists(t,r)}},ey=class extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}};function en(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var AZ=class extends ey{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},r_=class extends ey{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}};const _C=t=>t?(...r)=>t(...r):(...r)=>fetch(...r),EZ=()=>Response,n_=t=>{if(Array.isArray(t))return t.map(n=>n_(n));if(typeof t=="function"||t!==Object(t))return t;const r={};return Object.entries(t).forEach(([n,s])=>{const a=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));r[a]=n_(s)}),r},TZ=t=>{if(typeof t!="object"||t===null)return!1;const r=Object.getPrototypeOf(t);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},OZ=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t);function mp(t){"@babel/helpers - typeof";return mp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},mp(t)}function MZ(t,r){if(mp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,r);if(mp(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function DZ(t){var r=MZ(t,"string");return mp(r)=="symbol"?r:r+""}function RZ(t,r,n){return(r=DZ(r))in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function r3(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,s)}return n}function Nt(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?r3(Object(n),!0).forEach(function(s){RZ(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r3(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}const Vj=t=>{var r;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(r=t.error)===null||r===void 0?void 0:r.message)||JSON.stringify(t)},IZ=async(t,r,n)=>{t instanceof await EZ()&&!(n!=null&&n.noResolveJson)?t.json().then(s=>{const a=t.status||500,i=(s==null?void 0:s.statusCode)||a+"";r(new AZ(Vj(s),a,i))}).catch(s=>{r(new r_(Vj(s),s))}):r(new r_(Vj(t),t))},LZ=(t,r,n,s)=>{const a={method:t,headers:(r==null?void 0:r.headers)||{}};return t==="GET"||!s?a:(TZ(s)?(a.headers=Nt({"Content-Type":"application/json"},r==null?void 0:r.headers),a.body=JSON.stringify(s)):a.body=s,r!=null&&r.duplex&&(a.duplex=r.duplex),Nt(Nt({},a),n))};async function hx(t,r,n,s,a,i){return new Promise((o,l)=>{t(n,LZ(r,s,a,i)).then(c=>{if(!c.ok)throw c;return s!=null&&s.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>IZ(c,l,s))})}async function fp(t,r,n,s){return hx(t,"GET",r,n,s)}async function Ci(t,r,n,s,a){return hx(t,"POST",r,s,a,n)}async function s_(t,r,n,s,a){return hx(t,"PUT",r,s,a,n)}async function $Z(t,r,n,s){return hx(t,"HEAD",r,Nt(Nt({},n),{},{noResolveJson:!0}),s)}async function kC(t,r,n,s,a){return hx(t,"DELETE",r,s,a,n)}var BZ=class{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}then(t,r){return this.execute().then(t,r)}async execute(){var t=this;try{return{data:(await t.downloadFn()).body,error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(en(r))return{data:null,error:r};throw r}}};let UL;UL=Symbol.toStringTag;var FZ=class{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r,this[UL]="BlobDownloadBuilder",this.promise=null}asStream(){return new BZ(this.downloadFn,this.shouldThrowOnError)}then(t,r){return this.getPromise().then(t,r)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var t=this;try{return{data:await(await t.downloadFn()).blob(),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(en(r))return{data:null,error:r};throw r}}};const zZ={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},n3={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var UZ=class{constructor(t,r={},n,s){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=_C(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(t,r,n,s){var a=this;try{let i;const o=Nt(Nt({},n3),s);let l=Nt(Nt({},a.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",a.encodeMetadata(c)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.has("cacheControl")||i.append("cacheControl",o.cacheControl),c&&!i.has("metadata")&&i.append("metadata",a.encodeMetadata(c))):(i=n,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=a.toBase64(a.encodeMetadata(c))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!o.duplex&&(o.duplex="half")),s!=null&&s.headers&&(l=Nt(Nt({},l),s.headers));const u=a._removeEmptyFolders(r),m=a._getFinalPath(u),p=await(t=="PUT"?s_:Ci)(a.fetch,`${a.url}/object/${m}`,i,Nt({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:p.Id,fullPath:p.Key},error:null}}catch(i){if(a.shouldThrowOnError)throw i;if(en(i))return{data:null,error:i};throw i}}async upload(t,r,n){return this.uploadOrUpdate("POST",t,r,n)}async uploadToSignedUrl(t,r,n,s){var a=this;const i=a._removeEmptyFolders(t),o=a._getFinalPath(i),l=new URL(a.url+`/object/upload/sign/${o}`);l.searchParams.set("token",r);try{let c;const u=Nt({upsert:n3.upsert},s),m=Nt(Nt({},a.headers),{"x-upsert":String(u.upsert)});return typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,m["cache-control"]=`max-age=${u.cacheControl}`,m["content-type"]=u.contentType),{data:{path:i,fullPath:(await s_(a.fetch,l.toString(),c,{headers:m})).Key},error:null}}catch(c){if(a.shouldThrowOnError)throw c;if(en(c))return{data:null,error:c};throw c}}async createSignedUploadUrl(t,r){var n=this;try{let s=n._getFinalPath(t);const a=Nt({},n.headers);r!=null&&r.upsert&&(a["x-upsert"]="true");const i=await Ci(n.fetch,`${n.url}/object/upload/sign/${s}`,{},{headers:a}),o=new URL(n.url+i.url),l=o.searchParams.get("token");if(!l)throw new ey("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(en(s))return{data:null,error:s};throw s}}async update(t,r,n){return this.uploadOrUpdate("PUT",t,r,n)}async move(t,r,n){var s=this;try{return{data:await Ci(s.fetch,`${s.url}/object/move`,{bucketId:s.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:s.headers}),error:null}}catch(a){if(s.shouldThrowOnError)throw a;if(en(a))return{data:null,error:a};throw a}}async copy(t,r,n){var s=this;try{return{data:{path:(await Ci(s.fetch,`${s.url}/object/copy`,{bucketId:s.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:s.headers})).Key},error:null}}catch(a){if(s.shouldThrowOnError)throw a;if(en(a))return{data:null,error:a};throw a}}async createSignedUrl(t,r,n){var s=this;try{let a=s._getFinalPath(t),i=await Ci(s.fetch,`${s.url}/object/sign/${a}`,Nt({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:s.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${s.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(a){if(s.shouldThrowOnError)throw a;if(en(a))return{data:null,error:a};throw a}}async createSignedUrls(t,r,n){var s=this;try{const a=await Ci(s.fetch,`${s.url}/object/sign/${s.bucketId}`,{expiresIn:r,paths:t},{headers:s.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:a.map(o=>Nt(Nt({},o),{},{signedUrl:o.signedURL?encodeURI(`${s.url}${o.signedURL}${i}`):null})),error:null}}catch(a){if(s.shouldThrowOnError)throw a;if(en(a))return{data:null,error:a};throw a}}download(t,r){const n=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),a=s?`?${s}`:"",i=this._getFinalPath(t),o=()=>fp(this.fetch,`${this.url}/${n}/${i}${a}`,{headers:this.headers,noResolveJson:!0});return new FZ(o,this.shouldThrowOnError)}async info(t){var r=this;const n=r._getFinalPath(t);try{return{data:n_(await fp(r.fetch,`${r.url}/object/info/${n}`,{headers:r.headers})),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(en(s))return{data:null,error:s};throw s}}async exists(t){var r=this;const n=r._getFinalPath(t);try{return await $Z(r.fetch,`${r.url}/object/${n}`,{headers:r.headers}),{data:!0,error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(en(s)&&s instanceof r_){const a=s.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:s}}throw s}}getPublicUrl(t,r){const n=this._getFinalPath(t),s=[],a=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";a!==""&&s.push(a);const i=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",o=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});o!==""&&s.push(o);let l=s.join("&");return l!==""&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${n}${l}`)}}}async remove(t){var r=this;try{return{data:await kC(r.fetch,`${r.url}/object/${r.bucketId}`,{prefixes:t},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(en(n))return{data:null,error:n};throw n}}async list(t,r,n){var s=this;try{const a=Nt(Nt(Nt({},zZ),r),{},{prefix:t||""});return{data:await Ci(s.fetch,`${s.url}/object/list/${s.bucketId}`,a,{headers:s.headers},n),error:null}}catch(a){if(s.shouldThrowOnError)throw a;if(en(a))return{data:null,error:a};throw a}}async listV2(t,r){var n=this;try{const s=Nt({},t);return{data:await Ci(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,s,{headers:n.headers},r),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(en(s))return{data:null,error:s};throw s}}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}};const HL="2.89.0",WL={"X-Client-Info":`storage-js/${HL}`};var HZ=class{constructor(t,r={},n,s){this.shouldThrowOnError=!1;const a=new URL(t);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href.replace(/\/$/,""),this.headers=Nt(Nt({},WL),r),this.fetch=_C(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(t){var r=this;try{const n=r.listBucketOptionsToQueryString(t);return{data:await fp(r.fetch,`${r.url}/bucket${n}`,{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(en(n))return{data:null,error:n};throw n}}async getBucket(t){var r=this;try{return{data:await fp(r.fetch,`${r.url}/bucket/${t}`,{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(en(n))return{data:null,error:n};throw n}}async createBucket(t,r={public:!1}){var n=this;try{return{data:await Ci(n.fetch,`${n.url}/bucket`,{id:t,name:t,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:n.headers}),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(en(s))return{data:null,error:s};throw s}}async updateBucket(t,r){var n=this;try{return{data:await s_(n.fetch,`${n.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:n.headers}),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(en(s))return{data:null,error:s};throw s}}async emptyBucket(t){var r=this;try{return{data:await Ci(r.fetch,`${r.url}/bucket/${t}/empty`,{},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(en(n))return{data:null,error:n};throw n}}async deleteBucket(t){var r=this;try{return{data:await kC(r.fetch,`${r.url}/bucket/${t}`,{},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(en(n))return{data:null,error:n};throw n}}listBucketOptionsToQueryString(t){const r={};return t&&("limit"in t&&(r.limit=String(t.limit)),"offset"in t&&(r.offset=String(t.offset)),t.search&&(r.search=t.search),t.sortColumn&&(r.sortColumn=t.sortColumn),t.sortOrder&&(r.sortOrder=t.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}},WZ=class{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Nt(Nt({},WL),r),this.fetch=_C(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var r=this;try{return{data:await Ci(r.fetch,`${r.url}/bucket`,{name:t},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(en(n))return{data:null,error:n};throw n}}async listBuckets(t){var r=this;try{const n=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&n.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&n.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&n.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&n.set("sortOrder",t.sortOrder),t!=null&&t.search&&n.set("search",t.search);const s=n.toString(),a=s?`${r.url}/bucket?${s}`:`${r.url}/bucket`;return{data:await fp(r.fetch,a,{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(en(n))return{data:null,error:n};throw n}}async deleteBucket(t){var r=this;try{return{data:await kC(r.fetch,`${r.url}/bucket/${t}`,{},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(en(n))return{data:null,error:n};throw n}}from(t){var r=this;if(!OZ(t))throw new ey("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new PZ({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:async()=>r.headers},fetch:this.fetch}),s=this.shouldThrowOnError;return new Proxy(n,{get(a,i){const o=a[i];return typeof o!="function"?o:async(...l)=>{try{return{data:await o.apply(a,l),error:null}}catch(c){if(s)throw c;return{data:null,error:c}}}}})}};const CC={"X-Client-Info":`storage-js/${HL}`,"Content-Type":"application/json"};var qL=class extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function ya(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}var Gj=class extends qL{constructor(t,r,n){super(t),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},qZ=class extends qL{constructor(t,r){super(t),this.name="StorageVectorsUnknownError",this.originalError=r}};const PC=t=>t?(...r)=>t(...r):(...r)=>fetch(...r),VZ=t=>{if(typeof t!="object"||t===null)return!1;const r=Object.getPrototypeOf(t);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},s3=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),GZ=async(t,r,n)=>{if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(n!=null&&n.noResolveJson)){const s=t.status||500,a=t;if(typeof a.json=="function")a.json().then(i=>{const o=(i==null?void 0:i.statusCode)||(i==null?void 0:i.code)||s+"";r(new Gj(s3(i),s,o))}).catch(()=>{const i=s+"";r(new Gj(a.statusText||`HTTP ${s} error`,s,i))});else{const i=s+"";r(new Gj(a.statusText||`HTTP ${s} error`,s,i))}}else r(new qZ(s3(t),t))},KZ=(t,r,n,s)=>{const a={method:t,headers:(r==null?void 0:r.headers)||{}};return s?(VZ(s)?(a.headers=Nt({"Content-Type":"application/json"},r==null?void 0:r.headers),a.body=JSON.stringify(s)):a.body=s,Nt(Nt({},a),n)):a};async function YZ(t,r,n,s,a,i){return new Promise((o,l)=>{t(n,KZ(r,s,a,i)).then(c=>{if(!c.ok)throw c;if(s!=null&&s.noResolveJson)return c;const u=c.headers.get("content-type");return!u||!u.includes("application/json")?{}:c.json()}).then(c=>o(c)).catch(c=>GZ(c,l,s))})}async function ba(t,r,n,s,a){return YZ(t,"POST",r,s,a,n)}var ZZ=class{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Nt(Nt({},CC),r),this.fetch=PC(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(t){var r=this;try{return{data:await ba(r.fetch,`${r.url}/CreateIndex`,t,{headers:r.headers})||{},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(ya(n))return{data:null,error:n};throw n}}async getIndex(t,r){var n=this;try{return{data:await ba(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:t,indexName:r},{headers:n.headers}),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(ya(s))return{data:null,error:s};throw s}}async listIndexes(t){var r=this;try{return{data:await ba(r.fetch,`${r.url}/ListIndexes`,t,{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(ya(n))return{data:null,error:n};throw n}}async deleteIndex(t,r){var n=this;try{return{data:await ba(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:t,indexName:r},{headers:n.headers})||{},error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(ya(s))return{data:null,error:s};throw s}}},XZ=class{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Nt(Nt({},CC),r),this.fetch=PC(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(t){var r=this;try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await ba(r.fetch,`${r.url}/PutVectors`,t,{headers:r.headers})||{},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(ya(n))return{data:null,error:n};throw n}}async getVectors(t){var r=this;try{return{data:await ba(r.fetch,`${r.url}/GetVectors`,t,{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(ya(n))return{data:null,error:n};throw n}}async listVectors(t){var r=this;try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:await ba(r.fetch,`${r.url}/ListVectors`,t,{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(ya(n))return{data:null,error:n};throw n}}async queryVectors(t){var r=this;try{return{data:await ba(r.fetch,`${r.url}/QueryVectors`,t,{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(ya(n))return{data:null,error:n};throw n}}async deleteVectors(t){var r=this;try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await ba(r.fetch,`${r.url}/DeleteVectors`,t,{headers:r.headers})||{},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(ya(n))return{data:null,error:n};throw n}}},JZ=class{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Nt(Nt({},CC),r),this.fetch=PC(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var r=this;try{return{data:await ba(r.fetch,`${r.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:r.headers})||{},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(ya(n))return{data:null,error:n};throw n}}async getBucket(t){var r=this;try{return{data:await ba(r.fetch,`${r.url}/GetVectorBucket`,{vectorBucketName:t},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(ya(n))return{data:null,error:n};throw n}}async listBuckets(t={}){var r=this;try{return{data:await ba(r.fetch,`${r.url}/ListVectorBuckets`,t,{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(ya(n))return{data:null,error:n};throw n}}async deleteBucket(t){var r=this;try{return{data:await ba(r.fetch,`${r.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:r.headers})||{},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(ya(n))return{data:null,error:n};throw n}}},QZ=class extends JZ{constructor(t,r={}){super(t,r.headers||{},r.fetch)}from(t){return new eX(this.url,this.headers,t,this.fetch)}async createBucket(t){var r=()=>super.createBucket,n=this;return r().call(n,t)}async getBucket(t){var r=()=>super.getBucket,n=this;return r().call(n,t)}async listBuckets(t={}){var r=()=>super.listBuckets,n=this;return r().call(n,t)}async deleteBucket(t){var r=()=>super.deleteBucket,n=this;return r().call(n,t)}},eX=class extends ZZ{constructor(t,r,n,s){super(t,r,s),this.vectorBucketName=n}async createIndex(t){var r=()=>super.createIndex,n=this;return r().call(n,Nt(Nt({},t),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(t={}){var r=()=>super.listIndexes,n=this;return r().call(n,Nt(Nt({},t),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(t){var r=()=>super.getIndex,n=this;return r().call(n,n.vectorBucketName,t)}async deleteIndex(t){var r=()=>super.deleteIndex,n=this;return r().call(n,n.vectorBucketName,t)}index(t){return new tX(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},tX=class extends XZ{constructor(t,r,n,s,a){super(t,r,a),this.vectorBucketName=n,this.indexName=s}async putVectors(t){var r=()=>super.putVectors,n=this;return r().call(n,Nt(Nt({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(t){var r=()=>super.getVectors,n=this;return r().call(n,Nt(Nt({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(t={}){var r=()=>super.listVectors,n=this;return r().call(n,Nt(Nt({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(t){var r=()=>super.queryVectors,n=this;return r().call(n,Nt(Nt({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(t){var r=()=>super.deleteVectors,n=this;return r().call(n,Nt(Nt({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},rX=class extends HZ{constructor(t,r={},n,s){super(t,r,n,s)}from(t){return new UZ(this.url,this.headers,t,this.fetch)}get vectors(){return new QZ(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new WZ(this.url+"/iceberg",this.headers,this.fetch)}};const VL="2.89.0",jh=30*1e3,a_=3,Kj=a_*jh,nX="http://localhost:9999",sX="supabase.auth.token",aX={"X-Client-Info":`gotrue-js/${VL}`},i_="X-Supabase-Api-Version",GL={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},iX=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,oX=600*1e3;class pp extends Error{constructor(r,n,s){super(r),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=s}}function dt(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class lX extends pp{constructor(r,n,s){super(r,n,s),this.name="AuthApiError",this.status=n,this.code=s}}function cX(t){return dt(t)&&t.name==="AuthApiError"}class Pd extends pp{constructor(r,n){super(r),this.name="AuthUnknownError",this.originalError=n}}class kl extends pp{constructor(r,n,s,a){super(r,s,a),this.name=n,this.status=s}}class fa extends kl{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function dX(t){return dt(t)&&t.name==="AuthSessionMissingError"}class sh extends kl{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Kg extends kl{constructor(r){super(r,"AuthInvalidCredentialsError",400,void 0)}}class Yg extends kl{constructor(r,n=null){super(r,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function uX(t){return dt(t)&&t.name==="AuthImplicitGrantRedirectError"}class a3 extends kl{constructor(r,n=null){super(r,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class hX extends kl{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class o_ extends kl{constructor(r,n){super(r,"AuthRetryableFetchError",n,void 0)}}function Yj(t){return dt(t)&&t.name==="AuthRetryableFetchError"}class i3 extends kl{constructor(r,n,s){super(r,"AuthWeakPasswordError",n,"weak_password"),this.reasons=s}}class l_ extends kl{constructor(r){super(r,"AuthInvalidJwtError",400,"invalid_jwt")}}const T0="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),o3=` 	
\r=`.split(""),mX=(()=>{const t=new Array(128);for(let r=0;r<t.length;r+=1)t[r]=-1;for(let r=0;r<o3.length;r+=1)t[o3[r].charCodeAt(0)]=-2;for(let r=0;r<T0.length;r+=1)t[T0[r].charCodeAt(0)]=r;return t})();function l3(t,r,n){if(t!==null)for(r.queue=r.queue<<8|t,r.queuedBits+=8;r.queuedBits>=6;){const s=r.queue>>r.queuedBits-6&63;n(T0[s]),r.queuedBits-=6}else if(r.queuedBits>0)for(r.queue=r.queue<<6-r.queuedBits,r.queuedBits=6;r.queuedBits>=6;){const s=r.queue>>r.queuedBits-6&63;n(T0[s]),r.queuedBits-=6}}function KL(t,r,n){const s=mX[t];if(s>-1)for(r.queue=r.queue<<6|s,r.queuedBits+=6;r.queuedBits>=8;)n(r.queue>>r.queuedBits-8&255),r.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function c3(t){const r=[],n=o=>{r.push(String.fromCodePoint(o))},s={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=o=>{xX(o,s,n)};for(let o=0;o<t.length;o+=1)KL(t.charCodeAt(o),a,i);return r.join("")}function fX(t,r){if(t<=127){r(t);return}else if(t<=2047){r(192|t>>6),r(128|t&63);return}else if(t<=65535){r(224|t>>12),r(128|t>>6&63),r(128|t&63);return}else if(t<=1114111){r(240|t>>18),r(128|t>>12&63),r(128|t>>6&63),r(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function pX(t,r){for(let n=0;n<t.length;n+=1){let s=t.charCodeAt(n);if(s>55295&&s<=56319){const a=(s-55296)*1024&65535;s=(t.charCodeAt(n+1)-56320&65535|a)+65536,n+=1}fX(s,r)}}function xX(t,r,n){if(r.utf8seq===0){if(t<=127){n(t);return}for(let s=1;s<6;s+=1)if((t>>7-s&1)===0){r.utf8seq=s;break}if(r.utf8seq===2)r.codepoint=t&31;else if(r.utf8seq===3)r.codepoint=t&15;else if(r.utf8seq===4)r.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");r.utf8seq-=1}else if(r.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");r.codepoint=r.codepoint<<6|t&63,r.utf8seq-=1,r.utf8seq===0&&n(r.codepoint)}}function Mh(t){const r=[],n={queue:0,queuedBits:0},s=a=>{r.push(a)};for(let a=0;a<t.length;a+=1)KL(t.charCodeAt(a),n,s);return new Uint8Array(r)}function gX(t){const r=[];return pX(t,n=>r.push(n)),new Uint8Array(r)}function Ed(t){const r=[],n={queue:0,queuedBits:0},s=a=>{r.push(a)};return t.forEach(a=>l3(a,n,s)),l3(null,n,s),r.join("")}function vX(t){return Math.round(Date.now()/1e3)+t}function yX(){return Symbol("auth-callback")}const ts=()=>typeof window<"u"&&typeof document<"u",gd={tested:!1,writable:!1},YL=()=>{if(!ts())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(gd.tested)return gd.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),gd.tested=!0,gd.writable=!0}catch{gd.tested=!0,gd.writable=!1}return gd.writable};function bX(t){const r={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((a,i)=>{r[i]=a})}catch{}return n.searchParams.forEach((s,a)=>{r[a]=s}),r}const ZL=t=>t?(...r)=>t(...r):(...r)=>fetch(...r),jX=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",wh=async(t,r,n)=>{await t.setItem(r,JSON.stringify(n))},vd=async(t,r)=>{const n=await t.getItem(r);if(!n)return null;try{return JSON.parse(n)}catch{return n}},es=async(t,r)=>{await t.removeItem(r)};class ty{constructor(){this.promise=new ty.promiseConstructor((r,n)=>{this.resolve=r,this.reject=n})}}ty.promiseConstructor=Promise;function Zj(t){const r=t.split(".");if(r.length!==3)throw new l_("Invalid JWT structure");for(let s=0;s<r.length;s++)if(!iX.test(r[s]))throw new l_("JWT not in base64url format");return{header:JSON.parse(c3(r[0])),payload:JSON.parse(c3(r[1])),signature:Mh(r[2]),raw:{header:r[0],payload:r[1]}}}async function wX(t){return await new Promise(r=>{setTimeout(()=>r(null),t)})}function NX(t,r){return new Promise((s,a)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!r(i,null,o)){s(o);return}}catch(o){if(!r(i,o)){a(o);return}}})()})}function SX(t){return("0"+t.toString(16)).substr(-2)}function _X(){const r=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=n.length;let a="";for(let i=0;i<56;i++)a+=n.charAt(Math.floor(Math.random()*s));return a}return crypto.getRandomValues(r),Array.from(r,SX).join("")}async function kX(t){const n=new TextEncoder().encode(t),s=await crypto.subtle.digest("SHA-256",n),a=new Uint8Array(s);return Array.from(a).map(i=>String.fromCharCode(i)).join("")}async function CX(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await kX(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ah(t,r,n=!1){const s=_X();let a=s;n&&(a+="/PASSWORD_RECOVERY"),await wh(t,`${r}-code-verifier`,a);const i=await CX(s);return[i,s===i?"plain":"s256"]}const PX=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function AX(t){const r=t.headers.get(i_);if(!r||!r.match(PX))return null;try{return new Date(`${r}T00:00:00.0Z`)}catch{return null}}function EX(t){if(!t)throw new Error("Missing exp claim");const r=Math.floor(Date.now()/1e3);if(t<=r)throw new Error("JWT has expired")}function TX(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const OX=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ih(t){if(!OX.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Xj(){const t={};return new Proxy(t,{get:(r,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const s=n.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(r,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(r,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function MX(t,r){return new Proxy(t,{get:(n,s,a)=>{if(s==="__isInsecureUserWarningProxy")return!0;if(typeof s=="symbol"){const i=s.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,s,a)}return!r.value&&typeof s=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),r.value=!0),Reflect.get(n,s,a)}})}function d3(t){return JSON.parse(JSON.stringify(t))}const Nd=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),DX=[502,503,504];async function u3(t){var r;if(!jX(t))throw new o_(Nd(t),0);if(DX.includes(t.status))throw new o_(Nd(t),t.status);let n;try{n=await t.json()}catch(i){throw new Pd(Nd(i),i)}let s;const a=AX(t);if(a&&a.getTime()>=GL["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?s=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(s=n.error_code),s){if(s==="weak_password")throw new i3(Nd(n),t.status,((r=n.weak_password)===null||r===void 0?void 0:r.reasons)||[]);if(s==="session_not_found")throw new fa}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new i3(Nd(n),t.status,n.weak_password.reasons);throw new lX(Nd(n),t.status||500,s)}const RX=(t,r,n,s)=>{const a={method:t,headers:(r==null?void 0:r.headers)||{}};return t==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},r==null?void 0:r.headers),a.body=JSON.stringify(s),Object.assign(Object.assign({},a),n))};async function wt(t,r,n,s){var a;const i=Object.assign({},s==null?void 0:s.headers);i[i_]||(i[i_]=GL["2024-01-01"].name),s!=null&&s.jwt&&(i.Authorization=`Bearer ${s.jwt}`);const o=(a=s==null?void 0:s.query)!==null&&a!==void 0?a:{};s!=null&&s.redirectTo&&(o.redirect_to=s.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await IX(t,r,n+l,{headers:i,noResolveJson:s==null?void 0:s.noResolveJson},{},s==null?void 0:s.body);return s!=null&&s.xform?s==null?void 0:s.xform(c):{data:Object.assign({},c),error:null}}async function IX(t,r,n,s,a,i){const o=RX(r,s,a,i);let l;try{l=await t(n,Object.assign({},o))}catch(c){throw console.error(c),new o_(Nd(c),0)}if(l.ok||await u3(l),s!=null&&s.noResolveJson)return l;try{return await l.json()}catch(c){await u3(c)}}function _i(t){var r;let n=null;BX(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=vX(t.expires_in)));const s=(r=t.user)!==null&&r!==void 0?r:t;return{data:{session:n,user:s},error:null}}function h3(t){const r=_i(t);return!r.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,s)=>n&&typeof s=="string",!0)&&(r.data.weak_password=t.weak_password),r}function yc(t){var r;return{data:{user:(r=t.user)!==null&&r!==void 0?r:t},error:null}}function LX(t){return{data:t,error:null}}function $X(t){const{action_link:r,email_otp:n,hashed_token:s,redirect_to:a,verification_type:i}=t,o=Nm(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:r,email_otp:n,hashed_token:s,redirect_to:a,verification_type:i},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function m3(t){return t}function BX(t){return t.access_token&&t.refresh_token&&t.expires_in}const Jj=["global","local","others"];class FX{constructor({url:r="",headers:n={},fetch:s}){this.url=r,this.headers=n,this.fetch=ZL(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(r,n=Jj[0]){if(Jj.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Jj.join(", ")}`);try{return await wt(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:r,noResolveJson:!0}),{data:null,error:null}}catch(s){if(dt(s))return{data:null,error:s};throw s}}async inviteUserByEmail(r,n={}){try{return await wt(this.fetch,"POST",`${this.url}/invite`,{body:{email:r,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:yc})}catch(s){if(dt(s))return{data:{user:null},error:s};throw s}}async generateLink(r){try{const{options:n}=r,s=Nm(r,["options"]),a=Object.assign(Object.assign({},s),n);return"newEmail"in s&&(a.new_email=s==null?void 0:s.newEmail,delete a.newEmail),await wt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:$X,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(dt(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(r){try{return await wt(this.fetch,"POST",`${this.url}/admin/users`,{body:r,headers:this.headers,xform:yc})}catch(n){if(dt(n))return{data:{user:null},error:n};throw n}}async listUsers(r){var n,s,a,i,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},m=await wt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(n=r==null?void 0:r.page)===null||n===void 0?void 0:n.toString())!==null&&s!==void 0?s:"",per_page:(i=(a=r==null?void 0:r.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:m3});if(m.error)throw m.error;const p=await m.json(),x=(o=m.headers.get("x-total-count"))!==null&&o!==void 0?o:0,v=(c=(l=m.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return v.length>0&&(v.forEach(w=>{const y=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(w.split(";")[1].split("=")[1]);u[`${j}Page`]=y}),u.total=parseInt(x)),{data:Object.assign(Object.assign({},p),u),error:null}}catch(u){if(dt(u))return{data:{users:[]},error:u};throw u}}async getUserById(r){ih(r);try{return await wt(this.fetch,"GET",`${this.url}/admin/users/${r}`,{headers:this.headers,xform:yc})}catch(n){if(dt(n))return{data:{user:null},error:n};throw n}}async updateUserById(r,n){ih(r);try{return await wt(this.fetch,"PUT",`${this.url}/admin/users/${r}`,{body:n,headers:this.headers,xform:yc})}catch(s){if(dt(s))return{data:{user:null},error:s};throw s}}async deleteUser(r,n=!1){ih(r);try{return await wt(this.fetch,"DELETE",`${this.url}/admin/users/${r}`,{headers:this.headers,body:{should_soft_delete:n},xform:yc})}catch(s){if(dt(s))return{data:{user:null},error:s};throw s}}async _listFactors(r){ih(r.userId);try{const{data:n,error:s}=await wt(this.fetch,"GET",`${this.url}/admin/users/${r.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:n,error:s}}catch(n){if(dt(n))return{data:null,error:n};throw n}}async _deleteFactor(r){ih(r.userId),ih(r.id);try{return{data:await wt(this.fetch,"DELETE",`${this.url}/admin/users/${r.userId}/factors/${r.id}`,{headers:this.headers}),error:null}}catch(n){if(dt(n))return{data:null,error:n};throw n}}async _listOAuthClients(r){var n,s,a,i,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},m=await wt(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(n=r==null?void 0:r.page)===null||n===void 0?void 0:n.toString())!==null&&s!==void 0?s:"",per_page:(i=(a=r==null?void 0:r.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:m3});if(m.error)throw m.error;const p=await m.json(),x=(o=m.headers.get("x-total-count"))!==null&&o!==void 0?o:0,v=(c=(l=m.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return v.length>0&&(v.forEach(w=>{const y=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(w.split(";")[1].split("=")[1]);u[`${j}Page`]=y}),u.total=parseInt(x)),{data:Object.assign(Object.assign({},p),u),error:null}}catch(u){if(dt(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(r){try{return await wt(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(dt(n))return{data:null,error:n};throw n}}async _getOAuthClient(r){try{return await wt(this.fetch,"GET",`${this.url}/admin/oauth/clients/${r}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(dt(n))return{data:null,error:n};throw n}}async _updateOAuthClient(r,n){try{return await wt(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${r}`,{body:n,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(dt(s))return{data:null,error:s};throw s}}async _deleteOAuthClient(r){try{return await wt(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${r}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(dt(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(r){try{return await wt(this.fetch,"POST",`${this.url}/admin/oauth/clients/${r}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(dt(n))return{data:null,error:n};throw n}}}function f3(t={}){return{getItem:r=>t[r]||null,setItem:(r,n)=>{t[r]=n},removeItem:r=>{delete t[r]}}}const oh={debug:!!(globalThis&&YL()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class XL extends Error{constructor(r){super(r),this.isAcquireTimeout=!0}}class zX extends XL{}async function UX(t,r,n){oh.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,r);const s=new globalThis.AbortController;return r>0&&setTimeout(()=>{s.abort(),oh.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},r),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,r===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async a=>{if(a){oh.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,a.name);try{return await n()}finally{oh.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,a.name)}}else{if(r===0)throw oh.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new zX(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(oh.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function HX(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function JL(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function WX(t){return parseInt(t,16)}function qX(t){const r=new TextEncoder().encode(t);return"0x"+Array.from(r,s=>s.toString(16).padStart(2,"0")).join("")}function VX(t){var r;const{chainId:n,domain:s,expirationTime:a,issuedAt:i=new Date,nonce:o,notBefore:l,requestId:c,resources:u,scheme:m,uri:p,version:x}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!s)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!p)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(x!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${x}`);if(!((r=t.statement)===null||r===void 0)&&r.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const v=JL(t.address),w=m?`${m}://${s}`:s,y=t.statement?`${t.statement}
`:"",j=`${w} wants you to sign in with your Ethereum account:
${v}

${y}`;let S=`URI: ${p}
Version: ${x}
Chain ID: ${n}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(a&&(S+=`
Expiration Time: ${a.toISOString()}`),l&&(S+=`
Not Before: ${l.toISOString()}`),c&&(S+=`
Request ID: ${c}`),u){let C=`
Resources:`;for(const P of u){if(!P||typeof P!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${P}`);C+=`
- ${P}`}S+=C}return`${j}
${S}`}class Pn extends Error{constructor({message:r,code:n,cause:s,name:a}){var i;super(r,{cause:s}),this.__isWebAuthnError=!0,this.name=(i=a??(s instanceof Error?s.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=n}}class O0 extends Pn{constructor(r,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:r}),this.name="WebAuthnUnknownError",this.originalError=n}}function GX({error:t,options:r}){var n,s,a;const{publicKey:i}=r;if(!i)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(r.signal instanceof AbortSignal)return new Pn({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=i.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new Pn({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(r.mediation==="conditional"&&((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new Pn({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((a=i.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new Pn({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new Pn({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new Pn({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return i.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new Pn({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new Pn({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const o=window.location.hostname;if(QL(o)){if(i.rp.id!==o)return new Pn({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Pn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new Pn({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new Pn({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Pn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function KX({error:t,options:r}){const{publicKey:n}=r;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(r.signal instanceof AbortSignal)return new Pn({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new Pn({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const s=window.location.hostname;if(QL(s)){if(n.rpId!==s)return new Pn({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Pn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new Pn({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Pn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class YX{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const r=new AbortController;return this.controller=r,r.signal}cancelCeremony(){if(this.controller){const r=new Error("Manually cancelling existing WebAuthn API call");r.name="AbortError",this.controller.abort(r),this.controller=void 0}}}const ZX=new YX;function XX(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:r,user:n,excludeCredentials:s}=t,a=Nm(t,["challenge","user","excludeCredentials"]),i=Mh(r).buffer,o=Object.assign(Object.assign({},n),{id:Mh(n.id).buffer}),l=Object.assign(Object.assign({},a),{challenge:i,user:o});if(s&&s.length>0){l.excludeCredentials=new Array(s.length);for(let c=0;c<s.length;c++){const u=s[c];l.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:Mh(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return l}function JX(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:r,allowCredentials:n}=t,s=Nm(t,["challenge","allowCredentials"]),a=Mh(r).buffer,i=Object.assign(Object.assign({},s),{challenge:a});if(n&&n.length>0){i.allowCredentials=new Array(n.length);for(let o=0;o<n.length;o++){const l=n[o];i.allowCredentials[o]=Object.assign(Object.assign({},l),{id:Mh(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return i}function QX(t){var r;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:Ed(new Uint8Array(t.response.attestationObject)),clientDataJSON:Ed(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(r=n.authenticatorAttachment)!==null&&r!==void 0?r:void 0}}function eJ(t){var r;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,s=t.getClientExtensionResults(),a=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:Ed(new Uint8Array(a.authenticatorData)),clientDataJSON:Ed(new Uint8Array(a.clientDataJSON)),signature:Ed(new Uint8Array(a.signature)),userHandle:a.userHandle?Ed(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:s,authenticatorAttachment:(r=n.authenticatorAttachment)!==null&&r!==void 0?r:void 0}}function QL(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function p3(){var t,r;return!!(ts()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((r=navigator==null?void 0:navigator.credentials)===null||r===void 0?void 0:r.get)=="function")}async function tJ(t){try{const r=await navigator.credentials.create(t);return r?r instanceof PublicKeyCredential?{data:r,error:null}:{data:null,error:new O0("Browser returned unexpected credential type",r)}:{data:null,error:new O0("Empty credential response",r)}}catch(r){return{data:null,error:GX({error:r,options:t})}}}async function rJ(t){try{const r=await navigator.credentials.get(t);return r?r instanceof PublicKeyCredential?{data:r,error:null}:{data:null,error:new O0("Browser returned unexpected credential type",r)}:{data:null,error:new O0("Empty credential response",r)}}catch(r){return{data:null,error:KX({error:r,options:t})}}}const nJ={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},sJ={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function M0(...t){const r=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),n=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),s={};for(const a of t)if(a)for(const i in a){const o=a[i];if(o!==void 0)if(Array.isArray(o))s[i]=o;else if(n(o))s[i]=o;else if(r(o)){const l=s[i];r(l)?s[i]=M0(l,o):s[i]=M0(o)}else s[i]=o}return s}function aJ(t,r){return M0(nJ,t,r||{})}function iJ(t,r){return M0(sJ,t,r||{})}class oJ{constructor(r){this.client=r,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(r){return this.client.mfa.enroll(Object.assign(Object.assign({},r),{factorType:"webauthn"}))}async _challenge({factorId:r,webauthn:n,friendlyName:s,signal:a},i){try{const{data:o,error:l}=await this.client.mfa.challenge({factorId:r,webauthn:n});if(!o)return{data:null,error:l};const c=a??ZX.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:u}=o.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${s}`),u.displayName||(u.displayName=u.name)}switch(o.webauthn.type){case"create":{const u=aJ(o.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:m,error:p}=await tJ({publicKey:u,signal:c});return m?{data:{factorId:r,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:m}},error:null}:{data:null,error:p}}case"request":{const u=iJ(o.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:m,error:p}=await rJ(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:u,signal:c}));return m?{data:{factorId:r,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:m}},error:null}:{data:null,error:p}}}}catch(o){return dt(o)?{data:null,error:o}:{data:null,error:new Pd("Unexpected error in challenge",o)}}}async _verify({challengeId:r,factorId:n,webauthn:s}){return this.client.mfa.verify({factorId:n,challengeId:r,webauthn:s})}async _authenticate({factorId:r,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},i){if(!n)return{data:null,error:new pp("rpId is required for WebAuthn authentication")};try{if(!p3())return{data:null,error:new Pd("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this.challenge({factorId:r,webauthn:{rpId:n,rpOrigins:s},signal:a},{request:i});if(!o)return{data:null,error:l};const{webauthn:c}=o;return this._verify({factorId:r,challengeId:o.challengeId,webauthn:{type:c.type,rpId:n,rpOrigins:s,credential_response:c.credential_response}})}catch(o){return dt(o)?{data:null,error:o}:{data:null,error:new Pd("Unexpected error in authenticate",o)}}}async _register({friendlyName:r,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},i){if(!n)return{data:null,error:new pp("rpId is required for WebAuthn registration")};try{if(!p3())return{data:null,error:new Pd("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this._enroll({friendlyName:r});if(!o)return await this.client.mfa.listFactors().then(m=>{var p;return(p=m.data)===null||p===void 0?void 0:p.all.find(x=>x.factor_type==="webauthn"&&x.friendly_name===r&&x.status!=="unverified")}).then(m=>m?this.client.mfa.unenroll({factorId:m==null?void 0:m.id}):void 0),{data:null,error:l};const{data:c,error:u}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:n,rpOrigins:s},signal:a},{create:i});return c?this._verify({factorId:o.id,challengeId:c.challengeId,webauthn:{rpId:n,rpOrigins:s,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(o){return dt(o)?{data:null,error:o}:{data:null,error:new Pd("Unexpected error in register",o)}}}}HX();const lJ={url:nX,storageKey:sX,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:aX,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function x3(t,r,n){return await n()}const lh={};class xp{get jwks(){var r,n;return(n=(r=lh[this.storageKey])===null||r===void 0?void 0:r.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(r){lh[this.storageKey]=Object.assign(Object.assign({},lh[this.storageKey]),{jwks:r})}get jwks_cached_at(){var r,n;return(n=(r=lh[this.storageKey])===null||r===void 0?void 0:r.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(r){lh[this.storageKey]=Object.assign(Object.assign({},lh[this.storageKey]),{cachedAt:r})}constructor(r){var n,s,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},lJ),r);if(this.storageKey=i.storageKey,this.instanceID=(n=xp.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,xp.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&ts()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new FX({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=ZL(i.fetch),this.lock=i.lock||x3,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,i.lock?this.lock=i.lock:this.persistSession&&ts()&&(!((s=globalThis==null?void 0:globalThis.navigator)===null||s===void 0)&&s.locks)?this.lock=UX:this.lock=x3,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new oJ(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:YL()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=f3(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=f3(this.memoryStorage)),ts()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(r){if(this.throwOnError&&r&&r.error)throw r.error;return r}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${VL}) ${new Date().toISOString()}`}_debug(...r){return this.logDebugMessages&&this.logger(this._logPrefix(),...r),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var r;try{let n={},s="none";if(ts()&&(n=bX(window.location.href),this._isImplicitGrantCallback(n)?s="implicit":await this._isPKCECallback(n)&&(s="pkce")),ts()&&this.detectSessionInUrl&&s!=="none"){const{data:a,error:i}=await this._getSessionFromURL(n,s);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),uX(i)){const c=(r=i.details)===null||r===void 0?void 0:r.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=a;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return dt(n)?this._returnResult({error:n}):this._returnResult({error:new Pd("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(r){var n,s,a;try{const i=await wt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(n=r==null?void 0:r.options)===null||n===void 0?void 0:n.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(a=r==null?void 0:r.options)===null||a===void 0?void 0:a.captchaToken}},xform:_i}),{data:o,error:l}=i;if(l||!o)return this._returnResult({data:{user:null,session:null},error:l});const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(i){if(dt(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(r){var n,s,a;try{let i;if("email"in r){const{email:m,password:p,options:x}=r;let v=null,w=null;this.flowType==="pkce"&&([v,w]=await ah(this.storage,this.storageKey)),i=await wt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:x==null?void 0:x.emailRedirectTo,body:{email:m,password:p,data:(n=x==null?void 0:x.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:x==null?void 0:x.captchaToken},code_challenge:v,code_challenge_method:w},xform:_i})}else if("phone"in r){const{phone:m,password:p,options:x}=r;i=await wt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:m,password:p,data:(s=x==null?void 0:x.data)!==null&&s!==void 0?s:{},channel:(a=x==null?void 0:x.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:x==null?void 0:x.captchaToken}},xform:_i})}else throw new Kg("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return await es(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:l});const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(i){if(await es(this.storage,`${this.storageKey}-code-verifier`),dt(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(r){try{let n;if("email"in r){const{email:i,password:o,options:l}=r;n=await wt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:h3})}else if("phone"in r){const{phone:i,password:o,options:l}=r;n=await wt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:h3})}else throw new Kg("You must provide either an email or phone number and a password");const{data:s,error:a}=n;if(a)return this._returnResult({data:{user:null,session:null},error:a});if(!s||!s.session||!s.user){const i=new sh;return this._returnResult({data:{user:null,session:null},error:i})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:a})}catch(n){if(dt(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(r){var n,s,a,i;return await this._handleProviderSignIn(r.provider,{redirectTo:(n=r.options)===null||n===void 0?void 0:n.redirectTo,scopes:(s=r.options)===null||s===void 0?void 0:s.scopes,queryParams:(a=r.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(i=r.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(r){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(r))}async signInWithWeb3(r){const{chain:n}=r;switch(n){case"ethereum":return await this.signInWithEthereum(r);case"solana":return await this.signInWithSolana(r);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(r){var n,s,a,i,o,l,c,u,m,p,x;let v,w;if("message"in r)v=r.message,w=r.signature;else{const{chain:y,wallet:j,statement:S,options:C}=r;let P;if(ts())if(typeof j=="object")P=j;else{const B=window;if("ethereum"in B&&typeof B.ethereum=="object"&&"request"in B.ethereum&&typeof B.ethereum.request=="function")P=B.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof j!="object"||!(C!=null&&C.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");P=j}const T=new URL((n=C==null?void 0:C.url)!==null&&n!==void 0?n:window.location.href),_=await P.request({method:"eth_requestAccounts"}).then(B=>B).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!_||_.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const k=JL(_[0]);let M=(s=C==null?void 0:C.signInWithEthereum)===null||s===void 0?void 0:s.chainId;if(!M){const B=await P.request({method:"eth_chainId"});M=WX(B)}const $={domain:T.host,address:k,statement:S,uri:T.href,version:"1",chainId:M,nonce:(a=C==null?void 0:C.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(o=(i=C==null?void 0:C.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(l=C==null?void 0:C.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=C==null?void 0:C.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=C==null?void 0:C.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(m=C==null?void 0:C.signInWithEthereum)===null||m===void 0?void 0:m.resources};v=VX($),w=await P.request({method:"personal_sign",params:[qX(v),k]})}try{const{data:y,error:j}=await wt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:v,signature:w},!((p=r.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(x=r.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:_i});if(j)throw j;if(!y||!y.session||!y.user){const S=new sh;return this._returnResult({data:{user:null,session:null},error:S})}return y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),this._returnResult({data:Object.assign({},y),error:j})}catch(y){if(dt(y))return this._returnResult({data:{user:null,session:null},error:y});throw y}}async signInWithSolana(r){var n,s,a,i,o,l,c,u,m,p,x,v;let w,y;if("message"in r)w=r.message,y=r.signature;else{const{chain:j,wallet:S,statement:C,options:P}=r;let T;if(ts())if(typeof S=="object")T=S;else{const k=window;if("solana"in k&&typeof k.solana=="object"&&("signIn"in k.solana&&typeof k.solana.signIn=="function"||"signMessage"in k.solana&&typeof k.solana.signMessage=="function"))T=k.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof S!="object"||!(P!=null&&P.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");T=S}const _=new URL((n=P==null?void 0:P.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in T&&T.signIn){const k=await T.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},P==null?void 0:P.signInWithSolana),{version:"1",domain:_.host,uri:_.href}),C?{statement:C}:null));let M;if(Array.isArray(k)&&k[0]&&typeof k[0]=="object")M=k[0];else if(k&&typeof k=="object"&&"signedMessage"in k&&"signature"in k)M=k;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in M&&"signature"in M&&(typeof M.signedMessage=="string"||M.signedMessage instanceof Uint8Array)&&M.signature instanceof Uint8Array)w=typeof M.signedMessage=="string"?M.signedMessage:new TextDecoder().decode(M.signedMessage),y=M.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in T)||typeof T.signMessage!="function"||!("publicKey"in T)||typeof T!="object"||!T.publicKey||!("toBase58"in T.publicKey)||typeof T.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");w=[`${_.host} wants you to sign in with your Solana account:`,T.publicKey.toBase58(),...C?["",C,""]:[""],"Version: 1",`URI: ${_.href}`,`Issued At: ${(a=(s=P==null?void 0:P.signInWithSolana)===null||s===void 0?void 0:s.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((i=P==null?void 0:P.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${P.signInWithSolana.notBefore}`]:[],...!((o=P==null?void 0:P.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${P.signInWithSolana.expirationTime}`]:[],...!((l=P==null?void 0:P.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${P.signInWithSolana.chainId}`]:[],...!((c=P==null?void 0:P.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${P.signInWithSolana.nonce}`]:[],...!((u=P==null?void 0:P.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${P.signInWithSolana.requestId}`]:[],...!((p=(m=P==null?void 0:P.signInWithSolana)===null||m===void 0?void 0:m.resources)===null||p===void 0)&&p.length?["Resources",...P.signInWithSolana.resources.map(M=>`- ${M}`)]:[]].join(`
`);const k=await T.signMessage(new TextEncoder().encode(w),"utf8");if(!k||!(k instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");y=k}}try{const{data:j,error:S}=await wt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:w,signature:Ed(y)},!((x=r.options)===null||x===void 0)&&x.captchaToken?{gotrue_meta_security:{captcha_token:(v=r.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:_i});if(S)throw S;if(!j||!j.session||!j.user){const C=new sh;return this._returnResult({data:{user:null,session:null},error:C})}return j.session&&(await this._saveSession(j.session),await this._notifyAllSubscribers("SIGNED_IN",j.session)),this._returnResult({data:Object.assign({},j),error:S})}catch(j){if(dt(j))return this._returnResult({data:{user:null,session:null},error:j});throw j}}async _exchangeCodeForSession(r){const n=await vd(this.storage,`${this.storageKey}-code-verifier`),[s,a]=(n??"").split("/");try{if(!s&&this.flowType==="pkce")throw new hX;const{data:i,error:o}=await wt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:r,code_verifier:s},xform:_i});if(await es(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!i||!i.session||!i.user){const l=new sh;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:a??null}),error:o})}catch(i){if(await es(this.storage,`${this.storageKey}-code-verifier`),dt(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(r){try{const{options:n,provider:s,token:a,access_token:i,nonce:o}=r,l=await wt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:a,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:_i}),{data:c,error:u}=l;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!c||!c.session||!c.user){const m=new sh;return this._returnResult({data:{user:null,session:null},error:m})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:u})}catch(n){if(dt(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(r){var n,s,a,i,o;try{if("email"in r){const{email:l,options:c}=r;let u=null,m=null;this.flowType==="pkce"&&([u,m]=await ah(this.storage,this.storageKey));const{error:p}=await wt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(s=c==null?void 0:c.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:m},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:p})}if("phone"in r){const{phone:l,options:c}=r,{data:u,error:m}=await wt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(a=c==null?void 0:c.data)!==null&&a!==void 0?a:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:m})}throw new Kg("You must provide either an email or phone number.")}catch(l){if(await es(this.storage,`${this.storageKey}-code-verifier`),dt(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async verifyOtp(r){var n,s;try{let a,i;"options"in r&&(a=(n=r.options)===null||n===void 0?void 0:n.redirectTo,i=(s=r.options)===null||s===void 0?void 0:s.captchaToken);const{data:o,error:l}=await wt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},r),{gotrue_meta_security:{captcha_token:i}}),redirectTo:a,xform:_i});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(r.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(a){if(dt(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithSSO(r){var n,s,a,i,o;try{let l=null,c=null;this.flowType==="pkce"&&([l,c]=await ah(this.storage,this.storageKey));const u=await wt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in r?{provider_id:r.providerId}:null),"domain"in r?{domain:r.domain}:null),{redirect_to:(s=(n=r.options)===null||n===void 0?void 0:n.redirectTo)!==null&&s!==void 0?s:void 0}),!((a=r==null?void 0:r.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:r.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:c}),headers:this.headers,xform:LX});return!((i=u.data)===null||i===void 0)&&i.url&&ts()&&!(!((o=r.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(l){if(await es(this.storage,`${this.storageKey}-code-verifier`),dt(l))return this._returnResult({data:null,error:l});throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;if(s)throw s;if(!n)throw new fa;const{error:a}=await wt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:a})})}catch(r){if(dt(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async resend(r){try{const n=`${this.url}/resend`;if("email"in r){const{email:s,type:a,options:i}=r,{error:o}=await wt(this.fetch,"POST",n,{headers:this.headers,body:{email:s,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in r){const{phone:s,type:a,options:i}=r,{data:o,error:l}=await wt(this.fetch,"POST",n,{headers:this.headers,body:{phone:s,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l})}throw new Kg("You must provide either an email or phone number and a type")}catch(n){if(dt(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(r,n){this._debug("#_acquireLock","begin",r);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await s,await n()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,r,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=n();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(r){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await r(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let r=null;const n=await vd(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?r=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!r)return{data:{session:null},error:null};const s=r.expires_at?r.expires_at*1e3-Date.now()<Kj:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",r.expires_at),!s){if(this.userStorage){const o=await vd(this.userStorage,this.storageKey+"-user");o!=null&&o.user?r.user=o.user:r.user=Xj()}if(this.storage.isServer&&r.user&&!r.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};r.user=MX(r.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:r},error:null}}const{data:a,error:i}=await this._callRefreshToken(r.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:a},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(r){if(r)return await this._getUser(r);await this.initializePromise;const n=await this._acquireLock(-1,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(r){try{return r?await wt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:r,xform:yc}):await this._useSession(async n=>{var s,a,i;const{data:o,error:l}=n;if(l)throw l;return!(!((s=o.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new fa}:await wt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(a=o.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0,xform:yc})})}catch(n){if(dt(n))return dX(n)&&(await this._removeSession(),await es(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(r,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(r,n))}async _updateUser(r,n={}){try{return await this._useSession(async s=>{const{data:a,error:i}=s;if(i)throw i;if(!a.session)throw new fa;const o=a.session;let l=null,c=null;this.flowType==="pkce"&&r.email!=null&&([l,c]=await ah(this.storage,this.storageKey));const{data:u,error:m}=await wt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},r),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:yc});if(m)throw m;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(s){if(await es(this.storage,`${this.storageKey}-code-verifier`),dt(s))return this._returnResult({data:{user:null},error:s});throw s}}async setSession(r){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(r))}async _setSession(r){try{if(!r.access_token||!r.refresh_token)throw new fa;const n=Date.now()/1e3;let s=n,a=!0,i=null;const{payload:o}=Zj(r.access_token);if(o.exp&&(s=o.exp,a=s<=n),a){const{data:l,error:c}=await this._callRefreshToken(r.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(r.access_token);if(c)throw c;i={access_token:r.access_token,refresh_token:r.refresh_token,user:l.user,token_type:"bearer",expires_in:s-n,expires_at:s},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(n){if(dt(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(r){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(r))}async _refreshSession(r){try{return await this._useSession(async n=>{var s;if(!r){const{data:o,error:l}=n;if(l)throw l;r=(s=o.session)!==null&&s!==void 0?s:void 0}if(!(r!=null&&r.refresh_token))throw new fa;const{data:a,error:i}=await this._callRefreshToken(r.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):a?this._returnResult({data:{user:a.user,session:a},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(dt(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(r,n){try{if(!ts())throw new Yg("No browser detected.");if(r.error||r.error_description||r.error_code)throw new Yg(r.error_description||"Error in URL with unspecified error_description",{error:r.error||"unspecified_error",code:r.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new a3("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Yg("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!r.code)throw new a3("No code detected.");const{data:C,error:P}=await this._exchangeCodeForSession(r.code);if(P)throw P;const T=new URL(window.location.href);return T.searchParams.delete("code"),window.history.replaceState(window.history.state,"",T.toString()),{data:{session:C.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:a,access_token:i,refresh_token:o,expires_in:l,expires_at:c,token_type:u}=r;if(!i||!l||!o||!u)throw new Yg("No session defined in URL");const m=Math.round(Date.now()/1e3),p=parseInt(l);let x=m+p;c&&(x=parseInt(c));const v=x-m;v*1e3<=jh&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${p}s`);const w=x-p;m-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,x,m):m-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,x,m);const{data:y,error:j}=await this._getUser(i);if(j)throw j;const S={provider_token:s,provider_refresh_token:a,access_token:i,expires_in:p,expires_at:x,refresh_token:o,token_type:u,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:S,redirectType:r.type},error:null})}catch(s){if(dt(s))return this._returnResult({data:{session:null,redirectType:null},error:s});throw s}}_isImplicitGrantCallback(r){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),r):!!(r.access_token||r.error_description)}async _isPKCECallback(r){const n=await vd(this.storage,`${this.storageKey}-code-verifier`);return!!(r.code&&n)}async signOut(r={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(r))}async _signOut({scope:r}={scope:"global"}){return await this._useSession(async n=>{var s;const{data:a,error:i}=n;if(i)return this._returnResult({error:i});const o=(s=a.session)===null||s===void 0?void 0:s.access_token;if(o){const{error:l}=await this.admin.signOut(o,r);if(l&&!(cX(l)&&(l.status===404||l.status===401||l.status===403)))return this._returnResult({error:l})}return r!=="others"&&(await this._removeSession(),await es(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(r){const n=yX(),s={id:n,callback:r,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,s),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:s}}}async _emitInitialSession(r){return await this._useSession(async n=>{var s,a;try{const{data:{session:i},error:o}=n;if(o)throw o;await((s=this.stateChangeEmitters.get(r))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",r,"session",i)}catch(i){await((a=this.stateChangeEmitters.get(r))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",r,"error",i),console.error(i)}})}async resetPasswordForEmail(r,n={}){let s=null,a=null;this.flowType==="pkce"&&([s,a]=await ah(this.storage,this.storageKey,!0));try{return await wt(this.fetch,"POST",`${this.url}/recover`,{body:{email:r,code_challenge:s,code_challenge_method:a,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(await es(this.storage,`${this.storageKey}-code-verifier`),dt(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var r;try{const{data:n,error:s}=await this.getUser();if(s)throw s;return this._returnResult({data:{identities:(r=n.user.identities)!==null&&r!==void 0?r:[]},error:null})}catch(n){if(dt(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(r){return"token"in r?this.linkIdentityIdToken(r):this.linkIdentityOAuth(r)}async linkIdentityOAuth(r){var n;try{const{data:s,error:a}=await this._useSession(async i=>{var o,l,c,u,m;const{data:p,error:x}=i;if(x)throw x;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,r.provider,{redirectTo:(o=r.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=r.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=r.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await wt(this.fetch,"GET",v,{headers:this.headers,jwt:(m=(u=p.session)===null||u===void 0?void 0:u.access_token)!==null&&m!==void 0?m:void 0})});if(a)throw a;return ts()&&!(!((n=r.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(s==null?void 0:s.url),this._returnResult({data:{provider:r.provider,url:s==null?void 0:s.url},error:null})}catch(s){if(dt(s))return this._returnResult({data:{provider:r.provider,url:null},error:s});throw s}}async linkIdentityIdToken(r){return await this._useSession(async n=>{var s;try{const{error:a,data:{session:i}}=n;if(a)throw a;const{options:o,provider:l,token:c,access_token:u,nonce:m}=r,p=await wt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(s=i==null?void 0:i.access_token)!==null&&s!==void 0?s:void 0,body:{provider:l,id_token:c,access_token:u,nonce:m,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:_i}),{data:x,error:v}=p;return v?this._returnResult({data:{user:null,session:null},error:v}):!x||!x.session||!x.user?this._returnResult({data:{user:null,session:null},error:new sh}):(x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("USER_UPDATED",x.session)),this._returnResult({data:x,error:v}))}catch(a){if(await es(this.storage,`${this.storageKey}-code-verifier`),dt(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}})}async unlinkIdentity(r){try{return await this._useSession(async n=>{var s,a;const{data:i,error:o}=n;if(o)throw o;return await wt(this.fetch,"DELETE",`${this.url}/user/identities/${r.identity_id}`,{headers:this.headers,jwt:(a=(s=i.session)===null||s===void 0?void 0:s.access_token)!==null&&a!==void 0?a:void 0})})}catch(n){if(dt(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(r){const n=`#_refreshAccessToken(${r.substring(0,5)}...)`;this._debug(n,"begin");try{const s=Date.now();return await NX(async a=>(a>0&&await wX(200*Math.pow(2,a-1)),this._debug(n,"refreshing attempt",a),await wt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:r},headers:this.headers,xform:_i})),(a,i)=>{const o=200*Math.pow(2,a);return i&&Yj(i)&&Date.now()+o-s<jh})}catch(s){if(this._debug(n,"error",s),dt(s))return this._returnResult({data:{session:null,user:null},error:s});throw s}finally{this._debug(n,"end")}}_isValidSession(r){return typeof r=="object"&&r!==null&&"access_token"in r&&"refresh_token"in r&&"expires_at"in r}async _handleProviderSignIn(r,n){const s=await this._getUrlForProvider(`${this.url}/authorize`,r,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",r,"options",n,"url",s),ts()&&!n.skipBrowserRedirect&&window.location.assign(s),{data:{provider:r,url:s},error:null}}async _recoverAndRefresh(){var r,n;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const a=await vd(this.storage,this.storageKey);if(a&&this.userStorage){let o=await vd(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:a.user},await wh(this.userStorage,this.storageKey+"-user",o)),a.user=(r=o==null?void 0:o.user)!==null&&r!==void 0?r:Xj()}else if(a&&!a.user&&!a.user){const o=await vd(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(a.user=o.user,await es(this.storage,this.storageKey+"-user"),await wh(this.storage,this.storageKey,a)):a.user=Xj()}if(this._debug(s,"session from storage",a),!this._isValidSession(a)){this._debug(s,"session is not valid"),a!==null&&await this._removeSession();return}const i=((n=a.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Kj;if(this._debug(s,`session has${i?"":" not"} expired with margin of ${Kj}s`),i){if(this.autoRefreshToken&&a.refresh_token){const{error:o}=await this._callRefreshToken(a.refresh_token);o&&(console.error(o),Yj(o)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(a.access_token);!l&&(o!=null&&o.user)?(a.user=o.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(s,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(s,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(s,"error",a),console.error(a);return}finally{this._debug(s,"end")}}async _callRefreshToken(r){var n,s;if(!r)throw new fa;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${r.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new ty;const{data:i,error:o}=await this._refreshAccessToken(r);if(o)throw o;if(!i.session)throw new fa;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={data:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(a,"error",i),dt(i)){const o={data:null,error:i};return Yj(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(i),i}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(r,n,s=!0){const a=`#_notifyAllSubscribers(${r})`;this._debug(a,"begin",n,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:r,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(r,n)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(a,"end")}}async _saveSession(r){this._debug("#_saveSession()",r),this.suppressGetSessionWarning=!0,await es(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},r),s=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!s&&n.user&&await wh(this.userStorage,this.storageKey+"-user",{user:n.user});const a=Object.assign({},n);delete a.user;const i=d3(a);await wh(this.storage,this.storageKey,i)}else{const a=d3(n);await wh(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await es(this.storage,this.storageKey),await es(this.storage,this.storageKey+"-code-verifier"),await es(this.storage,this.storageKey+"-user"),this.userStorage&&await es(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const r=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{r&&ts()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",r)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const r=setInterval(()=>this._autoRefreshTokenTick(),jh);this.autoRefreshTicker=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const r=this.autoRefreshTicker;this.autoRefreshTicker=null,r&&clearInterval(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const r=Date.now();try{return await this._useSession(async n=>{const{data:{session:s}}=n;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((s.expires_at*1e3-r)/jh);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${jh}ms, refresh threshold is ${a_} ticks`),a<=a_&&await this._callRefreshToken(s.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(r){if(r.isAcquireTimeout||r instanceof XL)this._debug("auto refresh token tick lock not available");else throw r}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ts()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(r){console.error("_handleVisibilityChange",r)}}async _onVisibilityChanged(r){const n=`#_onVisibilityChanged(${r})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),r||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(r,n,s){const a=[`provider=${encodeURIComponent(n)}`];if(s!=null&&s.redirectTo&&a.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s!=null&&s.scopes&&a.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[i,o]=await ah(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});a.push(l.toString())}if(s!=null&&s.queryParams){const i=new URLSearchParams(s.queryParams);a.push(i.toString())}return s!=null&&s.skipBrowserRedirect&&a.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${r}?${a.join("&")}`}async _unenroll(r){try{return await this._useSession(async n=>{var s;const{data:a,error:i}=n;return i?this._returnResult({data:null,error:i}):await wt(this.fetch,"DELETE",`${this.url}/factors/${r.factorId}`,{headers:this.headers,jwt:(s=a==null?void 0:a.session)===null||s===void 0?void 0:s.access_token})})}catch(n){if(dt(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(r){try{return await this._useSession(async n=>{var s,a;const{data:i,error:o}=n;if(o)return this._returnResult({data:null,error:o});const l=Object.assign({friendly_name:r.friendlyName,factor_type:r.factorType},r.factorType==="phone"?{phone:r.phone}:r.factorType==="totp"?{issuer:r.issuer}:{}),{data:c,error:u}=await wt(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(s=i==null?void 0:i.session)===null||s===void 0?void 0:s.access_token});return u?this._returnResult({data:null,error:u}):(r.factorType==="totp"&&c.type==="totp"&&(!((a=c==null?void 0:c.totp)===null||a===void 0)&&a.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(n){if(dt(n))return this._returnResult({data:null,error:n});throw n}}async _verify(r){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var s;const{data:a,error:i}=n;if(i)return this._returnResult({data:null,error:i});const o=Object.assign({challenge_id:r.challengeId},"webauthn"in r?{webauthn:Object.assign(Object.assign({},r.webauthn),{credential_response:r.webauthn.type==="create"?QX(r.webauthn.credential_response):eJ(r.webauthn.credential_response)})}:{code:r.code}),{data:l,error:c}=await wt(this.fetch,"POST",`${this.url}/factors/${r.factorId}/verify`,{body:o,headers:this.headers,jwt:(s=a==null?void 0:a.session)===null||s===void 0?void 0:s.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:c}))})}catch(n){if(dt(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(r){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var s;const{data:a,error:i}=n;if(i)return this._returnResult({data:null,error:i});const o=await wt(this.fetch,"POST",`${this.url}/factors/${r.factorId}/challenge`,{body:r,headers:this.headers,jwt:(s=a==null?void 0:a.session)===null||s===void 0?void 0:s.access_token});if(o.error)return o;const{data:l}=o;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:XX(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:JX(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(dt(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(r){const{data:n,error:s}=await this._challenge({factorId:r.factorId});return s?this._returnResult({data:null,error:s}):await this._verify({factorId:r.factorId,challengeId:n.id,code:r.code})}async _listFactors(){var r;const{data:{user:n},error:s}=await this.getUser();if(s)return{data:null,error:s};const a={all:[],phone:[],totp:[],webauthn:[]};for(const i of(r=n==null?void 0:n.factors)!==null&&r!==void 0?r:[])a.all.push(i),i.status==="verified"&&a[i.factor_type].push(i);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(){var r,n;const{data:{session:s},error:a}=await this.getSession();if(a)return this._returnResult({data:null,error:a});if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=Zj(s.access_token);let o=null;i.aal&&(o=i.aal);let l=o;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(m=>m.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const u=i.amr||[];return{data:{currentLevel:o,nextLevel:l,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(r){try{return await this._useSession(async n=>{const{data:{session:s},error:a}=n;return a?this._returnResult({data:null,error:a}):s?await wt(this.fetch,"GET",`${this.url}/oauth/authorizations/${r}`,{headers:this.headers,jwt:s.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new fa})})}catch(n){if(dt(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(r,n){try{return await this._useSession(async s=>{const{data:{session:a},error:i}=s;if(i)return this._returnResult({data:null,error:i});if(!a)return this._returnResult({data:null,error:new fa});const o=await wt(this.fetch,"POST",`${this.url}/oauth/authorizations/${r}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&ts()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(s){if(dt(s))return this._returnResult({data:null,error:s});throw s}}async _denyAuthorization(r,n){try{return await this._useSession(async s=>{const{data:{session:a},error:i}=s;if(i)return this._returnResult({data:null,error:i});if(!a)return this._returnResult({data:null,error:new fa});const o=await wt(this.fetch,"POST",`${this.url}/oauth/authorizations/${r}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&ts()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(s){if(dt(s))return this._returnResult({data:null,error:s});throw s}}async _listOAuthGrants(){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?await wt(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new fa})})}catch(r){if(dt(r))return this._returnResult({data:null,error:r});throw r}}async _revokeOAuthGrant(r){try{return await this._useSession(async n=>{const{data:{session:s},error:a}=n;return a?this._returnResult({data:null,error:a}):s?(await wt(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:s.access_token,query:{client_id:r.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new fa})})}catch(n){if(dt(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(r,n={keys:[]}){let s=n.keys.find(l=>l.kid===r);if(s)return s;const a=Date.now();if(s=this.jwks.keys.find(l=>l.kid===r),s&&this.jwks_cached_at+oX>a)return s;const{data:i,error:o}=await wt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=a,s=i.keys.find(l=>l.kid===r),!s)?null:s}async getClaims(r,n={}){try{let s=r;if(!s){const{data:v,error:w}=await this.getSession();if(w||!v.session)return this._returnResult({data:null,error:w});s=v.session.access_token}const{header:a,payload:i,signature:o,raw:{header:l,payload:c}}=Zj(s);n!=null&&n.allowExpired||EX(i.exp);const u=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:v}=await this.getUser(s);if(v)throw v;return{data:{claims:i,header:a,signature:o},error:null}}const m=TX(a.alg),p=await crypto.subtle.importKey("jwk",u,m,!0,["verify"]);if(!await crypto.subtle.verify(m,p,o,gX(`${l}.${c}`)))throw new l_("Invalid JWT signature");return{data:{claims:i,header:a,signature:o},error:null}}catch(s){if(dt(s))return this._returnResult({data:null,error:s});throw s}}}xp.nextInstanceID={};const cJ=xp,dJ="2.89.0";let Uf="";typeof Deno<"u"?Uf="deno":typeof document<"u"?Uf="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Uf="react-native":Uf="node";const uJ={"X-Client-Info":`supabase-js-${Uf}/${dJ}`},hJ={headers:uJ},mJ={schema:"public"},fJ={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},pJ={};function gp(t){"@babel/helpers - typeof";return gp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},gp(t)}function xJ(t,r){if(gp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,r);if(gp(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function gJ(t){var r=xJ(t,"string");return gp(r)=="symbol"?r:r+""}function vJ(t,r,n){return(r=gJ(r))in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function g3(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,s)}return n}function fn(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?g3(Object(n),!0).forEach(function(s){vJ(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):g3(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}const yJ=t=>t?(...r)=>t(...r):(...r)=>fetch(...r),bJ=()=>Headers,jJ=(t,r,n)=>{const s=yJ(n),a=bJ();return async(i,o)=>{var l;const c=(l=await r())!==null&&l!==void 0?l:t;let u=new a(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),s(i,fn(fn({},o),{},{headers:u}))}};function wJ(t){return t.endsWith("/")?t:t+"/"}function NJ(t,r){var n,s;const{db:a,auth:i,realtime:o,global:l}=t,{db:c,auth:u,realtime:m,global:p}=r,x={db:fn(fn({},c),a),auth:fn(fn({},u),i),realtime:fn(fn({},m),o),storage:{},global:fn(fn(fn({},p),l),{},{headers:fn(fn({},(n=p==null?void 0:p.headers)!==null&&n!==void 0?n:{}),(s=l==null?void 0:l.headers)!==null&&s!==void 0?s:{})}),accessToken:async()=>""};return t.accessToken?x.accessToken=t.accessToken:delete x.accessToken,x}function SJ(t){const r=t==null?void 0:t.trim();if(!r)throw new Error("supabaseUrl is required.");if(!r.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(wJ(r))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var _J=class extends cJ{constructor(t){super(t)}},kJ=class{constructor(t,r,n){var s,a;this.supabaseUrl=t,this.supabaseKey=r;const i=SJ(t);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",i),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",i),this.storageUrl=new URL("storage/v1",i),this.functionsUrl=new URL("functions/v1",i);const o=`sb-${i.hostname.split(".")[0]}-auth-token`,l={db:mJ,realtime:pJ,auth:fn(fn({},fJ),{},{storageKey:o}),global:hJ},c=NJ(n??{},l);if(this.storageKey=(s=c.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(a=c.global.headers)!==null&&a!==void 0?a:{},c.accessToken)this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(m,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}});else{var u;this.auth=this._initSupabaseAuthClient((u=c.auth)!==null&&u!==void 0?u:{},this.headers,c.global.fetch)}this.fetch=jJ(r,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(fn({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.accessToken&&this.accessToken().then(m=>this.realtime.setAuth(m)).catch(m=>console.warn("Failed to set initial Realtime auth token:",m)),this.rest=new aZ(new URL("rest/v1",i).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),this.storage=new rX(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new eZ(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t=this,r,n;if(t.accessToken)return await t.accessToken();const{data:s}=await t.auth.getSession();return(r=(n=s.session)===null||n===void 0?void 0:n.access_token)!==null&&r!==void 0?r:t.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:a,storageKey:i,flowType:o,lock:l,debug:c,throwOnError:u},m,p){const x={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new _J({url:this.authUrl.href,headers:fn(fn({},x),m),storageKey:i,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:a,flowType:o,lock:l,debug:c,throwOnError:u,fetch:p,hasCustomAuthorizationHeader:Object.keys(this.headers).some(v=>v.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new wZ(this.realtimeUrl.href,fn(fn({},t),{},{params:fn(fn({},{apikey:this.supabaseKey}),t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,r)=>{this._handleTokenChanged(t,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const CJ=(t,r,n)=>new kJ(t,r,n);function PJ(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const r=t.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}PJ()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const e8="https://bbayqzqlqgqipohulcsd.supabase.co",AJ="sb_publishable_FmZxEB3IzAM-KrIbH372xQ_vMx5KJ42";console.log(" Supabase Config:");console.log("  URL from env:"," (using hardcoded)");console.log("  KEY from env:"," (using hardcoded)");console.log("  Final URL:",e8);const uo=CJ(e8,AJ);console.log(" Supabase client initialized");const t8=N.createContext({user:null,session:null,loading:!0,signInWithEmail:async()=>({error:null}),signUpWithEmail:async()=>({error:null}),signInWithGoogle:async()=>({error:null}),signInWithFacebook:async()=>({error:null}),signOut:async()=>{}}),Ma=()=>N.useContext(t8),v3=()=>`${window.location.hostname==="localhost"?window.location.origin:"https://katiabooking.github.io/Katiabooking"}/#/redirect`,y3=t=>{localStorage.setItem("auth_registration_type",t)};function EJ({children:t}){const[r,n]=N.useState(null),[s,a]=N.useState(null),[i,o]=N.useState(!0);N.useEffect(()=>{uo.auth.getSession().then(({data:{session:v}})=>{a(v),n((v==null?void 0:v.user)??null),o(!1)});const{data:{subscription:x}}=uo.auth.onAuthStateChange((v,w)=>{a(w),n((w==null?void 0:w.user)??null),o(!1)});return()=>x.unsubscribe()},[]);const l=async(x,v)=>{const{error:w}=await uo.auth.signInWithPassword({email:x,password:v});return{error:w}},c=async(x,v,w)=>{const{error:y}=await uo.auth.signUp({email:x,password:v,options:{data:{full_name:w}}});return{error:y}},u=async(x="client")=>{y3(x);const{error:v}=await uo.auth.signInWithOAuth({provider:"google",options:{redirectTo:v3()}});return{error:v}},m=async(x="client")=>{y3(x);const{error:v}=await uo.auth.signInWithOAuth({provider:"facebook",options:{redirectTo:v3()}});return{error:v}},p=async()=>{await uo.auth.signOut()};return e.jsx(t8.Provider,{value:{user:r,session:s,loading:i,signInWithEmail:l,signUpWithEmail:c,signInWithGoogle:u,signInWithFacebook:m,signOut:p},children:t})}const r8=N.createContext(void 0);function TJ({children:t}){const[r,n]=N.useState([{id:"1",name:"Haircut & Style",category:"Hair stylist",price:65,duration:60,description:"Professional haircut with styling"},{id:"2",name:"Beard Trim",category:"Barber",price:35,duration:30,description:"Precision beard trimming and shaping"},{id:"3",name:"Manicure",category:"Manicure",price:36,duration:45,description:"Classic manicure with polish",discount:20,originalPrice:45},{id:"4",name:"Pedicure",category:"Pedicure",price:55,duration:60,description:"Relaxing pedicure treatment"},{id:"5",name:"Full Color",category:"Hair stylist",price:90,duration:120,description:"Complete hair coloring service with premium products",discount:25,originalPrice:120},{id:"6",name:"Facial Treatment",category:"Facial",price:85,duration:60,description:"Deep cleansing facial with mask"},{id:"7",name:"Eyelash Extensions",category:"Eyelashes",price:68,duration:90,description:"Full set classic eyelash extensions",discount:15,originalPrice:80},{id:"8",name:"Spa Massage",category:"Spa",price:95,duration:75,description:"Relaxing full body massage with aromatherapy oils"},{id:"9",name:"Eyebrow Shaping",category:"Brow",price:25,duration:20,description:"Professional eyebrow shaping and tinting"},{id:"10",name:"Laser Hair Removal",category:"Laser",price:150,duration:45,description:"Advanced laser hair removal treatment",discount:10,originalPrice:167},{id:"11",name:"Makeup Application",category:"Make up",price:75,duration:60,description:"Professional makeup for special events"},{id:"12",name:"Deep Tissue Massage",category:"Massage",price:110,duration:90,description:"Therapeutic deep tissue massage"},{id:"13",name:"Waxing Full Body",category:"Waxing",price:120,duration:75,description:"Complete full body waxing service"},{id:"14",name:"Microblading",category:"PMU",price:350,duration:150,description:"Semi-permanent eyebrow microblading",discount:15,originalPrice:412},{id:"15",name:"Tattoo Small",category:"Tattoo",price:100,duration:60,description:"Small custom tattoo design"}]),s=c=>{n([...r,c])},a=c=>{n(r.map(u=>u.id===c.id?c:u))},i=c=>{n(r.filter(u=>u.id!==c))},o=c=>r.find(u=>u.id===c),l=c=>r.filter(u=>u.category===c);return e.jsx(r8.Provider,{value:{services:r,addService:s,updateService:a,deleteService:i,getServiceById:o,getServicesByCategory:l},children:t})}function au(){const t=N.useContext(r8);if(t===void 0)throw new Error("useServices must be used within a ServicesProvider");return t}const n8=N.createContext(void 0);function OJ({children:t}){const[r,n]=N.useState([{id:"1",firstName:"Anna",lastName:"Kowalska",phone:"+48 123 456 789",email:"anna.kowalska@salon.com",avatar:"https://images.unsplash.com/photo-1494790108377-be9c29b29330?w=400",role:"master",categories:["Manicure","Pedicure"],services:["3","4"],workingHours:[{day:"monday",isWorking:!0,startTime:"09:00",endTime:"18:00"},{day:"tuesday",isWorking:!0,startTime:"09:00",endTime:"18:00"},{day:"wednesday",isWorking:!0,startTime:"09:00",endTime:"18:00"},{day:"thursday",isWorking:!0,startTime:"09:00",endTime:"18:00"},{day:"friday",isWorking:!0,startTime:"09:00",endTime:"18:00"},{day:"saturday",isWorking:!0,startTime:"10:00",endTime:"16:00"},{day:"sunday",isWorking:!1,startTime:"00:00",endTime:"00:00"}],daysOff:["sunday"],vacations:[],extraWorkDays:[],rating:4.9,completedBookings:245,revenue:12450,baseSalary:3e3,monthlyTarget:15e3,currentRevenue:12450,bonusType:"percentage",bonusValue:10},{id:"2",firstName:"Maria",lastName:"Nowak",phone:"+48 987 654 321",email:"maria.nowak@salon.com",avatar:"https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=400",role:"master",categories:["Hair stylist","Make up"],services:["1","5","11"],workingHours:[{day:"monday",isWorking:!0,startTime:"10:00",endTime:"19:00"},{day:"tuesday",isWorking:!0,startTime:"10:00",endTime:"19:00"},{day:"wednesday",isWorking:!0,startTime:"10:00",endTime:"19:00"},{day:"thursday",isWorking:!0,startTime:"10:00",endTime:"19:00"},{day:"friday",isWorking:!0,startTime:"10:00",endTime:"19:00"},{day:"saturday",isWorking:!0,startTime:"09:00",endTime:"17:00"},{day:"sunday",isWorking:!1,startTime:"00:00",endTime:"00:00"}],daysOff:["sunday"],vacations:[],extraWorkDays:[],rating:4.8,completedBookings:189,revenue:10230,baseSalary:3500,monthlyTarget:16e3,currentRevenue:10230,bonusType:"percentage",bonusValue:10},{id:"3",firstName:"Ewa",lastName:"Winiewska",phone:"+48 555 123 456",email:"ewa.wisniewska@salon.com",avatar:"https://images.unsplash.com/photo-1487412720507-e7ab37603c6f?w=400",role:"master",categories:["Eyelashes","Brow"],services:["7","9"],workingHours:[{day:"monday",isWorking:!0,startTime:"09:00",endTime:"17:00"},{day:"tuesday",isWorking:!0,startTime:"09:00",endTime:"17:00"},{day:"wednesday",isWorking:!0,startTime:"09:00",endTime:"17:00"},{day:"thursday",isWorking:!0,startTime:"09:00",endTime:"17:00"},{day:"friday",isWorking:!0,startTime:"09:00",endTime:"17:00"},{day:"saturday",isWorking:!1,startTime:"00:00",endTime:"00:00"},{day:"sunday",isWorking:!1,startTime:"00:00",endTime:"00:00"}],daysOff:["saturday","sunday"],vacations:[],extraWorkDays:[],rating:5,completedBookings:312,revenue:15600,baseSalary:4e3,monthlyTarget:17e3,currentRevenue:15600,bonusType:"percentage",bonusValue:10}]),s=p=>{n([...r,p])},a=p=>{n(r.map(x=>x.id===p.id?p:x))},i=p=>{n(r.filter(x=>x.id!==p))},o=p=>r.find(x=>x.id===p),l=p=>r.filter(x=>x.categories.includes(p)),c=p=>r.filter(x=>x.services.includes(p)),u=(p,x)=>{const v=o(p);if(!v||v.vacations.some(C=>{const P=new Date(C.startDate),T=new Date(C.endDate);return x>=P&&x<=T}))return!1;const y=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"][x.getDay()];if(v.extraWorkDays.some(C=>new Date(C.date).toDateString()===x.toDateString()))return!0;const S=v.workingHours.find(C=>C.day===y);return S?S.isWorking:!1},m=(p,x)=>{const v=o(p);if(!v||!u(p,x))return null;const w=v.extraWorkDays.find(S=>new Date(S.date).toDateString()===x.toDateString());if(w)return{startTime:w.startTime,endTime:w.endTime};const y=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"][x.getDay()],j=v.workingHours.find(S=>S.day===y);return j&&j.isWorking?{startTime:j.startTime,endTime:j.endTime}:null};return e.jsx(n8.Provider,{value:{masters:r,addMaster:s,updateMaster:a,deleteMaster:i,getMasterById:o,getMastersByCategory:l,getMastersByService:c,isMasterAvailable:u,getMasterWorkingHours:m},children:t})}function s8(){const t=N.useContext(n8);if(t===void 0)throw new Error("useMasters must be used within a MastersProvider");return t}const a8=N.createContext(void 0);function MJ({children:t}){const[r,n]=N.useState([{id:"1",clientName:"Sarah J.",clientPhone:"+1 234 567 890",service:"Haircut",startTime:"10:00",duration:1,status:"deposit",masterId:"alice",masterName:"Alice Johnson",date:"2024-11-15",category:"Hair stylist",price:65},{id:"2",clientName:"Mike T.",clientPhone:"+1 234 567 891",service:"Beard Trim",startTime:"11:00",duration:.5,status:"paid",masterId:"bob",masterName:"Bob Smith",date:"2024-11-15",category:"Barber",price:25},{id:"3",clientName:"Emma W.",clientPhone:"+1 234 567 892",service:"Manicure",startTime:"14:00",duration:1,status:"unpaid",masterId:"carol",masterName:"Carol Davis",date:"2024-11-15",category:"Manicure",price:45}]),s=m=>{n(p=>[...p,m])},a=(m,p)=>{n(x=>x.map(v=>v.id===m?{...v,...p}:v))},i=m=>{n(p=>p.filter(x=>x.id!==m))},o=m=>{const p=m.toISOString().split("T")[0];return r.filter(x=>x.date===p)},l=(m,p)=>{const x=p.toISOString().split("T")[0];return r.filter(v=>v.masterId===m&&v.date===x)},c=(m,p,x,v)=>{const w=l(m,p),y=C=>{const[P,T]=C.split(":").map(Number);return P*60+T},j=y(x),S=j+v*60;for(const C of w){const P=y(C.startTime),T=P+C.duration*60;if(j>=P&&j<T||S>P&&S<=T||j<=P&&S>=T)return!1}return!0},u=(m,p,x)=>{const v=[];for(let S=9;S<20;S++)for(let C=0;C<60;C+=15){const P=`${S.toString().padStart(2,"0")}:${C.toString().padStart(2,"0")}`;if(S*60+C+x*60<=1200&&c(m,p,P,x)){const M=S>12?S-12:S===0?12:S,$=S>=12?"PM":"AM",B=`${M}:${C.toString().padStart(2,"0")} ${$}`;v.push(B)}}return v};return e.jsx(a8.Provider,{value:{bookings:r,addBooking:s,updateBooking:a,deleteBooking:i,getBookingsByDate:o,getBookingsByMaster:l,isTimeSlotAvailable:c,getAvailableTimeSlots:u},children:t})}function DJ(){const t=N.useContext(a8);if(!t)throw new Error("useBookings must be used within a BookingsProvider");return t}const RJ=async t=>{const r=localStorage.getItem(t);return r?JSON.parse(r):null},b3=async(t,r)=>{localStorage.setItem(t,JSON.stringify(r))},IJ=async t=>{localStorage.removeItem(t)},Qj={enabled:!0,emailNotifications:!0,pushNotifications:!1,smsNotifications:!1,reminders:{threeDaysBefore:!0,oneDayBefore:!0,twoHoursBefore:!0,thirtyMinutesBefore:!1},marketing:!1,newBookings:!0,cancellations:!0},i8=N.createContext(void 0);function LJ({children:t}){const{user:r}=Ma(),[n,s]=N.useState(Qj),[a,i]=N.useState(!1),[o,l]=N.useState(!1);N.useEffect(()=>{const j="Notification"in window&&"serviceWorker"in navigator&&"PushManager"in window;l(j)},[]),N.useEffect(()=>{if(!r){s(Qj);return}c()},[r]);const c=async()=>{if(r)try{const j=`notifications:settings:${r.id}`,S=await RJ(j);S&&s({...Qj,...S}),u()}catch(j){console.error("Error loading notification settings:",j)}},u=async()=>{if(o)try{const S=await(await navigator.serviceWorker.ready).pushManager.getSubscription();i(!!S)}catch(j){console.error("Error checking push subscription:",j)}},m=async j=>{if(r)try{const S={...n,...j};s(S);const C=`notifications:settings:${r.id}`;await b3(C,S)}catch(S){throw console.error("Error updating notification settings:",S),S}},p=async()=>{if(!o)return console.log("Push notifications not supported"),!1;try{if(await Notification.requestPermission()!=="granted")return console.log("Notification permission denied"),!1;const C=await(await navigator.serviceWorker.ready).pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:BJ("BEl62iUYgUivxIkv69yViEuiBIa-Ib37J8xQmrUM-M0J7kQN7vvYLAMZNm2mH1kz8H8cQ8v5mL6iJ9c3pR5J0Ek")});return await v(C),i(!0),await m({pushNotifications:!0}),!0}catch(j){return console.error("Error subscribing to push:",j),!1}},x=async()=>{if(!o)return!1;try{const S=await(await navigator.serviceWorker.ready).pushManager.getSubscription();return S&&(await S.unsubscribe(),await w(S)),i(!1),await m({pushNotifications:!1}),!0}catch(j){return console.error("Error unsubscribing from push:",j),!1}},v=async j=>{if(r)try{const S={endpoint:j.endpoint,keys:{p256dh:j3(j.getKey("p256dh")),auth:j3(j.getKey("auth"))}},C=`push:subscription:${r.id}`;await b3(C,S)}catch(S){console.error("Error saving subscription:",S)}},w=async j=>{if(r)try{const S=`push:subscription:${r.id}`;await IJ(S)}catch(S){console.error("Error removing subscription:",S)}},y=async()=>{if(!o){alert("Push notifications not supported on this device");return}if(Notification.permission!=="granted"&&await Notification.requestPermission()!=="granted"){alert("Please enable notifications to test");return}new Notification("Katia Booking Reminder",{body:"Your appointment is coming up soon! ",icon:"/icons/icon-192x192.png",badge:"/icons/badge-72x72.png",vibrate:[200,100,200],tag:"test-notification"})};return e.jsx(i8.Provider,{value:{settings:n,updateSettings:m,subscribeToPush:p,unsubscribeFromPush:x,isPushSubscribed:a,isPushSupported:o,testNotification:y},children:t})}function $J(){const t=N.useContext(i8);if(!t)throw new Error("useNotifications must be used within NotificationsProvider");return t}function BJ(t){const r="=".repeat((4-t.length%4)%4),n=(t+r).replace(/\-/g,"+").replace(/_/g,"/"),s=window.atob(n),a=new Uint8Array(s.length);for(let i=0;i<s.length;++i)a[i]=s.charCodeAt(i);return a}function j3(t){const r=new Uint8Array(t);let n="";for(let s=0;s<r.byteLength;s++)n+=String.fromCharCode(r[s]);return window.btoa(n)}function mc(t=7,r=9,n=20,s=30,a=.5){const i=[],o=new Date;for(let l=0;l<t;l++){const c=new Date(o);c.setDate(o.getDate()+l);const u=c.toISOString().split("T")[0],m=c.toLocaleDateString("en-US",{weekday:"long"}),p=[];for(let x=r;x<n;x++)for(let v=0;v<60;v+=s){const w=`${x.toString().padStart(2,"0")}:${v.toString().padStart(2,"0")}`;if(l===0){const j=new Date,S=new Date(c);if(S.setHours(x,v),S<=j)continue}const y=Math.random()>a;p.push({date:u,time:w,available:y})}i.push({date:u,dayName:m,slots:p})}return i}function FJ(t){for(const r of t){const n=r.slots.find(s=>s.available);if(n)return n}return null}function ew(t,r){if(r){const n=t.find(s=>s.date===r);return n?n.slots.filter(s=>s.available).length:0}return t.reduce((n,s)=>n+s.slots.filter(a=>a.available).length,0)}function zJ(t){const r=new Date(t.date),n=new Date,s=new Date(n);s.setDate(n.getDate()+1);const a=r.toDateString()===n.toDateString(),i=r.toDateString()===s.toDateString();let o="";return a?o="Today":i?o="Tomorrow":o=r.toLocaleDateString("en-US",{month:"short",day:"numeric"}),`${o} at ${t.time}`}function o8(t){return!t||!Array.isArray(t)?!1:t.some(r=>r.slots.some(n=>n.available))}function w3(t){if(!t||!Array.isArray(t))return{hasSlots:!1,nextSlot:null,todayCount:0,tomorrowCount:0,totalCount:0};const r=new Date().toISOString().split("T")[0],n=new Date;n.setDate(n.getDate()+1);const s=n.toISOString().split("T")[0];return{hasSlots:o8(t),nextSlot:FJ(t),todayCount:ew(t,r),tomorrowCount:ew(t,s),totalCount:ew(t)}}const ja=[{id:"1",name:"Glamour Studio",image:"https://images.unsplash.com/photo-1560066984-138dadb4c035?w=800&h=600&fit=crop",gallery:["https://images.unsplash.com/photo-1560066984-138dadb4c035?w=800&h=600&fit=crop","https://images.unsplash.com/photo-1626383137804-ff908d2753a2?w=800&h=600&fit=crop","https://images.unsplash.com/photo-1626379501846-0df4067b8bb9?w=800&h=600&fit=crop","https://images.unsplash.com/photo-1619607146034-5a05296c8f9a?w=800&h=600&fit=crop","https://images.unsplash.com/photo-1562322140-8baeececf3df?w=800&h=600&fit=crop"],rating:4.8,reviewCount:245,location:"Downtown, New York",city:"New York",country:"USA",priceFrom:45,distance:1.2,isFeatured:!0,isNew:!1,isOpenNow:!0,isPremium:!0,isRecommended:!0,discount:10,about:"Premium beauty salon offering a full range of services in a luxurious setting.",openHours:"Mon-Sat: 9:00 AM - 8:00 PM, Sun: 10:00 AM - 6:00 PM",services:[{id:"s1",name:"Haircut & Styling",duration:60,price:65,category:"hairstylist"},{id:"s2",name:"Hair Coloring",duration:120,price:120,category:"hairstylist"},{id:"s3",name:"Manicure",duration:45,price:35,category:"manicure"},{id:"s4",name:"Pedicure",duration:60,price:45,category:"pedicure"},{id:"s5",name:"Facial Treatment",duration:75,price:85,category:"facial"}],staff:[{id:"st1",name:"Sarah Johnson",role:"Senior Stylist",image:"https://i.pravatar.cc/150?img=1",rating:4.9,specialties:["Haircut & Styling","Hair Coloring"]},{id:"st2",name:"Emily Davis",role:"Nail Specialist",image:"https://i.pravatar.cc/150?img=5",rating:4.8,specialties:["Manicure","Pedicure"]},{id:"st3a",name:"Jessica Williams",role:"Facial Specialist",image:"https://i.pravatar.cc/150?img=47",rating:4.9,specialties:["Facial Treatment"]}],reviews:[{id:"r1",author:"Jessica M.",rating:5,date:"2024-12-15",comment:"Amazing service! Sarah did a fantastic job with my hair color.",avatar:"https://i.pravatar.cc/150?img=10"},{id:"r2",author:"Amanda K.",rating:4,date:"2024-12-10",comment:"Great salon, very professional staff. Will come back!",avatar:"https://i.pravatar.cc/150?img=20"}],availableSlots:mc(7,9,21,30,.4)},{id:"2",name:"Bella Vista Spa",image:"https://images.unsplash.com/photo-1562322140-8baeececf3df?w=800&h=600&fit=crop",gallery:["https://images.unsplash.com/photo-1562322140-8baeececf3df?w=800&h=600&fit=crop","https://images.unsplash.com/photo-1731336479432-3eb5fdb3ab1c?w=800&h=600&fit=crop","https://images.unsplash.com/photo-1758632031161-b6d7e913c2b9?w=800&h=600&fit=crop","https://images.unsplash.com/photo-1712725213051-8d7d6a52edaf?w=800&h=600&fit=crop","https://images.unsplash.com/photo-1761971975724-31001b4de0bf?w=800&h=600&fit=crop"],rating:4.9,reviewCount:189,location:"Midtown, New York",city:"New York",country:"USA",priceFrom:55,distance:2.5,isFeatured:!0,isNew:!1,isOpenNow:!0,isPremium:!0,isRecommended:!0,discount:5,about:"Luxury spa and wellness center with expert therapists and premium products.",openHours:"Mon-Sun: 9:00 AM - 9:00 PM",services:[{id:"s6",name:"Deep Tissue Massage",duration:90,price:110,category:"massage"},{id:"s7",name:"Swedish Massage",duration:60,price:85,category:"massage"},{id:"s8",name:"Lash Extensions",duration:120,price:150,category:"eyelashes"}],staff:[{id:"st3",name:"Maria Garcia",role:"Massage Therapist",image:"https://i.pravatar.cc/150?img=9",rating:5,specialties:["Deep Tissue Massage","Swedish Massage"]}],reviews:[],availableSlots:mc(7,9,21,30,.4)},{id:"3",name:"Luxe Beauty Bar",image:"https://images.unsplash.com/photo-1516975080664-ed2fc6a32937?w=800&h=600&fit=crop",rating:4.7,reviewCount:156,location:"Brooklyn, New York",city:"New York",country:"USA",priceFrom:40,distance:3.8,isFeatured:!1,isNew:!0,isOpenNow:!1,isPremium:!1,isRecommended:!0,discount:15,about:"Modern beauty bar specializing in nails and lashes.",openHours:"Tue-Sun: 10:00 AM - 7:00 PM",services:[{id:"s9",name:"Gel Manicure",duration:50,price:45,category:"manicure"},{id:"s10",name:"Acrylic Nails",duration:90,price:70,category:"manicure"}],staff:[],reviews:[],availableSlots:mc(7,10,19,30,.6)},{id:"4",name:"Downtown Beauty Hub",image:"https://images.unsplash.com/photo-1519415510236-718bdfcd89c8?w=800&h=600&fit=crop",rating:4.6,reviewCount:198,location:"Downtown Dubai, Dubai",city:"Dubai",country:"UAE",priceFrom:35,distance:.8,isFeatured:!0,isNew:!1,isOpenNow:!0,isPremium:!1,isRecommended:!0,discount:20,about:"Your neighborhood beauty destination for nails and lashes.",openHours:"Mon-Sun: 9:00 AM - 9:00 PM",services:[{id:"s11",name:"Classic Manicure",duration:45,price:35,category:"manicure"},{id:"s12",name:"Gel Manicure",duration:60,price:50,category:"manicure"},{id:"s13",name:"Classic Lash Extensions",duration:120,price:120,category:"eyelashes"},{id:"s14",name:"Volume Lash Extensions",duration:150,price:180,category:"eyelashes"},{id:"s15",name:"Pedicure",duration:60,price:45,category:"pedicure"}],staff:[{id:"st4",name:"Aisha Ahmed",role:"Nail Artist",image:"https://i.pravatar.cc/150?img=25",rating:4.7,specialties:["Manicure","Pedicure"]},{id:"st5",name:"Fatima Al Mansoori",role:"Lash Specialist",image:"https://i.pravatar.cc/150?img=32",rating:4.8,specialties:["Lash Extensions"]}],reviews:[{id:"r3",author:"Sarah K.",rating:5,date:"2024-12-20",comment:"Best lash extensions in Dubai! Fatima is amazing!",avatar:"https://i.pravatar.cc/150?img=15"}],availableSlots:mc(7,9,21,30,.5)},{id:"5",name:"Marina Glam Studio",image:"https://images.unsplash.com/photo-1633681926022-84c23e8cb2d6?w=800&h=600&fit=crop",rating:4.9,reviewCount:342,location:"Dubai Marina, Dubai",city:"Dubai",country:"UAE",priceFrom:65,distance:4.2,isFeatured:!0,isNew:!1,isOpenNow:!0,isPremium:!0,isRecommended:!0,discount:0,about:"Luxury beauty salon with waterfront views offering premium services.",openHours:"Mon-Sun: 10:00 AM - 10:00 PM",services:[{id:"s16",name:"Premium Manicure",duration:60,price:65,category:"manicure"},{id:"s17",name:"Russian Manicure",duration:75,price:85,category:"manicure"},{id:"s18",name:"Mega Volume Lashes",duration:180,price:250,category:"eyelashes"},{id:"s19",name:"Lash Lift & Tint",duration:90,price:120,category:"eyelashes"},{id:"s20",name:"Brow Lamination",duration:60,price:95,category:"brow"},{id:"s21",name:"Hot Stone Massage",duration:90,price:180,category:"massage"}],staff:[{id:"st6",name:"Natalia Ivanova",role:"Master Nail Artist",image:"https://i.pravatar.cc/150?img=33",rating:5,specialties:["Russian Manicure","Gel Extensions"]},{id:"st7",name:"Olga Petrova",role:"Lash Expert",image:"https://i.pravatar.cc/150?img=44",rating:4.9,specialties:["Mega Volume Lashes","Lash Lift"]}],reviews:[{id:"r4",author:"Emma W.",rating:5,date:"2024-12-18",comment:"Absolutely worth it! Premium quality and amazing service.",avatar:"https://i.pravatar.cc/150?img=45"}],availableSlots:mc(7,10,22,30,.3)},{id:"6",name:"Jumeirah Beauty Lounge",image:"https://images.unsplash.com/photo-1560869713-7d0a29430803?w=800&h=600&fit=crop",rating:4.5,reviewCount:127,location:"Jumeirah, Dubai",city:"Dubai",country:"UAE",priceFrom:40,distance:6.5,isFeatured:!1,isNew:!0,isOpenNow:!0,isPremium:!1,isRecommended:!1,discount:25,about:"Cozy neighborhood salon with friendly atmosphere.",openHours:"Mon-Sat: 9:00 AM - 8:00 PM",services:[{id:"s22",name:"Express Manicure",duration:30,price:30,category:"manicure"},{id:"s23",name:"Full Set Acrylics",duration:120,price:90,category:"manicure"},{id:"s24",name:"Classic Lashes",duration:90,price:100,category:"eyelashes"}],staff:[],reviews:[],availableSlots:mc(7,9,20,30,.7)},{id:"7",name:"Palm Beauty Center",image:"https://images.unsplash.com/photo-1610992015732-2449b76344bc?w=800&h=600&fit=crop",rating:4.8,reviewCount:215,location:"Palm Jumeirah, Dubai",city:"Dubai",country:"UAE",priceFrom:75,distance:8.2,isFeatured:!0,isNew:!1,isOpenNow:!0,isPremium:!0,isRecommended:!0,discount:0,about:"Exclusive beauty center on the Palm with world-class services.",openHours:"Mon-Sun: 10:00 AM - 11:00 PM",services:[{id:"s25",name:"Luxury Manicure",duration:75,price:95,category:"manicure"},{id:"s26",name:"Hybrid Lash Extensions",duration:150,price:220,category:"eyelashes"},{id:"s27",name:"Microblading",duration:180,price:850,category:"brow"},{id:"s28",name:"Deep Tissue Massage",duration:90,price:200,category:"massage"}],staff:[{id:"st8",name:"Isabella Martinez",role:"Premium Stylist",image:"https://i.pravatar.cc/150?img=28",rating:4.9,specialties:["Luxury Services"]}],reviews:[],availableSlots:mc(7,10,23,30,.2)},{id:"8",name:"City Walk Nails & Lashes",image:"https://images.unsplash.com/photo-1487412947147-5cebf100ffc2?w=800&h=600&fit=crop",rating:4.4,reviewCount:89,location:"Downtown Dubai, Dubai",city:"Dubai",country:"UAE",priceFrom:30,distance:1.5,isFeatured:!1,isNew:!1,isOpenNow:!0,isPremium:!1,isRecommended:!0,discount:15,about:"Affordable beauty services in the heart of Downtown.",openHours:"Mon-Sun: 9:00 AM - 9:00 PM",services:[{id:"s29",name:"Basic Manicure",duration:40,price:30,category:"manicure"},{id:"s30",name:"Gel Polish",duration:50,price:45,category:"manicure"},{id:"s31",name:"Classic Lashes",duration:100,price:95,category:"eyelashes"},{id:"s32",name:"Lash Refill",duration:60,price:65,category:"eyelashes"}],staff:[],reviews:[],availableSlots:mc(7,9,21,30,.6)}],UJ=[{id:"b1",salonName:"Glamour Studio",service:"Haircut & Styling",date:"2024-12-28",time:"2:00 PM",staff:"Sarah Johnson",price:65,status:"upcoming"},{id:"b2",salonName:"Glamour Studio",service:"Facial Treatment",date:"2024-12-10",time:"11:00 AM",staff:"Sarah Johnson",price:85,status:"completed"}],N3=[{id:"manicure",name:"Manicure",icon:"Sparkles"},{id:"pedicure",name:"Pedicure",icon:"Footprints"},{id:"eyelashes",name:"Eyelashes",icon:"Eye"},{id:"brow",name:"Brow",icon:"Scan"},{id:"barber",name:"Barber",icon:"Scissors"},{id:"cosmetology",name:"Cosmetology",icon:"Sparkle"},{id:"laser",name:"Laser",icon:"Zap"},{id:"makeup",name:"Make up",icon:"Palette"},{id:"hairstylist",name:"Hair stylist",icon:"ScissorsLineDashed"},{id:"tattoo",name:"Tattoo",icon:"Pen"},{id:"piercing",name:"Piercing",icon:"CircleDot"},{id:"spa",name:"Spa",icon:"Waves"},{id:"pmu",name:"PMU",icon:"Brush"},{id:"massage",name:"Massage",icon:"Hand"},{id:"waxing",name:"Waxing",icon:"Droplet"},{id:"facial",name:"Facial",icon:"Smile"},{id:"fitness",name:"Fitness",icon:"Dumbbell"},{id:"other",name:"Other",icon:"Star"}],HJ=xC("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function Oe({className:t,variant:r,asChild:n=!1,...s}){const a=n?vl:"span";return e.jsx(a,{"data-slot":"badge",className:lt(HJ({variant:r}),t),...s})}const tw=768;function ry(){const[t,r]=N.useState(void 0);return N.useEffect(()=>{const n=window.matchMedia(`(max-width: ${tw-1}px)`),s=()=>{r(window.innerWidth<tw)};return n.addEventListener("change",s),r(window.innerWidth<tw),()=>n.removeEventListener("change",s)},[]),!!t}function l8({isOpen:t,onClose:r,title:n="Share",description:s,shareUrl:a,shareText:i}){if(N.useEffect(()=>(t?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[t]),N.useEffect(()=>{const u=m=>{m.key==="Escape"&&t&&r()};return t&&document.addEventListener("keydown",u),()=>{document.removeEventListener("keydown",u)}},[t,r]),!t)return null;const o=u=>{const m=encodeURIComponent(a),p=encodeURIComponent(i);let x="";switch(u){case"whatsapp":x=`https://wa.me/?text=${p}%20${m}`;break;case"telegram":x=`https://t.me/share/url?url=${m}&text=${p}`;break;case"facebook":x=`https://www.facebook.com/sharer/sharer.php?u=${m}`;break;case"instagram":l(),ve.info("Link copied! You can paste it in Instagram");return;case"copy":l();return;default:return}window.open(x,"_blank","width=600,height=400"),r()},l=()=>{navigator.clipboard.writeText(a).then(()=>{ve.success("Link copied to clipboard!"),r()}).catch(()=>{ve.error("Failed to copy link")})},c=e.jsx("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",onClick:u=>{u.target===u.currentTarget&&r()},children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md relative animate-in fade-in zoom-in duration-200",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:n}),e.jsx("button",{onClick:r,className:"p-1 hover:bg-gray-100 rounded-full transition-colors",children:e.jsx(ht,{className:"w-5 h-5 text-gray-500"})})]}),e.jsxs("div",{className:"p-6",children:[s&&e.jsx("p",{className:"text-gray-600 mb-6",children:s}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("button",{onClick:()=>o("whatsapp"),className:"w-full flex items-center gap-4 p-4 rounded-xl border-2 border-gray-200 hover:border-green-500 hover:bg-green-50 transition-all group",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-green-500 flex items-center justify-center flex-shrink-0",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z"})})}),e.jsxs("div",{className:"text-left flex-1",children:[e.jsx("div",{className:"font-semibold text-gray-900",children:"WhatsApp"}),e.jsx("div",{className:"text-sm text-gray-500",children:"Share via WhatsApp"})]})]}),e.jsxs("button",{onClick:()=>o("telegram"),className:"w-full flex items-center gap-4 p-4 rounded-xl border-2 border-gray-200 hover:border-blue-500 hover:bg-blue-50 transition-all group",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-blue-500 flex items-center justify-center flex-shrink-0",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M11.944 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0a12 12 0 0 0-.056 0zm4.962 7.224c.1-.002.321.023.465.14a.506.506 0 0 1 .171.325c.016.093.036.306.02.472-.18 1.898-.962 6.502-1.36 8.627-.168.9-.499 1.201-.82 1.23-.696.065-1.225-.46-1.9-.902-1.056-.693-1.653-1.124-2.678-1.8-1.185-.78-.417-1.21.258-1.91.177-.184 3.247-2.977 3.307-3.23.007-.032.014-.15-.056-.212s-.174-.041-.249-.024c-.106.024-1.793 1.14-5.061 3.345-.48.33-.913.49-1.302.48-.428-.008-1.252-.241-1.865-.44-.752-.245-1.349-.374-1.297-.789.027-.216.325-.437.893-.663 3.498-1.524 5.83-2.529 6.998-3.014 3.332-1.386 4.025-1.627 4.476-1.635z"})})}),e.jsxs("div",{className:"text-left flex-1",children:[e.jsx("div",{className:"font-semibold text-gray-900",children:"Telegram"}),e.jsx("div",{className:"text-sm text-gray-500",children:"Share via Telegram"})]})]}),e.jsxs("button",{onClick:()=>o("instagram"),className:"w-full flex items-center gap-4 p-4 rounded-xl border-2 border-gray-200 hover:border-pink-500 hover:bg-pink-50 transition-all group",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-purple-500 via-pink-500 to-orange-500 flex items-center justify-center flex-shrink-0",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"})})}),e.jsxs("div",{className:"text-left flex-1",children:[e.jsx("div",{className:"font-semibold text-gray-900",children:"Instagram"}),e.jsx("div",{className:"text-sm text-gray-500",children:"Copy link to share"})]})]}),e.jsxs("button",{onClick:()=>o("facebook"),className:"w-full flex items-center gap-4 p-4 rounded-xl border-2 border-blue-600 hover:border-blue-700 hover:bg-blue-50 transition-all group bg-blue-50",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-blue-600 flex items-center justify-center flex-shrink-0",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})})}),e.jsxs("div",{className:"text-left flex-1",children:[e.jsx("div",{className:"font-semibold text-gray-900",children:"Facebook"}),e.jsx("div",{className:"text-sm text-gray-500",children:"Share on Facebook"})]})]}),e.jsxs("button",{onClick:()=>o("copy"),className:"w-full flex items-center gap-4 p-4 rounded-xl border-2 border-gray-200 hover:border-purple-500 hover:bg-purple-50 transition-all group bg-purple-50/50",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-purple-600 flex items-center justify-center flex-shrink-0",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})})}),e.jsxs("div",{className:"text-left flex-1",children:[e.jsx("div",{className:"font-semibold text-gray-900",children:"Copy Link"}),e.jsx("div",{className:"text-sm text-gray-500",children:"Copy to clipboard"})]})]})]})]})]})});return bm.createPortal(c,document.body)}function Es({salon:t}){const{formatPrice:r,currency:n}=Kt(),s=ry(),[a,i]=N.useState(!1),[o,l]=N.useState(!1),[c,u]=N.useState(!1),m=async x=>{x.preventDefault(),x.stopPropagation(),l(!0);try{i(!a),a?ve.success(`${t.name} removed from favorites`):ve.success(` ${t.name} added to favorites!`)}catch(v){console.error("Error toggling favorite:",v),ve.error("Failed to update favorites")}finally{l(!1)}},p=x=>{x.preventDefault(),x.stopPropagation(),u(!0)};return e.jsxs(ne,{className:"overflow-hidden hover:shadow-lg transition-all duration-300 active:scale-[0.98]",children:[e.jsxs("div",{className:`relative ${s?"h-40":"h-48"} overflow-hidden`,children:[e.jsx("img",{src:t.image,alt:t.name,className:"w-full h-full object-cover hover:scale-105 transition-transform duration-300"}),e.jsxs("div",{className:`absolute top-2 left-2 flex flex-wrap gap-1 ${s?"max-w-[60%]":""}`,children:[t.isPremium&&e.jsxs(Oe,{className:`bg-gradient-to-r from-yellow-500 to-orange-500 text-white border-0 font-bold shadow-lg ${s?"text-[10px] px-1.5 py-0.5":""}`,children:[e.jsx(ii,{className:`${s?"w-2.5 h-2.5":"w-3 h-3"} mr-1`}),"PREMIUM"]}),t.discount&&t.discount>0&&e.jsxs(Oe,{className:`bg-red-500 text-white border-0 font-bold shadow-lg ${s?"text-[10px] px-1.5 py-0.5":""}`,children:[e.jsx(_c,{className:`${s?"w-2.5 h-2.5":"w-3 h-3"} mr-1`}),"-",t.discount,"%"]}),t.isNew&&e.jsxs(Oe,{className:`bg-green-500 text-white border-0 font-bold shadow-lg ${s?"text-[10px] px-1.5 py-0.5":""}`,children:[e.jsx(tr,{className:`${s?"w-2.5 h-2.5":"w-3 h-3"} mr-1`}),"NEW"]}),t.isRecommended&&e.jsxs(Oe,{className:`bg-blue-500 text-white border-0 font-bold shadow-lg ${s?"text-[10px] px-1.5 py-0.5":""}`,children:[e.jsx(xr,{className:`${s?"w-2.5 h-2.5":"w-3 h-3"} mr-1`}),"RECOMMENDED"]})]})]}),e.jsxs("div",{className:`${s?"p-3":"p-4"}`,children:[e.jsxs("div",{className:`flex items-start justify-between ${s?"mb-1.5":"mb-2"}`,children:[e.jsx(It,{to:`/salon/${t.id}`,className:"flex-1 min-w-0",children:e.jsx("h3",{className:`font-semibold hover:text-purple-600 transition-colors truncate ${s?"text-base":"text-lg"}`,children:t.name})}),e.jsxs("div",{className:`flex items-center gap-1 bg-purple-50 rounded-full flex-shrink-0 ml-2 ${s?"px-1.5 py-0.5":"px-2 py-1"}`,children:[e.jsx(Gt,{className:`fill-purple-500 text-purple-500 ${s?"w-3 h-3":"w-4 h-4"}`}),e.jsx("span",{className:`font-medium text-purple-700 ${s?"text-xs":"text-sm"}`,children:t.rating})]})]}),e.jsxs("div",{className:`flex items-center gap-1 text-gray-600 ${s?"text-xs mb-2":"text-sm mb-3"}`,children:[e.jsx(vs,{className:`${s?"w-3 h-3":"w-4 h-4"} flex-shrink-0`}),e.jsx("span",{className:"truncate",children:t.location}),e.jsxs("span",{className:"text-gray-400 flex-shrink-0",children:[" ",t.distance,"km"]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"flex items-center justify-between gap-2",children:e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("span",{className:`text-gray-500 ${s?"text-xs":"text-sm"}`,children:"From"}),t.discount&&t.discount>0?e.jsxs("div",{className:`flex items-center gap-1.5 ${s?"flex-col items-start":""}`,children:[e.jsx("span",{className:`text-gray-400 line-through ${s?"text-xs":"text-sm"}`,children:r(t.priceFrom)}),e.jsx("span",{className:`font-bold text-green-600 ${s?"text-base":"text-lg"}`,children:r(t.priceFrom*(1-t.discount/100))})]}):e.jsx("span",{className:`font-bold text-gray-900 ml-1 ${s?"text-base":"text-lg"}`,children:r(t.priceFrom)})]})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(It,{to:`/salon/${t.id}`,className:"flex-1",children:e.jsx(Q,{variant:"outline",className:`w-full border-2 border-purple-200 text-purple-600 hover:bg-purple-50 hover:border-purple-400 ${s?"text-xs px-2 py-1.5 h-auto":""}`,children:"View Salon"})}),e.jsx(It,{to:`/salon/${t.id}`,className:"flex-1",children:e.jsx(Q,{className:`w-full bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 ${s?"text-xs px-2 py-1.5 h-auto":""}`,children:"Book Now"})})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("button",{onClick:m,disabled:o,className:`flex-1 flex items-center justify-center gap-2 border-2 rounded-lg transition-all ${a?"border-pink-500 bg-pink-50 text-pink-600 hover:bg-pink-100":"border-gray-200 bg-white text-gray-600 hover:border-pink-300 hover:bg-pink-50"} ${s?"px-2 py-1.5":"px-3 py-2"}`,children:[o?e.jsx("div",{className:"w-4 h-4 border-2 border-pink-200 border-t-pink-600 rounded-full animate-spin"}):e.jsx(Kn,{className:`${s?"w-3.5 h-3.5":"w-4 h-4"} ${a?"fill-pink-500":""}`}),e.jsx("span",{className:`font-medium ${s?"text-xs":"text-sm"}`,children:a?"Saved":"Save"})]}),e.jsxs("button",{onClick:p,className:`flex items-center justify-center gap-2 border-2 border-gray-200 bg-white text-gray-600 rounded-lg hover:border-purple-300 hover:bg-purple-50 transition-all ${s?"px-2 py-1.5":"px-3 py-2"}`,children:[e.jsx(_o,{className:`${s?"w-3.5 h-3.5":"w-4 h-4"}`}),e.jsx("span",{className:`font-medium ${s?"text-xs":"text-sm"}`,children:"Share"})]})]})]}),e.jsxs("div",{className:`text-gray-500 ${s?"text-[10px] mt-1.5":"text-xs mt-2"}`,children:[t.reviewCount," reviews"]})]}),e.jsx(l8,{isOpen:c,onClose:()=>u(!1),title:"Share Salon",description:`Share ${t.name} with your friends`,shareUrl:`${window.location.origin}/salon/${t.id}`,shareText:`Check out ${t.name} on Katia! ${t.rating} rated salon in ${t.location}`})]},`${t.id}-${n.code}`)}function D0(t,[r,n]){return Math.min(n,Math.max(r,t))}function Ze(t,r,{checkForDefaultPrevented:n=!0}={}){return function(a){if(t==null||t(a),n===!1||!a.defaultPrevented)return r==null?void 0:r(a)}}function WJ(t,r){const n=N.createContext(r),s=i=>{const{children:o,...l}=i,c=N.useMemo(()=>l,Object.values(l));return e.jsx(n.Provider,{value:c,children:o})};s.displayName=t+"Provider";function a(i){const o=N.useContext(n);if(o)return o;if(r!==void 0)return r;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[s,a]}function Is(t,r=[]){let n=[];function s(i,o){const l=N.createContext(o),c=n.length;n=[...n,o];const u=p=>{var S;const{scope:x,children:v,...w}=p,y=((S=x==null?void 0:x[t])==null?void 0:S[c])||l,j=N.useMemo(()=>w,Object.values(w));return e.jsx(y.Provider,{value:j,children:v})};u.displayName=i+"Provider";function m(p,x){var y;const v=((y=x==null?void 0:x[t])==null?void 0:y[c])||l,w=N.useContext(v);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${p}\` must be used within \`${i}\``)}return[u,m]}const a=()=>{const i=n.map(o=>N.createContext(o));return function(l){const c=(l==null?void 0:l[t])||i;return N.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return a.scopeName=t,[s,qJ(a,...r)]}function qJ(...t){const r=t[0];if(t.length===1)return r;const n=()=>{const s=t.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=s.reduce((l,{useScope:c,scopeName:u})=>{const p=c(i)[`__scope${u}`];return{...l,...p}},{});return N.useMemo(()=>({[`__scope${r.scopeName}`]:o}),[o])}};return n.scopeName=r.scopeName,n}function ny(t){const r=t+"CollectionProvider",[n,s]=Is(r),[a,i]=n(r,{collectionRef:{current:null},itemMap:new Map}),o=v=>{const{scope:w,children:y}=v,j=ce.useRef(null),S=ce.useRef(new Map).current;return e.jsx(a,{scope:w,itemMap:S,collectionRef:j,children:y})};o.displayName=r;const l=t+"CollectionSlot",c=ce.forwardRef((v,w)=>{const{scope:y,children:j}=v,S=i(l,y),C=Xt(w,S.collectionRef);return e.jsx(vl,{ref:C,children:j})});c.displayName=l;const u=t+"CollectionItemSlot",m="data-radix-collection-item",p=ce.forwardRef((v,w)=>{const{scope:y,children:j,...S}=v,C=ce.useRef(null),P=Xt(w,C),T=i(u,y);return ce.useEffect(()=>(T.itemMap.set(C,{ref:C,...S}),()=>void T.itemMap.delete(C))),e.jsx(vl,{[m]:"",ref:P,children:j})});p.displayName=u;function x(v){const w=i(t+"CollectionConsumer",v);return ce.useCallback(()=>{const j=w.collectionRef.current;if(!j)return[];const S=Array.from(j.querySelectorAll(`[${m}]`));return Array.from(w.itemMap.values()).sort((T,_)=>S.indexOf(T.ref.current)-S.indexOf(_.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:o,Slot:c,ItemSlot:p},x,s]}var VJ=N.createContext(void 0);function Sm(t){const r=N.useContext(VJ);return t||r||"ltr"}var GJ=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],mt=GJ.reduce((t,r)=>{const n=N.forwardRef((s,a)=>{const{asChild:i,...o}=s,l=i?vl:r;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),e.jsx(l,{...o,ref:a})});return n.displayName=`Primitive.${r}`,{...t,[r]:n}},{});function c8(t,r){t&&bm.flushSync(()=>t.dispatchEvent(r))}function Aa(t){const r=N.useRef(t);return N.useEffect(()=>{r.current=t}),N.useMemo(()=>(...n)=>{var s;return(s=r.current)==null?void 0:s.call(r,...n)},[])}function KJ(t,r=globalThis==null?void 0:globalThis.document){const n=Aa(t);N.useEffect(()=>{const s=a=>{a.key==="Escape"&&n(a)};return r.addEventListener("keydown",s,{capture:!0}),()=>r.removeEventListener("keydown",s,{capture:!0})},[n,r])}var YJ="DismissableLayer",c_="dismissableLayer.update",ZJ="dismissableLayer.pointerDownOutside",XJ="dismissableLayer.focusOutside",S3,d8=N.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),sy=N.forwardRef((t,r)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=t,u=N.useContext(d8),[m,p]=N.useState(null),x=(m==null?void 0:m.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,v]=N.useState({}),w=Xt(r,M=>p(M)),y=Array.from(u.layers),[j]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),S=y.indexOf(j),C=m?y.indexOf(m):-1,P=u.layersWithOutsidePointerEventsDisabled.size>0,T=C>=S,_=eQ(M=>{const $=M.target,B=[...u.branches].some(F=>F.contains($));!T||B||(a==null||a(M),o==null||o(M),M.defaultPrevented||l==null||l())},x),k=tQ(M=>{const $=M.target;[...u.branches].some(F=>F.contains($))||(i==null||i(M),o==null||o(M),M.defaultPrevented||l==null||l())},x);return KJ(M=>{C===u.layers.size-1&&(s==null||s(M),!M.defaultPrevented&&l&&(M.preventDefault(),l()))},x),N.useEffect(()=>{if(m)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(S3=x.body.style.pointerEvents,x.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(m)),u.layers.add(m),_3(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(x.body.style.pointerEvents=S3)}},[m,x,n,u]),N.useEffect(()=>()=>{m&&(u.layers.delete(m),u.layersWithOutsidePointerEventsDisabled.delete(m),_3())},[m,u]),N.useEffect(()=>{const M=()=>v({});return document.addEventListener(c_,M),()=>document.removeEventListener(c_,M)},[]),e.jsx(mt.div,{...c,ref:w,style:{pointerEvents:P?T?"auto":"none":void 0,...t.style},onFocusCapture:Ze(t.onFocusCapture,k.onFocusCapture),onBlurCapture:Ze(t.onBlurCapture,k.onBlurCapture),onPointerDownCapture:Ze(t.onPointerDownCapture,_.onPointerDownCapture)})});sy.displayName=YJ;var JJ="DismissableLayerBranch",QJ=N.forwardRef((t,r)=>{const n=N.useContext(d8),s=N.useRef(null),a=Xt(r,s);return N.useEffect(()=>{const i=s.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),e.jsx(mt.div,{...t,ref:a})});QJ.displayName=JJ;function eQ(t,r=globalThis==null?void 0:globalThis.document){const n=Aa(t),s=N.useRef(!1),a=N.useRef(()=>{});return N.useEffect(()=>{const i=l=>{if(l.target&&!s.current){let c=function(){u8(ZJ,n,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(r.removeEventListener("click",a.current),a.current=c,r.addEventListener("click",a.current,{once:!0})):c()}else r.removeEventListener("click",a.current);s.current=!1},o=window.setTimeout(()=>{r.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),r.removeEventListener("pointerdown",i),r.removeEventListener("click",a.current)}},[r,n]),{onPointerDownCapture:()=>s.current=!0}}function tQ(t,r=globalThis==null?void 0:globalThis.document){const n=Aa(t),s=N.useRef(!1);return N.useEffect(()=>{const a=i=>{i.target&&!s.current&&u8(XJ,n,{originalEvent:i},{discrete:!1})};return r.addEventListener("focusin",a),()=>r.removeEventListener("focusin",a)},[r,n]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function _3(){const t=new CustomEvent(c_);document.dispatchEvent(t)}function u8(t,r,n,{discrete:s}){const a=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});r&&a.addEventListener(t,r,{once:!0}),s?c8(a,i):a.dispatchEvent(i)}var rw=0;function AC(){N.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??k3()),document.body.insertAdjacentElement("beforeend",t[1]??k3()),rw++,()=>{rw===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(r=>r.remove()),rw--}},[])}function k3(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var nw="focusScope.autoFocusOnMount",sw="focusScope.autoFocusOnUnmount",C3={bubbles:!1,cancelable:!0},rQ="FocusScope",ay=N.forwardRef((t,r)=>{const{loop:n=!1,trapped:s=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...o}=t,[l,c]=N.useState(null),u=Aa(a),m=Aa(i),p=N.useRef(null),x=Xt(r,y=>c(y)),v=N.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;N.useEffect(()=>{if(s){let y=function(P){if(v.paused||!l)return;const T=P.target;l.contains(T)?p.current=T:pc(p.current,{select:!0})},j=function(P){if(v.paused||!l)return;const T=P.relatedTarget;T!==null&&(l.contains(T)||pc(p.current,{select:!0}))},S=function(P){if(document.activeElement===document.body)for(const _ of P)_.removedNodes.length>0&&pc(l)};document.addEventListener("focusin",y),document.addEventListener("focusout",j);const C=new MutationObserver(S);return l&&C.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",j),C.disconnect()}}},[s,l,v.paused]),N.useEffect(()=>{if(l){A3.add(v);const y=document.activeElement;if(!l.contains(y)){const S=new CustomEvent(nw,C3);l.addEventListener(nw,u),l.dispatchEvent(S),S.defaultPrevented||(nQ(lQ(h8(l)),{select:!0}),document.activeElement===y&&pc(l))}return()=>{l.removeEventListener(nw,u),setTimeout(()=>{const S=new CustomEvent(sw,C3);l.addEventListener(sw,m),l.dispatchEvent(S),S.defaultPrevented||pc(y??document.body,{select:!0}),l.removeEventListener(sw,m),A3.remove(v)},0)}}},[l,u,m,v]);const w=N.useCallback(y=>{if(!n&&!s||v.paused)return;const j=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,S=document.activeElement;if(j&&S){const C=y.currentTarget,[P,T]=sQ(C);P&&T?!y.shiftKey&&S===T?(y.preventDefault(),n&&pc(P,{select:!0})):y.shiftKey&&S===P&&(y.preventDefault(),n&&pc(T,{select:!0})):S===C&&y.preventDefault()}},[n,s,v.paused]);return e.jsx(mt.div,{tabIndex:-1,...o,ref:x,onKeyDown:w})});ay.displayName=rQ;function nQ(t,{select:r=!1}={}){const n=document.activeElement;for(const s of t)if(pc(s,{select:r}),document.activeElement!==n)return}function sQ(t){const r=h8(t),n=P3(r,t),s=P3(r.reverse(),t);return[n,s]}function h8(t){const r=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const a=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||a?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)r.push(n.currentNode);return r}function P3(t,r){for(const n of t)if(!aQ(n,{upTo:r}))return n}function aQ(t,{upTo:r}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(r!==void 0&&t===r)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function iQ(t){return t instanceof HTMLInputElement&&"select"in t}function pc(t,{select:r=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&iQ(t)&&r&&t.select()}}var A3=oQ();function oQ(){let t=[];return{add(r){const n=t[0];r!==n&&(n==null||n.pause()),t=E3(t,r),t.unshift(r)},remove(r){var n;t=E3(t,r),(n=t[0])==null||n.resume()}}}function E3(t,r){const n=[...t],s=n.indexOf(r);return s!==-1&&n.splice(s,1),n}function lQ(t){return t.filter(r=>r.tagName!=="A")}var as=globalThis!=null&&globalThis.document?N.useLayoutEffect:()=>{},cQ=FH.useId||(()=>{}),dQ=0;function go(t){const[r,n]=N.useState(cQ());return as(()=>{n(s=>s??String(dQ++))},[t]),t||(r?`radix-${r}`:"")}const uQ=["top","right","bottom","left"],Tc=Math.min,va=Math.max,R0=Math.round,Zg=Math.floor,vo=t=>({x:t,y:t}),hQ={left:"right",right:"left",bottom:"top",top:"bottom"},mQ={start:"end",end:"start"};function d_(t,r,n){return va(t,Tc(r,n))}function yl(t,r){return typeof t=="function"?t(r):t}function bl(t){return t.split("-")[0]}function _m(t){return t.split("-")[1]}function EC(t){return t==="x"?"y":"x"}function TC(t){return t==="y"?"height":"width"}const fQ=new Set(["top","bottom"]);function mo(t){return fQ.has(bl(t))?"y":"x"}function OC(t){return EC(mo(t))}function pQ(t,r,n){n===void 0&&(n=!1);const s=_m(t),a=OC(t),i=TC(a);let o=a==="x"?s===(n?"end":"start")?"right":"left":s==="start"?"bottom":"top";return r.reference[i]>r.floating[i]&&(o=I0(o)),[o,I0(o)]}function xQ(t){const r=I0(t);return[u_(t),r,u_(r)]}function u_(t){return t.replace(/start|end/g,r=>mQ[r])}const T3=["left","right"],O3=["right","left"],gQ=["top","bottom"],vQ=["bottom","top"];function yQ(t,r,n){switch(t){case"top":case"bottom":return n?r?O3:T3:r?T3:O3;case"left":case"right":return r?gQ:vQ;default:return[]}}function bQ(t,r,n,s){const a=_m(t);let i=yQ(bl(t),n==="start",s);return a&&(i=i.map(o=>o+"-"+a),r&&(i=i.concat(i.map(u_)))),i}function I0(t){return t.replace(/left|right|bottom|top/g,r=>hQ[r])}function jQ(t){return{top:0,right:0,bottom:0,left:0,...t}}function m8(t){return typeof t!="number"?jQ(t):{top:t,right:t,bottom:t,left:t}}function L0(t){const{x:r,y:n,width:s,height:a}=t;return{width:s,height:a,top:n,left:r,right:r+s,bottom:n+a,x:r,y:n}}function M3(t,r,n){let{reference:s,floating:a}=t;const i=mo(r),o=OC(r),l=TC(o),c=bl(r),u=i==="y",m=s.x+s.width/2-a.width/2,p=s.y+s.height/2-a.height/2,x=s[l]/2-a[l]/2;let v;switch(c){case"top":v={x:m,y:s.y-a.height};break;case"bottom":v={x:m,y:s.y+s.height};break;case"right":v={x:s.x+s.width,y:p};break;case"left":v={x:s.x-a.width,y:p};break;default:v={x:s.x,y:s.y}}switch(_m(r)){case"start":v[o]-=x*(n&&u?-1:1);break;case"end":v[o]+=x*(n&&u?-1:1);break}return v}const wQ=async(t,r,n)=>{const{placement:s="bottom",strategy:a="absolute",middleware:i=[],platform:o}=n,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(r));let u=await o.getElementRects({reference:t,floating:r,strategy:a}),{x:m,y:p}=M3(u,s,c),x=s,v={},w=0;for(let y=0;y<l.length;y++){const{name:j,fn:S}=l[y],{x:C,y:P,data:T,reset:_}=await S({x:m,y:p,initialPlacement:s,placement:x,strategy:a,middlewareData:v,rects:u,platform:o,elements:{reference:t,floating:r}});m=C??m,p=P??p,v={...v,[j]:{...v[j],...T}},_&&w<=50&&(w++,typeof _=="object"&&(_.placement&&(x=_.placement),_.rects&&(u=_.rects===!0?await o.getElementRects({reference:t,floating:r,strategy:a}):_.rects),{x:m,y:p}=M3(u,x,c)),y=-1)}return{x:m,y:p,placement:x,strategy:a,middlewareData:v}};async function vp(t,r){var n;r===void 0&&(r={});const{x:s,y:a,platform:i,rects:o,elements:l,strategy:c}=t,{boundary:u="clippingAncestors",rootBoundary:m="viewport",elementContext:p="floating",altBoundary:x=!1,padding:v=0}=yl(r,t),w=m8(v),j=l[x?p==="floating"?"reference":"floating":p],S=L0(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(j)))==null||n?j:j.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:u,rootBoundary:m,strategy:c})),C=p==="floating"?{x:s,y:a,width:o.floating.width,height:o.floating.height}:o.reference,P=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),T=await(i.isElement==null?void 0:i.isElement(P))?await(i.getScale==null?void 0:i.getScale(P))||{x:1,y:1}:{x:1,y:1},_=L0(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:C,offsetParent:P,strategy:c}):C);return{top:(S.top-_.top+w.top)/T.y,bottom:(_.bottom-S.bottom+w.bottom)/T.y,left:(S.left-_.left+w.left)/T.x,right:(_.right-S.right+w.right)/T.x}}const NQ=t=>({name:"arrow",options:t,async fn(r){const{x:n,y:s,placement:a,rects:i,platform:o,elements:l,middlewareData:c}=r,{element:u,padding:m=0}=yl(t,r)||{};if(u==null)return{};const p=m8(m),x={x:n,y:s},v=OC(a),w=TC(v),y=await o.getDimensions(u),j=v==="y",S=j?"top":"left",C=j?"bottom":"right",P=j?"clientHeight":"clientWidth",T=i.reference[w]+i.reference[v]-x[v]-i.floating[w],_=x[v]-i.reference[v],k=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let M=k?k[P]:0;(!M||!await(o.isElement==null?void 0:o.isElement(k)))&&(M=l.floating[P]||i.floating[w]);const $=T/2-_/2,B=M/2-y[w]/2-1,F=Tc(p[S],B),H=Tc(p[C],B),K=F,Z=M-y[w]-H,V=M/2-y[w]/2+$,W=d_(K,V,Z),G=!c.arrow&&_m(a)!=null&&V!==W&&i.reference[w]/2-(V<K?F:H)-y[w]/2<0,O=G?V<K?V-K:V-Z:0;return{[v]:x[v]+O,data:{[v]:W,centerOffset:V-W-O,...G&&{alignmentOffset:O}},reset:G}}}),SQ=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(r){var n,s;const{placement:a,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:u}=r,{mainAxis:m=!0,crossAxis:p=!0,fallbackPlacements:x,fallbackStrategy:v="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:y=!0,...j}=yl(t,r);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const S=bl(a),C=mo(l),P=bl(l)===l,T=await(c.isRTL==null?void 0:c.isRTL(u.floating)),_=x||(P||!y?[I0(l)]:xQ(l)),k=w!=="none";!x&&k&&_.push(...bQ(l,y,w,T));const M=[l,..._],$=await vp(r,j),B=[];let F=((s=i.flip)==null?void 0:s.overflows)||[];if(m&&B.push($[S]),p){const V=pQ(a,o,T);B.push($[V[0]],$[V[1]])}if(F=[...F,{placement:a,overflows:B}],!B.every(V=>V<=0)){var H,K;const V=(((H=i.flip)==null?void 0:H.index)||0)+1,W=M[V];if(W&&(!(p==="alignment"?C!==mo(W):!1)||F.every(R=>mo(R.placement)===C?R.overflows[0]>0:!0)))return{data:{index:V,overflows:F},reset:{placement:W}};let G=(K=F.filter(O=>O.overflows[0]<=0).sort((O,R)=>O.overflows[1]-R.overflows[1])[0])==null?void 0:K.placement;if(!G)switch(v){case"bestFit":{var Z;const O=(Z=F.filter(R=>{if(k){const D=mo(R.placement);return D===C||D==="y"}return!0}).map(R=>[R.placement,R.overflows.filter(D=>D>0).reduce((D,I)=>D+I,0)]).sort((R,D)=>R[1]-D[1])[0])==null?void 0:Z[0];O&&(G=O);break}case"initialPlacement":G=l;break}if(a!==G)return{reset:{placement:G}}}return{}}}};function D3(t,r){return{top:t.top-r.height,right:t.right-r.width,bottom:t.bottom-r.height,left:t.left-r.width}}function R3(t){return uQ.some(r=>t[r]>=0)}const _Q=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(r){const{rects:n}=r,{strategy:s="referenceHidden",...a}=yl(t,r);switch(s){case"referenceHidden":{const i=await vp(r,{...a,elementContext:"reference"}),o=D3(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:R3(o)}}}case"escaped":{const i=await vp(r,{...a,altBoundary:!0}),o=D3(i,n.floating);return{data:{escapedOffsets:o,escaped:R3(o)}}}default:return{}}}}},f8=new Set(["left","top"]);async function kQ(t,r){const{placement:n,platform:s,elements:a}=t,i=await(s.isRTL==null?void 0:s.isRTL(a.floating)),o=bl(n),l=_m(n),c=mo(n)==="y",u=f8.has(o)?-1:1,m=i&&c?-1:1,p=yl(r,t);let{mainAxis:x,crossAxis:v,alignmentAxis:w}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return l&&typeof w=="number"&&(v=l==="end"?w*-1:w),c?{x:v*m,y:x*u}:{x:x*u,y:v*m}}const CQ=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(r){var n,s;const{x:a,y:i,placement:o,middlewareData:l}=r,c=await kQ(r,t);return o===((n=l.offset)==null?void 0:n.placement)&&(s=l.arrow)!=null&&s.alignmentOffset?{}:{x:a+c.x,y:i+c.y,data:{...c,placement:o}}}}},PQ=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(r){const{x:n,y:s,placement:a}=r,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:j=>{let{x:S,y:C}=j;return{x:S,y:C}}},...c}=yl(t,r),u={x:n,y:s},m=await vp(r,c),p=mo(bl(a)),x=EC(p);let v=u[x],w=u[p];if(i){const j=x==="y"?"top":"left",S=x==="y"?"bottom":"right",C=v+m[j],P=v-m[S];v=d_(C,v,P)}if(o){const j=p==="y"?"top":"left",S=p==="y"?"bottom":"right",C=w+m[j],P=w-m[S];w=d_(C,w,P)}const y=l.fn({...r,[x]:v,[p]:w});return{...y,data:{x:y.x-n,y:y.y-s,enabled:{[x]:i,[p]:o}}}}}},AQ=function(t){return t===void 0&&(t={}),{options:t,fn(r){const{x:n,y:s,placement:a,rects:i,middlewareData:o}=r,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=yl(t,r),m={x:n,y:s},p=mo(a),x=EC(p);let v=m[x],w=m[p];const y=yl(l,r),j=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(c){const P=x==="y"?"height":"width",T=i.reference[x]-i.floating[P]+j.mainAxis,_=i.reference[x]+i.reference[P]-j.mainAxis;v<T?v=T:v>_&&(v=_)}if(u){var S,C;const P=x==="y"?"width":"height",T=f8.has(bl(a)),_=i.reference[p]-i.floating[P]+(T&&((S=o.offset)==null?void 0:S[p])||0)+(T?0:j.crossAxis),k=i.reference[p]+i.reference[P]+(T?0:((C=o.offset)==null?void 0:C[p])||0)-(T?j.crossAxis:0);w<_?w=_:w>k&&(w=k)}return{[x]:v,[p]:w}}}},EQ=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(r){var n,s;const{placement:a,rects:i,platform:o,elements:l}=r,{apply:c=()=>{},...u}=yl(t,r),m=await vp(r,u),p=bl(a),x=_m(a),v=mo(a)==="y",{width:w,height:y}=i.floating;let j,S;p==="top"||p==="bottom"?(j=p,S=x===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(S=p,j=x==="end"?"top":"bottom");const C=y-m.top-m.bottom,P=w-m.left-m.right,T=Tc(y-m[j],C),_=Tc(w-m[S],P),k=!r.middlewareData.shift;let M=T,$=_;if((n=r.middlewareData.shift)!=null&&n.enabled.x&&($=P),(s=r.middlewareData.shift)!=null&&s.enabled.y&&(M=C),k&&!x){const F=va(m.left,0),H=va(m.right,0),K=va(m.top,0),Z=va(m.bottom,0);v?$=w-2*(F!==0||H!==0?F+H:va(m.left,m.right)):M=y-2*(K!==0||Z!==0?K+Z:va(m.top,m.bottom))}await c({...r,availableWidth:$,availableHeight:M});const B=await o.getDimensions(l.floating);return w!==B.width||y!==B.height?{reset:{rects:!0}}:{}}}};function iy(){return typeof window<"u"}function km(t){return p8(t)?(t.nodeName||"").toLowerCase():"#document"}function Sa(t){var r;return(t==null||(r=t.ownerDocument)==null?void 0:r.defaultView)||window}function To(t){var r;return(r=(p8(t)?t.ownerDocument:t.document)||window.document)==null?void 0:r.documentElement}function p8(t){return iy()?t instanceof Node||t instanceof Sa(t).Node:!1}function $i(t){return iy()?t instanceof Element||t instanceof Sa(t).Element:!1}function ko(t){return iy()?t instanceof HTMLElement||t instanceof Sa(t).HTMLElement:!1}function I3(t){return!iy()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Sa(t).ShadowRoot}const TQ=new Set(["inline","contents"]);function mx(t){const{overflow:r,overflowX:n,overflowY:s,display:a}=Bi(t);return/auto|scroll|overlay|hidden|clip/.test(r+s+n)&&!TQ.has(a)}const OQ=new Set(["table","td","th"]);function MQ(t){return OQ.has(km(t))}const DQ=[":popover-open",":modal"];function oy(t){return DQ.some(r=>{try{return t.matches(r)}catch{return!1}})}const RQ=["transform","translate","scale","rotate","perspective"],IQ=["transform","translate","scale","rotate","perspective","filter"],LQ=["paint","layout","strict","content"];function MC(t){const r=DC(),n=$i(t)?Bi(t):t;return RQ.some(s=>n[s]?n[s]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!r&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!r&&(n.filter?n.filter!=="none":!1)||IQ.some(s=>(n.willChange||"").includes(s))||LQ.some(s=>(n.contain||"").includes(s))}function $Q(t){let r=Oc(t);for(;ko(r)&&!Uh(r);){if(MC(r))return r;if(oy(r))return null;r=Oc(r)}return null}function DC(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const BQ=new Set(["html","body","#document"]);function Uh(t){return BQ.has(km(t))}function Bi(t){return Sa(t).getComputedStyle(t)}function ly(t){return $i(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Oc(t){if(km(t)==="html")return t;const r=t.assignedSlot||t.parentNode||I3(t)&&t.host||To(t);return I3(r)?r.host:r}function x8(t){const r=Oc(t);return Uh(r)?t.ownerDocument?t.ownerDocument.body:t.body:ko(r)&&mx(r)?r:x8(r)}function yp(t,r,n){var s;r===void 0&&(r=[]),n===void 0&&(n=!0);const a=x8(t),i=a===((s=t.ownerDocument)==null?void 0:s.body),o=Sa(a);if(i){const l=h_(o);return r.concat(o,o.visualViewport||[],mx(a)?a:[],l&&n?yp(l):[])}return r.concat(a,yp(a,[],n))}function h_(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function g8(t){const r=Bi(t);let n=parseFloat(r.width)||0,s=parseFloat(r.height)||0;const a=ko(t),i=a?t.offsetWidth:n,o=a?t.offsetHeight:s,l=R0(n)!==i||R0(s)!==o;return l&&(n=i,s=o),{width:n,height:s,$:l}}function RC(t){return $i(t)?t:t.contextElement}function Dh(t){const r=RC(t);if(!ko(r))return vo(1);const n=r.getBoundingClientRect(),{width:s,height:a,$:i}=g8(r);let o=(i?R0(n.width):n.width)/s,l=(i?R0(n.height):n.height)/a;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const FQ=vo(0);function v8(t){const r=Sa(t);return!DC()||!r.visualViewport?FQ:{x:r.visualViewport.offsetLeft,y:r.visualViewport.offsetTop}}function zQ(t,r,n){return r===void 0&&(r=!1),!n||r&&n!==Sa(t)?!1:r}function Wd(t,r,n,s){r===void 0&&(r=!1),n===void 0&&(n=!1);const a=t.getBoundingClientRect(),i=RC(t);let o=vo(1);r&&(s?$i(s)&&(o=Dh(s)):o=Dh(t));const l=zQ(i,n,s)?v8(i):vo(0);let c=(a.left+l.x)/o.x,u=(a.top+l.y)/o.y,m=a.width/o.x,p=a.height/o.y;if(i){const x=Sa(i),v=s&&$i(s)?Sa(s):s;let w=x,y=h_(w);for(;y&&s&&v!==w;){const j=Dh(y),S=y.getBoundingClientRect(),C=Bi(y),P=S.left+(y.clientLeft+parseFloat(C.paddingLeft))*j.x,T=S.top+(y.clientTop+parseFloat(C.paddingTop))*j.y;c*=j.x,u*=j.y,m*=j.x,p*=j.y,c+=P,u+=T,w=Sa(y),y=h_(w)}}return L0({width:m,height:p,x:c,y:u})}function cy(t,r){const n=ly(t).scrollLeft;return r?r.left+n:Wd(To(t)).left+n}function y8(t,r){const n=t.getBoundingClientRect(),s=n.left+r.scrollLeft-cy(t,n),a=n.top+r.scrollTop;return{x:s,y:a}}function UQ(t){let{elements:r,rect:n,offsetParent:s,strategy:a}=t;const i=a==="fixed",o=To(s),l=r?oy(r.floating):!1;if(s===o||l&&i)return n;let c={scrollLeft:0,scrollTop:0},u=vo(1);const m=vo(0),p=ko(s);if((p||!p&&!i)&&((km(s)!=="body"||mx(o))&&(c=ly(s)),ko(s))){const v=Wd(s);u=Dh(s),m.x=v.x+s.clientLeft,m.y=v.y+s.clientTop}const x=o&&!p&&!i?y8(o,c):vo(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+m.x+x.x,y:n.y*u.y-c.scrollTop*u.y+m.y+x.y}}function HQ(t){return Array.from(t.getClientRects())}function WQ(t){const r=To(t),n=ly(t),s=t.ownerDocument.body,a=va(r.scrollWidth,r.clientWidth,s.scrollWidth,s.clientWidth),i=va(r.scrollHeight,r.clientHeight,s.scrollHeight,s.clientHeight);let o=-n.scrollLeft+cy(t);const l=-n.scrollTop;return Bi(s).direction==="rtl"&&(o+=va(r.clientWidth,s.clientWidth)-a),{width:a,height:i,x:o,y:l}}const L3=25;function qQ(t,r){const n=Sa(t),s=To(t),a=n.visualViewport;let i=s.clientWidth,o=s.clientHeight,l=0,c=0;if(a){i=a.width,o=a.height;const m=DC();(!m||m&&r==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}const u=cy(s);if(u<=0){const m=s.ownerDocument,p=m.body,x=getComputedStyle(p),v=m.compatMode==="CSS1Compat"&&parseFloat(x.marginLeft)+parseFloat(x.marginRight)||0,w=Math.abs(s.clientWidth-p.clientWidth-v);w<=L3&&(i-=w)}else u<=L3&&(i+=u);return{width:i,height:o,x:l,y:c}}const VQ=new Set(["absolute","fixed"]);function GQ(t,r){const n=Wd(t,!0,r==="fixed"),s=n.top+t.clientTop,a=n.left+t.clientLeft,i=ko(t)?Dh(t):vo(1),o=t.clientWidth*i.x,l=t.clientHeight*i.y,c=a*i.x,u=s*i.y;return{width:o,height:l,x:c,y:u}}function $3(t,r,n){let s;if(r==="viewport")s=qQ(t,n);else if(r==="document")s=WQ(To(t));else if($i(r))s=GQ(r,n);else{const a=v8(t);s={x:r.x-a.x,y:r.y-a.y,width:r.width,height:r.height}}return L0(s)}function b8(t,r){const n=Oc(t);return n===r||!$i(n)||Uh(n)?!1:Bi(n).position==="fixed"||b8(n,r)}function KQ(t,r){const n=r.get(t);if(n)return n;let s=yp(t,[],!1).filter(l=>$i(l)&&km(l)!=="body"),a=null;const i=Bi(t).position==="fixed";let o=i?Oc(t):t;for(;$i(o)&&!Uh(o);){const l=Bi(o),c=MC(o);!c&&l.position==="fixed"&&(a=null),(i?!c&&!a:!c&&l.position==="static"&&!!a&&VQ.has(a.position)||mx(o)&&!c&&b8(t,o))?s=s.filter(m=>m!==o):a=l,o=Oc(o)}return r.set(t,s),s}function YQ(t){let{element:r,boundary:n,rootBoundary:s,strategy:a}=t;const o=[...n==="clippingAncestors"?oy(r)?[]:KQ(r,this._c):[].concat(n),s],l=o[0],c=o.reduce((u,m)=>{const p=$3(r,m,a);return u.top=va(p.top,u.top),u.right=Tc(p.right,u.right),u.bottom=Tc(p.bottom,u.bottom),u.left=va(p.left,u.left),u},$3(r,l,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function ZQ(t){const{width:r,height:n}=g8(t);return{width:r,height:n}}function XQ(t,r,n){const s=ko(r),a=To(r),i=n==="fixed",o=Wd(t,!0,i,r);let l={scrollLeft:0,scrollTop:0};const c=vo(0);function u(){c.x=cy(a)}if(s||!s&&!i)if((km(r)!=="body"||mx(a))&&(l=ly(r)),s){const v=Wd(r,!0,i,r);c.x=v.x+r.clientLeft,c.y=v.y+r.clientTop}else a&&u();i&&!s&&a&&u();const m=a&&!s&&!i?y8(a,l):vo(0),p=o.left+l.scrollLeft-c.x-m.x,x=o.top+l.scrollTop-c.y-m.y;return{x:p,y:x,width:o.width,height:o.height}}function aw(t){return Bi(t).position==="static"}function B3(t,r){if(!ko(t)||Bi(t).position==="fixed")return null;if(r)return r(t);let n=t.offsetParent;return To(t)===n&&(n=n.ownerDocument.body),n}function j8(t,r){const n=Sa(t);if(oy(t))return n;if(!ko(t)){let a=Oc(t);for(;a&&!Uh(a);){if($i(a)&&!aw(a))return a;a=Oc(a)}return n}let s=B3(t,r);for(;s&&MQ(s)&&aw(s);)s=B3(s,r);return s&&Uh(s)&&aw(s)&&!MC(s)?n:s||$Q(t)||n}const JQ=async function(t){const r=this.getOffsetParent||j8,n=this.getDimensions,s=await n(t.floating);return{reference:XQ(t.reference,await r(t.floating),t.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function QQ(t){return Bi(t).direction==="rtl"}const eee={convertOffsetParentRelativeRectToViewportRelativeRect:UQ,getDocumentElement:To,getClippingRect:YQ,getOffsetParent:j8,getElementRects:JQ,getClientRects:HQ,getDimensions:ZQ,getScale:Dh,isElement:$i,isRTL:QQ};function w8(t,r){return t.x===r.x&&t.y===r.y&&t.width===r.width&&t.height===r.height}function tee(t,r){let n=null,s;const a=To(t);function i(){var l;clearTimeout(s),(l=n)==null||l.disconnect(),n=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const u=t.getBoundingClientRect(),{left:m,top:p,width:x,height:v}=u;if(l||r(),!x||!v)return;const w=Zg(p),y=Zg(a.clientWidth-(m+x)),j=Zg(a.clientHeight-(p+v)),S=Zg(m),P={rootMargin:-w+"px "+-y+"px "+-j+"px "+-S+"px",threshold:va(0,Tc(1,c))||1};let T=!0;function _(k){const M=k[0].intersectionRatio;if(M!==c){if(!T)return o();M?o(!1,M):s=setTimeout(()=>{o(!1,1e-7)},1e3)}M===1&&!w8(u,t.getBoundingClientRect())&&o(),T=!1}try{n=new IntersectionObserver(_,{...P,root:a.ownerDocument})}catch{n=new IntersectionObserver(_,P)}n.observe(t)}return o(!0),i}function ree(t,r,n,s){s===void 0&&(s={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=s,u=RC(t),m=a||i?[...u?yp(u):[],...yp(r)]:[];m.forEach(S=>{a&&S.addEventListener("scroll",n,{passive:!0}),i&&S.addEventListener("resize",n)});const p=u&&l?tee(u,n):null;let x=-1,v=null;o&&(v=new ResizeObserver(S=>{let[C]=S;C&&C.target===u&&v&&(v.unobserve(r),cancelAnimationFrame(x),x=requestAnimationFrame(()=>{var P;(P=v)==null||P.observe(r)})),n()}),u&&!c&&v.observe(u),v.observe(r));let w,y=c?Wd(t):null;c&&j();function j(){const S=Wd(t);y&&!w8(y,S)&&n(),y=S,w=requestAnimationFrame(j)}return n(),()=>{var S;m.forEach(C=>{a&&C.removeEventListener("scroll",n),i&&C.removeEventListener("resize",n)}),p==null||p(),(S=v)==null||S.disconnect(),v=null,c&&cancelAnimationFrame(w)}}const nee=CQ,see=PQ,aee=SQ,iee=EQ,oee=_Q,F3=NQ,lee=AQ,cee=(t,r,n)=>{const s=new Map,a={platform:eee,...n},i={...a.platform,_c:s};return wQ(t,r,{...a,platform:i})};var dee=typeof document<"u",uee=function(){},w0=dee?N.useLayoutEffect:uee;function $0(t,r){if(t===r)return!0;if(typeof t!=typeof r)return!1;if(typeof t=="function"&&t.toString()===r.toString())return!0;let n,s,a;if(t&&r&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==r.length)return!1;for(s=n;s--!==0;)if(!$0(t[s],r[s]))return!1;return!0}if(a=Object.keys(t),n=a.length,n!==Object.keys(r).length)return!1;for(s=n;s--!==0;)if(!{}.hasOwnProperty.call(r,a[s]))return!1;for(s=n;s--!==0;){const i=a[s];if(!(i==="_owner"&&t.$$typeof)&&!$0(t[i],r[i]))return!1}return!0}return t!==t&&r!==r}function N8(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function z3(t,r){const n=N8(t);return Math.round(r*n)/n}function iw(t){const r=N.useRef(t);return w0(()=>{r.current=t}),r}function hee(t){t===void 0&&(t={});const{placement:r="bottom",strategy:n="absolute",middleware:s=[],platform:a,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=t,[m,p]=N.useState({x:0,y:0,strategy:n,placement:r,middlewareData:{},isPositioned:!1}),[x,v]=N.useState(s);$0(x,s)||v(s);const[w,y]=N.useState(null),[j,S]=N.useState(null),C=N.useCallback(R=>{R!==k.current&&(k.current=R,y(R))},[]),P=N.useCallback(R=>{R!==M.current&&(M.current=R,S(R))},[]),T=i||w,_=o||j,k=N.useRef(null),M=N.useRef(null),$=N.useRef(m),B=c!=null,F=iw(c),H=iw(a),K=iw(u),Z=N.useCallback(()=>{if(!k.current||!M.current)return;const R={placement:r,strategy:n,middleware:x};H.current&&(R.platform=H.current),cee(k.current,M.current,R).then(D=>{const I={...D,isPositioned:K.current!==!1};V.current&&!$0($.current,I)&&($.current=I,bm.flushSync(()=>{p(I)}))})},[x,r,n,H,K]);w0(()=>{u===!1&&$.current.isPositioned&&($.current.isPositioned=!1,p(R=>({...R,isPositioned:!1})))},[u]);const V=N.useRef(!1);w0(()=>(V.current=!0,()=>{V.current=!1}),[]),w0(()=>{if(T&&(k.current=T),_&&(M.current=_),T&&_){if(F.current)return F.current(T,_,Z);Z()}},[T,_,Z,F,B]);const W=N.useMemo(()=>({reference:k,floating:M,setReference:C,setFloating:P}),[C,P]),G=N.useMemo(()=>({reference:T,floating:_}),[T,_]),O=N.useMemo(()=>{const R={position:n,left:0,top:0};if(!G.floating)return R;const D=z3(G.floating,m.x),I=z3(G.floating,m.y);return l?{...R,transform:"translate("+D+"px, "+I+"px)",...N8(G.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:D,top:I}},[n,l,G.floating,m.x,m.y]);return N.useMemo(()=>({...m,update:Z,refs:W,elements:G,floatingStyles:O}),[m,Z,W,G,O])}const mee=t=>{function r(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:s,padding:a}=typeof t=="function"?t(n):t;return s&&r(s)?s.current!=null?F3({element:s.current,padding:a}).fn(n):{}:s?F3({element:s,padding:a}).fn(n):{}}}},fee=(t,r)=>({...nee(t),options:[t,r]}),pee=(t,r)=>({...see(t),options:[t,r]}),xee=(t,r)=>({...lee(t),options:[t,r]}),gee=(t,r)=>({...aee(t),options:[t,r]}),vee=(t,r)=>({...iee(t),options:[t,r]}),yee=(t,r)=>({...oee(t),options:[t,r]}),bee=(t,r)=>({...mee(t),options:[t,r]});var jee="Arrow",S8=N.forwardRef((t,r)=>{const{children:n,width:s=10,height:a=5,...i}=t;return e.jsx(mt.svg,{...i,ref:r,width:s,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:e.jsx("polygon",{points:"0,0 30,0 15,10"})})});S8.displayName=jee;var wee=S8;function fx(t){const[r,n]=N.useState(void 0);return as(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const s=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=t.offsetWidth,l=t.offsetHeight;n({width:o,height:l})});return s.observe(t,{box:"border-box"}),()=>s.unobserve(t)}else n(void 0)},[t]),r}var IC="Popper",[_8,dy]=Is(IC),[Nee,k8]=_8(IC),C8=t=>{const{__scopePopper:r,children:n}=t,[s,a]=N.useState(null);return e.jsx(Nee,{scope:r,anchor:s,onAnchorChange:a,children:n})};C8.displayName=IC;var P8="PopperAnchor",A8=N.forwardRef((t,r)=>{const{__scopePopper:n,virtualRef:s,...a}=t,i=k8(P8,n),o=N.useRef(null),l=Xt(r,o);return N.useEffect(()=>{i.onAnchorChange((s==null?void 0:s.current)||o.current)}),s?null:e.jsx(mt.div,{...a,ref:l})});A8.displayName=P8;var LC="PopperContent",[See,_ee]=_8(LC),E8=N.forwardRef((t,r)=>{var te,ue,de,fe,ye,he;const{__scopePopper:n,side:s="bottom",sideOffset:a=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:m=0,sticky:p="partial",hideWhenDetached:x=!1,updatePositionStrategy:v="optimized",onPlaced:w,...y}=t,j=k8(LC,n),[S,C]=N.useState(null),P=Xt(r,Ce=>C(Ce)),[T,_]=N.useState(null),k=fx(T),M=(k==null?void 0:k.width)??0,$=(k==null?void 0:k.height)??0,B=s+(i!=="center"?"-"+i:""),F=typeof m=="number"?m:{top:0,right:0,bottom:0,left:0,...m},H=Array.isArray(u)?u:[u],K=H.length>0,Z={padding:F,boundary:H.filter(Cee),altBoundary:K},{refs:V,floatingStyles:W,placement:G,isPositioned:O,middlewareData:R}=hee({strategy:"fixed",placement:B,whileElementsMounted:(...Ce)=>ree(...Ce,{animationFrame:v==="always"}),elements:{reference:j.anchor},middleware:[fee({mainAxis:a+$,alignmentAxis:o}),c&&pee({mainAxis:!0,crossAxis:!1,limiter:p==="partial"?xee():void 0,...Z}),c&&gee({...Z}),vee({...Z,apply:({elements:Ce,rects:Se,availableWidth:$e,availableHeight:qe})=>{const{width:Fe,height:it}=Se.reference,rt=Ce.floating.style;rt.setProperty("--radix-popper-available-width",`${$e}px`),rt.setProperty("--radix-popper-available-height",`${qe}px`),rt.setProperty("--radix-popper-anchor-width",`${Fe}px`),rt.setProperty("--radix-popper-anchor-height",`${it}px`)}}),T&&bee({element:T,padding:l}),Pee({arrowWidth:M,arrowHeight:$}),x&&yee({strategy:"referenceHidden",...Z})]}),[D,I]=M8(G),q=Aa(w);as(()=>{O&&(q==null||q())},[O,q]);const J=(te=R.arrow)==null?void 0:te.x,ie=(ue=R.arrow)==null?void 0:ue.y,ee=((de=R.arrow)==null?void 0:de.centerOffset)!==0,[ae,oe]=N.useState();return as(()=>{S&&oe(window.getComputedStyle(S).zIndex)},[S]),e.jsx("div",{ref:V.setFloating,"data-radix-popper-content-wrapper":"",style:{...W,transform:O?W.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ae,"--radix-popper-transform-origin":[(fe=R.transformOrigin)==null?void 0:fe.x,(ye=R.transformOrigin)==null?void 0:ye.y].join(" "),...((he=R.hide)==null?void 0:he.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:e.jsx(See,{scope:n,placedSide:D,onArrowChange:_,arrowX:J,arrowY:ie,shouldHideArrow:ee,children:e.jsx(mt.div,{"data-side":D,"data-align":I,...y,ref:P,style:{...y.style,animation:O?void 0:"none"}})})})});E8.displayName=LC;var T8="PopperArrow",kee={top:"bottom",right:"left",bottom:"top",left:"right"},O8=N.forwardRef(function(r,n){const{__scopePopper:s,...a}=r,i=_ee(T8,s),o=kee[i.placedSide];return e.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:e.jsx(wee,{...a,ref:n,style:{...a.style,display:"block"}})})});O8.displayName=T8;function Cee(t){return t!==null}var Pee=t=>({name:"transformOrigin",options:t,fn(r){var j,S,C;const{placement:n,rects:s,middlewareData:a}=r,o=((j=a.arrow)==null?void 0:j.centerOffset)!==0,l=o?0:t.arrowWidth,c=o?0:t.arrowHeight,[u,m]=M8(n),p={start:"0%",center:"50%",end:"100%"}[m],x=(((S=a.arrow)==null?void 0:S.x)??0)+l/2,v=(((C=a.arrow)==null?void 0:C.y)??0)+c/2;let w="",y="";return u==="bottom"?(w=o?p:`${x}px`,y=`${-c}px`):u==="top"?(w=o?p:`${x}px`,y=`${s.floating.height+c}px`):u==="right"?(w=`${-c}px`,y=o?p:`${v}px`):u==="left"&&(w=`${s.floating.width+c}px`,y=o?p:`${v}px`),{data:{x:w,y}}}});function M8(t){const[r,n="center"]=t.split("-");return[r,n]}var D8=C8,R8=A8,I8=E8,L8=O8,Aee="Portal",uy=N.forwardRef((t,r)=>{var l;const{container:n,...s}=t,[a,i]=N.useState(!1);as(()=>i(!0),[]);const o=n||a&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?dL.createPortal(e.jsx(mt.div,{...s,ref:r}),o):null});uy.displayName=Aee;function Co({prop:t,defaultProp:r,onChange:n=()=>{}}){const[s,a]=Eee({defaultProp:r,onChange:n}),i=t!==void 0,o=i?t:s,l=Aa(n),c=N.useCallback(u=>{if(i){const p=typeof u=="function"?u(t):u;p!==t&&l(p)}else a(u)},[i,t,a,l]);return[o,c]}function Eee({defaultProp:t,onChange:r}){const n=N.useState(t),[s]=n,a=N.useRef(s),i=Aa(r);return N.useEffect(()=>{a.current!==s&&(i(s),a.current=s)},[s,a,i]),n}function px(t){const r=N.useRef({value:t,previous:t});return N.useMemo(()=>(r.current.value!==t&&(r.current.previous=r.current.value,r.current.value=t),r.current.previous),[t])}var Tee="VisuallyHidden",$8=N.forwardRef((t,r)=>e.jsx(mt.span,{...t,ref:r,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));$8.displayName=Tee;var Oee=function(t){if(typeof document>"u")return null;var r=Array.isArray(t)?t[0]:t;return r.ownerDocument.body},ch=new WeakMap,Xg=new WeakMap,Jg={},ow=0,B8=function(t){return t&&(t.host||B8(t.parentNode))},Mee=function(t,r){return r.map(function(n){if(t.contains(n))return n;var s=B8(n);return s&&t.contains(s)?s:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},Dee=function(t,r,n,s){var a=Mee(r,Array.isArray(t)?t:[t]);Jg[n]||(Jg[n]=new WeakMap);var i=Jg[n],o=[],l=new Set,c=new Set(a),u=function(p){!p||l.has(p)||(l.add(p),u(p.parentNode))};a.forEach(u);var m=function(p){!p||c.has(p)||Array.prototype.forEach.call(p.children,function(x){if(l.has(x))m(x);else try{var v=x.getAttribute(s),w=v!==null&&v!=="false",y=(ch.get(x)||0)+1,j=(i.get(x)||0)+1;ch.set(x,y),i.set(x,j),o.push(x),y===1&&w&&Xg.set(x,!0),j===1&&x.setAttribute(n,"true"),w||x.setAttribute(s,"true")}catch(S){console.error("aria-hidden: cannot operate on ",x,S)}})};return m(r),l.clear(),ow++,function(){o.forEach(function(p){var x=ch.get(p)-1,v=i.get(p)-1;ch.set(p,x),i.set(p,v),x||(Xg.has(p)||p.removeAttribute(s),Xg.delete(p)),v||p.removeAttribute(n)}),ow--,ow||(ch=new WeakMap,ch=new WeakMap,Xg=new WeakMap,Jg={})}},$C=function(t,r,n){n===void 0&&(n="data-aria-hidden");var s=Array.from(Array.isArray(t)?t:[t]),a=Oee(t);return a?(s.push.apply(s,Array.from(a.querySelectorAll("[aria-live], script"))),Dee(s,a,n,"aria-hidden")):function(){return null}},N0="right-scroll-bar-position",S0="width-before-scroll-bar",Ree="with-scroll-bars-hidden",Iee="--removed-body-scroll-bar-size";function lw(t,r){return typeof t=="function"?t(r):t&&(t.current=r),t}function Lee(t,r){var n=N.useState(function(){return{value:t,callback:r,facade:{get current(){return n.value},set current(s){var a=n.value;a!==s&&(n.value=s,n.callback(s,a))}}}})[0];return n.callback=r,n.facade}var $ee=typeof window<"u"?N.useLayoutEffect:N.useEffect,U3=new WeakMap;function Bee(t,r){var n=Lee(null,function(s){return t.forEach(function(a){return lw(a,s)})});return $ee(function(){var s=U3.get(n);if(s){var a=new Set(s),i=new Set(t),o=n.current;a.forEach(function(l){i.has(l)||lw(l,null)}),i.forEach(function(l){a.has(l)||lw(l,o)})}U3.set(n,t)},[t]),n}function Fee(t){return t}function zee(t,r){r===void 0&&(r=Fee);var n=[],s=!1,a={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=r(i,s);return n.push(o),function(){n=n.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(s=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(l){return i(l)},filter:function(){return n}}},assignMedium:function(i){s=!0;var o=[];if(n.length){var l=n;n=[],l.forEach(i),o=n}var c=function(){var m=o;o=[],m.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(m){o.push(m),u()},filter:function(m){return o=o.filter(m),n}}}};return a}function Uee(t){t===void 0&&(t={});var r=zee(null);return r.options=ho({async:!0,ssr:!1},t),r}var F8=function(t){var r=t.sideCar,n=Nm(t,["sideCar"]);if(!r)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=r.read();if(!s)throw new Error("Sidecar medium not found");return N.createElement(s,ho({},n))};F8.isSideCarExport=!0;function Hee(t,r){return t.useMedium(r),F8}var z8=Uee(),cw=function(){},hy=N.forwardRef(function(t,r){var n=N.useRef(null),s=N.useState({onScrollCapture:cw,onWheelCapture:cw,onTouchMoveCapture:cw}),a=s[0],i=s[1],o=t.forwardProps,l=t.children,c=t.className,u=t.removeScrollBar,m=t.enabled,p=t.shards,x=t.sideCar,v=t.noRelative,w=t.noIsolation,y=t.inert,j=t.allowPinchZoom,S=t.as,C=S===void 0?"div":S,P=t.gapMode,T=Nm(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),_=x,k=Bee([n,r]),M=ho(ho({},T),a);return N.createElement(N.Fragment,null,m&&N.createElement(_,{sideCar:z8,removeScrollBar:u,shards:p,noRelative:v,noIsolation:w,inert:y,setCallbacks:i,allowPinchZoom:!!j,lockRef:n,gapMode:P}),o?N.cloneElement(N.Children.only(l),ho(ho({},M),{ref:k})):N.createElement(C,ho({},M,{className:c,ref:k}),l))});hy.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};hy.classNames={fullWidth:S0,zeroRight:N0};var Wee=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function qee(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var r=Wee();return r&&t.setAttribute("nonce",r),t}function Vee(t,r){t.styleSheet?t.styleSheet.cssText=r:t.appendChild(document.createTextNode(r))}function Gee(t){var r=document.head||document.getElementsByTagName("head")[0];r.appendChild(t)}var Kee=function(){var t=0,r=null;return{add:function(n){t==0&&(r=qee())&&(Vee(r,n),Gee(r)),t++},remove:function(){t--,!t&&r&&(r.parentNode&&r.parentNode.removeChild(r),r=null)}}},Yee=function(){var t=Kee();return function(r,n){N.useEffect(function(){return t.add(r),function(){t.remove()}},[r&&n])}},U8=function(){var t=Yee(),r=function(n){var s=n.styles,a=n.dynamic;return t(s,a),null};return r},Zee={left:0,top:0,right:0,gap:0},dw=function(t){return parseInt(t||"",10)||0},Xee=function(t){var r=window.getComputedStyle(document.body),n=r[t==="padding"?"paddingLeft":"marginLeft"],s=r[t==="padding"?"paddingTop":"marginTop"],a=r[t==="padding"?"paddingRight":"marginRight"];return[dw(n),dw(s),dw(a)]},Jee=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return Zee;var r=Xee(t),n=document.documentElement.clientWidth,s=window.innerWidth;return{left:r[0],top:r[1],right:r[2],gap:Math.max(0,s-n+r[2]-r[0])}},Qee=U8(),Rh="data-scroll-locked",ete=function(t,r,n,s){var a=t.left,i=t.top,o=t.right,l=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(Ree,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(l,"px ").concat(s,`;
  }
  body[`).concat(Rh,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([r&&"position: relative ".concat(s,";"),n==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(s,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(N0,` {
    right: `).concat(l,"px ").concat(s,`;
  }
  
  .`).concat(S0,` {
    margin-right: `).concat(l,"px ").concat(s,`;
  }
  
  .`).concat(N0," .").concat(N0,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat(S0," .").concat(S0,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(Rh,`] {
    `).concat(Iee,": ").concat(l,`px;
  }
`)},H3=function(){var t=parseInt(document.body.getAttribute(Rh)||"0",10);return isFinite(t)?t:0},tte=function(){N.useEffect(function(){return document.body.setAttribute(Rh,(H3()+1).toString()),function(){var t=H3()-1;t<=0?document.body.removeAttribute(Rh):document.body.setAttribute(Rh,t.toString())}},[])},rte=function(t){var r=t.noRelative,n=t.noImportant,s=t.gapMode,a=s===void 0?"margin":s;tte();var i=N.useMemo(function(){return Jee(a)},[a]);return N.createElement(Qee,{styles:ete(i,!r,a,n?"":"!important")})},m_=!1;if(typeof window<"u")try{var Qg=Object.defineProperty({},"passive",{get:function(){return m_=!0,!0}});window.addEventListener("test",Qg,Qg),window.removeEventListener("test",Qg,Qg)}catch{m_=!1}var dh=m_?{passive:!1}:!1,nte=function(t){return t.tagName==="TEXTAREA"},H8=function(t,r){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[r]!=="hidden"&&!(n.overflowY===n.overflowX&&!nte(t)&&n[r]==="visible")},ste=function(t){return H8(t,"overflowY")},ate=function(t){return H8(t,"overflowX")},W3=function(t,r){var n=r.ownerDocument,s=r;do{typeof ShadowRoot<"u"&&s instanceof ShadowRoot&&(s=s.host);var a=W8(t,s);if(a){var i=q8(t,s),o=i[1],l=i[2];if(o>l)return!0}s=s.parentNode}while(s&&s!==n.body);return!1},ite=function(t){var r=t.scrollTop,n=t.scrollHeight,s=t.clientHeight;return[r,n,s]},ote=function(t){var r=t.scrollLeft,n=t.scrollWidth,s=t.clientWidth;return[r,n,s]},W8=function(t,r){return t==="v"?ste(r):ate(r)},q8=function(t,r){return t==="v"?ite(r):ote(r)},lte=function(t,r){return t==="h"&&r==="rtl"?-1:1},cte=function(t,r,n,s,a){var i=lte(t,window.getComputedStyle(r).direction),o=i*s,l=n.target,c=r.contains(l),u=!1,m=o>0,p=0,x=0;do{if(!l)break;var v=q8(t,l),w=v[0],y=v[1],j=v[2],S=y-j-i*w;(w||S)&&W8(t,l)&&(p+=S,x+=w);var C=l.parentNode;l=C&&C.nodeType===Node.DOCUMENT_FRAGMENT_NODE?C.host:C}while(!c&&l!==document.body||c&&(r.contains(l)||r===l));return(m&&Math.abs(p)<1||!m&&Math.abs(x)<1)&&(u=!0),u},e0=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},q3=function(t){return[t.deltaX,t.deltaY]},V3=function(t){return t&&"current"in t?t.current:t},dte=function(t,r){return t[0]===r[0]&&t[1]===r[1]},ute=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},hte=0,uh=[];function mte(t){var r=N.useRef([]),n=N.useRef([0,0]),s=N.useRef(),a=N.useState(hte++)[0],i=N.useState(U8)[0],o=N.useRef(t);N.useEffect(function(){o.current=t},[t]),N.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(a));var y=XY([t.lockRef.current],(t.shards||[]).map(V3),!0).filter(Boolean);return y.forEach(function(j){return j.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),y.forEach(function(j){return j.classList.remove("allow-interactivity-".concat(a))})}}},[t.inert,t.lockRef.current,t.shards]);var l=N.useCallback(function(y,j){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!o.current.allowPinchZoom;var S=e0(y),C=n.current,P="deltaX"in y?y.deltaX:C[0]-S[0],T="deltaY"in y?y.deltaY:C[1]-S[1],_,k=y.target,M=Math.abs(P)>Math.abs(T)?"h":"v";if("touches"in y&&M==="h"&&k.type==="range")return!1;var $=window.getSelection(),B=$&&$.anchorNode,F=B?B===k||B.contains(k):!1;if(F)return!1;var H=W3(M,k);if(!H)return!0;if(H?_=M:(_=M==="v"?"h":"v",H=W3(M,k)),!H)return!1;if(!s.current&&"changedTouches"in y&&(P||T)&&(s.current=_),!_)return!0;var K=s.current||_;return cte(K,j,y,K==="h"?P:T)},[]),c=N.useCallback(function(y){var j=y;if(!(!uh.length||uh[uh.length-1]!==i)){var S="deltaY"in j?q3(j):e0(j),C=r.current.filter(function(_){return _.name===j.type&&(_.target===j.target||j.target===_.shadowParent)&&dte(_.delta,S)})[0];if(C&&C.should){j.cancelable&&j.preventDefault();return}if(!C){var P=(o.current.shards||[]).map(V3).filter(Boolean).filter(function(_){return _.contains(j.target)}),T=P.length>0?l(j,P[0]):!o.current.noIsolation;T&&j.cancelable&&j.preventDefault()}}},[]),u=N.useCallback(function(y,j,S,C){var P={name:y,delta:j,target:S,should:C,shadowParent:fte(S)};r.current.push(P),setTimeout(function(){r.current=r.current.filter(function(T){return T!==P})},1)},[]),m=N.useCallback(function(y){n.current=e0(y),s.current=void 0},[]),p=N.useCallback(function(y){u(y.type,q3(y),y.target,l(y,t.lockRef.current))},[]),x=N.useCallback(function(y){u(y.type,e0(y),y.target,l(y,t.lockRef.current))},[]);N.useEffect(function(){return uh.push(i),t.setCallbacks({onScrollCapture:p,onWheelCapture:p,onTouchMoveCapture:x}),document.addEventListener("wheel",c,dh),document.addEventListener("touchmove",c,dh),document.addEventListener("touchstart",m,dh),function(){uh=uh.filter(function(y){return y!==i}),document.removeEventListener("wheel",c,dh),document.removeEventListener("touchmove",c,dh),document.removeEventListener("touchstart",m,dh)}},[]);var v=t.removeScrollBar,w=t.inert;return N.createElement(N.Fragment,null,w?N.createElement(i,{styles:ute(a)}):null,v?N.createElement(rte,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function fte(t){for(var r=null;t!==null;)t instanceof ShadowRoot&&(r=t.host,t=t.host),t=t.parentNode;return r}const pte=Hee(z8,mte);var my=N.forwardRef(function(t,r){return N.createElement(hy,ho({},t,{ref:r,sideCar:pte}))});my.classNames=hy.classNames;var xte=[" ","Enter","ArrowUp","ArrowDown"],gte=[" ","Enter"],xx="Select",[fy,py,vte]=ny(xx),[Cm]=Is(xx,[vte,dy]),xy=dy(),[yte,Dc]=Cm(xx),[bte,jte]=Cm(xx),V8=t=>{const{__scopeSelect:r,children:n,open:s,defaultOpen:a,onOpenChange:i,value:o,defaultValue:l,onValueChange:c,dir:u,name:m,autoComplete:p,disabled:x,required:v,form:w}=t,y=xy(r),[j,S]=N.useState(null),[C,P]=N.useState(null),[T,_]=N.useState(!1),k=Sm(u),[M=!1,$]=Co({prop:s,defaultProp:a,onChange:i}),[B,F]=Co({prop:o,defaultProp:l,onChange:c}),H=N.useRef(null),K=j?w||!!j.closest("form"):!0,[Z,V]=N.useState(new Set),W=Array.from(Z).map(G=>G.props.value).join(";");return e.jsx(D8,{...y,children:e.jsxs(yte,{required:v,scope:r,trigger:j,onTriggerChange:S,valueNode:C,onValueNodeChange:P,valueNodeHasChildren:T,onValueNodeHasChildrenChange:_,contentId:go(),value:B,onValueChange:F,open:M,onOpenChange:$,dir:k,triggerPointerDownPosRef:H,disabled:x,children:[e.jsx(fy.Provider,{scope:r,children:e.jsx(bte,{scope:t.__scopeSelect,onNativeOptionAdd:N.useCallback(G=>{V(O=>new Set(O).add(G))},[]),onNativeOptionRemove:N.useCallback(G=>{V(O=>{const R=new Set(O);return R.delete(G),R})},[]),children:n})}),K?e.jsxs(p9,{"aria-hidden":!0,required:v,tabIndex:-1,name:m,autoComplete:p,value:B,onChange:G=>F(G.target.value),disabled:x,form:w,children:[B===void 0?e.jsx("option",{value:""}):null,Array.from(Z)]},W):null]})})};V8.displayName=xx;var G8="SelectTrigger",K8=N.forwardRef((t,r)=>{const{__scopeSelect:n,disabled:s=!1,...a}=t,i=xy(n),o=Dc(G8,n),l=o.disabled||s,c=Xt(r,o.onTriggerChange),u=py(n),m=N.useRef("touch"),[p,x,v]=x9(y=>{const j=u().filter(P=>!P.disabled),S=j.find(P=>P.value===o.value),C=g9(j,y,S);C!==void 0&&o.onValueChange(C.value)}),w=y=>{l||(o.onOpenChange(!0),v()),y&&(o.triggerPointerDownPosRef.current={x:Math.round(y.pageX),y:Math.round(y.pageY)})};return e.jsx(R8,{asChild:!0,...i,children:e.jsx(mt.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":f9(o.value)?"":void 0,...a,ref:c,onClick:Ze(a.onClick,y=>{y.currentTarget.focus(),m.current!=="mouse"&&w(y)}),onPointerDown:Ze(a.onPointerDown,y=>{m.current=y.pointerType;const j=y.target;j.hasPointerCapture(y.pointerId)&&j.releasePointerCapture(y.pointerId),y.button===0&&y.ctrlKey===!1&&y.pointerType==="mouse"&&(w(y),y.preventDefault())}),onKeyDown:Ze(a.onKeyDown,y=>{const j=p.current!=="";!(y.ctrlKey||y.altKey||y.metaKey)&&y.key.length===1&&x(y.key),!(j&&y.key===" ")&&xte.includes(y.key)&&(w(),y.preventDefault())})})})});K8.displayName=G8;var Y8="SelectValue",Z8=N.forwardRef((t,r)=>{const{__scopeSelect:n,className:s,style:a,children:i,placeholder:o="",...l}=t,c=Dc(Y8,n),{onValueNodeHasChildrenChange:u}=c,m=i!==void 0,p=Xt(r,c.onValueNodeChange);return as(()=>{u(m)},[u,m]),e.jsx(mt.span,{...l,ref:p,style:{pointerEvents:"none"},children:f9(c.value)?e.jsx(e.Fragment,{children:o}):i})});Z8.displayName=Y8;var wte="SelectIcon",X8=N.forwardRef((t,r)=>{const{__scopeSelect:n,children:s,...a}=t;return e.jsx(mt.span,{"aria-hidden":!0,...a,ref:r,children:s||""})});X8.displayName=wte;var Nte="SelectPortal",J8=t=>e.jsx(uy,{asChild:!0,...t});J8.displayName=Nte;var qd="SelectContent",Q8=N.forwardRef((t,r)=>{const n=Dc(qd,t.__scopeSelect),[s,a]=N.useState();if(as(()=>{a(new DocumentFragment)},[]),!n.open){const i=s;return i?bm.createPortal(e.jsx(e9,{scope:t.__scopeSelect,children:e.jsx(fy.Slot,{scope:t.__scopeSelect,children:e.jsx("div",{children:t.children})})}),i):null}return e.jsx(t9,{...t,ref:r})});Q8.displayName=qd;var ki=10,[e9,Rc]=Cm(qd),Ste="SelectContentImpl",t9=N.forwardRef((t,r)=>{const{__scopeSelect:n,position:s="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:c,align:u,alignOffset:m,arrowPadding:p,collisionBoundary:x,collisionPadding:v,sticky:w,hideWhenDetached:y,avoidCollisions:j,...S}=t,C=Dc(qd,n),[P,T]=N.useState(null),[_,k]=N.useState(null),M=Xt(r,te=>T(te)),[$,B]=N.useState(null),[F,H]=N.useState(null),K=py(n),[Z,V]=N.useState(!1),W=N.useRef(!1);N.useEffect(()=>{if(P)return $C(P)},[P]),AC();const G=N.useCallback(te=>{const[ue,...de]=K().map(he=>he.ref.current),[fe]=de.slice(-1),ye=document.activeElement;for(const he of te)if(he===ye||(he==null||he.scrollIntoView({block:"nearest"}),he===ue&&_&&(_.scrollTop=0),he===fe&&_&&(_.scrollTop=_.scrollHeight),he==null||he.focus(),document.activeElement!==ye))return},[K,_]),O=N.useCallback(()=>G([$,P]),[G,$,P]);N.useEffect(()=>{Z&&O()},[Z,O]);const{onOpenChange:R,triggerPointerDownPosRef:D}=C;N.useEffect(()=>{if(P){let te={x:0,y:0};const ue=fe=>{var ye,he;te={x:Math.abs(Math.round(fe.pageX)-(((ye=D.current)==null?void 0:ye.x)??0)),y:Math.abs(Math.round(fe.pageY)-(((he=D.current)==null?void 0:he.y)??0))}},de=fe=>{te.x<=10&&te.y<=10?fe.preventDefault():P.contains(fe.target)||R(!1),document.removeEventListener("pointermove",ue),D.current=null};return D.current!==null&&(document.addEventListener("pointermove",ue),document.addEventListener("pointerup",de,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ue),document.removeEventListener("pointerup",de,{capture:!0})}}},[P,R,D]),N.useEffect(()=>{const te=()=>R(!1);return window.addEventListener("blur",te),window.addEventListener("resize",te),()=>{window.removeEventListener("blur",te),window.removeEventListener("resize",te)}},[R]);const[I,q]=x9(te=>{const ue=K().filter(ye=>!ye.disabled),de=ue.find(ye=>ye.ref.current===document.activeElement),fe=g9(ue,te,de);fe&&setTimeout(()=>fe.ref.current.focus())}),J=N.useCallback((te,ue,de)=>{const fe=!W.current&&!de;(C.value!==void 0&&C.value===ue||fe)&&(B(te),fe&&(W.current=!0))},[C.value]),ie=N.useCallback(()=>P==null?void 0:P.focus(),[P]),ee=N.useCallback((te,ue,de)=>{const fe=!W.current&&!de;(C.value!==void 0&&C.value===ue||fe)&&H(te)},[C.value]),ae=s==="popper"?f_:r9,oe=ae===f_?{side:l,sideOffset:c,align:u,alignOffset:m,arrowPadding:p,collisionBoundary:x,collisionPadding:v,sticky:w,hideWhenDetached:y,avoidCollisions:j}:{};return e.jsx(e9,{scope:n,content:P,viewport:_,onViewportChange:k,itemRefCallback:J,selectedItem:$,onItemLeave:ie,itemTextRefCallback:ee,focusSelectedItem:O,selectedItemText:F,position:s,isPositioned:Z,searchRef:I,children:e.jsx(my,{as:vl,allowPinchZoom:!0,children:e.jsx(ay,{asChild:!0,trapped:C.open,onMountAutoFocus:te=>{te.preventDefault()},onUnmountAutoFocus:Ze(a,te=>{var ue;(ue=C.trigger)==null||ue.focus({preventScroll:!0}),te.preventDefault()}),children:e.jsx(sy,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:te=>te.preventDefault(),onDismiss:()=>C.onOpenChange(!1),children:e.jsx(ae,{role:"listbox",id:C.contentId,"data-state":C.open?"open":"closed",dir:C.dir,onContextMenu:te=>te.preventDefault(),...S,...oe,onPlaced:()=>V(!0),ref:M,style:{display:"flex",flexDirection:"column",outline:"none",...S.style},onKeyDown:Ze(S.onKeyDown,te=>{const ue=te.ctrlKey||te.altKey||te.metaKey;if(te.key==="Tab"&&te.preventDefault(),!ue&&te.key.length===1&&q(te.key),["ArrowUp","ArrowDown","Home","End"].includes(te.key)){let fe=K().filter(ye=>!ye.disabled).map(ye=>ye.ref.current);if(["ArrowUp","End"].includes(te.key)&&(fe=fe.slice().reverse()),["ArrowUp","ArrowDown"].includes(te.key)){const ye=te.target,he=fe.indexOf(ye);fe=fe.slice(he+1)}setTimeout(()=>G(fe)),te.preventDefault()}})})})})})})});t9.displayName=Ste;var _te="SelectItemAlignedPosition",r9=N.forwardRef((t,r)=>{const{__scopeSelect:n,onPlaced:s,...a}=t,i=Dc(qd,n),o=Rc(qd,n),[l,c]=N.useState(null),[u,m]=N.useState(null),p=Xt(r,M=>m(M)),x=py(n),v=N.useRef(!1),w=N.useRef(!0),{viewport:y,selectedItem:j,selectedItemText:S,focusSelectedItem:C}=o,P=N.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&u&&y&&j&&S){const M=i.trigger.getBoundingClientRect(),$=u.getBoundingClientRect(),B=i.valueNode.getBoundingClientRect(),F=S.getBoundingClientRect();if(i.dir!=="rtl"){const ye=F.left-$.left,he=B.left-ye,Ce=M.left-he,Se=M.width+Ce,$e=Math.max(Se,$.width),qe=window.innerWidth-ki,Fe=D0(he,[ki,Math.max(ki,qe-$e)]);l.style.minWidth=Se+"px",l.style.left=Fe+"px"}else{const ye=$.right-F.right,he=window.innerWidth-B.right-ye,Ce=window.innerWidth-M.right-he,Se=M.width+Ce,$e=Math.max(Se,$.width),qe=window.innerWidth-ki,Fe=D0(he,[ki,Math.max(ki,qe-$e)]);l.style.minWidth=Se+"px",l.style.right=Fe+"px"}const H=x(),K=window.innerHeight-ki*2,Z=y.scrollHeight,V=window.getComputedStyle(u),W=parseInt(V.borderTopWidth,10),G=parseInt(V.paddingTop,10),O=parseInt(V.borderBottomWidth,10),R=parseInt(V.paddingBottom,10),D=W+G+Z+R+O,I=Math.min(j.offsetHeight*5,D),q=window.getComputedStyle(y),J=parseInt(q.paddingTop,10),ie=parseInt(q.paddingBottom,10),ee=M.top+M.height/2-ki,ae=K-ee,oe=j.offsetHeight/2,te=j.offsetTop+oe,ue=W+G+te,de=D-ue;if(ue<=ee){const ye=H.length>0&&j===H[H.length-1].ref.current;l.style.bottom="0px";const he=u.clientHeight-y.offsetTop-y.offsetHeight,Ce=Math.max(ae,oe+(ye?ie:0)+he+O),Se=ue+Ce;l.style.height=Se+"px"}else{const ye=H.length>0&&j===H[0].ref.current;l.style.top="0px";const Ce=Math.max(ee,W+y.offsetTop+(ye?J:0)+oe)+de;l.style.height=Ce+"px",y.scrollTop=ue-ee+y.offsetTop}l.style.margin=`${ki}px 0`,l.style.minHeight=I+"px",l.style.maxHeight=K+"px",s==null||s(),requestAnimationFrame(()=>v.current=!0)}},[x,i.trigger,i.valueNode,l,u,y,j,S,i.dir,s]);as(()=>P(),[P]);const[T,_]=N.useState();as(()=>{u&&_(window.getComputedStyle(u).zIndex)},[u]);const k=N.useCallback(M=>{M&&w.current===!0&&(P(),C==null||C(),w.current=!1)},[P,C]);return e.jsx(Cte,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:v,onScrollButtonChange:k,children:e.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:T},children:e.jsx(mt.div,{...a,ref:p,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});r9.displayName=_te;var kte="SelectPopperPosition",f_=N.forwardRef((t,r)=>{const{__scopeSelect:n,align:s="start",collisionPadding:a=ki,...i}=t,o=xy(n);return e.jsx(I8,{...o,...i,ref:r,align:s,collisionPadding:a,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});f_.displayName=kte;var[Cte,BC]=Cm(qd,{}),p_="SelectViewport",n9=N.forwardRef((t,r)=>{const{__scopeSelect:n,nonce:s,...a}=t,i=Rc(p_,n),o=BC(p_,n),l=Xt(r,i.onViewportChange),c=N.useRef(0);return e.jsxs(e.Fragment,{children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),e.jsx(fy.Slot,{scope:n,children:e.jsx(mt.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:Ze(a.onScroll,u=>{const m=u.currentTarget,{contentWrapper:p,shouldExpandOnScrollRef:x}=o;if(x!=null&&x.current&&p){const v=Math.abs(c.current-m.scrollTop);if(v>0){const w=window.innerHeight-ki*2,y=parseFloat(p.style.minHeight),j=parseFloat(p.style.height),S=Math.max(y,j);if(S<w){const C=S+v,P=Math.min(w,C),T=C-P;p.style.height=P+"px",p.style.bottom==="0px"&&(m.scrollTop=T>0?T:0,p.style.justifyContent="flex-end")}}}c.current=m.scrollTop})})})]})});n9.displayName=p_;var s9="SelectGroup",[Pte,Ate]=Cm(s9),Ete=N.forwardRef((t,r)=>{const{__scopeSelect:n,...s}=t,a=go();return e.jsx(Pte,{scope:n,id:a,children:e.jsx(mt.div,{role:"group","aria-labelledby":a,...s,ref:r})})});Ete.displayName=s9;var a9="SelectLabel",Tte=N.forwardRef((t,r)=>{const{__scopeSelect:n,...s}=t,a=Ate(a9,n);return e.jsx(mt.div,{id:a.id,...s,ref:r})});Tte.displayName=a9;var B0="SelectItem",[Ote,i9]=Cm(B0),o9=N.forwardRef((t,r)=>{const{__scopeSelect:n,value:s,disabled:a=!1,textValue:i,...o}=t,l=Dc(B0,n),c=Rc(B0,n),u=l.value===s,[m,p]=N.useState(i??""),[x,v]=N.useState(!1),w=Xt(r,C=>{var P;return(P=c.itemRefCallback)==null?void 0:P.call(c,C,s,a)}),y=go(),j=N.useRef("touch"),S=()=>{a||(l.onValueChange(s),l.onOpenChange(!1))};if(s==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return e.jsx(Ote,{scope:n,value:s,disabled:a,textId:y,isSelected:u,onItemTextChange:N.useCallback(C=>{p(P=>P||((C==null?void 0:C.textContent)??"").trim())},[]),children:e.jsx(fy.ItemSlot,{scope:n,value:s,disabled:a,textValue:m,children:e.jsx(mt.div,{role:"option","aria-labelledby":y,"data-highlighted":x?"":void 0,"aria-selected":u&&x,"data-state":u?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...o,ref:w,onFocus:Ze(o.onFocus,()=>v(!0)),onBlur:Ze(o.onBlur,()=>v(!1)),onClick:Ze(o.onClick,()=>{j.current!=="mouse"&&S()}),onPointerUp:Ze(o.onPointerUp,()=>{j.current==="mouse"&&S()}),onPointerDown:Ze(o.onPointerDown,C=>{j.current=C.pointerType}),onPointerMove:Ze(o.onPointerMove,C=>{var P;j.current=C.pointerType,a?(P=c.onItemLeave)==null||P.call(c):j.current==="mouse"&&C.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ze(o.onPointerLeave,C=>{var P;C.currentTarget===document.activeElement&&((P=c.onItemLeave)==null||P.call(c))}),onKeyDown:Ze(o.onKeyDown,C=>{var T;((T=c.searchRef)==null?void 0:T.current)!==""&&C.key===" "||(gte.includes(C.key)&&S(),C.key===" "&&C.preventDefault())})})})})});o9.displayName=B0;var Hf="SelectItemText",l9=N.forwardRef((t,r)=>{const{__scopeSelect:n,className:s,style:a,...i}=t,o=Dc(Hf,n),l=Rc(Hf,n),c=i9(Hf,n),u=jte(Hf,n),[m,p]=N.useState(null),x=Xt(r,S=>p(S),c.onItemTextChange,S=>{var C;return(C=l.itemTextRefCallback)==null?void 0:C.call(l,S,c.value,c.disabled)}),v=m==null?void 0:m.textContent,w=N.useMemo(()=>e.jsx("option",{value:c.value,disabled:c.disabled,children:v},c.value),[c.disabled,c.value,v]),{onNativeOptionAdd:y,onNativeOptionRemove:j}=u;return as(()=>(y(w),()=>j(w)),[y,j,w]),e.jsxs(e.Fragment,{children:[e.jsx(mt.span,{id:c.textId,...i,ref:x}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?bm.createPortal(i.children,o.valueNode):null]})});l9.displayName=Hf;var c9="SelectItemIndicator",d9=N.forwardRef((t,r)=>{const{__scopeSelect:n,...s}=t;return i9(c9,n).isSelected?e.jsx(mt.span,{"aria-hidden":!0,...s,ref:r}):null});d9.displayName=c9;var x_="SelectScrollUpButton",u9=N.forwardRef((t,r)=>{const n=Rc(x_,t.__scopeSelect),s=BC(x_,t.__scopeSelect),[a,i]=N.useState(!1),o=Xt(r,s.onScrollButtonChange);return as(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollTop>0;i(u)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),a?e.jsx(m9,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});u9.displayName=x_;var g_="SelectScrollDownButton",h9=N.forwardRef((t,r)=>{const n=Rc(g_,t.__scopeSelect),s=BC(g_,t.__scopeSelect),[a,i]=N.useState(!1),o=Xt(r,s.onScrollButtonChange);return as(()=>{if(n.viewport&&n.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,m=Math.ceil(c.scrollTop)<u;i(m)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),a?e.jsx(m9,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});h9.displayName=g_;var m9=N.forwardRef((t,r)=>{const{__scopeSelect:n,onAutoScroll:s,...a}=t,i=Rc("SelectScrollButton",n),o=N.useRef(null),l=py(n),c=N.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return N.useEffect(()=>()=>c(),[c]),as(()=>{var m;const u=l().find(p=>p.ref.current===document.activeElement);(m=u==null?void 0:u.ref.current)==null||m.scrollIntoView({block:"nearest"})},[l]),e.jsx(mt.div,{"aria-hidden":!0,...a,ref:r,style:{flexShrink:0,...a.style},onPointerDown:Ze(a.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(s,50))}),onPointerMove:Ze(a.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),o.current===null&&(o.current=window.setInterval(s,50))}),onPointerLeave:Ze(a.onPointerLeave,()=>{c()})})}),Mte="SelectSeparator",Dte=N.forwardRef((t,r)=>{const{__scopeSelect:n,...s}=t;return e.jsx(mt.div,{"aria-hidden":!0,...s,ref:r})});Dte.displayName=Mte;var v_="SelectArrow",Rte=N.forwardRef((t,r)=>{const{__scopeSelect:n,...s}=t,a=xy(n),i=Dc(v_,n),o=Rc(v_,n);return i.open&&o.position==="popper"?e.jsx(L8,{...a,...s,ref:r}):null});Rte.displayName=v_;function f9(t){return t===""||t===void 0}var p9=N.forwardRef((t,r)=>{const{value:n,...s}=t,a=N.useRef(null),i=Xt(r,a),o=px(n);return N.useEffect(()=>{const l=a.current,c=window.HTMLSelectElement.prototype,m=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==n&&m){const p=new Event("change",{bubbles:!0});m.call(l,n),l.dispatchEvent(p)}},[o,n]),e.jsx($8,{asChild:!0,children:e.jsx("select",{...s,ref:i,defaultValue:n})})});p9.displayName="BubbleSelect";function x9(t){const r=Aa(t),n=N.useRef(""),s=N.useRef(0),a=N.useCallback(o=>{const l=n.current+o;r(l),(function c(u){n.current=u,window.clearTimeout(s.current),u!==""&&(s.current=window.setTimeout(()=>c(""),1e3))})(l)},[r]),i=N.useCallback(()=>{n.current="",window.clearTimeout(s.current)},[]);return N.useEffect(()=>()=>window.clearTimeout(s.current),[]),[n,a,i]}function g9(t,r,n){const a=r.length>1&&Array.from(r).every(u=>u===r[0])?r[0]:r,i=n?t.indexOf(n):-1;let o=Ite(t,Math.max(i,0));a.length===1&&(o=o.filter(u=>u!==n));const c=o.find(u=>u.textValue.toLowerCase().startsWith(a.toLowerCase()));return c!==n?c:void 0}function Ite(t,r){return t.map((n,s)=>t[(r+s)%t.length])}var Lte=V8,$te=K8,Bte=Z8,Fte=X8,zte=J8,Ute=Q8,Hte=n9,Wte=o9,qte=l9,Vte=d9,Gte=u9,Kte=h9;function sn({...t}){return e.jsx(Lte,{"data-slot":"select",...t})}function gn({...t}){return e.jsx(Bte,{"data-slot":"select-value",...t})}function an({className:t,size:r="default",children:n,...s}){return e.jsxs($te,{"data-slot":"select-trigger","data-size":r,className:lt("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-full items-center justify-between gap-2 rounded-md border bg-input-background px-3 py-2 text-sm whitespace-nowrap transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...s,children:[n,e.jsx(Fte,{asChild:!0,children:e.jsx(Jv,{className:"size-4 opacity-50"})})]})}function on({className:t,children:r,position:n="popper",...s}){return e.jsx(zte,{children:e.jsxs(Ute,{"data-slot":"select-content",className:lt("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...s,children:[e.jsx(Yte,{}),e.jsx(Hte,{className:lt("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:r}),e.jsx(Zte,{})]})})}function Ue({className:t,children:r,...n}){return e.jsxs(Wte,{"data-slot":"select-item",className:lt("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",t),...n,children:[e.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:e.jsx(Vte,{children:e.jsx(or,{className:"size-4"})})}),e.jsx(qte,{children:r})]})}function Yte({className:t,...r}){return e.jsx(Gte,{"data-slot":"select-scroll-up-button",className:lt("flex cursor-default items-center justify-center py-1",t),...r,children:e.jsx(_L,{className:"size-4"})})}function Zte({className:t,...r}){return e.jsx(Kte,{"data-slot":"select-scroll-down-button",className:lt("flex cursor-default items-center justify-center py-1",t),...r,children:e.jsx(Jv,{className:"size-4"})})}function Xte(t){return Object.prototype.toString.call(t)==="[object Object]"}function G3(t){return Xte(t)||Array.isArray(t)}function Jte(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function FC(t,r){const n=Object.keys(t),s=Object.keys(r);if(n.length!==s.length)return!1;const a=JSON.stringify(Object.keys(t.breakpoints||{})),i=JSON.stringify(Object.keys(r.breakpoints||{}));return a!==i?!1:n.every(o=>{const l=t[o],c=r[o];return typeof l=="function"?`${l}`==`${c}`:!G3(l)||!G3(c)?l===c:FC(l,c)})}function K3(t){return t.concat().sort((r,n)=>r.name>n.name?1:-1).map(r=>r.options)}function Qte(t,r){if(t.length!==r.length)return!1;const n=K3(t),s=K3(r);return n.every((a,i)=>{const o=s[i];return FC(a,o)})}function zC(t){return typeof t=="number"}function y_(t){return typeof t=="string"}function gy(t){return typeof t=="boolean"}function Y3(t){return Object.prototype.toString.call(t)==="[object Object]"}function ln(t){return Math.abs(t)}function UC(t){return Math.sign(t)}function ep(t,r){return ln(t-r)}function ere(t,r){if(t===0||r===0||ln(t)<=ln(r))return 0;const n=ep(ln(t),ln(r));return ln(n/t)}function tre(t){return Math.round(t*100)/100}function bp(t){return jp(t).map(Number)}function Di(t){return t[gx(t)]}function gx(t){return Math.max(0,t.length-1)}function HC(t,r){return r===gx(t)}function Z3(t,r=0){return Array.from(Array(t),(n,s)=>r+s)}function jp(t){return Object.keys(t)}function v9(t,r){return[t,r].reduce((n,s)=>(jp(s).forEach(a=>{const i=n[a],o=s[a],l=Y3(i)&&Y3(o);n[a]=l?v9(i,o):o}),n),{})}function b_(t,r){return typeof r.MouseEvent<"u"&&t instanceof r.MouseEvent}function rre(t,r){const n={start:s,center:a,end:i};function s(){return 0}function a(c){return i(c)/2}function i(c){return r-c}function o(c,u){return y_(t)?n[t](c):t(r,c,u)}return{measure:o}}function wp(){let t=[];function r(a,i,o,l={passive:!0}){let c;if("addEventListener"in a)a.addEventListener(i,o,l),c=()=>a.removeEventListener(i,o,l);else{const u=a;u.addListener(o),c=()=>u.removeListener(o)}return t.push(c),s}function n(){t=t.filter(a=>a())}const s={add:r,clear:n};return s}function nre(t,r,n,s){const a=wp(),i=1e3/60;let o=null,l=0,c=0;function u(){a.add(t,"visibilitychange",()=>{t.hidden&&w()})}function m(){v(),a.clear()}function p(j){if(!c)return;o||(o=j,n(),n());const S=j-o;for(o=j,l+=S;l>=i;)n(),l-=i;const C=l/i;s(C),c&&(c=r.requestAnimationFrame(p))}function x(){c||(c=r.requestAnimationFrame(p))}function v(){r.cancelAnimationFrame(c),o=null,l=0,c=0}function w(){o=null,l=0}return{init:u,destroy:m,start:x,stop:v,update:n,render:s}}function sre(t,r){const n=r==="rtl",s=t==="y",a=s?"y":"x",i=s?"x":"y",o=!s&&n?-1:1,l=m(),c=p();function u(w){const{height:y,width:j}=w;return s?y:j}function m(){return s?"top":n?"right":"left"}function p(){return s?"bottom":n?"left":"right"}function x(w){return w*o}return{scroll:a,cross:i,startEdge:l,endEdge:c,measureSize:u,direction:x}}function Vd(t=0,r=0){const n=ln(t-r);function s(u){return u<t}function a(u){return u>r}function i(u){return s(u)||a(u)}function o(u){return i(u)?s(u)?t:r:u}function l(u){return n?u-n*Math.ceil((u-r)/n):u}return{length:n,max:r,min:t,constrain:o,reachedAny:i,reachedMax:a,reachedMin:s,removeOffset:l}}function y9(t,r,n){const{constrain:s}=Vd(0,t),a=t+1;let i=o(r);function o(x){return n?ln((a+x)%a):s(x)}function l(){return i}function c(x){return i=o(x),p}function u(x){return m().set(l()+x)}function m(){return y9(t,l(),n)}const p={get:l,set:c,add:u,clone:m};return p}function are(t,r,n,s,a,i,o,l,c,u,m,p,x,v,w,y,j,S,C){const{cross:P,direction:T}=t,_=["INPUT","SELECT","TEXTAREA"],k={passive:!1},M=wp(),$=wp(),B=Vd(50,225).constrain(v.measure(20)),F={mouse:300,touch:400},H={mouse:500,touch:600},K=w?43:25;let Z=!1,V=0,W=0,G=!1,O=!1,R=!1,D=!1;function I(he){if(!C)return;function Ce($e){(gy(C)||C(he,$e))&&oe($e)}const Se=r;M.add(Se,"dragstart",$e=>$e.preventDefault(),k).add(Se,"touchmove",()=>{},k).add(Se,"touchend",()=>{}).add(Se,"touchstart",Ce).add(Se,"mousedown",Ce).add(Se,"touchcancel",ue).add(Se,"contextmenu",ue).add(Se,"click",de,!0)}function q(){M.clear(),$.clear()}function J(){const he=D?n:r;$.add(he,"touchmove",te,k).add(he,"touchend",ue).add(he,"mousemove",te,k).add(he,"mouseup",ue)}function ie(he){const Ce=he.nodeName||"";return _.includes(Ce)}function ee(){return(w?H:F)[D?"mouse":"touch"]}function ae(he,Ce){const Se=p.add(UC(he)*-1),$e=m.byDistance(he,!w).distance;return w||ln(he)<B?$e:j&&Ce?$e*.5:m.byIndex(Se.get(),0).distance}function oe(he){const Ce=b_(he,s);D=Ce,R=w&&Ce&&!he.buttons&&Z,Z=ep(a.get(),o.get())>=2,!(Ce&&he.button!==0)&&(ie(he.target)||(G=!0,i.pointerDown(he),u.useFriction(0).useDuration(0),a.set(o),J(),V=i.readPoint(he),W=i.readPoint(he,P),x.emit("pointerDown")))}function te(he){if(!b_(he,s)&&he.touches.length>=2)return ue(he);const Se=i.readPoint(he),$e=i.readPoint(he,P),qe=ep(Se,V),Fe=ep($e,W);if(!O&&!D&&(!he.cancelable||(O=qe>Fe,!O)))return ue(he);const it=i.pointerMove(he);qe>y&&(R=!0),u.useFriction(.3).useDuration(.75),l.start(),a.add(T(it)),he.preventDefault()}function ue(he){const Se=m.byDistance(0,!1).index!==p.get(),$e=i.pointerUp(he)*ee(),qe=ae(T($e),Se),Fe=ere($e,qe),it=K-10*Fe,rt=S+Fe/50;O=!1,G=!1,$.clear(),u.useDuration(it).useFriction(rt),c.distance(qe,!w),D=!1,x.emit("pointerUp")}function de(he){R&&(he.stopPropagation(),he.preventDefault(),R=!1)}function fe(){return G}return{init:I,destroy:q,pointerDown:fe}}function ire(t,r){let s,a;function i(p){return p.timeStamp}function o(p,x){const w=`client${(x||t.scroll)==="x"?"X":"Y"}`;return(b_(p,r)?p:p.touches[0])[w]}function l(p){return s=p,a=p,o(p)}function c(p){const x=o(p)-o(a),v=i(p)-i(s)>170;return a=p,v&&(s=p),x}function u(p){if(!s||!a)return 0;const x=o(a)-o(s),v=i(p)-i(s),w=i(p)-i(a)>170,y=x/v;return v&&!w&&ln(y)>.1?y:0}return{pointerDown:l,pointerMove:c,pointerUp:u,readPoint:o}}function ore(){function t(n){const{offsetTop:s,offsetLeft:a,offsetWidth:i,offsetHeight:o}=n;return{top:s,right:a+i,bottom:s+o,left:a,width:i,height:o}}return{measure:t}}function lre(t){function r(s){return t*(s/100)}return{measure:r}}function cre(t,r,n,s,a,i,o){const l=[t].concat(s);let c,u,m=[],p=!1;function x(j){return a.measureSize(o.measure(j))}function v(j){if(!i)return;u=x(t),m=s.map(x);function S(C){for(const P of C){if(p)return;const T=P.target===t,_=s.indexOf(P.target),k=T?u:m[_],M=x(T?t:s[_]);if(ln(M-k)>=.5){j.reInit(),r.emit("resize");break}}}c=new ResizeObserver(C=>{(gy(i)||i(j,C))&&S(C)}),n.requestAnimationFrame(()=>{l.forEach(C=>c.observe(C))})}function w(){p=!0,c&&c.disconnect()}return{init:v,destroy:w}}function dre(t,r,n,s,a,i){let o=0,l=0,c=a,u=i,m=t.get(),p=0;function x(){const k=s.get()-t.get(),M=!c;let $=0;return M?(o=0,n.set(s),t.set(s),$=k):(n.set(t),o+=k/c,o*=u,m+=o,t.add(o),$=m-p),l=UC($),p=m,_}function v(){const k=s.get()-r.get();return ln(k)<.001}function w(){return c}function y(){return l}function j(){return o}function S(){return P(a)}function C(){return T(i)}function P(k){return c=k,_}function T(k){return u=k,_}const _={direction:y,duration:w,velocity:j,seek:x,settled:v,useBaseFriction:C,useBaseDuration:S,useFriction:T,useDuration:P};return _}function ure(t,r,n,s,a){const i=a.measure(10),o=a.measure(50),l=Vd(.1,.99);let c=!1;function u(){return!(c||!t.reachedAny(n.get())||!t.reachedAny(r.get()))}function m(v){if(!u())return;const w=t.reachedMin(r.get())?"min":"max",y=ln(t[w]-r.get()),j=n.get()-r.get(),S=l.constrain(y/o);n.subtract(j*S),!v&&ln(j)<i&&(n.set(t.constrain(n.get())),s.useDuration(25).useBaseFriction())}function p(v){c=!v}return{shouldConstrain:u,constrain:m,toggleActive:p}}function hre(t,r,n,s,a){const i=Vd(-r+t,0),o=p(),l=m(),c=x();function u(w,y){return ep(w,y)<=1}function m(){const w=o[0],y=Di(o),j=o.lastIndexOf(w),S=o.indexOf(y)+1;return Vd(j,S)}function p(){return n.map((w,y)=>{const{min:j,max:S}=i,C=i.constrain(w),P=!y,T=HC(n,y);return P?S:T||u(j,C)?j:u(S,C)?S:C}).map(w=>parseFloat(w.toFixed(3)))}function x(){if(r<=t+a)return[i.max];if(s==="keepSnaps")return o;const{min:w,max:y}=l;return o.slice(w,y)}return{snapsContained:c,scrollContainLimit:l}}function mre(t,r,n){const s=r[0],a=n?s-t:Di(r);return{limit:Vd(a,s)}}function fre(t,r,n,s){const i=r.min+.1,o=r.max+.1,{reachedMin:l,reachedMax:c}=Vd(i,o);function u(x){return x===1?c(n.get()):x===-1?l(n.get()):!1}function m(x){if(!u(x))return;const v=t*(x*-1);s.forEach(w=>w.add(v))}return{loop:m}}function pre(t){const{max:r,length:n}=t;function s(i){const o=i-r;return n?o/-n:0}return{get:s}}function xre(t,r,n,s,a){const{startEdge:i,endEdge:o}=t,{groupSlides:l}=a,c=p().map(r.measure),u=x(),m=v();function p(){return l(s).map(y=>Di(y)[o]-y[0][i]).map(ln)}function x(){return s.map(y=>n[i]-y[i]).map(y=>-ln(y))}function v(){return l(u).map(y=>y[0]).map((y,j)=>y+c[j])}return{snaps:u,snapsAligned:m}}function gre(t,r,n,s,a,i){const{groupSlides:o}=a,{min:l,max:c}=s,u=m();function m(){const x=o(i),v=!t||r==="keepSnaps";return n.length===1?[i]:v?x:x.slice(l,c).map((w,y,j)=>{const S=!y,C=HC(j,y);if(S){const P=Di(j[0])+1;return Z3(P)}if(C){const P=gx(i)-Di(j)[0]+1;return Z3(P,Di(j)[0])}return w})}return{slideRegistry:u}}function vre(t,r,n,s,a){const{reachedAny:i,removeOffset:o,constrain:l}=s;function c(w){return w.concat().sort((y,j)=>ln(y)-ln(j))[0]}function u(w){const y=t?o(w):l(w),j=r.map((C,P)=>({diff:m(C-y,0),index:P})).sort((C,P)=>ln(C.diff)-ln(P.diff)),{index:S}=j[0];return{index:S,distance:y}}function m(w,y){const j=[w,w+n,w-n];if(!t)return w;if(!y)return c(j);const S=j.filter(C=>UC(C)===y);return S.length?c(S):Di(j)-n}function p(w,y){const j=r[w]-a.get(),S=m(j,y);return{index:w,distance:S}}function x(w,y){const j=a.get()+w,{index:S,distance:C}=u(j),P=!t&&i(j);if(!y||P)return{index:S,distance:w};const T=r[S]-C,_=w+m(T,0);return{index:S,distance:_}}return{byDistance:x,byIndex:p,shortcut:m}}function yre(t,r,n,s,a,i,o){function l(p){const x=p.distance,v=p.index!==r.get();i.add(x),x&&(s.duration()?t.start():(t.update(),t.render(1),t.update())),v&&(n.set(r.get()),r.set(p.index),o.emit("select"))}function c(p,x){const v=a.byDistance(p,x);l(v)}function u(p,x){const v=r.clone().set(p),w=a.byIndex(v.get(),x);l(w)}return{distance:c,index:u}}function bre(t,r,n,s,a,i,o,l){const c={passive:!0,capture:!0};let u=0;function m(v){if(!l)return;function w(y){if(new Date().getTime()-u>10)return;o.emit("slideFocusStart"),t.scrollLeft=0;const C=n.findIndex(P=>P.includes(y));zC(C)&&(a.useDuration(0),s.index(C,0),o.emit("slideFocus"))}i.add(document,"keydown",p,!1),r.forEach((y,j)=>{i.add(y,"focus",S=>{(gy(l)||l(v,S))&&w(j)},c)})}function p(v){v.code==="Tab"&&(u=new Date().getTime())}return{init:m}}function Wf(t){let r=t;function n(){return r}function s(c){r=o(c)}function a(c){r+=o(c)}function i(c){r-=o(c)}function o(c){return zC(c)?c:c.get()}return{get:n,set:s,add:a,subtract:i}}function b9(t,r){const n=t.scroll==="x"?o:l,s=r.style;let a=null,i=!1;function o(x){return`translate3d(${x}px,0px,0px)`}function l(x){return`translate3d(0px,${x}px,0px)`}function c(x){if(i)return;const v=tre(t.direction(x));v!==a&&(s.transform=n(v),a=v)}function u(x){i=!x}function m(){i||(s.transform="",r.getAttribute("style")||r.removeAttribute("style"))}return{clear:m,to:c,toggleActive:u}}function jre(t,r,n,s,a,i,o,l,c){const m=bp(a),p=bp(a).reverse(),x=S().concat(C());function v(M,$){return M.reduce((B,F)=>B-a[F],$)}function w(M,$){return M.reduce((B,F)=>v(B,$)>0?B.concat([F]):B,[])}function y(M){return i.map(($,B)=>({start:$-s[B]+.5+M,end:$+r-.5+M}))}function j(M,$,B){const F=y($);return M.map(H=>{const K=B?0:-n,Z=B?n:0,V=B?"end":"start",W=F[H][V];return{index:H,loopPoint:W,slideLocation:Wf(-1),translate:b9(t,c[H]),target:()=>l.get()>W?K:Z}})}function S(){const M=o[0],$=w(p,M);return j($,n,!1)}function C(){const M=r-o[0]-1,$=w(m,M);return j($,-n,!0)}function P(){return x.every(({index:M})=>{const $=m.filter(B=>B!==M);return v($,r)<=.1})}function T(){x.forEach(M=>{const{target:$,translate:B,slideLocation:F}=M,H=$();H!==F.get()&&(B.to(H),F.set(H))})}function _(){x.forEach(M=>M.translate.clear())}return{canLoop:P,clear:_,loop:T,loopPoints:x}}function wre(t,r,n){let s,a=!1;function i(c){if(!n)return;function u(m){for(const p of m)if(p.type==="childList"){c.reInit(),r.emit("slidesChanged");break}}s=new MutationObserver(m=>{a||(gy(n)||n(c,m))&&u(m)}),s.observe(t,{childList:!0})}function o(){s&&s.disconnect(),a=!0}return{init:i,destroy:o}}function Nre(t,r,n,s){const a={};let i=null,o=null,l,c=!1;function u(){l=new IntersectionObserver(w=>{c||(w.forEach(y=>{const j=r.indexOf(y.target);a[j]=y}),i=null,o=null,n.emit("slidesInView"))},{root:t.parentElement,threshold:s}),r.forEach(w=>l.observe(w))}function m(){l&&l.disconnect(),c=!0}function p(w){return jp(a).reduce((y,j)=>{const S=parseInt(j),{isIntersecting:C}=a[S];return(w&&C||!w&&!C)&&y.push(S),y},[])}function x(w=!0){if(w&&i)return i;if(!w&&o)return o;const y=p(w);return w&&(i=y),w||(o=y),y}return{init:u,destroy:m,get:x}}function Sre(t,r,n,s,a,i){const{measureSize:o,startEdge:l,endEdge:c}=t,u=n[0]&&a,m=w(),p=y(),x=n.map(o),v=j();function w(){if(!u)return 0;const C=n[0];return ln(r[l]-C[l])}function y(){if(!u)return 0;const C=i.getComputedStyle(Di(s));return parseFloat(C.getPropertyValue(`margin-${c}`))}function j(){return n.map((C,P,T)=>{const _=!P,k=HC(T,P);return _?x[P]+m:k?x[P]+p:T[P+1][l]-C[l]}).map(ln)}return{slideSizes:x,slideSizesWithGaps:v,startGap:m,endGap:p}}function _re(t,r,n,s,a,i,o,l,c){const{startEdge:u,endEdge:m,direction:p}=t,x=zC(n);function v(S,C){return bp(S).filter(P=>P%C===0).map(P=>S.slice(P,P+C))}function w(S){return S.length?bp(S).reduce((C,P,T)=>{const _=Di(C)||0,k=_===0,M=P===gx(S),$=a[u]-i[_][u],B=a[u]-i[P][m],F=!s&&k?p(o):0,H=!s&&M?p(l):0,K=ln(B-H-($+F));return T&&K>r+c&&C.push(P),M&&C.push(S.length),C},[]).map((C,P,T)=>{const _=Math.max(T[P-1]||0);return S.slice(_,C)}):[]}function y(S){return x?v(S,n):w(S)}return{groupSlides:y}}function kre(t,r,n,s,a,i,o){const{align:l,axis:c,direction:u,startIndex:m,loop:p,duration:x,dragFree:v,dragThreshold:w,inViewThreshold:y,slidesToScroll:j,skipSnaps:S,containScroll:C,watchResize:P,watchSlides:T,watchDrag:_,watchFocus:k}=i,M=2,$=ore(),B=$.measure(r),F=n.map($.measure),H=sre(c,u),K=H.measureSize(B),Z=lre(K),V=rre(l,K),W=!p&&!!C,G=p||!!C,{slideSizes:O,slideSizesWithGaps:R,startGap:D,endGap:I}=Sre(H,B,F,n,G,a),q=_re(H,K,j,p,B,F,D,I,M),{snaps:J,snapsAligned:ie}=xre(H,V,B,F,q),ee=-Di(J)+Di(R),{snapsContained:ae,scrollContainLimit:oe}=hre(K,ee,ie,C,M),te=W?ae:ie,{limit:ue}=mre(ee,te,p),de=y9(gx(te),m,p),fe=de.clone(),ye=bp(n),he=({dragHandler:bt,scrollBody:kr,scrollBounds:dn,options:{loop:yr}})=>{yr||dn.constrain(bt.pointerDown()),kr.seek()},Ce=({scrollBody:bt,translate:kr,location:dn,offsetLocation:yr,previousLocation:js,scrollLooper:ws,slideLooper:ta,dragHandler:is,animation:ra,eventHandler:$r,scrollBounds:Sn,options:{loop:Zr}},Rt)=>{const Ns=bt.settled(),_t=!Sn.shouldConstrain(),br=Zr?Ns:Ns&&_t,Cr=br&&!is.pointerDown();Cr&&ra.stop();const Br=dn.get()*Rt+js.get()*(1-Rt);yr.set(Br),Zr&&(ws.loop(bt.direction()),ta.loop()),kr.to(yr.get()),Cr&&$r.emit("settle"),br||$r.emit("scroll")},Se=nre(s,a,()=>he(Jt),bt=>Ce(Jt,bt)),$e=.68,qe=te[de.get()],Fe=Wf(qe),it=Wf(qe),rt=Wf(qe),yt=Wf(qe),Pt=dre(Fe,rt,it,yt,x,$e),Et=vre(p,te,ee,ue,yt),Te=yre(Se,de,fe,Pt,Et,yt,o),$t=pre(ue),Dt=wp(),De=Nre(r,n,o,y),{slideRegistry:Ge}=gre(W,C,te,oe,q,ye),Je=bre(t,n,Ge,Te,Pt,Dt,o,k),Jt={ownerDocument:s,ownerWindow:a,eventHandler:o,containerRect:B,slideRects:F,animation:Se,axis:H,dragHandler:are(H,t,s,a,yt,ire(H,a),Fe,Se,Te,Pt,Et,de,o,Z,v,w,S,$e,_),eventStore:Dt,percentOfView:Z,index:de,indexPrevious:fe,limit:ue,location:Fe,offsetLocation:rt,previousLocation:it,options:i,resizeHandler:cre(r,o,a,n,H,P,$),scrollBody:Pt,scrollBounds:ure(ue,rt,yt,Pt,Z),scrollLooper:fre(ee,ue,rt,[Fe,rt,it,yt]),scrollProgress:$t,scrollSnapList:te.map($t.get),scrollSnaps:te,scrollTarget:Et,scrollTo:Te,slideLooper:jre(H,K,ee,O,R,J,te,rt,n),slideFocus:Je,slidesHandler:wre(r,o,T),slidesInView:De,slideIndexes:ye,slideRegistry:Ge,slidesToScroll:q,target:yt,translate:b9(H,r)};return Jt}function Cre(){let t={},r;function n(u){r=u}function s(u){return t[u]||[]}function a(u){return s(u).forEach(m=>m(r,u)),c}function i(u,m){return t[u]=s(u).concat([m]),c}function o(u,m){return t[u]=s(u).filter(p=>p!==m),c}function l(){t={}}const c={init:n,emit:a,off:o,on:i,clear:l};return c}const Pre={align:"center",axis:"x",container:null,slides:null,containScroll:"trimSnaps",direction:"ltr",slidesToScroll:1,inViewThreshold:0,breakpoints:{},dragFree:!1,dragThreshold:10,loop:!1,skipSnaps:!1,duration:25,startIndex:0,active:!0,watchDrag:!0,watchResize:!0,watchSlides:!0,watchFocus:!0};function Are(t){function r(i,o){return v9(i,o||{})}function n(i){const o=i.breakpoints||{},l=jp(o).filter(c=>t.matchMedia(c).matches).map(c=>o[c]).reduce((c,u)=>r(c,u),{});return r(i,l)}function s(i){return i.map(o=>jp(o.breakpoints||{})).reduce((o,l)=>o.concat(l),[]).map(t.matchMedia)}return{mergeOptions:r,optionsAtMedia:n,optionsMediaQueries:s}}function Ere(t){let r=[];function n(i,o){return r=o.filter(({options:l})=>t.optionsAtMedia(l).active!==!1),r.forEach(l=>l.init(i,t)),o.reduce((l,c)=>Object.assign(l,{[c.name]:c}),{})}function s(){r=r.filter(i=>i.destroy())}return{init:n,destroy:s}}function F0(t,r,n){const s=t.ownerDocument,a=s.defaultView,i=Are(a),o=Ere(i),l=wp(),c=Cre(),{mergeOptions:u,optionsAtMedia:m,optionsMediaQueries:p}=i,{on:x,off:v,emit:w}=c,y=H;let j=!1,S,C=u(Pre,F0.globalOptions),P=u(C),T=[],_,k,M;function $(){const{container:ye,slides:he}=P;k=(y_(ye)?t.querySelector(ye):ye)||t.children[0];const Se=y_(he)?k.querySelectorAll(he):he;M=[].slice.call(Se||k.children)}function B(ye){const he=kre(t,k,M,s,a,ye,c);if(ye.loop&&!he.slideLooper.canLoop()){const Ce=Object.assign({},ye,{loop:!1});return B(Ce)}return he}function F(ye,he){j||(C=u(C,ye),P=m(C),T=he||T,$(),S=B(P),p([C,...T.map(({options:Ce})=>Ce)]).forEach(Ce=>l.add(Ce,"change",H)),P.active&&(S.translate.to(S.location.get()),S.animation.init(),S.slidesInView.init(),S.slideFocus.init(fe),S.eventHandler.init(fe),S.resizeHandler.init(fe),S.slidesHandler.init(fe),S.options.loop&&S.slideLooper.loop(),k.offsetParent&&M.length&&S.dragHandler.init(fe),_=o.init(fe,T)))}function H(ye,he){const Ce=q();K(),F(u({startIndex:Ce},ye),he),c.emit("reInit")}function K(){S.dragHandler.destroy(),S.eventStore.clear(),S.translate.clear(),S.slideLooper.clear(),S.resizeHandler.destroy(),S.slidesHandler.destroy(),S.slidesInView.destroy(),S.animation.destroy(),o.destroy(),l.clear()}function Z(){j||(j=!0,l.clear(),K(),c.emit("destroy"),c.clear())}function V(ye,he,Ce){!P.active||j||(S.scrollBody.useBaseFriction().useDuration(he===!0?0:P.duration),S.scrollTo.index(ye,Ce||0))}function W(ye){const he=S.index.add(1).get();V(he,ye,-1)}function G(ye){const he=S.index.add(-1).get();V(he,ye,1)}function O(){return S.index.add(1).get()!==q()}function R(){return S.index.add(-1).get()!==q()}function D(){return S.scrollSnapList}function I(){return S.scrollProgress.get(S.offsetLocation.get())}function q(){return S.index.get()}function J(){return S.indexPrevious.get()}function ie(){return S.slidesInView.get()}function ee(){return S.slidesInView.get(!1)}function ae(){return _}function oe(){return S}function te(){return t}function ue(){return k}function de(){return M}const fe={canScrollNext:O,canScrollPrev:R,containerNode:ue,internalEngine:oe,destroy:Z,off:v,on:x,emit:w,plugins:ae,previousScrollSnap:J,reInit:y,rootNode:te,scrollNext:W,scrollPrev:G,scrollProgress:I,scrollSnapList:D,scrollTo:V,selectedScrollSnap:q,slideNodes:de,slidesInView:ie,slidesNotInView:ee};return F(r,n),setTimeout(()=>c.emit("init"),0),fe}F0.globalOptions=void 0;function WC(t={},r=[]){const n=N.useRef(t),s=N.useRef(r),[a,i]=N.useState(),[o,l]=N.useState(),c=N.useCallback(()=>{a&&a.reInit(n.current,s.current)},[a]);return N.useEffect(()=>{FC(n.current,t)||(n.current=t,c())},[t,c]),N.useEffect(()=>{Qte(s.current,r)||(s.current=r,c())},[r,c]),N.useEffect(()=>{if(Jte()&&o){F0.globalOptions=WC.globalOptions;const u=F0(o,n.current,s.current);return i(u),()=>u.destroy()}else i(void 0)},[o,i]),[l,a]}WC.globalOptions=void 0;const j9=N.createContext(null);function vy(){const t=N.useContext(j9);if(!t)throw new Error("useCarousel must be used within a <Carousel />");return t}function Qa({orientation:t="horizontal",opts:r,setApi:n,plugins:s,className:a,children:i,...o}){const[l,c]=WC({...r,axis:t==="horizontal"?"x":"y"},s),[u,m]=N.useState(!1),[p,x]=N.useState(!1),v=N.useCallback(S=>{S&&(m(S.canScrollPrev()),x(S.canScrollNext()))},[]),w=N.useCallback(()=>{c==null||c.scrollPrev()},[c]),y=N.useCallback(()=>{c==null||c.scrollNext()},[c]),j=N.useCallback(S=>{S.key==="ArrowLeft"?(S.preventDefault(),w()):S.key==="ArrowRight"&&(S.preventDefault(),y())},[w,y]);return N.useEffect(()=>{!c||!n||n(c)},[c,n]),N.useEffect(()=>{if(c)return v(c),c.on("reInit",v),c.on("select",v),()=>{c==null||c.off("select",v)}},[c,v]),e.jsx(j9.Provider,{value:{carouselRef:l,api:c,opts:r,orientation:t||((r==null?void 0:r.axis)==="y"?"vertical":"horizontal"),scrollPrev:w,scrollNext:y,canScrollPrev:u,canScrollNext:p},children:e.jsx("div",{onKeyDownCapture:j,className:lt("relative",a),role:"region","aria-roledescription":"carousel","data-slot":"carousel",...o,children:i})})}function ei({className:t,...r}){const{carouselRef:n,orientation:s}=vy();return e.jsx("div",{ref:n,className:"overflow-hidden","data-slot":"carousel-content",children:e.jsx("div",{className:lt("flex",s==="horizontal"?"-ml-4":"-mt-4 flex-col",t),...r})})}function ti({className:t,...r}){const{orientation:n}=vy();return e.jsx("div",{role:"group","aria-roledescription":"slide","data-slot":"carousel-item",className:lt("min-w-0 shrink-0 grow-0 basis-full",n==="horizontal"?"pl-4":"pt-4",t),...r})}function Nh({className:t,variant:r="outline",size:n="icon",...s}){const{orientation:a,scrollPrev:i,canScrollPrev:o}=vy();return e.jsxs(Q,{"data-slot":"carousel-previous",variant:r,size:n,className:lt("absolute size-8 rounded-full",a==="horizontal"?"top-1/2 -left-12 -translate-y-1/2":"-top-12 left-1/2 -translate-x-1/2 rotate-90",t),disabled:!o,onClick:i,...s,children:[e.jsx(Vi,{}),e.jsx("span",{className:"sr-only",children:"Previous slide"})]})}function Sh({className:t,variant:r="outline",size:n="icon",...s}){const{orientation:a,scrollNext:i,canScrollNext:o}=vy();return e.jsxs(Q,{"data-slot":"carousel-next",variant:r,size:n,className:lt("absolute size-8 rounded-full",a==="horizontal"?"top-1/2 -right-12 -translate-y-1/2":"-bottom-12 left-1/2 -translate-x-1/2 rotate-90",t),disabled:!o,onClick:i,...s,children:[e.jsx(ul,{}),e.jsx("span",{className:"sr-only",children:"Next slide"})]})}const Tre="/icons/logo.svg";function Cl(){return e.jsx("footer",{className:"bg-gray-50 py-12 border-t border-gray-200",children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8 mb-8",children:[e.jsxs("div",{className:"col-span-2 md:col-span-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("img",{src:Tre,alt:"Katia Booking Logo",className:"w-10 h-10 rounded-full"}),e.jsx("span",{className:"text-xl font-bold text-gray-900",children:"Katia Booking"})]}),e.jsx("p",{className:"text-sm text-gray-600",children:"The best platform for salon booking"})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-gray-900 mb-4",children:"Category"}),e.jsxs("ul",{className:"space-y-2 text-sm text-gray-600",children:[e.jsx("li",{children:e.jsx(It,{to:"/salons?category=hairstylist",className:"hover:text-purple-600",children:"Hair Stylist"})}),e.jsx("li",{children:e.jsx(It,{to:"/salons?category=manicure",className:"hover:text-purple-600",children:"Manicure"})}),e.jsx("li",{children:e.jsx(It,{to:"/salons?category=spa",className:"hover:text-purple-600",children:"Spa"})}),e.jsx("li",{children:e.jsx(It,{to:"/salons?category=massage",className:"hover:text-purple-600",children:"Massage"})}),e.jsx("li",{children:e.jsx(It,{to:"/salons?category=barber",className:"hover:text-purple-600",children:"Barber"})})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-gray-900 mb-4",children:"Quick Links"}),e.jsxs("ul",{className:"space-y-2 text-sm text-gray-600",children:[e.jsx("li",{children:e.jsx(It,{to:"/become-partner",className:"hover:text-purple-600",children:"Become a Partner"})}),e.jsx("li",{children:e.jsx(It,{to:"/auth",className:"hover:text-purple-600",children:"Login as Client"})}),e.jsx("li",{children:e.jsx(It,{to:"/salon-dashboard",className:"hover:text-purple-600",children:"Login as Salon"})}),e.jsx("li",{children:e.jsx(It,{to:"/about",className:"hover:text-purple-600",children:"About Us"})})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-gray-900 mb-4",children:"Support"}),e.jsxs("ul",{className:"space-y-2 text-sm text-gray-600",children:[e.jsx("li",{children:e.jsx(It,{to:"/help",className:"hover:text-purple-600",children:"Help Center"})}),e.jsx("li",{children:e.jsx(It,{to:"/contact",className:"hover:text-purple-600",children:"Contact Us"})}),e.jsx("li",{children:e.jsx(It,{to:"/privacy",className:"hover:text-purple-600",children:"Privacy Policy"})}),e.jsx("li",{children:e.jsx(It,{to:"/terms",className:"hover:text-purple-600",children:"Terms of Service"})})]})]})]}),e.jsx("div",{className:"border-t border-gray-200 pt-8 text-center text-sm text-gray-600",children:" 2025 Katia Booking. All rights reserved"})]})})}function Ore(){const{currency:t,setCurrency:r,loading:n}=Kt(),[s,a]=N.useState(!1);return n?e.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 text-sm text-gray-500",children:[e.jsx(Oh,{className:"w-4 h-4 animate-spin"}),"Loading..."]}):e.jsxs("div",{className:"relative",children:[e.jsxs(Q,{variant:"ghost",size:"sm",onClick:()=>a(!s),className:"flex items-center gap-2 text-gray-700 hover:text-purple-600 hover:bg-purple-50",children:[e.jsx(Oh,{className:"w-4 h-4"}),e.jsxs("span",{className:"text-sm font-medium",children:[t.flag," ",t.code]})]}),s&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>a(!1)}),e.jsxs("div",{className:"absolute right-0 top-full mt-2 w-80 bg-white rounded-lg shadow-xl border border-gray-200 z-50 max-h-[500px] overflow-y-auto",children:[e.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-4 py-3 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Oh,{className:"w-4 h-4 text-purple-600"}),e.jsx("span",{className:"font-medium text-gray-900",children:"Select Currency"})]}),e.jsx("button",{onClick:()=>a(!1),className:"text-gray-400 hover:text-gray-600",children:e.jsx(ht,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"p-2",children:[e.jsx("div",{className:"px-2 py-1.5",children:e.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase",children:"Popular"})}),["USD","EUR","AED","GBP","RUB"].map(i=>{const o=Xs.find(l=>l.code===i);return o?e.jsxs("button",{onClick:()=>{r(o),a(!1)},className:`w-full flex items-center justify-between px-3 py-2 rounded-lg hover:bg-purple-50 transition-colors ${t.code===o.code?"bg-purple-50":""}`,children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-xl",children:o.flag}),e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:o.code}),e.jsx("div",{className:"text-xs text-gray-500",children:o.name})]})]}),t.code===o.code&&e.jsx("div",{className:"w-2 h-2 rounded-full bg-purple-600"})]},o.code):null})]}),e.jsx("div",{className:"border-t border-gray-200 my-2"}),e.jsxs("div",{className:"p-2",children:[e.jsx("div",{className:"px-2 py-1.5",children:e.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase",children:"All Currencies"})}),e.jsx("div",{className:"space-y-1",children:Xs.map(i=>e.jsxs("button",{onClick:()=>{r(i),a(!1)},className:`w-full flex items-center justify-between px-3 py-2 rounded-lg hover:bg-purple-50 transition-colors ${t.code===i.code?"bg-purple-50":""}`,children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-xl",children:i.flag}),e.jsxs("div",{className:"text-left",children:[e.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[i.code," ",i.symbol]}),e.jsx("div",{className:"text-xs text-gray-500",children:i.name})]})]}),t.code===i.code&&e.jsx("div",{className:"w-2 h-2 rounded-full bg-purple-600"})]},i.code))})]})]})]})]})}var Mre="Label",w9=N.forwardRef((t,r)=>e.jsx(mt.label,{...t,ref:r,onMouseDown:n=>{var a;n.target.closest("button, input, select, textarea")||((a=t.onMouseDown)==null||a.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));w9.displayName=Mre;var Dre=w9;function We({className:t,...r}){return e.jsx(Dre,{"data-slot":"label",className:lt("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...r})}function Rre({isOpen:t,onClose:r}){const n=vn(),{signInWithEmail:s,signInWithGoogle:a,signInWithFacebook:i}=Ma(),[o,l]=N.useState("choice"),[c,u]=N.useState(""),[m,p]=N.useState(""),[x,v]=N.useState(!1);if(!t)return null;const w=async()=>{v(!0);const{error:C}=await a("salon");C&&(ve.error("Failed to sign in with Google: "+C.message),v(!1))},y=async()=>{v(!0);const{error:C}=await i("salon");C&&(ve.error("Failed to sign in with Facebook: "+C.message),v(!1))},j=async C=>{C.preventDefault(),v(!0);const{error:P}=await s(c,m);P?(ve.error("Failed to sign in: "+P.message),v(!1)):(localStorage.setItem("auth_registration_type","salon"),r(),n("/redirect"))},S=()=>{r(),n("/pricing")};return e.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4 animate-in fade-in",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"border-b border-gray-200 p-6 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-r from-purple-600 to-pink-600 flex items-center justify-center",children:e.jsx(wo,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"font-bold text-gray-900",children:"Salon Access"}),e.jsx("p",{className:"text-sm text-gray-500",children:o==="choice"?"Choose an option":"Sign in to your account"})]})]}),e.jsx("button",{onClick:r,className:"w-8 h-8 rounded-full hover:bg-gray-100 flex items-center justify-center text-gray-500",children:e.jsx(ht,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"p-6",children:o==="choice"?e.jsxs("div",{className:"space-y-4",children:[e.jsx(ne,{className:"border-2 border-gray-200 hover:border-purple-400 transition-all cursor-pointer p-6",onClick:()=>l("signin"),children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-blue-100 flex items-center justify-center flex-shrink-0",children:e.jsx(bC,{className:"w-6 h-6 text-blue-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:"I have an account"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Sign in to your existing salon dashboard"})]}),e.jsx(ul,{className:"w-5 h-5 text-gray-400"})]})}),e.jsx(ne,{className:"border-2 border-purple-200 bg-gradient-to-br from-purple-50 to-pink-50 hover:border-purple-400 transition-all cursor-pointer p-6",onClick:S,children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-r from-purple-600 to-pink-600 flex items-center justify-center flex-shrink-0",children:e.jsx(fl,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:"Create new salon"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Set up your salon and start accepting bookings"}),e.jsxs("div",{className:"mt-2 inline-flex items-center gap-1 text-xs font-medium text-purple-600",children:[e.jsx("span",{children:"Quick setup"}),e.jsx("span",{className:"w-1 h-1 rounded-full bg-purple-600"}),e.jsx("span",{children:"Start today"})]})]}),e.jsx(ul,{className:"w-5 h-5 text-purple-600"})]})}),e.jsx("p",{className:"text-xs text-gray-500 text-center mt-6",children:"By continuing, you agree to our Terms of Service and Privacy Policy"})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("button",{onClick:()=>l("choice"),className:"text-sm text-gray-600 hover:text-gray-900 flex items-center gap-1",children:[e.jsx(ul,{className:"w-4 h-4 rotate-180"}),"Back to options"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs(Q,{variant:"outline",className:"w-full h-11 border-gray-300 hover:bg-gray-50",onClick:w,disabled:x,children:[e.jsxs("svg",{className:"w-5 h-5 mr-3",viewBox:"0 0 24 24",children:[e.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),e.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),e.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),e.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continue with Google"]}),e.jsxs(Q,{variant:"outline",className:"w-full h-11 border-gray-300 hover:bg-gray-50",onClick:y,disabled:x,children:[e.jsx("svg",{className:"w-5 h-5 mr-3",fill:"#1877F2",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})}),"Continue with Facebook"]})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("div",{className:"w-full border-t border-gray-300"})}),e.jsx("div",{className:"relative flex justify-center text-sm",children:e.jsx("span",{className:"bg-white px-2 text-gray-500",children:"Or continue with email"})})]}),e.jsxs("form",{onSubmit:j,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(We,{htmlFor:"email",children:"Email"}),e.jsx(He,{id:"email",type:"email",value:c,onChange:C=>u(C.target.value),placeholder:"your@email.com",required:!0})]}),e.jsxs("div",{children:[e.jsx(We,{htmlFor:"password",children:"Password"}),e.jsx(He,{id:"password",type:"password",value:m,onChange:C=>p(C.target.value),placeholder:"",required:!0})]}),e.jsx(Q,{type:"submit",className:"w-full h-11 bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700",disabled:x,children:x?"Signing in...":"Sign In"}),e.jsx("button",{type:"button",className:"w-full text-sm text-purple-600 hover:text-purple-700",onClick:()=>ve.info("Password reset feature coming soon!"),children:"Forgot password?"})]})]})})]})})}var Ire="Separator",X3="horizontal",Lre=["horizontal","vertical"],N9=N.forwardRef((t,r)=>{const{decorative:n,orientation:s=X3,...a}=t,i=$re(s)?s:X3,l=n?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return e.jsx(mt.div,{"data-orientation":i,...l,...a,ref:r})});N9.displayName=Ire;function $re(t){return Lre.includes(t)}var Bre=N9;function tp({className:t,orientation:r="horizontal",decorative:n=!0,...s}){return e.jsx(Bre,{"data-slot":"separator-root",decorative:n,orientation:r,className:lt("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",t),...s})}var qC="Avatar",[Fre]=Is(qC),[zre,S9]=Fre(qC),_9=N.forwardRef((t,r)=>{const{__scopeAvatar:n,...s}=t,[a,i]=N.useState("idle");return e.jsx(zre,{scope:n,imageLoadingStatus:a,onImageLoadingStatusChange:i,children:e.jsx(mt.span,{...s,ref:r})})});_9.displayName=qC;var k9="AvatarImage",C9=N.forwardRef((t,r)=>{const{__scopeAvatar:n,src:s,onLoadingStatusChange:a=()=>{},...i}=t,o=S9(k9,n),l=Ure(s,i.referrerPolicy),c=Aa(u=>{a(u),o.onImageLoadingStatusChange(u)});return as(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?e.jsx(mt.img,{...i,ref:r,src:s}):null});C9.displayName=k9;var P9="AvatarFallback",A9=N.forwardRef((t,r)=>{const{__scopeAvatar:n,delayMs:s,...a}=t,i=S9(P9,n),[o,l]=N.useState(s===void 0);return N.useEffect(()=>{if(s!==void 0){const c=window.setTimeout(()=>l(!0),s);return()=>window.clearTimeout(c)}},[s]),o&&i.imageLoadingStatus!=="loaded"?e.jsx(mt.span,{...a,ref:r}):null});A9.displayName=P9;function Ure(t,r){const[n,s]=N.useState("idle");return as(()=>{if(!t){s("error");return}let a=!0;const i=new window.Image,o=l=>()=>{a&&s(l)};return s("loading"),i.onload=o("loaded"),i.onerror=o("error"),i.src=t,r&&(i.referrerPolicy=r),()=>{a=!1}},[t,r]),n}var Hre=_9,Wre=C9,qre=A9;function Ri({className:t,...r}){return e.jsx(Hre,{"data-slot":"avatar",className:lt("relative flex size-10 shrink-0 overflow-hidden rounded-full",t),...r})}function jl({className:t,...r}){return e.jsx(Wre,{"data-slot":"avatar-image",className:lt("aspect-square size-full",t),...r})}function wl({className:t,...r}){return e.jsx(qre,{"data-slot":"avatar-fallback",className:lt("bg-muted flex size-full items-center justify-center rounded-full",t),...r})}async function Vre(){if(!("serviceWorker"in navigator))return null;try{const t=await Gre();return t?(console.log("[PWA]  Service Worker  (inline mode)"),t.addEventListener("updatefound",()=>{const r=t.installing;r==null||r.addEventListener("statechange",()=>{r.state==="installed"&&navigator.serviceWorker.controller&&(console.log("[PWA]    "),Kre())})}),t):null}catch{return null}}async function Gre(){try{const t=`
      const CACHE_NAME = 'katia-v1';
      
      self.addEventListener('install', (event) => {
        self.skipWaiting();
      });
      
      self.addEventListener('activate', (event) => {
        event.waitUntil(self.clients.claim());
      });
      
      self.addEventListener('fetch', (event) => {
        //  non-GET 
        if (event.request.method !== 'GET') return;
        
        //  chrome extensions
        if (event.request.url.startsWith('chrome-extension://')) return;
        
        event.respondWith(
          fetch(event.request)
            .then(response => {
              //   
              if (response && response.status === 200) {
                const responseClone = response.clone();
                caches.open(CACHE_NAME).then(cache => {
                  cache.put(event.request, responseClone);
                });
              }
              return response;
            })
            .catch(() => {
              //      
              return caches.match(event.request);
            })
        );
      });
    `,r=new Blob([t],{type:"application/javascript"}),n=URL.createObjectURL(r);return await navigator.serviceWorker.register(n,{scope:"/"})}catch{return null}}function Kre(){window.confirm("   .  ?")&&window.location.reload()}let Td=null;function Yre(){window.addEventListener("beforeinstallprompt",t=>{t.preventDefault(),Td=t,Zre()}),window.addEventListener("appinstalled",()=>{Td=null,Xre()})}async function E9(){if(!Td)return!1;try{Td.prompt();const{outcome:t}=await Td.userChoice;return Td=null,t==="accepted"}catch{return!1}}function T9(){return Td!==null}function Zre(){window.dispatchEvent(new CustomEvent("pwa-install-available"))}function Xre(){window.dispatchEvent(new CustomEvent("pwa-install-completed"))}function Jre(){return navigator.onLine}function Qre(t){return window.addEventListener("online",t),()=>window.removeEventListener("online",t)}function ene(t){return window.addEventListener("offline",t),()=>window.removeEventListener("offline",t)}function j_(){return window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone===!0||document.referrer.includes("android-app://")}function O9(){const t=navigator.userAgent.toLowerCase();return/iphone|ipad|ipod/.test(t)?"ios":/android/.test(t)?"android":"desktop"}const tne="/icons/logo.svg";function rne({isOpen:t,onClose:r}){var j;const n=Oa(),{user:s,signOut:a}=Ma(),[i,o]=N.useState(O9()),[l,c]=N.useState(!1),u=S=>n.pathname===S,m=async()=>{await a(),r()},p=async()=>{if(i==="ios"){c(!0);return}T9()?await E9()&&r():alert(` To install Katia:

1. Open browser menu ()
2. Tap "Add to Home screen"
3. Tap "Add"

Then launch from your home screen!`)},x=()=>{var S,C;return s?((S=s.user_metadata)==null?void 0:S.full_name)||((C=s.email)==null?void 0:C.split("@")[0])||"User":""},v=()=>x().charAt(0).toUpperCase(),w=[{path:"/",icon:yC,label:"Home"},{path:"/salons",icon:wo,label:"Browse Salons"},{path:"/feed",icon:zh,label:"Beauty Feed"},{path:"/partner",icon:Pc,label:"Become Partner"},{path:"/support",icon:vC,label:"Support"}],y=s?[{path:"/dashboard",icon:vt,label:"My Dashboard"},{path:"/client",icon:zn,label:"My Profile"}]:[];return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:`
          fixed inset-0 bg-black/50 z-[60] transition-opacity duration-300
          ${t?"opacity-100":"opacity-0 pointer-events-none"}
        `,onClick:r}),e.jsxs("div",{className:`
          fixed top-0 left-0 bottom-0 w-[85%] max-w-[320px] bg-white z-[70]
          transform transition-transform duration-300 ease-out
          ${t?"translate-x-0":"-translate-x-full"}
          shadow-2xl overflow-y-auto
        `,children:[e.jsxs("div",{className:"sticky top-0 bg-gradient-to-r from-purple-600 to-pink-600 text-white p-4 z-10",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs(It,{to:"/",className:"flex items-center gap-2",onClick:r,children:[e.jsx("img",{src:tne,alt:"Katia",className:"w-10 h-10 rounded-xl"}),e.jsx("span",{className:"font-bold text-lg",children:"Katia Booking"})]}),e.jsx(Q,{variant:"ghost",size:"sm",onClick:r,className:"text-white hover:bg-white/20",children:e.jsx(ht,{className:"w-5 h-5"})})]}),s?e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(Ri,{className:"w-12 h-12 border-2 border-white",children:[e.jsx(jl,{src:(j=s.user_metadata)==null?void 0:j.avatar_url}),e.jsx(wl,{className:"bg-white/20 text-white font-semibold",children:v()})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"font-semibold truncate",children:x()}),e.jsx("p",{className:"text-sm text-white/80 truncate",children:s.email})]})]}):e.jsx("div",{className:"text-sm text-white/90",children:"Sign in to access more features"})]}),e.jsxs("div",{className:"p-4",children:[y.length>0&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"space-y-1",children:y.map(({path:S,icon:C,label:P})=>e.jsxs(It,{to:S,onClick:r,className:`
                      flex items-center gap-3 px-4 py-3 rounded-lg transition-all
                      ${u(S)?"bg-purple-50 text-purple-600 font-medium":"text-gray-700 hover:bg-gray-50"}
                    `,children:[e.jsx(C,{className:"w-5 h-5"}),e.jsx("span",{children:P})]},S))}),e.jsx(tp,{className:"my-4"})]}),e.jsx("div",{className:"space-y-1",children:w.map(({path:S,icon:C,label:P})=>e.jsxs(It,{to:S,onClick:r,className:`
                  flex items-center gap-3 px-4 py-3 rounded-lg transition-all
                  ${u(S)?"bg-purple-50 text-purple-600 font-medium":"text-gray-700 hover:bg-gray-50"}
                `,children:[e.jsx(C,{className:"w-5 h-5"}),e.jsx("span",{children:P})]},S))}),e.jsx(tp,{className:"my-4"}),e.jsx("div",{className:"space-y-2",children:s?e.jsxs(Q,{variant:"outline",className:"w-full justify-start gap-3",onClick:m,children:[e.jsx(Qv,{className:"w-5 h-5"}),"Sign Out"]}):e.jsxs(e.Fragment,{children:[e.jsx(It,{to:"/auth",onClick:r,children:e.jsxs(Q,{className:"w-full justify-start gap-3 bg-gradient-to-r from-purple-600 to-pink-600 text-white",children:[e.jsx(bC,{className:"w-5 h-5"}),"Sign In / Sign Up"]})}),e.jsx(It,{to:"/partner",onClick:r,children:e.jsxs(Q,{variant:"outline",className:"w-full justify-start gap-3",children:[e.jsx(Pc,{className:"w-5 h-5"}),"Register Your Salon"]})})]})}),!j_()&&e.jsxs(e.Fragment,{children:[e.jsx(tp,{className:"my-4"}),e.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 rounded-xl p-4 border border-purple-200",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-purple-600 to-pink-600 rounded-xl flex items-center justify-center",children:e.jsx(vr,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-semibold text-gray-900 text-sm",children:"Install Katia App"}),e.jsx("p",{className:"text-xs text-gray-600",children:"Fast, offline, instant access"})]})]}),e.jsxs("div",{className:"space-y-1.5 text-xs text-gray-600 mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"w-1 h-1 bg-purple-500 rounded-full"}),e.jsx("span",{children:" Lightning fast loading"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"w-1 h-1 bg-purple-500 rounded-full"}),e.jsx("span",{children:" Works offline"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"w-1 h-1 bg-purple-500 rounded-full"}),e.jsx("span",{children:" Push notifications"})]})]}),e.jsxs(Q,{onClick:p,className:"w-full bg-gradient-to-r from-purple-600 to-pink-600 text-white hover:from-purple-700 hover:to-pink-700",size:"sm",children:[e.jsx(vr,{className:"w-4 h-4 mr-2"}),"Install Now"]})]})]})]}),e.jsxs("div",{className:"p-4 text-center text-xs text-gray-500 border-t border-gray-200 mt-4",children:[e.jsx("p",{children:" 2025 Katia Booking"}),e.jsx("p",{className:"mt-1",children:"Beauty at your fingertips"})]})]})]})}function nne(t,r){return N.useReducer((n,s)=>r[n][s]??n,t)}var Gi=t=>{const{present:r,children:n}=t,s=sne(r),a=typeof n=="function"?n({present:s.isPresent}):N.Children.only(n),i=Xt(s.ref,ane(a));return typeof n=="function"||s.isPresent?N.cloneElement(a,{ref:i}):null};Gi.displayName="Presence";function sne(t){const[r,n]=N.useState(),s=N.useRef({}),a=N.useRef(t),i=N.useRef("none"),o=t?"mounted":"unmounted",[l,c]=nne(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return N.useEffect(()=>{const u=t0(s.current);i.current=l==="mounted"?u:"none"},[l]),as(()=>{const u=s.current,m=a.current;if(m!==t){const x=i.current,v=t0(u);t?c("MOUNT"):v==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(m&&x!==v?"ANIMATION_OUT":"UNMOUNT"),a.current=t}},[t,c]),as(()=>{if(r){let u;const m=r.ownerDocument.defaultView??window,p=v=>{const y=t0(s.current).includes(v.animationName);if(v.target===r&&y&&(c("ANIMATION_END"),!a.current)){const j=r.style.animationFillMode;r.style.animationFillMode="forwards",u=m.setTimeout(()=>{r.style.animationFillMode==="forwards"&&(r.style.animationFillMode=j)})}},x=v=>{v.target===r&&(i.current=t0(s.current))};return r.addEventListener("animationstart",x),r.addEventListener("animationcancel",p),r.addEventListener("animationend",p),()=>{m.clearTimeout(u),r.removeEventListener("animationstart",x),r.removeEventListener("animationcancel",p),r.removeEventListener("animationend",p)}}else c("ANIMATION_END")},[r,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:N.useCallback(u=>{u&&(s.current=getComputedStyle(u)),n(u)},[])}}function t0(t){return(t==null?void 0:t.animationName)||"none"}function ane(t){var s,a;let r=(s=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:s.get,n=r&&"isReactWarning"in r&&r.isReactWarning;return n?t.ref:(r=(a=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:a.get,n=r&&"isReactWarning"in r&&r.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var uw="rovingFocusGroup.onEntryFocus",ine={bubbles:!1,cancelable:!0},yy="RovingFocusGroup",[w_,M9,one]=ny(yy),[lne,Pm]=Is(yy,[one]),[cne,dne]=lne(yy),D9=N.forwardRef((t,r)=>e.jsx(w_.Provider,{scope:t.__scopeRovingFocusGroup,children:e.jsx(w_.Slot,{scope:t.__scopeRovingFocusGroup,children:e.jsx(une,{...t,ref:r})})}));D9.displayName=yy;var une=N.forwardRef((t,r)=>{const{__scopeRovingFocusGroup:n,orientation:s,loop:a=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:m=!1,...p}=t,x=N.useRef(null),v=Xt(r,x),w=Sm(i),[y=null,j]=Co({prop:o,defaultProp:l,onChange:c}),[S,C]=N.useState(!1),P=Aa(u),T=M9(n),_=N.useRef(!1),[k,M]=N.useState(0);return N.useEffect(()=>{const $=x.current;if($)return $.addEventListener(uw,P),()=>$.removeEventListener(uw,P)},[P]),e.jsx(cne,{scope:n,orientation:s,dir:w,loop:a,currentTabStopId:y,onItemFocus:N.useCallback($=>j($),[j]),onItemShiftTab:N.useCallback(()=>C(!0),[]),onFocusableItemAdd:N.useCallback(()=>M($=>$+1),[]),onFocusableItemRemove:N.useCallback(()=>M($=>$-1),[]),children:e.jsx(mt.div,{tabIndex:S||k===0?-1:0,"data-orientation":s,...p,ref:v,style:{outline:"none",...t.style},onMouseDown:Ze(t.onMouseDown,()=>{_.current=!0}),onFocus:Ze(t.onFocus,$=>{const B=!_.current;if($.target===$.currentTarget&&B&&!S){const F=new CustomEvent(uw,ine);if($.currentTarget.dispatchEvent(F),!F.defaultPrevented){const H=T().filter(G=>G.focusable),K=H.find(G=>G.active),Z=H.find(G=>G.id===y),W=[K,Z,...H].filter(Boolean).map(G=>G.ref.current);L9(W,m)}}_.current=!1}),onBlur:Ze(t.onBlur,()=>C(!1))})})}),R9="RovingFocusGroupItem",I9=N.forwardRef((t,r)=>{const{__scopeRovingFocusGroup:n,focusable:s=!0,active:a=!1,tabStopId:i,...o}=t,l=go(),c=i||l,u=dne(R9,n),m=u.currentTabStopId===c,p=M9(n),{onFocusableItemAdd:x,onFocusableItemRemove:v}=u;return N.useEffect(()=>{if(s)return x(),()=>v()},[s,x,v]),e.jsx(w_.ItemSlot,{scope:n,id:c,focusable:s,active:a,children:e.jsx(mt.span,{tabIndex:m?0:-1,"data-orientation":u.orientation,...o,ref:r,onMouseDown:Ze(t.onMouseDown,w=>{s?u.onItemFocus(c):w.preventDefault()}),onFocus:Ze(t.onFocus,()=>u.onItemFocus(c)),onKeyDown:Ze(t.onKeyDown,w=>{if(w.key==="Tab"&&w.shiftKey){u.onItemShiftTab();return}if(w.target!==w.currentTarget)return;const y=fne(w,u.orientation,u.dir);if(y!==void 0){if(w.metaKey||w.ctrlKey||w.altKey||w.shiftKey)return;w.preventDefault();let S=p().filter(C=>C.focusable).map(C=>C.ref.current);if(y==="last")S.reverse();else if(y==="prev"||y==="next"){y==="prev"&&S.reverse();const C=S.indexOf(w.currentTarget);S=u.loop?pne(S,C+1):S.slice(C+1)}setTimeout(()=>L9(S))}})})})});I9.displayName=R9;var hne={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function mne(t,r){return r!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function fne(t,r,n){const s=mne(t.key,n);if(!(r==="vertical"&&["ArrowLeft","ArrowRight"].includes(s))&&!(r==="horizontal"&&["ArrowUp","ArrowDown"].includes(s)))return hne[s]}function L9(t,r=!1){const n=document.activeElement;for(const s of t)if(s===n||(s.focus({preventScroll:r}),document.activeElement!==n))return}function pne(t,r){return t.map((n,s)=>t[(r+s)%t.length])}var VC=D9,GC=I9,N_=["Enter"," "],xne=["ArrowDown","PageUp","Home"],$9=["ArrowUp","PageDown","End"],gne=[...xne,...$9],vne={ltr:[...N_,"ArrowRight"],rtl:[...N_,"ArrowLeft"]},yne={ltr:["ArrowLeft"],rtl:["ArrowRight"]},vx="Menu",[Np,bne,jne]=ny(vx),[iu,B9]=Is(vx,[jne,dy,Pm]),by=dy(),F9=Pm(),[wne,ou]=iu(vx),[Nne,yx]=iu(vx),z9=t=>{const{__scopeMenu:r,open:n=!1,children:s,dir:a,onOpenChange:i,modal:o=!0}=t,l=by(r),[c,u]=N.useState(null),m=N.useRef(!1),p=Aa(i),x=Sm(a);return N.useEffect(()=>{const v=()=>{m.current=!0,document.addEventListener("pointerdown",w,{capture:!0,once:!0}),document.addEventListener("pointermove",w,{capture:!0,once:!0})},w=()=>m.current=!1;return document.addEventListener("keydown",v,{capture:!0}),()=>{document.removeEventListener("keydown",v,{capture:!0}),document.removeEventListener("pointerdown",w,{capture:!0}),document.removeEventListener("pointermove",w,{capture:!0})}},[]),e.jsx(D8,{...l,children:e.jsx(wne,{scope:r,open:n,onOpenChange:p,content:c,onContentChange:u,children:e.jsx(Nne,{scope:r,onClose:N.useCallback(()=>p(!1),[p]),isUsingKeyboardRef:m,dir:x,modal:o,children:s})})})};z9.displayName=vx;var Sne="MenuAnchor",KC=N.forwardRef((t,r)=>{const{__scopeMenu:n,...s}=t,a=by(n);return e.jsx(R8,{...a,...s,ref:r})});KC.displayName=Sne;var YC="MenuPortal",[_ne,U9]=iu(YC,{forceMount:void 0}),H9=t=>{const{__scopeMenu:r,forceMount:n,children:s,container:a}=t,i=ou(YC,r);return e.jsx(_ne,{scope:r,forceMount:n,children:e.jsx(Gi,{present:n||i.open,children:e.jsx(uy,{asChild:!0,container:a,children:s})})})};H9.displayName=YC;var ci="MenuContent",[kne,ZC]=iu(ci),W9=N.forwardRef((t,r)=>{const n=U9(ci,t.__scopeMenu),{forceMount:s=n.forceMount,...a}=t,i=ou(ci,t.__scopeMenu),o=yx(ci,t.__scopeMenu);return e.jsx(Np.Provider,{scope:t.__scopeMenu,children:e.jsx(Gi,{present:s||i.open,children:e.jsx(Np.Slot,{scope:t.__scopeMenu,children:o.modal?e.jsx(Cne,{...a,ref:r}):e.jsx(Pne,{...a,ref:r})})})})}),Cne=N.forwardRef((t,r)=>{const n=ou(ci,t.__scopeMenu),s=N.useRef(null),a=Xt(r,s);return N.useEffect(()=>{const i=s.current;if(i)return $C(i)},[]),e.jsx(XC,{...t,ref:a,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:Ze(t.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),Pne=N.forwardRef((t,r)=>{const n=ou(ci,t.__scopeMenu);return e.jsx(XC,{...t,ref:r,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),XC=N.forwardRef((t,r)=>{const{__scopeMenu:n,loop:s=!1,trapFocus:a,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:m,onFocusOutside:p,onInteractOutside:x,onDismiss:v,disableOutsideScroll:w,...y}=t,j=ou(ci,n),S=yx(ci,n),C=by(n),P=F9(n),T=bne(n),[_,k]=N.useState(null),M=N.useRef(null),$=Xt(r,M,j.onContentChange),B=N.useRef(0),F=N.useRef(""),H=N.useRef(0),K=N.useRef(null),Z=N.useRef("right"),V=N.useRef(0),W=w?my:N.Fragment,G=w?{as:vl,allowPinchZoom:!0}:void 0,O=D=>{var te,ue;const I=F.current+D,q=T().filter(de=>!de.disabled),J=document.activeElement,ie=(te=q.find(de=>de.ref.current===J))==null?void 0:te.textValue,ee=q.map(de=>de.textValue),ae=Fne(ee,I,ie),oe=(ue=q.find(de=>de.textValue===ae))==null?void 0:ue.ref.current;(function de(fe){F.current=fe,window.clearTimeout(B.current),fe!==""&&(B.current=window.setTimeout(()=>de(""),1e3))})(I),oe&&setTimeout(()=>oe.focus())};N.useEffect(()=>()=>window.clearTimeout(B.current),[]),AC();const R=N.useCallback(D=>{var q,J;return Z.current===((q=K.current)==null?void 0:q.side)&&Une(D,(J=K.current)==null?void 0:J.area)},[]);return e.jsx(kne,{scope:n,searchRef:F,onItemEnter:N.useCallback(D=>{R(D)&&D.preventDefault()},[R]),onItemLeave:N.useCallback(D=>{var I;R(D)||((I=M.current)==null||I.focus(),k(null))},[R]),onTriggerLeave:N.useCallback(D=>{R(D)&&D.preventDefault()},[R]),pointerGraceTimerRef:H,onPointerGraceIntentChange:N.useCallback(D=>{K.current=D},[]),children:e.jsx(W,{...G,children:e.jsx(ay,{asChild:!0,trapped:a,onMountAutoFocus:Ze(i,D=>{var I;D.preventDefault(),(I=M.current)==null||I.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:e.jsx(sy,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:m,onFocusOutside:p,onInteractOutside:x,onDismiss:v,children:e.jsx(VC,{asChild:!0,...P,dir:S.dir,orientation:"vertical",loop:s,currentTabStopId:_,onCurrentTabStopIdChange:k,onEntryFocus:Ze(c,D=>{S.isUsingKeyboardRef.current||D.preventDefault()}),preventScrollOnEntryFocus:!0,children:e.jsx(I8,{role:"menu","aria-orientation":"vertical","data-state":i$(j.open),"data-radix-menu-content":"",dir:S.dir,...C,...y,ref:$,style:{outline:"none",...y.style},onKeyDown:Ze(y.onKeyDown,D=>{const q=D.target.closest("[data-radix-menu-content]")===D.currentTarget,J=D.ctrlKey||D.altKey||D.metaKey,ie=D.key.length===1;q&&(D.key==="Tab"&&D.preventDefault(),!J&&ie&&O(D.key));const ee=M.current;if(D.target!==ee||!gne.includes(D.key))return;D.preventDefault();const oe=T().filter(te=>!te.disabled).map(te=>te.ref.current);$9.includes(D.key)&&oe.reverse(),$ne(oe)}),onBlur:Ze(t.onBlur,D=>{D.currentTarget.contains(D.target)||(window.clearTimeout(B.current),F.current="")}),onPointerMove:Ze(t.onPointerMove,Sp(D=>{const I=D.target,q=V.current!==D.clientX;if(D.currentTarget.contains(I)&&q){const J=D.clientX>V.current?"right":"left";Z.current=J,V.current=D.clientX}}))})})})})})})});W9.displayName=ci;var Ane="MenuGroup",JC=N.forwardRef((t,r)=>{const{__scopeMenu:n,...s}=t;return e.jsx(mt.div,{role:"group",...s,ref:r})});JC.displayName=Ane;var Ene="MenuLabel",q9=N.forwardRef((t,r)=>{const{__scopeMenu:n,...s}=t;return e.jsx(mt.div,{...s,ref:r})});q9.displayName=Ene;var z0="MenuItem",J3="menu.itemSelect",jy=N.forwardRef((t,r)=>{const{disabled:n=!1,onSelect:s,...a}=t,i=N.useRef(null),o=yx(z0,t.__scopeMenu),l=ZC(z0,t.__scopeMenu),c=Xt(r,i),u=N.useRef(!1),m=()=>{const p=i.current;if(!n&&p){const x=new CustomEvent(J3,{bubbles:!0,cancelable:!0});p.addEventListener(J3,v=>s==null?void 0:s(v),{once:!0}),c8(p,x),x.defaultPrevented?u.current=!1:o.onClose()}};return e.jsx(V9,{...a,ref:c,disabled:n,onClick:Ze(t.onClick,m),onPointerDown:p=>{var x;(x=t.onPointerDown)==null||x.call(t,p),u.current=!0},onPointerUp:Ze(t.onPointerUp,p=>{var x;u.current||(x=p.currentTarget)==null||x.click()}),onKeyDown:Ze(t.onKeyDown,p=>{const x=l.searchRef.current!=="";n||x&&p.key===" "||N_.includes(p.key)&&(p.currentTarget.click(),p.preventDefault())})})});jy.displayName=z0;var V9=N.forwardRef((t,r)=>{const{__scopeMenu:n,disabled:s=!1,textValue:a,...i}=t,o=ZC(z0,n),l=F9(n),c=N.useRef(null),u=Xt(r,c),[m,p]=N.useState(!1),[x,v]=N.useState("");return N.useEffect(()=>{const w=c.current;w&&v((w.textContent??"").trim())},[i.children]),e.jsx(Np.ItemSlot,{scope:n,disabled:s,textValue:a??x,children:e.jsx(GC,{asChild:!0,...l,focusable:!s,children:e.jsx(mt.div,{role:"menuitem","data-highlighted":m?"":void 0,"aria-disabled":s||void 0,"data-disabled":s?"":void 0,...i,ref:u,onPointerMove:Ze(t.onPointerMove,Sp(w=>{s?o.onItemLeave(w):(o.onItemEnter(w),w.defaultPrevented||w.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Ze(t.onPointerLeave,Sp(w=>o.onItemLeave(w))),onFocus:Ze(t.onFocus,()=>p(!0)),onBlur:Ze(t.onBlur,()=>p(!1))})})})}),Tne="MenuCheckboxItem",G9=N.forwardRef((t,r)=>{const{checked:n=!1,onCheckedChange:s,...a}=t;return e.jsx(J9,{scope:t.__scopeMenu,checked:n,children:e.jsx(jy,{role:"menuitemcheckbox","aria-checked":U0(n)?"mixed":n,...a,ref:r,"data-state":e4(n),onSelect:Ze(a.onSelect,()=>s==null?void 0:s(U0(n)?!0:!n),{checkForDefaultPrevented:!1})})})});G9.displayName=Tne;var K9="MenuRadioGroup",[One,Mne]=iu(K9,{value:void 0,onValueChange:()=>{}}),Y9=N.forwardRef((t,r)=>{const{value:n,onValueChange:s,...a}=t,i=Aa(s);return e.jsx(One,{scope:t.__scopeMenu,value:n,onValueChange:i,children:e.jsx(JC,{...a,ref:r})})});Y9.displayName=K9;var Z9="MenuRadioItem",X9=N.forwardRef((t,r)=>{const{value:n,...s}=t,a=Mne(Z9,t.__scopeMenu),i=n===a.value;return e.jsx(J9,{scope:t.__scopeMenu,checked:i,children:e.jsx(jy,{role:"menuitemradio","aria-checked":i,...s,ref:r,"data-state":e4(i),onSelect:Ze(s.onSelect,()=>{var o;return(o=a.onValueChange)==null?void 0:o.call(a,n)},{checkForDefaultPrevented:!1})})})});X9.displayName=Z9;var QC="MenuItemIndicator",[J9,Dne]=iu(QC,{checked:!1}),Q9=N.forwardRef((t,r)=>{const{__scopeMenu:n,forceMount:s,...a}=t,i=Dne(QC,n);return e.jsx(Gi,{present:s||U0(i.checked)||i.checked===!0,children:e.jsx(mt.span,{...a,ref:r,"data-state":e4(i.checked)})})});Q9.displayName=QC;var Rne="MenuSeparator",e$=N.forwardRef((t,r)=>{const{__scopeMenu:n,...s}=t;return e.jsx(mt.div,{role:"separator","aria-orientation":"horizontal",...s,ref:r})});e$.displayName=Rne;var Ine="MenuArrow",t$=N.forwardRef((t,r)=>{const{__scopeMenu:n,...s}=t,a=by(n);return e.jsx(L8,{...a,...s,ref:r})});t$.displayName=Ine;var Lne="MenuSub",[p4e,r$]=iu(Lne),qf="MenuSubTrigger",n$=N.forwardRef((t,r)=>{const n=ou(qf,t.__scopeMenu),s=yx(qf,t.__scopeMenu),a=r$(qf,t.__scopeMenu),i=ZC(qf,t.__scopeMenu),o=N.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=i,u={__scopeMenu:t.__scopeMenu},m=N.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return N.useEffect(()=>m,[m]),N.useEffect(()=>{const p=l.current;return()=>{window.clearTimeout(p),c(null)}},[l,c]),e.jsx(KC,{asChild:!0,...u,children:e.jsx(V9,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":a.contentId,"data-state":i$(n.open),...t,ref:Xv(r,a.onTriggerChange),onClick:p=>{var x;(x=t.onClick)==null||x.call(t,p),!(t.disabled||p.defaultPrevented)&&(p.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:Ze(t.onPointerMove,Sp(p=>{i.onItemEnter(p),!p.defaultPrevented&&!t.disabled&&!n.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),m()},100))})),onPointerLeave:Ze(t.onPointerLeave,Sp(p=>{var v,w;m();const x=(v=n.content)==null?void 0:v.getBoundingClientRect();if(x){const y=(w=n.content)==null?void 0:w.dataset.side,j=y==="right",S=j?-5:5,C=x[j?"left":"right"],P=x[j?"right":"left"];i.onPointerGraceIntentChange({area:[{x:p.clientX+S,y:p.clientY},{x:C,y:x.top},{x:P,y:x.top},{x:P,y:x.bottom},{x:C,y:x.bottom}],side:y}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(p),p.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:Ze(t.onKeyDown,p=>{var v;const x=i.searchRef.current!=="";t.disabled||x&&p.key===" "||vne[s.dir].includes(p.key)&&(n.onOpenChange(!0),(v=n.content)==null||v.focus(),p.preventDefault())})})})});n$.displayName=qf;var s$="MenuSubContent",a$=N.forwardRef((t,r)=>{const n=U9(ci,t.__scopeMenu),{forceMount:s=n.forceMount,...a}=t,i=ou(ci,t.__scopeMenu),o=yx(ci,t.__scopeMenu),l=r$(s$,t.__scopeMenu),c=N.useRef(null),u=Xt(r,c);return e.jsx(Np.Provider,{scope:t.__scopeMenu,children:e.jsx(Gi,{present:s||i.open,children:e.jsx(Np.Slot,{scope:t.__scopeMenu,children:e.jsx(XC,{id:l.contentId,"aria-labelledby":l.triggerId,...a,ref:u,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:m=>{var p;o.isUsingKeyboardRef.current&&((p=c.current)==null||p.focus()),m.preventDefault()},onCloseAutoFocus:m=>m.preventDefault(),onFocusOutside:Ze(t.onFocusOutside,m=>{m.target!==l.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:Ze(t.onEscapeKeyDown,m=>{o.onClose(),m.preventDefault()}),onKeyDown:Ze(t.onKeyDown,m=>{var v;const p=m.currentTarget.contains(m.target),x=yne[o.dir].includes(m.key);p&&x&&(i.onOpenChange(!1),(v=l.trigger)==null||v.focus(),m.preventDefault())})})})})})});a$.displayName=s$;function i$(t){return t?"open":"closed"}function U0(t){return t==="indeterminate"}function e4(t){return U0(t)?"indeterminate":t?"checked":"unchecked"}function $ne(t){const r=document.activeElement;for(const n of t)if(n===r||(n.focus(),document.activeElement!==r))return}function Bne(t,r){return t.map((n,s)=>t[(r+s)%t.length])}function Fne(t,r,n){const a=r.length>1&&Array.from(r).every(u=>u===r[0])?r[0]:r,i=n?t.indexOf(n):-1;let o=Bne(t,Math.max(i,0));a.length===1&&(o=o.filter(u=>u!==n));const c=o.find(u=>u.toLowerCase().startsWith(a.toLowerCase()));return c!==n?c:void 0}function zne(t,r){const{x:n,y:s}=t;let a=!1;for(let i=0,o=r.length-1;i<r.length;o=i++){const l=r[i].x,c=r[i].y,u=r[o].x,m=r[o].y;c>s!=m>s&&n<(u-l)*(s-c)/(m-c)+l&&(a=!a)}return a}function Une(t,r){if(!r)return!1;const n={x:t.clientX,y:t.clientY};return zne(n,r)}function Sp(t){return r=>r.pointerType==="mouse"?t(r):void 0}var Hne=z9,Wne=KC,qne=H9,Vne=W9,Gne=JC,Kne=q9,Yne=jy,Zne=G9,Xne=Y9,Jne=X9,Qne=Q9,ese=e$,tse=t$,rse=n$,nse=a$,t4="DropdownMenu",[sse]=Is(t4,[B9]),Ls=B9(),[ase,o$]=sse(t4),l$=t=>{const{__scopeDropdownMenu:r,children:n,dir:s,open:a,defaultOpen:i,onOpenChange:o,modal:l=!0}=t,c=Ls(r),u=N.useRef(null),[m=!1,p]=Co({prop:a,defaultProp:i,onChange:o});return e.jsx(ase,{scope:r,triggerId:go(),triggerRef:u,contentId:go(),open:m,onOpenChange:p,onOpenToggle:N.useCallback(()=>p(x=>!x),[p]),modal:l,children:e.jsx(Hne,{...c,open:m,onOpenChange:p,dir:s,modal:l,children:n})})};l$.displayName=t4;var c$="DropdownMenuTrigger",d$=N.forwardRef((t,r)=>{const{__scopeDropdownMenu:n,disabled:s=!1,...a}=t,i=o$(c$,n),o=Ls(n);return e.jsx(Wne,{asChild:!0,...o,children:e.jsx(mt.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":s?"":void 0,disabled:s,...a,ref:Xv(r,i.triggerRef),onPointerDown:Ze(t.onPointerDown,l=>{!s&&l.button===0&&l.ctrlKey===!1&&(i.onOpenToggle(),i.open||l.preventDefault())}),onKeyDown:Ze(t.onKeyDown,l=>{s||(["Enter"," "].includes(l.key)&&i.onOpenToggle(),l.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});d$.displayName=c$;var ise="DropdownMenuPortal",u$=t=>{const{__scopeDropdownMenu:r,...n}=t,s=Ls(r);return e.jsx(qne,{...s,...n})};u$.displayName=ise;var h$="DropdownMenuContent",m$=N.forwardRef((t,r)=>{const{__scopeDropdownMenu:n,...s}=t,a=o$(h$,n),i=Ls(n),o=N.useRef(!1);return e.jsx(Vne,{id:a.contentId,"aria-labelledby":a.triggerId,...i,...s,ref:r,onCloseAutoFocus:Ze(t.onCloseAutoFocus,l=>{var c;o.current||(c=a.triggerRef.current)==null||c.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:Ze(t.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,m=c.button===2||u;(!a.modal||m)&&(o.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});m$.displayName=h$;var ose="DropdownMenuGroup",lse=N.forwardRef((t,r)=>{const{__scopeDropdownMenu:n,...s}=t,a=Ls(n);return e.jsx(Gne,{...a,...s,ref:r})});lse.displayName=ose;var cse="DropdownMenuLabel",f$=N.forwardRef((t,r)=>{const{__scopeDropdownMenu:n,...s}=t,a=Ls(n);return e.jsx(Kne,{...a,...s,ref:r})});f$.displayName=cse;var dse="DropdownMenuItem",p$=N.forwardRef((t,r)=>{const{__scopeDropdownMenu:n,...s}=t,a=Ls(n);return e.jsx(Yne,{...a,...s,ref:r})});p$.displayName=dse;var use="DropdownMenuCheckboxItem",hse=N.forwardRef((t,r)=>{const{__scopeDropdownMenu:n,...s}=t,a=Ls(n);return e.jsx(Zne,{...a,...s,ref:r})});hse.displayName=use;var mse="DropdownMenuRadioGroup",fse=N.forwardRef((t,r)=>{const{__scopeDropdownMenu:n,...s}=t,a=Ls(n);return e.jsx(Xne,{...a,...s,ref:r})});fse.displayName=mse;var pse="DropdownMenuRadioItem",xse=N.forwardRef((t,r)=>{const{__scopeDropdownMenu:n,...s}=t,a=Ls(n);return e.jsx(Jne,{...a,...s,ref:r})});xse.displayName=pse;var gse="DropdownMenuItemIndicator",vse=N.forwardRef((t,r)=>{const{__scopeDropdownMenu:n,...s}=t,a=Ls(n);return e.jsx(Qne,{...a,...s,ref:r})});vse.displayName=gse;var yse="DropdownMenuSeparator",x$=N.forwardRef((t,r)=>{const{__scopeDropdownMenu:n,...s}=t,a=Ls(n);return e.jsx(ese,{...a,...s,ref:r})});x$.displayName=yse;var bse="DropdownMenuArrow",jse=N.forwardRef((t,r)=>{const{__scopeDropdownMenu:n,...s}=t,a=Ls(n);return e.jsx(tse,{...a,...s,ref:r})});jse.displayName=bse;var wse="DropdownMenuSubTrigger",Nse=N.forwardRef((t,r)=>{const{__scopeDropdownMenu:n,...s}=t,a=Ls(n);return e.jsx(rse,{...a,...s,ref:r})});Nse.displayName=wse;var Sse="DropdownMenuSubContent",_se=N.forwardRef((t,r)=>{const{__scopeDropdownMenu:n,...s}=t,a=Ls(n);return e.jsx(nse,{...a,...s,ref:r,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});_se.displayName=Sse;var kse=l$,Cse=d$,Pse=u$,Ase=m$,Ese=f$,Tse=p$,Ose=x$;function S_({...t}){return e.jsx(kse,{"data-slot":"dropdown-menu",...t})}function __({...t}){return e.jsx(Cse,{"data-slot":"dropdown-menu-trigger",...t})}function k_({className:t,sideOffset:r=4,...n}){return e.jsx(Pse,{children:e.jsx(Ase,{"data-slot":"dropdown-menu-content",sideOffset:r,className:lt("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",t),...n})})}function ni({className:t,inset:r,variant:n="default",...s}){return e.jsx(Tse,{"data-slot":"dropdown-menu-item","data-inset":r,"data-variant":n,className:lt("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...s})}function Q3({className:t,inset:r,...n}){return e.jsx(Ese,{"data-slot":"dropdown-menu-label","data-inset":r,className:lt("px-2 py-1.5 text-sm font-medium data-[inset]:pl-8",t),...n})}function r0({className:t,...r}){return e.jsx(Ose,{"data-slot":"dropdown-menu-separator",className:lt("bg-border -mx-1 my-1 h-px",t),...r})}const Mse="/icons/logo.svg";function lu(){var x;const t=Oa(),{user:r,signOut:n,loading:s}=Ma(),[a,i]=N.useState(!1),[o,l]=N.useState(!1),c=ry();if(t.pathname==="/auth"||t.pathname==="/salon-register")return null;const u=async()=>{await n()},m=()=>{var v,w;return r?((v=r.user_metadata)==null?void 0:v.full_name)||((w=r.email)==null?void 0:w.split("@")[0])||"User":""},p=()=>m().charAt(0).toUpperCase();return e.jsxs("header",{className:"sticky top-0 z-50 bg-white border-b border-gray-200 shadow-sm",children:[e.jsx("div",{className:"container mx-auto px-4 py-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[c&&e.jsx(Q,{variant:"ghost",size:"sm",onClick:()=>l(!0),className:"mr-2 p-2",children:e.jsx(YS,{className:"w-6 h-6"})}),e.jsxs(It,{to:"/",className:"flex items-center gap-2",children:[e.jsx("img",{src:Mse,alt:"Katia Booking",className:"w-10 h-10 rounded-xl"}),e.jsx("span",{className:"text-xl font-bold text-gray-900 hidden sm:inline",children:"Katia Booking"})]}),e.jsxs("nav",{className:"hidden md:flex items-center gap-6",children:[e.jsxs(It,{to:"/salons",className:"flex items-center gap-2 text-sm font-medium text-gray-700 hover:text-purple-600 transition-colors",children:[e.jsx(YS,{className:"w-4 h-4"}),e.jsx("span",{children:"Browse by Category"})]}),e.jsxs(It,{to:"/partner",className:"flex items-center gap-2 text-sm font-medium text-purple-600 hover:text-purple-700 transition-colors",children:[e.jsx(zh,{className:"w-4 h-4"}),e.jsx("span",{children:"Become a Partner"})]}),e.jsxs(It,{to:"/feed",className:"flex items-center gap-2 text-sm font-medium text-gray-700 hover:text-purple-600 transition-colors",children:[e.jsx(zh,{className:"w-4 h-4"}),e.jsx("span",{children:"Feed"})]}),e.jsxs(It,{to:"/support",className:"flex items-center gap-2 text-sm font-medium text-gray-700 hover:text-purple-600 transition-colors",children:[e.jsx(vC,{className:"w-4 h-4"}),e.jsx("span",{children:"Support"})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Ore,{}),s?e.jsx("div",{className:"w-24 h-10 bg-gray-200 animate-pulse rounded-md"}):r?e.jsxs(S_,{children:[e.jsx(__,{asChild:!0,children:e.jsxs(Q,{variant:"ghost",className:"flex items-center gap-2 hover:bg-purple-50",children:[e.jsxs(Ri,{className:"w-8 h-8 ring-2 ring-purple-200",children:[e.jsx(jl,{src:(x=r.user_metadata)==null?void 0:x.avatar_url}),e.jsx(wl,{className:"bg-gradient-to-r from-purple-600 to-pink-600 text-white",children:p()})]}),e.jsx("span",{className:"hidden sm:inline text-sm font-medium text-gray-900",children:m()})]})}),e.jsxs(k_,{align:"end",className:"w-64",children:[e.jsx(Q3,{className:"font-normal",children:e.jsxs("div",{className:"flex flex-col space-y-1",children:[e.jsx("p",{className:"text-sm font-medium leading-none",children:m()}),e.jsx("p",{className:"text-xs leading-none text-muted-foreground",children:r.email})]})}),e.jsx(r0,{}),e.jsx(ni,{asChild:!0,children:e.jsxs(It,{to:"/dashboard",className:"cursor-pointer",children:[e.jsx(vt,{className:"w-4 h-4 mr-2"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"My Dashboard"}),e.jsx("div",{className:"text-xs text-gray-500",children:"View bookings & rewards"})]})]})}),e.jsx(ni,{asChild:!0,children:e.jsxs(It,{to:"/dashboard",className:"cursor-pointer",children:[e.jsx(Kn,{className:"w-4 h-4 mr-2"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Favorites"}),e.jsx("div",{className:"text-xs text-gray-500",children:"Your saved salons"})]})]})}),e.jsx(ni,{asChild:!0,children:e.jsxs(It,{to:"/dashboard",className:"cursor-pointer",children:[e.jsx(Pc,{className:"w-4 h-4 mr-2"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Rewards"}),e.jsx("div",{className:"text-xs text-gray-500",children:"Points & offers"})]})]})}),e.jsx(r0,{}),e.jsx(ni,{asChild:!0,children:e.jsxs(It,{to:"/dashboard",className:"cursor-pointer",children:[e.jsx(Ec,{className:"w-4 h-4 mr-2"}),"Settings"]})}),e.jsx(r0,{}),e.jsxs(ni,{onClick:u,className:"text-red-600 cursor-pointer",children:[e.jsx(Qv,{className:"w-4 h-4 mr-2"}),"Sign Out"]})]})]}):e.jsxs(S_,{children:[e.jsx(__,{asChild:!0,children:e.jsxs(Q,{className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white",children:[e.jsx(bC,{className:"w-4 h-4 mr-2"}),e.jsx("span",{className:"hidden sm:inline",children:"Sign In"})]})}),e.jsxs(k_,{align:"end",className:"w-56",children:[e.jsx(Q3,{children:"Choose Login Type"}),e.jsx(r0,{}),e.jsx(ni,{asChild:!0,children:e.jsxs(It,{to:"/auth?type=client",className:"cursor-pointer",children:[e.jsx(zn,{className:"w-4 h-4 mr-2"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Sign in as Client"}),e.jsx("div",{className:"text-xs text-gray-500",children:"Book appointments"})]})]})}),e.jsxs(ni,{onClick:()=>i(!0),className:"cursor-pointer",children:[e.jsx(wo,{className:"w-4 h-4 mr-2"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Sign in as Salon"}),e.jsx("div",{className:"text-xs text-gray-500",children:"Manage your business"})]})]})]})]})]})]})}),e.jsx(rne,{isOpen:o,onClose:()=>l(!1)}),e.jsx(Rre,{isOpen:a,onClose:()=>i(!1)})]})}function Dse({isOpen:t,onClose:r,userLocation:n="Downtown Dubai",userCity:s}){const[a,i]=N.useState([]),[o,l]=N.useState(""),[c,u]=N.useState(!1),[m,p]=N.useState({services:[],filters:[]}),x=N.useRef(null),{formatPrice:v}=Kt(),w=vn(),y=()=>{var F;(F=x.current)==null||F.scrollIntoView({behavior:"smooth"})};N.useEffect(()=>{y()},[a,m]),N.useEffect(()=>{t&&a.length===0&&(p({services:[],filters:[]}),setTimeout(()=>{const F={id:Date.now().toString(),role:"assistant",content:` Hi! I'm AI Katia, your personal booking assistant.

Let's find the perfect salon for you!

 Select one or more services below `,timestamp:new Date};i([F])},500))},[t]);const j=[{id:"manicure",label:"Manicure",emoji:"",categories:["manicure"]},{id:"pedicure",label:"Pedicure",emoji:"",categories:["pedicure"]},{id:"haircut",label:"Haircut",emoji:"",categories:["hairstylist"]},{id:"brows",label:"Brows",emoji:"",categories:["brow"]},{id:"eyelashes",label:"Eyelashes",emoji:"",categories:["eyelashes"]},{id:"massage",label:"Massage",emoji:"",categories:["massage"]},{id:"barber",label:"Barber",emoji:"",categories:["barber"]},{id:"cosmetology",label:"Cosmetology",emoji:"",categories:["cosmetology"]},{id:"laser",label:"Laser",emoji:"",categories:["laser"]},{id:"makeup",label:"Makeup",emoji:"",categories:["makeup"]},{id:"spa",label:"SPA",emoji:"",categories:["spa"]},{id:"pmu",label:"PMU",emoji:"",categories:["pmu"]}],S=[{id:"nearby",label:"Near me",emoji:""},{id:"today",label:"Available today",emoji:""},{id:"premium",label:"Premium",emoji:""},{id:"cheap",label:"Affordable",emoji:""}],C=F=>{p(H=>{const K=H.services.includes(F)?H.services.filter(Z=>Z!==F):[...H.services,F];return{...H,services:K}})},P=F=>{p(H=>{const K=H.filters.includes(F)?H.filters.filter(Z=>Z!==F):[...H.filters,F];return{...H,filters:K}})},T=F=>{p(H=>({...H,district:H.district===F?void 0:F}))},_=()=>{p({services:[],filters:[]}),i([]),setTimeout(()=>{const F={id:Date.now().toString(),role:"assistant",content:` Let's start over!

 Select one or more services `,timestamp:new Date};i([F])},300)},k=()=>{m.services.length!==0&&(u(!0),setTimeout(()=>{const F=j.filter(W=>m.services.includes(W.id)).flatMap(W=>W.categories);let H=ja.filter(W=>o8(W.availableSlots));H=H.filter(W=>W.services.some(G=>F.includes(G.category))),m.filters.includes("nearby")&&(H=H.filter(W=>W.distance<=5)),m.filters.includes("today")&&(H=H.filter(W=>w3(W.availableSlots).todayCount>0)),m.filters.includes("cheap")&&(H=H.filter(W=>W.priceFrom<=50)),m.filters.includes("premium")&&(H=H.filter(W=>W.isPremium)),m.filters.includes("nearby")?H=H.sort((W,G)=>W.distance-G.distance):m.filters.includes("cheap")&&(H=H.sort((W,G)=>W.priceFrom-G.priceFrom)),m.district&&(H=H.filter(W=>W.location.split(",")[0].trim()===m.district)),H=H.slice(0,4);const K=j.filter(W=>m.services.includes(W.id)).map(W=>W.label).join(", "),Z=m.filters.map(W=>{var G;return(G=S.find(O=>O.id===W))==null?void 0:G.label}).filter(Boolean).join(", "),V=m.district||n;H.length===0?M("assistant",` I couldn't find any salons with the selected parameters:

 Services: ${K}
${Z?` Filters: ${Z}
`:""} District: ${V}

Try changing your search parameters!`):M("assistant",` Great! I found ${H.length} ${H.length===1?"salon":"salons"} for you:

 Services: ${K}
${Z?` Filters: ${Z}
`:""} District: ${V}

Choose the one that suits you! `,H),u(!1)},1e3))},M=(F,H,K)=>{const Z={id:Date.now().toString(),role:F,content:H,salons:K,timestamp:new Date};i(V=>[...V,Z])},$=F=>{w(`/salon/${F.id}`,{state:{fromAI:!0,aiRecommendation:!0}}),r()},B=m.services.length>0;return t?e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl w-full max-w-4xl max-h-[90vh] flex flex-col overflow-hidden",children:[e.jsxs("div",{className:"bg-gradient-to-r from-purple-600 to-pink-600 px-6 py-4 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-white/20 rounded-full flex items-center justify-center backdrop-blur-sm",children:e.jsx(Mi,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-white",children:"AI Katia Assistant"}),e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"}),e.jsx("span",{className:"text-xs text-white/90",children:"Online  Ready to help"})]})]})]}),e.jsx("button",{onClick:r,className:"w-8 h-8 rounded-full bg-white/20 hover:bg-white/30 flex items-center justify-center transition-colors",children:e.jsx(ht,{className:"w-5 h-5 text-white"})})]}),B&&e.jsx("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 px-6 py-3 border-b border-purple-200",children:e.jsxs("div",{className:"flex items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex-1 flex items-center gap-3 flex-wrap text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-gray-500 font-medium",children:"Services:"}),e.jsx("div",{className:"flex gap-1.5",children:j.filter(F=>m.services.includes(F.id)).map(F=>e.jsxs("span",{className:"px-2 py-1 bg-purple-100 text-purple-700 rounded-lg text-xs font-medium",children:[F.emoji," ",F.label]},F.id))})]}),m.filters.length>0&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-gray-400",children:""}),e.jsx("div",{className:"flex gap-1.5",children:m.filters.map(F=>{const H=S.find(K=>K.id===F);return H?e.jsxs("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 rounded-lg text-xs font-medium",children:[H.emoji," ",H.label]},F):null})})]}),m.district&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-gray-400",children:""}),e.jsxs("span",{className:"px-2 py-1 bg-green-100 text-green-700 rounded-lg text-xs font-medium",children:[" ",m.district]})]})]}),e.jsxs("button",{onClick:_,className:"flex items-center gap-2 px-3 py-1.5 bg-white hover:bg-gray-50 border border-gray-200 rounded-lg text-xs font-medium text-gray-700 transition-colors",children:[e.jsx(xn,{className:"w-3.5 h-3.5"}),"Reset"]})]})}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-4 bg-gradient-to-b from-purple-50/30 to-white",children:[a.map(F=>e.jsx("div",{className:`flex ${F.role==="user"?"justify-end":"justify-start"}`,children:e.jsxs("div",{className:`max-w-[80%] ${F.role==="user"?"bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-3xl rounded-br-md":"bg-white border border-gray-200 rounded-3xl rounded-bl-md"} px-5 py-3 shadow-sm`,children:[F.role==="assistant"&&e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(tr,{className:"w-4 h-4 text-purple-600"}),e.jsx("span",{className:"text-xs font-medium text-purple-600",children:"AI Katia"})]}),e.jsx("p",{className:"whitespace-pre-line text-sm leading-relaxed",children:F.content}),F.salons&&F.salons.length>0&&e.jsx("div",{className:"mt-4 space-y-3",children:F.salons.map(H=>{const K=w3(H.availableSlots);return e.jsx("div",{className:"bg-gradient-to-br from-white to-purple-50 rounded-2xl p-4 border border-purple-200 hover:shadow-lg transition-all cursor-pointer group",onClick:()=>$(H),children:e.jsxs("div",{className:"flex gap-4",children:[e.jsx("div",{className:"w-20 h-20 rounded-xl overflow-hidden flex-shrink-0 bg-gray-100",children:e.jsx("img",{src:H.image,alt:H.name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-start justify-between gap-2 mb-2",children:[e.jsx("h4",{className:"font-bold text-gray-900 group-hover:text-purple-600 transition-colors",children:H.name}),H.isPremium&&e.jsx("span",{className:"px-2 py-0.5 bg-yellow-100 text-yellow-700 text-xs font-medium rounded-full flex-shrink-0",children:"Premium"})]}),e.jsxs("div",{className:"space-y-1.5 text-xs text-gray-600",children:[e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(vs,{className:"w-3.5 h-3.5 text-purple-500"}),e.jsxs("span",{children:[H.location,"  ",H.distance,"km"]})]}),e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(Gt,{className:"w-3.5 h-3.5 text-yellow-500 fill-yellow-500"}),e.jsx("span",{className:"font-medium text-gray-900",children:H.rating}),e.jsxs("span",{children:["(",H.reviewCount," reviews)"]})]}),e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(Zt,{className:"w-3.5 h-3.5 text-green-500"}),e.jsxs("span",{children:["From ",e.jsx("span",{className:"font-bold text-gray-900",children:v(H.priceFrom)})]})]}),K.nextSlot&&e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(pt,{className:"w-3.5 h-3.5 text-blue-500"}),e.jsxs("span",{className:"text-blue-600 font-medium",children:["Next: ",zJ(K.nextSlot)]})]}),K.todayCount>0&&e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(vt,{className:"w-3.5 h-3.5 text-green-500"}),e.jsxs("span",{className:"text-green-600 font-medium",children:[K.todayCount," slots today"]})]})]}),e.jsxs("button",{className:"mt-3 w-full px-3 py-2 bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white text-xs font-medium rounded-lg flex items-center justify-center gap-2 transition-all group-hover:shadow-md",children:[e.jsx("span",{children:"View & Book"}),e.jsx(ul,{className:"w-4 h-4"})]})]})]})},H.id)})}),e.jsx("div",{className:"text-xs opacity-70 mt-2",children:F.timestamp.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})})]})},F.id)),c&&e.jsx("div",{className:"flex justify-start",children:e.jsx("div",{className:"bg-white border border-gray-200 rounded-3xl rounded-bl-md px-5 py-3 shadow-sm",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(tr,{className:"w-4 h-4 text-purple-600 animate-pulse"}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("div",{className:"w-2 h-2 bg-purple-600 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),e.jsx("div",{className:"w-2 h-2 bg-purple-600 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),e.jsx("div",{className:"w-2 h-2 bg-purple-600 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})]})})}),e.jsx("div",{ref:x})]}),e.jsxs("div",{className:"px-6 py-4 bg-gradient-to-br from-gray-50 to-purple-50/30 border-t border-gray-200",children:[e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold ${m.services.length>0?"bg-green-500 text-white":"bg-gray-300 text-gray-600"}`,children:m.services.length>0?e.jsx(or,{className:"w-4 h-4"}):"1"}),e.jsx("p",{className:"text-xs font-semibold text-gray-700 uppercase tracking-wide",children:"Select services (multiple allowed)"})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:j.map(F=>e.jsxs("button",{onClick:()=>C(F.id),className:`px-3 py-2 border rounded-lg text-xs font-medium transition-all shadow-sm hover:shadow-md ${m.services.includes(F.id)?"bg-gradient-to-r from-purple-500 to-pink-500 border-transparent text-white":"bg-white hover:bg-gray-50 border-purple-200 text-gray-700"}`,children:[F.emoji," ",F.label]},F.id))})]}),m.services.length>0&&e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold ${m.filters.length>0?"bg-green-500 text-white":"bg-gray-300 text-gray-600"}`,children:m.filters.length>0?e.jsx(or,{className:"w-4 h-4"}):"2"}),e.jsx("p",{className:"text-xs font-semibold text-gray-700 uppercase tracking-wide",children:"Filters (optional, multiple allowed)"})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:S.map(F=>e.jsxs("button",{onClick:()=>P(F.id),className:`px-3 py-2 border rounded-lg text-xs font-medium transition-all shadow-sm hover:shadow-md ${m.filters.includes(F.id)?"bg-gradient-to-r from-blue-500 to-cyan-500 border-transparent text-white":"bg-white hover:bg-gray-50 border-blue-200 text-gray-700"}`,children:[F.emoji," ",F.label]},F.id))})]}),m.services.length>0&&e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold ${m.district?"bg-green-500 text-white":"bg-gray-300 text-gray-600"}`,children:m.district?e.jsx(or,{className:"w-4 h-4"}):"3"}),e.jsxs("p",{className:"text-xs font-semibold text-gray-700 uppercase tracking-wide",children:["District ",(s==null?void 0:s.name)||""," (optional)"]})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:s&&s.districts.slice(0,6).map(F=>e.jsxs("button",{onClick:()=>T(F.name),className:`px-3 py-2 border rounded-lg text-xs font-medium transition-all shadow-sm hover:shadow-md ${m.district===F.name?"bg-gradient-to-r from-green-500 to-emerald-500 border-transparent text-white":"bg-white hover:bg-gray-50 border-green-200 text-gray-700"}`,children:[F.emoji," ",F.name]},F.id))})]}),B&&e.jsx("div",{className:"pt-3 border-t border-gray-200",children:e.jsxs(Q,{onClick:k,disabled:!B,className:"w-full h-12 bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white font-bold rounded-xl shadow-lg hover:shadow-xl transition-all",children:[e.jsx(tr,{className:"w-5 h-5 mr-2"}),"Show Salons (",m.services.length," ",m.services.length===1?"service":"services",")"]})})]})]})}):null}const C_=[{id:"dubai",name:"Dubai",country:"UAE",emoji:"",districts:[{id:"downtown",name:"Downtown Dubai",emoji:""},{id:"marina",name:"Dubai Marina",emoji:""},{id:"jbr",name:"JBR",emoji:""},{id:"deira",name:"Deira",emoji:""},{id:"jumeirah",name:"Jumeirah",emoji:""},{id:"business-bay",name:"Business Bay",emoji:""},{id:"silicon-oasis",name:"Silicon Oasis",emoji:""},{id:"al-barsha",name:"Al Barsha",emoji:""}]},{id:"new-york",name:"New York",country:"USA",emoji:"",districts:[{id:"manhattan",name:"Manhattan",emoji:""},{id:"brooklyn",name:"Brooklyn",emoji:""},{id:"queens",name:"Queens",emoji:""},{id:"bronx",name:"Bronx",emoji:""},{id:"staten-island",name:"Staten Island",emoji:""},{id:"downtown",name:"Downtown",emoji:""},{id:"midtown",name:"Midtown",emoji:""}]},{id:"london",name:"London",country:"UK",emoji:"",districts:[{id:"westminster",name:"Westminster",emoji:""},{id:"camden",name:"Camden",emoji:""},{id:"kensington",name:"Kensington",emoji:""},{id:"shoreditch",name:"Shoreditch",emoji:""},{id:"canary-wharf",name:"Canary Wharf",emoji:""},{id:"soho",name:"Soho",emoji:""}]},{id:"paris",name:"Paris",country:"France",emoji:"",districts:[{id:"champs-elysees",name:"Champs-lyses",emoji:""},{id:"marais",name:"Le Marais",emoji:""},{id:"montmartre",name:"Montmartre",emoji:""},{id:"latin-quarter",name:"Latin Quarter",emoji:""},{id:"saint-germain",name:"Saint-Germain",emoji:""},{id:"louvre",name:"Louvre",emoji:""}]},{id:"moscow",name:"Moscow",country:"Russia",emoji:"",districts:[{id:"center",name:"",emoji:""},{id:"arbat",name:"",emoji:""},{id:"tverskaya",name:"",emoji:""},{id:"khamovniki",name:"",emoji:""},{id:"zamoskvorechye",name:"",emoji:""},{id:"tagansky",name:"",emoji:""}]},{id:"istanbul",name:"Istanbul",country:"Turkey",emoji:"",districts:[{id:"taksim",name:"Taksim",emoji:""},{id:"sultanahmet",name:"Sultanahmet",emoji:""},{id:"besiktas",name:"Beikta",emoji:""},{id:"kadikoy",name:"Kadky",emoji:""},{id:"sisli",name:"ili",emoji:""},{id:"bebek",name:"Bebek",emoji:""}]},{id:"tokyo",name:"Tokyo",country:"Japan",emoji:"",districts:[{id:"shibuya",name:"Shibuya",emoji:""},{id:"shinjuku",name:"Shinjuku",emoji:""},{id:"ginza",name:"Ginza",emoji:""},{id:"roppongi",name:"Roppongi",emoji:""},{id:"harajuku",name:"Harajuku",emoji:""},{id:"akihabara",name:"Akihabara",emoji:""}]}];function Rse(t){return C_.find(r=>r.id===t)}function Ise(){const[t,r]=N.useState(""),[n,s]=N.useState(""),[a,i]=N.useState(""),[o,l]=N.useState(""),[c,u]=N.useState(""),[m,p]=N.useState(0),[x,v]=N.useState(!1),w=ry(),[y,j]=N.useState(()=>{const ae=localStorage.getItem("userCity");return ae&&Rse(ae)||C_[0]}),[S,C]=N.useState(()=>{var oe;const ae=localStorage.getItem("userLocation");return ae&&y.districts.some(te=>te.name===ae)?ae:((oe=y.districts[0])==null?void 0:oe.name)||"Downtown Dubai"}),[P,T]=N.useState(1e4),[_,k]=N.useState(1e4),[M,$]=N.useState(500),[B,F]=N.useState(4.8);N.useEffect(()=>{const ae=setInterval(()=>{T(oe=>oe+Math.floor(Math.random()*3)+1)},2e3);return()=>clearInterval(ae)},[]),N.useEffect(()=>{const ae=setInterval(()=>{k(oe=>oe+Math.floor(Math.random()*2)+1)},3e3);return()=>clearInterval(ae)},[]),N.useEffect(()=>{const ae=setInterval(()=>{$(oe=>oe+(Math.random()>.7?1:0))},5e3);return()=>clearInterval(ae)},[]),N.useEffect(()=>{const ae=setInterval(()=>{F(oe=>{const te=(Math.random()-.5)*.02,ue=oe+te;return Math.max(4.7,Math.min(4.9,ue))})},4e3);return()=>clearInterval(ae)},[]);const H={uae:["Dubai","Abu Dhabi","Sharjah","Ajman","Ras Al Khaimah","Fujairah","Umm Al Quwain"],usa:["New York","Los Angeles","Chicago","Houston","Miami","San Francisco","Las Vegas","Boston","Seattle","Atlanta"],uk:["London","Manchester","Birmingham","Liverpool","Leeds","Glasgow","Edinburgh","Bristol","Newcastle","Sheffield"],russia:["Moscow","Saint Petersburg","Novosibirsk","Yekaterinburg","Kazan","Nizhny Novgorod","Chelyabinsk","Samara","Omsk","Rostov-on-Don"],france:["Paris","Marseille","Lyon","Toulouse","Nice","Nantes","Strasbourg","Montpellier","Bordeaux","Lille"],germany:["Berlin","Munich","Frankfurt","Hamburg","Cologne","Stuttgart","Dsseldorf","Dortmund","Essen","Leipzig"],italy:["Rome","Milan","Naples","Turin","Palermo","Genoa","Bologna","Florence","Venice","Verona"],spain:["Madrid","Barcelona","Valencia","Seville","Zaragoza","Mlaga","Murcia","Palma","Bilbao","Alicante"],turkey:["Istanbul","Ankara","Izmir","Bursa","Adana","Gaziantep","Konya","Antalya","Kayseri","Mersin"],thailand:["Bangkok","Chiang Mai","Phuket","Pattaya","Krabi","Hua Hin","Koh Samui","Ayutthaya","Chiang Rai","Sukhothai"],singapore:["Singapore City","Jurong","Woodlands","Tampines","Bedok","Sengkang","Hougang","Yishun","Ang Mo Kio","Bukit Batok"],australia:["Sydney","Melbourne","Brisbane","Perth","Adelaide","Gold Coast","Canberra","Newcastle","Hobart","Darwin"],canada:["Toronto","Montreal","Vancouver","Calgary","Edmonton","Ottawa","Winnipeg","Quebec City","Hamilton","Victoria"],japan:["Tokyo","Osaka","Yokohama","Nagoya","Sapporo","Fukuoka","Kobe","Kyoto","Kawasaki","Hiroshima"],china:["Beijing","Shanghai","Guangzhou","Shenzhen","Chengdu","Hangzhou","Wuhan","Xian","Nanjing","Tianjin"],india:["Mumbai","Delhi","Bangalore","Hyderabad","Chennai","Kolkata","Pune","Ahmedabad","Jaipur","Surat"],brazil:["So Paulo","Rio de Janeiro","Braslia","Salvador","Fortaleza","Belo Horizonte","Manaus","Curitiba","Recife","Porto Alegre"],mexico:["Mexico City","Guadalajara","Monterrey","Puebla","Tijuana","Len","Jurez","Zapopan","Mrida","Cancn"],argentina:["Buenos Aires","Crdoba","Rosario","Mendoza","La Plata","San Miguel de Tucumn","Mar del Plata","Salta","Santa Fe","San Juan"],southafrica:["Johannesburg","Cape Town","Durban","Pretoria","Port Elizabeth","Bloemfontein","East London","Nelspruit","Kimberley","Polokwane"],egypt:["Cairo","Alexandria","Giza","Sharm El Sheikh","Luxor","Aswan","Hurghada","Port Said","Suez","Tanta"],saudiarabia:["Riyadh","Jeddah","Mecca","Medina","Dammam","Khobar","Tabuk","Buraidah","Khamis Mushait","Abha"],qatar:["Doha","Al Rayyan","Umm Salal","Al Wakrah","Al Khor","Madinat ash Shamal","Dukhan","Mesaieed","Al Wukair","Al Khawr"],kuwait:["Kuwait City","Al Ahmadi","Hawalli","Salmiya","Fahaheel","Jabriya","Mangaf","Sabah Al Salem","Fintas","Mahboula"],bahrain:["Manama","Riffa","Muharraq","Hamad Town","Isa Town","Sitra","Budaiya","Jidhafs","Al-Malikiyah","Sanabis"],greece:["Athens","Thessaloniki","Patras","Heraklion","Larissa","Volos","Rhodes","Ioannina","Chania","Mykonos"],norway:["Oslo","Bergen","Trondheim","Stavanger","Drammen","Fredrikstad","Kristiansand","Sandnes","Troms","Sarpsborg"],finland:["Helsinki","Espoo","Tampere","Vantaa","Oulu","Turku","Jyvskyl","Lahti","Kuopio","Pori"],denmark:["Copenhagen","Aarhus","Odense","Aalborg","Esbjerg","Randers","Kolding","Horsens","Vejle","Roskilde"],switzerland:["Zurich","Geneva","Basel","Lausanne","Bern","Winterthur","Lucerne","St. Gallen","Lugano","Biel/Bienne"],lithuania:["Vilnius","Kaunas","Klaipda","iauliai","Panevys","Alytus","Marijampol","Maeikiai","Jonava","Utena"],latvia:["Riga","Daugavpils","Liepja","Jelgava","Jrmala","Ventspils","Rzekne","Ogre","Valmiera","Jkabpils"],estonia:["Tallinn","Tartu","Narva","Prnu","Kohtla-Jrve","Viljandi","Rakvere","Maardu","Sillame","Kuressaare"],sweden:["Stockholm","Gothenburg","Malm","Uppsala","Vsters","rebro","Linkping","Helsingborg","Jnkping","Norrkping"],belgium:["Brussels","Antwerp","Ghent","Charleroi","Lige","Bruges","Namur","Leuven","Mons","Aalst"],netherlands:["Amsterdam","Rotterdam","The Hague","Utrecht","Eindhoven","Tilburg","Groningen","Almere","Breda","Nijmegen"],portugal:["Lisbon","Porto","Amadora","Braga","Setbal","Coimbra","Queluz","Funchal","Cascais","Almada"],austria:["Vienna","Graz","Linz","Salzburg","Innsbruck","Klagenfurt","Villach","Wels","St. Plten","Dornbirn"],czechrepublic:["Prague","Brno","Ostrava","Plze","Liberec","Olomouc","esk Budjovice","Hradec Krlov","st nad Labem","Pardubice"],poland:["Warsaw","Krakw","d","Wrocaw","Pozna","Gdask","Szczecin","Bydgoszcz","Lublin","Katowice"],hungary:["Budapest","Debrecen","Szeged","Miskolc","Pcs","Gyr","Nyregyhza","Kecskemt","Szkesfehrvr","Szombathely"],romania:["Bucharest","Cluj-Napoca","Timioara","Iai","Constana","Craiova","Braov","Galai","Ploieti","Oradea"],bulgaria:["Sofia","Plovdiv","Varna","Burgas","Ruse","Stara Zagora","Pleven","Sliven","Dobrich","Shumen"],croatia:["Zagreb","Split","Rijeka","Osijek","Zadar","Pula","Slavonski Brod","Karlovac","Varadin","ibenik"],serbia:["Belgrade","Novi Sad","Ni","Kragujevac","Subotica","Zrenjanin","Panevo","aak","Novi Pazar","Leskovac"],slovenia:["Ljubljana","Maribor","Celje","Kranj","Velenje","Koper","Novo Mesto","Ptuj","Kamnik","Trbovlje"],slovakia:["Bratislava","Koice","Preov","ilina","Bansk Bystrica","Nitra","Trnava","Martin","Trenn","Poprad"],ireland:["Dublin","Cork","Limerick","Galway","Waterford","Drogheda","Dundalk","Swords","Bray","Navan"],iceland:["Reykjavik","Kpavogur","Hafnarfjrur","Akureyri","Reykjanesbr","Garabr","Mosfellsbr","rborg","Akranes","Fjarabygg"],ukraine:["Kyiv","Kharkiv","Odesa","Dnipro","Lviv","Zaporizhzhia","Kryvyi Rih","Mykolaiv","Mariupol","Vinnytsia"]},K=[{code:"uae",name:"UAE",flag:""},{code:"usa",name:"USA",flag:""},{code:"uk",name:"UK",flag:""},{code:"russia",name:"Russia",flag:""},{code:"france",name:"France",flag:""},{code:"germany",name:"Germany",flag:""},{code:"italy",name:"Italy",flag:""},{code:"spain",name:"Spain",flag:""},{code:"turkey",name:"Turkey",flag:""},{code:"thailand",name:"Thailand",flag:""},{code:"singapore",name:"Singapore",flag:""},{code:"australia",name:"Australia",flag:""},{code:"canada",name:"Canada",flag:""},{code:"japan",name:"Japan",flag:""},{code:"china",name:"China",flag:""},{code:"india",name:"India",flag:""},{code:"brazil",name:"Brazil",flag:""},{code:"mexico",name:"Mexico",flag:""},{code:"argentina",name:"Argentina",flag:""},{code:"southafrica",name:"South Africa",flag:""},{code:"egypt",name:"Egypt",flag:""},{code:"saudiarabia",name:"Saudi Arabia",flag:""},{code:"qatar",name:"Qatar",flag:""},{code:"kuwait",name:"Kuwait",flag:""},{code:"bahrain",name:"Bahrain",flag:""},{code:"greece",name:"Greece",flag:""},{code:"norway",name:"Norway",flag:""},{code:"finland",name:"Finland",flag:""},{code:"denmark",name:"Denmark",flag:""},{code:"switzerland",name:"Switzerland",flag:""},{code:"lithuania",name:"Lithuania",flag:""},{code:"latvia",name:"Latvia",flag:""},{code:"estonia",name:"Estonia",flag:""},{code:"sweden",name:"Sweden",flag:""},{code:"belgium",name:"Belgium",flag:""},{code:"netherlands",name:"Netherlands",flag:""},{code:"portugal",name:"Portugal",flag:""},{code:"austria",name:"Austria",flag:""},{code:"czechrepublic",name:"Czech Republic",flag:""},{code:"poland",name:"Poland",flag:""},{code:"hungary",name:"Hungary",flag:""},{code:"romania",name:"Romania",flag:""},{code:"bulgaria",name:"Bulgaria",flag:""},{code:"croatia",name:"Croatia",flag:""},{code:"serbia",name:"Serbia",flag:""},{code:"slovenia",name:"Slovenia",flag:""},{code:"slovakia",name:"Slovakia",flag:""},{code:"ireland",name:"Ireland",flag:""},{code:"iceland",name:"Iceland",flag:""},{code:"ukraine",name:"Ukraine",flag:""}],Z=a?H[a]||[]:[],W=o?{Dubai:["Downtown Dubai","Dubai Marina","JBR","Business Bay","Jumeirah","Deira","Bur Dubai","Al Barsha"],"Abu Dhabi":["Al Maryah Island","Al Reem Island","Yas Island","Saadiyat Island","Khalifa City","Al Ain"],"New York":["Manhattan","Brooklyn","Queens","Bronx","Staten Island","Upper East Side","SoHo","Williamsburg"],"Los Angeles":["Hollywood","Beverly Hills","Santa Monica","Venice Beach","Downtown LA","Pasadena","Malibu"],London:["Westminster","Kensington","Camden","Shoreditch","Soho","Mayfair","Chelsea","Notting Hill"],Moscow:["Tverskoy","Arbat","Zamoskvorechye","Presnensky","Khamovniki","Taganka","Kitay-Gorod"],Paris:["Champs-lyses","Marais","Latin Quarter","Montmartre","Saint-Germain","Opra","La Dfense"],Berlin:["Mitte","Kreuzberg","Charlottenburg","Prenzlauer Berg","Friedrichshain","Schneberg","Neuklln"],Tokyo:["Shibuya","Shinjuku","Ginza","Roppongi","Harajuku","Akihabara","Asakusa","Odaiba"],"Singapore City":["Orchard","Marina Bay","Raffles Place","Clarke Quay","Sentosa","Bugis","Chinatown"],Istanbul:["Beyolu","Beikta","Kadky","skdar","Fatih","ili","Sultanahmet","Taksim"],Bangkok:["Sukhumvit","Silom","Siam","Sathorn","Thonglor","Asoke","Ratchada","Riverside"],Sydney:["CBD","Bondi","Manly","Parramatta","Surry Hills","Newtown","Darling Harbour","The Rocks"],Mumbai:["Bandra","Andheri","Colaba","Worli","Juhu","Lower Parel","Powai","Marine Drive"],Riyadh:["Olaya","Al Malqa","Al Sahafa","Diplomatic Quarter","Al Naseem","King Abdullah Financial District"],Doha:["West Bay","The Pearl","Lusail","Katara","Msheireb","Al Sadd","Aspire Zone"],Athens:["Plaka","Kolonaki","Syntagma","Monastiraki","Glyfada","Kifisia","Piraeus"],Rome:["Centro Storico","Trastevere","Prati","Monti","Testaccio","EUR","Parioli"],Milan:["Centro","Brera","Navigli","Porta Nuova","Quadrilatero","Isola","Tortona"],Madrid:["Sol","Salamanca","Malasaa","Chueca","Retiro","Chamber","La Latina"],Barcelona:["Eixample","Gothic Quarter","Grcia","El Born","Poble Sec","Sant Antoni","Barceloneta"],Vienna:["Innere Stadt","Leopoldstadt","Neubau","Margareten","Mariahilf","Dbling","Hietzing"],Prague:["Old Town","Vinohrady","ikov","Nov Msto","Mal Strana","Karln","Dejvice"],Amsterdam:["Centrum","Jordaan","De Pijp","Oud-West","Zuid","Noord","Oost"],Warsaw:["rdmiecie","Mokotw","Wola","Praga","oliborz","Ursynw","Wilanw"],Budapest:["District V","District VI","District VII","District XIII","Buda Castle","Pest","Margaret Island"],Lisbon:["Baixa","Chiado","Alfama","Bairro Alto","Belm","Parque das Naes","Prncipe Real"],Oslo:["Sentrum","Grnerlkka","Frogner","Majorstuen","Aker Brygge","Tjuvholmen","Grnland"],Stockholm:["Gamla Stan","Sdermalm","stermalm","Norrmalm","Vasastan","Djurgrden","Kungsholmen"],Copenhagen:["Indre By","Nrrebro","Vesterbro","sterbro","Frederiksberg","Christianshavn","Amager"],Helsinki:["Keskusta","Kamppi","Kallio","Punavuori","Tl","Katajanokka","Kruununhaka"],Zurich:["Altstadt","Zrich West","Seefeld","Wiedikon","Aussersihl","Enge","Hottingen"],Dublin:["Temple Bar","Georgian Quarter","Ballsbridge","Rathmines","Howth","Dn Laoghaire","Smithfield"],Brussels:["Grand Place","EU Quarter","Ixelles","Saint-Gilles","Sablon","Marolles","Louise"],Vilnius:["Old Town","Naujamiestis","vrynas","nipiks","Antakalnis","Uupis","Justiniks"],Riga:["Old Town","Centre","Quiet Centre","Art Nouveau District","genskalns","Meaparks","Prdaugava"],Tallinn:["Old Town","City Centre","Kadriorg","Pirita","Kristiine","Mustame","Lasname"]}[o]||["Downtown","City Center","Marina","Suburbs"]:[];N.useEffect(()=>{(async()=>{try{const te=await(await fetch("https://ipapi.co/json/")).json();if(te.country_code){const de={AE:"uae",US:"usa",GB:"uk",RU:"russia",FR:"france",DE:"germany",IT:"italy",ES:"spain",TR:"turkey",TH:"thailand",SG:"singapore",AU:"australia",CA:"canada",JP:"japan",CN:"china",IN:"india",BR:"brazil",MX:"mexico",AR:"argentina",ZA:"southafrica",EG:"egypt",SA:"saudiarabia",QA:"qatar",KW:"kuwait",BH:"bahrain",GR:"greece",NO:"norway",FI:"finland",DK:"denmark",CH:"switzerland",LT:"lithuania",LV:"latvia",EE:"estonia",SE:"sweden",BE:"belgium",NL:"netherlands",PT:"portugal",AT:"austria",CZ:"czechrepublic",PL:"poland",HU:"hungary",RO:"romania",BG:"bulgaria",HR:"croatia",RS:"serbia",SI:"slovenia",SK:"slovakia",IE:"ireland",IS:"iceland",UA:"ukraine"}[te.country_code];if(de){i(de);const fe=H[de];if(fe&&fe.length>0){const ye=fe.find(he=>{var Ce;return he.toLowerCase()===((Ce=te.city)==null?void 0:Ce.toLowerCase())});l(ye||fe[0])}}}}catch(oe){console.log("Could not detect location:",oe),i("uae"),l("Dubai")}})()},[]);const G=ae=>{i(ae);const oe=H[ae];oe&&oe.length>0?l(oe[0]):l("")},O=ja.filter(ae=>ae.rating>=4.5),R=ja.filter(ae=>ae.isPremium),D=ja.filter(ae=>ae.isRecommended),I=ja.filter(ae=>ae.isNew),q=ja.filter(ae=>ae.distance<=3),J=[{id:1,name:"Olivia Chen",avatar:"OC",service:"Bridal Makeup",location:"Beauty Haven",city:"Dubai, UAE",rating:5,time:"1 week ago",text:'"The variety of salons and services is incredible! I found the perfect place for my wedding makeup. The reviews helped me make the right choice. Thank you Katia!"'},{id:2,name:"Emma Martinez",avatar:"EM",service:"Manicure & Pedicure",location:"Nail Art Paradise",city:"Abu Dhabi, UAE",rating:5,time:"3 days ago",text:`"I love how I can book appointments instantly through the app! No more waiting for callbacks. The reminders are super helpful too. Best beauty booking platform I've used!"`},{id:3,name:"Sarah Johnson",avatar:"SJ",service:"Hair Styling",location:"Glamour Studio",city:"Dubai, UAE",rating:5,time:"2 weeks ago",text:'"Amazing platform! Found the perfect salon for my needs. The booking process was seamless and the staff was professional. Highly recommend!"'}],ie=()=>{p(ae=>(ae+1)%J.length)},ee=()=>{p(ae=>(ae-1+J.length)%J.length)};return e.jsxs("div",{className:`min-h-screen bg-white ${w?"pb-20":""}`,children:[e.jsx(lu,{}),e.jsx("div",{className:"bg-gradient-to-b from-purple-50 via-pink-50 to-white py-16 md:py-24",children:e.jsxs("div",{className:"container mx-auto px-3 md:px-4",children:[e.jsx("div",{className:"max-w-4xl mx-auto text-center mb-6",children:e.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-purple-100 rounded-full mb-6",children:[e.jsx(tr,{className:"w-4 h-4 text-purple-600"}),e.jsx("span",{className:"text-sm text-purple-600 font-medium",children:"Your Premier Luxury Beauty Platform"})]})}),e.jsxs("div",{className:"max-w-4xl mx-auto text-center mb-8",children:[e.jsxs("h1",{className:"text-4xl md:text-6xl font-bold mb-4",children:[e.jsx("span",{className:"text-gray-900",children:"Welcome to"}),e.jsx("br",{}),e.jsx("span",{className:"bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent",children:"Katia Booking"})]}),e.jsx("p",{className:"text-lg md:text-xl text-purple-600 mb-8",children:"Discover and book the finest beauty salons"}),e.jsxs("div",{className:"flex justify-center gap-4 md:gap-8 mb-12",children:[e.jsxs("div",{className:"bg-white rounded-2xl px-6 py-4 shadow-sm",children:[e.jsx("div",{className:"text-2xl md:text-3xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent",children:"12+"}),e.jsx("div",{className:"text-xs md:text-sm text-gray-600",children:"Salons"})]}),e.jsxs("div",{className:"bg-white rounded-2xl px-6 py-4 shadow-sm",children:[e.jsx("div",{className:"text-2xl md:text-3xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent",children:"50K+"}),e.jsx("div",{className:"text-xs md:text-sm text-gray-600",children:"Clients"})]}),e.jsxs("div",{className:"bg-white rounded-2xl px-6 py-4 shadow-sm",children:[e.jsx("div",{className:"text-2xl md:text-3xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent",children:"4.8"}),e.jsx("div",{className:"text-xs md:text-sm text-gray-600",children:"Rating"})]})]})]}),e.jsx("div",{className:"max-w-5xl mx-auto",children:e.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl p-6 md:p-8",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[e.jsx(tr,{className:"w-5 h-5 text-purple-600"}),e.jsx("span",{className:"text-sm font-medium text-purple-600",children:"Smart Search"}),e.jsxs("button",{onClick:()=>v(!0),className:"ml-auto flex items-center gap-2 px-3 py-1.5 bg-gradient-to-r from-purple-600 to-pink-600 rounded-full hover:from-purple-700 hover:to-pink-700 transition-all hover:shadow-lg cursor-pointer",children:[e.jsx(tr,{className:"w-4 h-4 text-white"}),e.jsx("span",{className:"text-xs font-medium text-white",children:"AI Katia"})]})]}),e.jsx("div",{className:"mb-4",children:e.jsxs("div",{className:"relative",children:[e.jsx(qr,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx(He,{type:"text",placeholder:"Search services, salons...",value:t,onChange:ae=>r(ae.target.value),className:"pl-12 h-14 text-base rounded-xl"})]})}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[e.jsxs(sn,{value:a,onValueChange:G,children:[e.jsx(an,{className:"h-12 rounded-xl",children:e.jsx(gn,{placeholder:"Country"})}),e.jsx(on,{children:K.map(ae=>e.jsxs(Ue,{value:ae.code,children:[ae.flag," ",ae.name]},ae.code))})]}),e.jsxs(sn,{value:o,onValueChange:l,children:[e.jsx(an,{className:"h-12 rounded-xl",children:e.jsx(gn,{placeholder:"City"})}),e.jsx(on,{children:Z.map(ae=>e.jsx(Ue,{value:ae,children:ae},ae))})]}),e.jsxs(sn,{value:c,onValueChange:u,children:[e.jsx(an,{className:"h-12 rounded-xl",children:e.jsx(gn,{placeholder:"Area"})}),e.jsx(on,{children:W.map(ae=>e.jsx(Ue,{value:ae,children:ae},ae))})]}),e.jsxs(sn,{value:n,onValueChange:s,children:[e.jsx(an,{className:"h-12 rounded-xl",children:e.jsx(gn,{placeholder:"Category"})}),e.jsxs(on,{children:[e.jsx(Ue,{value:"manicure",children:"Manicure"}),e.jsx(Ue,{value:"pedicure",children:"Pedicure"}),e.jsx(Ue,{value:"eyelashes",children:"Eyelashes"}),e.jsx(Ue,{value:"brow",children:"Brow"}),e.jsx(Ue,{value:"barber",children:"Barber"}),e.jsx(Ue,{value:"cosmetology",children:"Cosmetology"}),e.jsx(Ue,{value:"laser",children:"Laser"}),e.jsx(Ue,{value:"makeup",children:"Make up"}),e.jsx(Ue,{value:"hairstylist",children:"Hair stylist"}),e.jsx(Ue,{value:"tattoo",children:"Tattoo"}),e.jsx(Ue,{value:"piercing",children:"Piercing"}),e.jsx(Ue,{value:"spa",children:"Spa"}),e.jsx(Ue,{value:"pmu",children:"PMU"}),e.jsx(Ue,{value:"massage",children:"Massage"}),e.jsx(Ue,{value:"waxing",children:"Waxing"}),e.jsx(Ue,{value:"facial",children:"Facial"}),e.jsx(Ue,{value:"fitness",children:"Fitness"}),e.jsx(Ue,{value:"other",children:"Other"})]})]})]}),e.jsxs(Q,{className:"w-full md:w-auto mt-4 h-12 px-8 bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 rounded-xl",children:[e.jsx(qr,{className:"w-5 h-5 mr-2"}),"Search"]})]})})]})}),e.jsxs("div",{className:"container mx-auto px-4",children:[R.length>0&&e.jsxs("section",{className:"py-12 md:py-16",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-2xl md:text-3xl font-bold bg-gradient-to-r from-yellow-600 to-orange-600 bg-clip-text text-transparent flex items-center gap-2",children:[e.jsx(Pc,{className:"w-8 h-8 text-yellow-500"}),"Premium Salons"]}),e.jsx("p",{className:"text-gray-600 text-sm mt-1",children:"Luxury experiences with exclusive services"})]}),e.jsx(It,{to:"/salons",children:e.jsx(Q,{variant:"outline",className:"hidden md:inline-flex",children:"View All"})})]}),e.jsx("div",{className:"hidden md:block",children:e.jsxs(Qa,{opts:{align:"start",loop:!0},className:"w-full",children:[e.jsx(ei,{className:"-ml-2 md:-ml-4",children:R.map(ae=>e.jsx(ti,{className:"pl-2 md:pl-4 md:basis-1/2 lg:basis-1/3 xl:basis-1/4",children:e.jsx(Es,{salon:ae})},ae.id))}),e.jsx(Nh,{className:"hidden md:flex"}),e.jsx(Sh,{className:"hidden md:flex"})]})}),e.jsx("div",{className:"md:hidden",children:e.jsx(Qa,{opts:{align:"start",loop:!0},className:"w-full",children:e.jsx(ei,{className:"-ml-2",children:R.map(ae=>e.jsx(ti,{className:"pl-2 basis-[85%]",children:e.jsx(Es,{salon:ae})},ae.id))})})})]}),D.length>0&&e.jsx("section",{className:"py-12 md:py-16 bg-gradient-to-b from-white to-blue-50 -mx-4 px-4",children:e.jsxs("div",{className:"container mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-2xl md:text-3xl font-bold bg-gradient-to-r from-blue-600 to-indigo-600 bg-clip-text text-transparent flex items-center gap-2",children:[e.jsx(xr,{className:"w-8 h-8 text-blue-500"}),"Recommended for You"]}),e.jsx("p",{className:"text-gray-600 text-sm mt-1",children:"Handpicked based on your preferences"})]}),e.jsx(It,{to:"/salons",children:e.jsx(Q,{variant:"outline",className:"hidden md:inline-flex",children:"View All"})})]}),e.jsx("div",{className:"hidden md:block",children:e.jsxs(Qa,{opts:{align:"start",loop:!0},className:"w-full",children:[e.jsx(ei,{className:"-ml-2 md:-ml-4",children:D.map(ae=>e.jsx(ti,{className:"pl-2 md:pl-4 md:basis-1/2 lg:basis-1/3 xl:basis-1/4",children:e.jsx(Es,{salon:ae})},ae.id))}),e.jsx(Nh,{className:"hidden md:flex"}),e.jsx(Sh,{className:"hidden md:flex"})]})}),e.jsx("div",{className:"md:hidden",children:e.jsx(Qa,{opts:{align:"start",loop:!0},className:"w-full",children:e.jsx(ei,{className:"-ml-2",children:D.map(ae=>e.jsx(ti,{className:"pl-2 basis-[85%]",children:e.jsx(Es,{salon:ae})},ae.id))})})})]})}),I.length>0&&e.jsxs("section",{className:"py-12 md:py-16",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-2xl md:text-3xl font-bold bg-gradient-to-r from-green-600 to-emerald-600 bg-clip-text text-transparent flex items-center gap-2",children:[e.jsx(tr,{className:"w-8 h-8 text-green-500"}),"New in Katia"]}),e.jsx("p",{className:"text-gray-600 text-sm mt-1",children:"Recently joined salons bringing fresh experiences"})]}),e.jsx(It,{to:"/salons",children:e.jsx(Q,{variant:"outline",className:"hidden md:inline-flex",children:"View All"})})]}),e.jsx("div",{className:"hidden md:block",children:e.jsxs(Qa,{opts:{align:"start",loop:!0},className:"w-full",children:[e.jsx(ei,{className:"-ml-2 md:-ml-4",children:I.map(ae=>e.jsx(ti,{className:"pl-2 md:pl-4 md:basis-1/2 lg:basis-1/3 xl:basis-1/4",children:e.jsx(Es,{salon:ae})},ae.id))}),e.jsx(Nh,{className:"hidden md:flex"}),e.jsx(Sh,{className:"hidden md:flex"})]})}),e.jsx("div",{className:"md:hidden",children:e.jsx(Qa,{opts:{align:"start",loop:!0},className:"w-full",children:e.jsx(ei,{className:"-ml-2",children:I.map(ae=>e.jsx(ti,{className:"pl-2 basis-[85%]",children:e.jsx(Es,{salon:ae})},ae.id))})})})]}),q.length>0&&e.jsx("section",{className:"py-12 md:py-16 bg-gradient-to-b from-white to-purple-50 -mx-4 px-4",children:e.jsxs("div",{className:"container mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-2xl md:text-3xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent flex items-center gap-2",children:[e.jsx(vs,{className:"w-8 h-8 text-purple-500"}),"Near Your Location"]}),e.jsx("p",{className:"text-gray-600 text-sm mt-1",children:"Within 3km from you  Quick & convenient"})]}),e.jsx(It,{to:"/salons",children:e.jsx(Q,{variant:"outline",className:"hidden md:inline-flex",children:"View All"})})]}),e.jsx("div",{className:"hidden md:block",children:e.jsxs(Qa,{opts:{align:"start",loop:!0},className:"w-full",children:[e.jsx(ei,{className:"-ml-2 md:-ml-4",children:q.map(ae=>e.jsx(ti,{className:"pl-2 md:pl-4 md:basis-1/2 lg:basis-1/3 xl:basis-1/4",children:e.jsx(Es,{salon:ae})},ae.id))}),e.jsx(Nh,{className:"hidden md:flex"}),e.jsx(Sh,{className:"hidden md:flex"})]})}),e.jsx("div",{className:"md:hidden",children:e.jsx(Qa,{opts:{align:"start",loop:!0},className:"w-full",children:e.jsx(ei,{className:"-ml-2",children:q.map(ae=>e.jsx(ti,{className:"pl-2 basis-[85%]",children:e.jsx(Es,{salon:ae})},ae.id))})})})]})}),e.jsxs("section",{className:"py-12 md:py-16",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-2xl md:text-3xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent flex items-center gap-2",children:[e.jsx(Gt,{className:"w-8 h-8 text-yellow-500 fill-yellow-500"}),"Top Rated Salons"]}),e.jsx("p",{className:"text-gray-600 text-sm mt-1",children:"Highly rated by our community"})]}),e.jsx(It,{to:"/salons",children:e.jsx(Q,{variant:"outline",className:"hidden md:inline-flex",children:"View All"})})]}),e.jsx("div",{className:"hidden md:block",children:e.jsxs(Qa,{opts:{align:"start",loop:!0},className:"w-full",children:[e.jsx(ei,{className:"-ml-2 md:-ml-4",children:O.map(ae=>e.jsx(ti,{className:"pl-2 md:pl-4 md:basis-1/2 lg:basis-1/3 xl:basis-1/4",children:e.jsx(Es,{salon:ae})},ae.id))}),e.jsx(Nh,{className:"hidden md:flex"}),e.jsx(Sh,{className:"hidden md:flex"})]})}),e.jsx("div",{className:"md:hidden",children:e.jsx(Qa,{opts:{align:"start",loop:!0},className:"w-full",children:e.jsx(ei,{className:"-ml-2",children:O.map(ae=>e.jsx(ti,{className:"pl-2 basis-[85%]",children:e.jsx(Es,{salon:ae})},ae.id))})})})]}),e.jsxs("section",{className:"py-12 md:py-16 bg-gradient-to-b from-white to-purple-50 -mx-4 px-4",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h2",{className:"text-2xl md:text-4xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent mb-3",children:"Why Choose Katia Booking"}),e.jsx("p",{className:"text-gray-600",children:"Experience the future of beauty booking"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 max-w-6xl mx-auto",children:[e.jsx(ne,{className:"border-none shadow-lg hover:shadow-xl transition-shadow",children:e.jsxs(ke,{className:"pt-8 pb-8 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-purple-100 rounded-2xl flex items-center justify-center mx-auto mb-4",children:e.jsx(vt,{className:"w-8 h-8 text-purple-600"})}),e.jsx("h3",{className:"text-lg font-bold text-purple-600 mb-2",children:"Instant Booking"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Book 24/7 with real-time confirmation"})]})}),e.jsx(ne,{className:"border-none shadow-lg hover:shadow-xl transition-shadow",children:e.jsxs(ke,{className:"pt-8 pb-8 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-pink-100 rounded-2xl flex items-center justify-center mx-auto mb-4",children:e.jsx(Gt,{className:"w-8 h-8 text-pink-600"})}),e.jsx("h3",{className:"text-lg font-bold text-pink-600 mb-2",children:"Verified Reviews"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Real reviews you can trust"})]})}),e.jsx(ne,{className:"border-none shadow-lg hover:shadow-xl transition-shadow",children:e.jsxs(ke,{className:"pt-8 pb-8 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-purple-100 rounded-2xl flex items-center justify-center mx-auto mb-4",children:e.jsx(vs,{className:"w-8 h-8 text-purple-600"})}),e.jsx("h3",{className:"text-lg font-bold text-purple-600 mb-2",children:"Best Locations"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Premium salons near you"})]})}),e.jsx(ne,{className:"border-none shadow-lg hover:shadow-xl transition-shadow",children:e.jsxs(ke,{className:"pt-8 pb-8 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-pink-100 rounded-2xl flex items-center justify-center mx-auto mb-4",children:e.jsx(Kn,{className:"w-8 h-8 text-pink-600"})}),e.jsx("h3",{className:"text-lg font-bold text-pink-600 mb-2",children:"Save Favorites"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Never lose your favorites"})]})})]})]}),e.jsxs("section",{className:"py-12 md:py-16",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h2",{className:"text-2xl md:text-4xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent mb-3",children:"Trusted by Thousands"}),e.jsx("p",{className:"text-gray-600",children:"Join our growing community of beauty enthusiasts and salon partners"})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6 max-w-4xl mx-auto mb-12",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(pr,{className:"w-8 h-8 text-blue-600"})}),e.jsxs("div",{className:"text-3xl font-bold text-gray-900 mb-1 transition-all duration-300",children:[_.toLocaleString(),"+"]}),e.jsx("div",{className:"text-sm text-gray-600",children:"Happy Clients"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(wo,{className:"w-8 h-8 text-purple-600"})}),e.jsxs("div",{className:"text-3xl font-bold text-gray-900 mb-1 transition-all duration-300",children:[M.toLocaleString(),"+"]}),e.jsx("div",{className:"text-sm text-gray-600",children:"Partner Salons"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(AV,{className:"w-8 h-8 text-green-600"})}),e.jsxs("div",{className:"text-3xl font-bold text-gray-900 mb-1 transition-all duration-300",children:[P.toLocaleString(),"+"]}),e.jsx("div",{className:"text-sm text-gray-600",children:"Successful Bookings"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-yellow-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(Pc,{className:"w-8 h-8 text-yellow-600"})}),e.jsxs("div",{className:"text-3xl font-bold text-gray-900 mb-1 transition-all duration-300",children:[B.toFixed(1),e.jsx("span",{className:"text-yellow-500",children:"/5"})]}),e.jsx("div",{className:"text-sm text-gray-600",children:"Average Rating"})]})]}),e.jsxs("div",{className:"flex flex-wrap justify-center gap-8 text-sm text-gray-500 mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Sc,{className:"w-4 h-4 text-purple-600"}),e.jsx("span",{children:"Premium Quality"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Yn,{className:"w-4 h-4 text-purple-600"}),e.jsx("span",{children:"Secure Booking"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ks,{className:"w-4 h-4 text-purple-600"}),e.jsx("span",{children:"Instant Confirmation"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Zt,{className:"w-4 h-4 text-purple-600"}),e.jsx("span",{children:"Best Prices"})]})]}),e.jsx("div",{className:"text-center text-sm text-gray-500",children:"Trusted by leading beauty brands globally"})]}),e.jsxs("section",{className:"py-12 md:py-16 bg-gradient-to-b from-white to-purple-50 -mx-4 px-4",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h2",{className:"text-2xl md:text-4xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent mb-3",children:"What Our Clients Say"}),e.jsx("p",{className:"text-gray-600",children:"Join thousands of satisfied customers who trust Katia for their beauty needs"})]}),e.jsxs("div",{className:"max-w-4xl mx-auto relative mb-12",children:[e.jsxs("div",{className:"bg-white rounded-3xl shadow-xl p-8 md:p-12 relative",children:[e.jsx("div",{className:"absolute top-8 right-8 text-purple-200 text-6xl md:text-8xl font-serif",children:'"'}),e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"flex items-start gap-4 mb-6",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-r from-purple-600 to-pink-600 flex items-center justify-center text-white font-bold flex-shrink-0",children:J[m].avatar}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-gray-900",children:J[m].name}),e.jsx("div",{className:"flex gap-1 mb-1",children:[...Array(J[m].rating)].map((ae,oe)=>e.jsx(Gt,{className:"w-4 h-4 fill-yellow-400 text-yellow-400"},oe))})]})]}),e.jsx("p",{className:"text-gray-700 italic mb-6 text-lg leading-relaxed",children:J[m].text}),e.jsxs("div",{className:"flex flex-wrap gap-2 text-sm text-gray-500",children:[e.jsx("span",{children:J[m].service}),e.jsx("span",{children:""}),e.jsx("span",{children:J[m].location}),e.jsx("span",{children:""}),e.jsx("span",{children:J[m].city}),e.jsx("span",{children:""}),e.jsx("span",{children:J[m].time})]})]}),e.jsx("button",{onClick:ee,className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-10 h-10 rounded-full bg-white shadow-lg flex items-center justify-center hover:bg-purple-50 transition-colors",children:e.jsx(Bh,{className:"w-5 h-5 text-gray-600"})}),e.jsx("button",{onClick:ie,className:"absolute right-4 top-1/2 transform -translate-y-1/2 w-10 h-10 rounded-full bg-white shadow-lg flex items-center justify-center hover:bg-purple-50 transition-colors",children:e.jsx(Gs,{className:"w-5 h-5 text-gray-600"})})]}),e.jsx("div",{className:"flex justify-center gap-2 mt-6",children:J.map((ae,oe)=>e.jsx("button",{onClick:()=>p(oe),className:`h-2 rounded-full transition-all ${oe===m?"w-8 bg-gradient-to-r from-purple-600 to-pink-600":"w-2 bg-gray-300"}`},oe))})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6 max-w-3xl mx-auto",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl md:text-3xl font-bold text-gray-900 mb-1",children:"4.9/5"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Average Rating"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl md:text-3xl font-bold text-gray-900 mb-1",children:"10K+"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Happy Clients"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl md:text-3xl font-bold text-gray-900 mb-1",children:"500+"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Partner Salons"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl md:text-3xl font-bold text-gray-900 mb-1",children:"50K+"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Bookings Made"})]})]})]}),e.jsx("section",{className:"py-16 md:py-24 -mx-4 px-4 bg-gradient-to-r from-purple-600 to-pink-600",children:e.jsxs("div",{className:"text-center max-w-3xl mx-auto",children:[e.jsx("h2",{className:"text-3xl md:text-5xl font-bold text-white mb-4",children:"Ready to Transform Your Look?"}),e.jsx("p",{className:"text-lg md:text-xl text-purple-100 mb-8",children:"Join thousands of satisfied customers who trust us for their beauty needs"}),e.jsx(It,{to:"/salons",children:e.jsx(Q,{className:"bg-white text-purple-600 hover:bg-gray-100 px-8 py-6 text-lg rounded-xl h-auto",children:"Browse Salons"})})]})})]}),e.jsx(Cl,{}),e.jsx(Dse,{isOpen:x,onClose:()=>v(!1),userLocation:S,userCity:y})]})}const g$=N.createContext({dragDropManager:void 0});function Ya(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var eA=(function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"})(),tA=function(){return Math.random().toString(36).substring(7).split("").join(".")},rA={INIT:"@@redux/INIT"+tA(),REPLACE:"@@redux/REPLACE"+tA()};function Lse(t){if(typeof t!="object"||t===null)return!1;for(var r=t;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(t)===r}function v$(t,r,n){var s;if(typeof r=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Ya(0));if(typeof r=="function"&&typeof n>"u"&&(n=r,r=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Ya(1));return n(v$)(t,r)}if(typeof t!="function")throw new Error(Ya(2));var a=t,i=r,o=[],l=o,c=!1;function u(){l===o&&(l=o.slice())}function m(){if(c)throw new Error(Ya(3));return i}function p(y){if(typeof y!="function")throw new Error(Ya(4));if(c)throw new Error(Ya(5));var j=!0;return u(),l.push(y),function(){if(j){if(c)throw new Error(Ya(6));j=!1,u();var C=l.indexOf(y);l.splice(C,1),o=null}}}function x(y){if(!Lse(y))throw new Error(Ya(7));if(typeof y.type>"u")throw new Error(Ya(8));if(c)throw new Error(Ya(9));try{c=!0,i=a(i,y)}finally{c=!1}for(var j=o=l,S=0;S<j.length;S++){var C=j[S];C()}return y}function v(y){if(typeof y!="function")throw new Error(Ya(10));a=y,x({type:rA.REPLACE})}function w(){var y,j=p;return y={subscribe:function(C){if(typeof C!="object"||C===null)throw new Error(Ya(11));function P(){C.next&&C.next(m())}P();var T=j(P);return{unsubscribe:T}}},y[eA]=function(){return this},y}return x({type:rA.INIT}),s={dispatch:x,subscribe:p,getState:m,replaceReducer:v},s[eA]=w,s}function Ft(t,r,...n){if($se()&&r===void 0)throw new Error("invariant requires an error message argument");if(!t){let s;if(r===void 0)s=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{let a=0;s=new Error(r.replace(/%s/g,function(){return n[a++]})),s.name="Invariant Violation"}throw s.framesToPop=1,s}}function $se(){return typeof process<"u"&&!0}function Bse(t,r,n){return r.split(".").reduce((s,a)=>s&&s[a]?s[a]:n||null,t)}function Fse(t,r){return t.filter(n=>n!==r)}function y$(t){return typeof t=="object"}function zse(t,r){const n=new Map,s=i=>{n.set(i,n.has(i)?n.get(i)+1:1)};t.forEach(s),r.forEach(s);const a=[];return n.forEach((i,o)=>{i===1&&a.push(o)}),a}function Use(t,r){return t.filter(n=>r.indexOf(n)>-1)}const r4="dnd-core/INIT_COORDS",wy="dnd-core/BEGIN_DRAG",n4="dnd-core/PUBLISH_DRAG_SOURCE",Ny="dnd-core/HOVER",Sy="dnd-core/DROP",_y="dnd-core/END_DRAG";function nA(t,r){return{type:r4,payload:{sourceClientOffset:r||null,clientOffset:t||null}}}const Hse={type:r4,payload:{clientOffset:null,sourceClientOffset:null}};function Wse(t){return function(n=[],s={publishSource:!0}){const{publishSource:a=!0,clientOffset:i,getSourceClientOffset:o}=s,l=t.getMonitor(),c=t.getRegistry();t.dispatch(nA(i)),qse(n,l,c);const u=Kse(n,l);if(u==null){t.dispatch(Hse);return}let m=null;if(i){if(!o)throw new Error("getSourceClientOffset must be defined");Vse(o),m=o(u)}t.dispatch(nA(i,m));const x=c.getSource(u).beginDrag(l,u);if(x==null)return;Gse(x),c.pinSource(u);const v=c.getSourceType(u);return{type:wy,payload:{itemType:v,item:x,sourceId:u,clientOffset:i||null,sourceClientOffset:m||null,isSourcePublic:!!a}}}}function qse(t,r,n){Ft(!r.isDragging(),"Cannot call beginDrag while dragging."),t.forEach(function(s){Ft(n.getSource(s),"Expected sourceIds to be registered.")})}function Vse(t){Ft(typeof t=="function","When clientOffset is provided, getSourceClientOffset must be a function.")}function Gse(t){Ft(y$(t),"Item must be an object.")}function Kse(t,r){let n=null;for(let s=t.length-1;s>=0;s--)if(r.canDragSource(t[s])){n=t[s];break}return n}function Yse(t,r,n){return r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function Zse(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{},s=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(s=s.concat(Object.getOwnPropertySymbols(n).filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable}))),s.forEach(function(a){Yse(t,a,n[a])})}return t}function Xse(t){return function(n={}){const s=t.getMonitor(),a=t.getRegistry();Jse(s),tae(s).forEach((o,l)=>{const c=Qse(o,l,a,s),u={type:Sy,payload:{dropResult:Zse({},n,c)}};t.dispatch(u)})}}function Jse(t){Ft(t.isDragging(),"Cannot call drop while not dragging."),Ft(!t.didDrop(),"Cannot call drop twice during one drag operation.")}function Qse(t,r,n,s){const a=n.getTarget(t);let i=a?a.drop(s,t):void 0;return eae(i),typeof i>"u"&&(i=r===0?{}:s.getDropResult()),i}function eae(t){Ft(typeof t>"u"||y$(t),"Drop result must either be an object or undefined.")}function tae(t){const r=t.getTargetIds().filter(t.canDropOnTarget,t);return r.reverse(),r}function rae(t){return function(){const n=t.getMonitor(),s=t.getRegistry();nae(n);const a=n.getSourceId();return a!=null&&(s.getSource(a,!0).endDrag(n,a),s.unpinSource()),{type:_y}}}function nae(t){Ft(t.isDragging(),"Cannot call endDrag while not dragging.")}function P_(t,r){return r===null?t===null:Array.isArray(t)?t.some(n=>n===r):t===r}function sae(t){return function(n,{clientOffset:s}={}){aae(n);const a=n.slice(0),i=t.getMonitor(),o=t.getRegistry(),l=i.getItemType();return oae(a,o,l),iae(a,i,o),lae(a,i,o),{type:Ny,payload:{targetIds:a,clientOffset:s||null}}}}function aae(t){Ft(Array.isArray(t),"Expected targetIds to be an array.")}function iae(t,r,n){Ft(r.isDragging(),"Cannot call hover while not dragging."),Ft(!r.didDrop(),"Cannot call hover after drop.");for(let s=0;s<t.length;s++){const a=t[s];Ft(t.lastIndexOf(a)===s,"Expected targetIds to be unique in the passed array.");const i=n.getTarget(a);Ft(i,"Expected targetIds to be registered.")}}function oae(t,r,n){for(let s=t.length-1;s>=0;s--){const a=t[s],i=r.getTargetType(a);P_(i,n)||t.splice(s,1)}}function lae(t,r,n){t.forEach(function(s){n.getTarget(s).hover(r,s)})}function cae(t){return function(){if(t.getMonitor().isDragging())return{type:n4}}}function dae(t){return{beginDrag:Wse(t),publishDragSource:cae(t),hover:sae(t),drop:Xse(t),endDrag:rae(t)}}class uae{receiveBackend(r){this.backend=r}getMonitor(){return this.monitor}getBackend(){return this.backend}getRegistry(){return this.monitor.registry}getActions(){const r=this,{dispatch:n}=this.store;function s(i){return(...o)=>{const l=i.apply(r,o);typeof l<"u"&&n(l)}}const a=dae(this);return Object.keys(a).reduce((i,o)=>{const l=a[o];return i[o]=s(l),i},{})}dispatch(r){this.store.dispatch(r)}constructor(r,n){this.isSetUp=!1,this.handleRefCountChange=()=>{const s=this.store.getState().refCount>0;this.backend&&(s&&!this.isSetUp?(this.backend.setup(),this.isSetUp=!0):!s&&this.isSetUp&&(this.backend.teardown(),this.isSetUp=!1))},this.store=r,this.monitor=n,r.subscribe(this.handleRefCountChange)}}function hae(t,r){return{x:t.x+r.x,y:t.y+r.y}}function b$(t,r){return{x:t.x-r.x,y:t.y-r.y}}function mae(t){const{clientOffset:r,initialClientOffset:n,initialSourceClientOffset:s}=t;return!r||!n||!s?null:b$(hae(r,s),n)}function fae(t){const{clientOffset:r,initialClientOffset:n}=t;return!r||!n?null:b$(r,n)}const rp=[],s4=[];rp.__IS_NONE__=!0;s4.__IS_ALL__=!0;function pae(t,r){return t===rp?!1:t===s4||typeof r>"u"?!0:Use(r,t).length>0}class xae{subscribeToStateChange(r,n={}){const{handlerIds:s}=n;Ft(typeof r=="function","listener must be a function."),Ft(typeof s>"u"||Array.isArray(s),"handlerIds, when specified, must be an array of strings.");let a=this.store.getState().stateId;const i=()=>{const o=this.store.getState(),l=o.stateId;try{l===a||l===a+1&&!pae(o.dirtyHandlerIds,s)||r()}finally{a=l}};return this.store.subscribe(i)}subscribeToOffsetChange(r){Ft(typeof r=="function","listener must be a function.");let n=this.store.getState().dragOffset;const s=()=>{const a=this.store.getState().dragOffset;a!==n&&(n=a,r())};return this.store.subscribe(s)}canDragSource(r){if(!r)return!1;const n=this.registry.getSource(r);return Ft(n,`Expected to find a valid source. sourceId=${r}`),this.isDragging()?!1:n.canDrag(this,r)}canDropOnTarget(r){if(!r)return!1;const n=this.registry.getTarget(r);if(Ft(n,`Expected to find a valid target. targetId=${r}`),!this.isDragging()||this.didDrop())return!1;const s=this.registry.getTargetType(r),a=this.getItemType();return P_(s,a)&&n.canDrop(this,r)}isDragging(){return!!this.getItemType()}isDraggingSource(r){if(!r)return!1;const n=this.registry.getSource(r,!0);if(Ft(n,`Expected to find a valid source. sourceId=${r}`),!this.isDragging()||!this.isSourcePublic())return!1;const s=this.registry.getSourceType(r),a=this.getItemType();return s!==a?!1:n.isDragging(this,r)}isOverTarget(r,n={shallow:!1}){if(!r)return!1;const{shallow:s}=n;if(!this.isDragging())return!1;const a=this.registry.getTargetType(r),i=this.getItemType();if(i&&!P_(a,i))return!1;const o=this.getTargetIds();if(!o.length)return!1;const l=o.indexOf(r);return s?l===o.length-1:l>-1}getItemType(){return this.store.getState().dragOperation.itemType}getItem(){return this.store.getState().dragOperation.item}getSourceId(){return this.store.getState().dragOperation.sourceId}getTargetIds(){return this.store.getState().dragOperation.targetIds}getDropResult(){return this.store.getState().dragOperation.dropResult}didDrop(){return this.store.getState().dragOperation.didDrop}isSourcePublic(){return!!this.store.getState().dragOperation.isSourcePublic}getInitialClientOffset(){return this.store.getState().dragOffset.initialClientOffset}getInitialSourceClientOffset(){return this.store.getState().dragOffset.initialSourceClientOffset}getClientOffset(){return this.store.getState().dragOffset.clientOffset}getSourceClientOffset(){return mae(this.store.getState().dragOffset)}getDifferenceFromInitialOffset(){return fae(this.store.getState().dragOffset)}constructor(r,n){this.store=r,this.registry=n}}const sA=typeof global<"u"?global:self,j$=sA.MutationObserver||sA.WebKitMutationObserver;function w$(t){return function(){const n=setTimeout(a,0),s=setInterval(a,50);function a(){clearTimeout(n),clearInterval(s),t()}}}function gae(t){let r=1;const n=new j$(t),s=document.createTextNode("");return n.observe(s,{characterData:!0}),function(){r=-r,s.data=r}}const vae=typeof j$=="function"?gae:w$;class yae{enqueueTask(r){const{queue:n,requestFlush:s}=this;n.length||(s(),this.flushing=!0),n[n.length]=r}constructor(){this.queue=[],this.pendingErrors=[],this.flushing=!1,this.index=0,this.capacity=1024,this.flush=()=>{const{queue:r}=this;for(;this.index<r.length;){const n=this.index;if(this.index++,r[n].call(),this.index>this.capacity){for(let s=0,a=r.length-this.index;s<a;s++)r[s]=r[s+this.index];r.length-=this.index,this.index=0}}r.length=0,this.index=0,this.flushing=!1},this.registerPendingError=r=>{this.pendingErrors.push(r),this.requestErrorThrow()},this.requestFlush=vae(this.flush),this.requestErrorThrow=w$(()=>{if(this.pendingErrors.length)throw this.pendingErrors.shift()})}}class bae{call(){try{this.task&&this.task()}catch(r){this.onError(r)}finally{this.task=null,this.release(this)}}constructor(r,n){this.onError=r,this.release=n,this.task=null}}class jae{create(r){const n=this.freeTasks,s=n.length?n.pop():new bae(this.onError,a=>n[n.length]=a);return s.task=r,s}constructor(r){this.onError=r,this.freeTasks=[]}}const N$=new yae,wae=new jae(N$.registerPendingError);function Nae(t){N$.enqueueTask(wae.create(t))}const a4="dnd-core/ADD_SOURCE",i4="dnd-core/ADD_TARGET",o4="dnd-core/REMOVE_SOURCE",ky="dnd-core/REMOVE_TARGET";function Sae(t){return{type:a4,payload:{sourceId:t}}}function _ae(t){return{type:i4,payload:{targetId:t}}}function kae(t){return{type:o4,payload:{sourceId:t}}}function Cae(t){return{type:ky,payload:{targetId:t}}}function Pae(t){Ft(typeof t.canDrag=="function","Expected canDrag to be a function."),Ft(typeof t.beginDrag=="function","Expected beginDrag to be a function."),Ft(typeof t.endDrag=="function","Expected endDrag to be a function.")}function Aae(t){Ft(typeof t.canDrop=="function","Expected canDrop to be a function."),Ft(typeof t.hover=="function","Expected hover to be a function."),Ft(typeof t.drop=="function","Expected beginDrag to be a function.")}function A_(t,r){if(r&&Array.isArray(t)){t.forEach(n=>A_(n,!1));return}Ft(typeof t=="string"||typeof t=="symbol",r?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}var si;(function(t){t.SOURCE="SOURCE",t.TARGET="TARGET"})(si||(si={}));let Eae=0;function Tae(){return Eae++}function Oae(t){const r=Tae().toString();switch(t){case si.SOURCE:return`S${r}`;case si.TARGET:return`T${r}`;default:throw new Error(`Unknown Handler Role: ${t}`)}}function aA(t){switch(t[0]){case"S":return si.SOURCE;case"T":return si.TARGET;default:throw new Error(`Cannot parse handler ID: ${t}`)}}function iA(t,r){const n=t.entries();let s=!1;do{const{done:a,value:[,i]}=n.next();if(i===r)return!0;s=!!a}while(!s);return!1}class Mae{addSource(r,n){A_(r),Pae(n);const s=this.addHandler(si.SOURCE,r,n);return this.store.dispatch(Sae(s)),s}addTarget(r,n){A_(r,!0),Aae(n);const s=this.addHandler(si.TARGET,r,n);return this.store.dispatch(_ae(s)),s}containsHandler(r){return iA(this.dragSources,r)||iA(this.dropTargets,r)}getSource(r,n=!1){return Ft(this.isSourceId(r),"Expected a valid source ID."),n&&r===this.pinnedSourceId?this.pinnedSource:this.dragSources.get(r)}getTarget(r){return Ft(this.isTargetId(r),"Expected a valid target ID."),this.dropTargets.get(r)}getSourceType(r){return Ft(this.isSourceId(r),"Expected a valid source ID."),this.types.get(r)}getTargetType(r){return Ft(this.isTargetId(r),"Expected a valid target ID."),this.types.get(r)}isSourceId(r){return aA(r)===si.SOURCE}isTargetId(r){return aA(r)===si.TARGET}removeSource(r){Ft(this.getSource(r),"Expected an existing source."),this.store.dispatch(kae(r)),Nae(()=>{this.dragSources.delete(r),this.types.delete(r)})}removeTarget(r){Ft(this.getTarget(r),"Expected an existing target."),this.store.dispatch(Cae(r)),this.dropTargets.delete(r),this.types.delete(r)}pinSource(r){const n=this.getSource(r);Ft(n,"Expected an existing source."),this.pinnedSourceId=r,this.pinnedSource=n}unpinSource(){Ft(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}addHandler(r,n,s){const a=Oae(r);return this.types.set(a,n),r===si.SOURCE?this.dragSources.set(a,s):r===si.TARGET&&this.dropTargets.set(a,s),a}constructor(r){this.types=new Map,this.dragSources=new Map,this.dropTargets=new Map,this.pinnedSourceId=null,this.pinnedSource=null,this.store=r}}const Dae=(t,r)=>t===r;function Rae(t,r){return!t&&!r?!0:!t||!r?!1:t.x===r.x&&t.y===r.y}function Iae(t,r,n=Dae){if(t.length!==r.length)return!1;for(let s=0;s<t.length;++s)if(!n(t[s],r[s]))return!1;return!0}function Lae(t=rp,r){switch(r.type){case Ny:break;case a4:case i4:case ky:case o4:return rp;case wy:case n4:case _y:case Sy:default:return s4}const{targetIds:n=[],prevTargetIds:s=[]}=r.payload,a=zse(n,s);if(!(a.length>0||!Iae(n,s)))return rp;const o=s[s.length-1],l=n[n.length-1];return o!==l&&(o&&a.push(o),l&&a.push(l)),a}function $ae(t,r,n){return r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function Bae(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{},s=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(s=s.concat(Object.getOwnPropertySymbols(n).filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable}))),s.forEach(function(a){$ae(t,a,n[a])})}return t}const oA={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function Fae(t=oA,r){const{payload:n}=r;switch(r.type){case r4:case wy:return{initialSourceClientOffset:n.sourceClientOffset,initialClientOffset:n.clientOffset,clientOffset:n.clientOffset};case Ny:return Rae(t.clientOffset,n.clientOffset)?t:Bae({},t,{clientOffset:n.clientOffset});case _y:case Sy:return oA;default:return t}}function zae(t,r,n){return r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function hh(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{},s=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(s=s.concat(Object.getOwnPropertySymbols(n).filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable}))),s.forEach(function(a){zae(t,a,n[a])})}return t}const Uae={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function Hae(t=Uae,r){const{payload:n}=r;switch(r.type){case wy:return hh({},t,{itemType:n.itemType,item:n.item,sourceId:n.sourceId,isSourcePublic:n.isSourcePublic,dropResult:null,didDrop:!1});case n4:return hh({},t,{isSourcePublic:!0});case Ny:return hh({},t,{targetIds:n.targetIds});case ky:return t.targetIds.indexOf(n.targetId)===-1?t:hh({},t,{targetIds:Fse(t.targetIds,n.targetId)});case Sy:return hh({},t,{dropResult:n.dropResult,didDrop:!0,targetIds:[]});case _y:return hh({},t,{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return t}}function Wae(t=0,r){switch(r.type){case a4:case i4:return t+1;case o4:case ky:return t-1;default:return t}}function qae(t=0){return t+1}function Vae(t,r,n){return r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function Gae(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{},s=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(s=s.concat(Object.getOwnPropertySymbols(n).filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable}))),s.forEach(function(a){Vae(t,a,n[a])})}return t}function Kae(t={},r){return{dirtyHandlerIds:Lae(t.dirtyHandlerIds,{type:r.type,payload:Gae({},r.payload,{prevTargetIds:Bse(t,"dragOperation.targetIds",[])})}),dragOffset:Fae(t.dragOffset,r),refCount:Wae(t.refCount,r),dragOperation:Hae(t.dragOperation,r),stateId:qae(t.stateId)}}function Yae(t,r=void 0,n={},s=!1){const a=Zae(s),i=new xae(a,new Mae(a)),o=new uae(a,i),l=t(o,r,n);return o.receiveBackend(l),o}function Zae(t){const r=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION__;return v$(Kae,t&&r&&r({name:"dnd-core",instanceId:"dnd-core"}))}function Xae(t,r){if(t==null)return{};var n=Jae(t,r),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)s=i[a],!(r.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(n[s]=t[s])}return n}function Jae(t,r){if(t==null)return{};var n={},s=Object.keys(t),a,i;for(i=0;i<s.length;i++)a=s[i],!(r.indexOf(a)>=0)&&(n[a]=t[a]);return n}let lA=0;const _0=Symbol.for("__REACT_DND_CONTEXT_INSTANCE__");var Qae=N.memo(function(r){var{children:n}=r,s=Xae(r,["children"]);const[a,i]=eie(s);return N.useEffect(()=>{if(i){const o=S$();return++lA,()=>{--lA===0&&(o[_0]=null)}}},[]),e.jsx(g$.Provider,{value:a,children:n})});function eie(t){if("manager"in t)return[{dragDropManager:t.manager},!1];const r=tie(t.backend,t.context,t.options,t.debugMode),n=!t.context;return[r,n]}function tie(t,r=S$(),n,s){const a=r;return a[_0]||(a[_0]={dragDropManager:Yae(t,r,n,s)}),a[_0]}function S$(){return typeof global<"u"?global:window}var hw,cA;function rie(){return cA||(cA=1,hw=function t(r,n){if(r===n)return!0;if(r&&n&&typeof r=="object"&&typeof n=="object"){if(r.constructor!==n.constructor)return!1;var s,a,i;if(Array.isArray(r)){if(s=r.length,s!=n.length)return!1;for(a=s;a--!==0;)if(!t(r[a],n[a]))return!1;return!0}if(r.constructor===RegExp)return r.source===n.source&&r.flags===n.flags;if(r.valueOf!==Object.prototype.valueOf)return r.valueOf()===n.valueOf();if(r.toString!==Object.prototype.toString)return r.toString()===n.toString();if(i=Object.keys(r),s=i.length,s!==Object.keys(n).length)return!1;for(a=s;a--!==0;)if(!Object.prototype.hasOwnProperty.call(n,i[a]))return!1;for(a=s;a--!==0;){var o=i[a];if(!t(r[o],n[o]))return!1}return!0}return r!==r&&n!==n}),hw}var nie=rie();const sie=ar(nie),Gd=typeof window<"u"?N.useLayoutEffect:N.useEffect;function aie(t,r,n){const[s,a]=N.useState(()=>r(t)),i=N.useCallback(()=>{const o=r(t);sie(s,o)||(a(o),n&&n())},[s,t,n]);return Gd(i),[s,i]}function iie(t,r,n){const[s,a]=aie(t,r,n);return Gd(function(){const o=t.getHandlerId();if(o!=null)return t.subscribeToStateChange(a,{handlerIds:[o]})},[t,a]),s}function _$(t,r,n){return iie(r,t||(()=>({})),()=>n.reconnect())}function k$(t,r){const n=[];return typeof t!="function"&&n.push(t),N.useMemo(()=>typeof t=="function"?t():t,n)}function oie(t){return N.useMemo(()=>t.hooks.dragSource(),[t])}function lie(t){return N.useMemo(()=>t.hooks.dragPreview(),[t])}let mw=!1,fw=!1;class cie{receiveHandlerId(r){this.sourceId=r}getHandlerId(){return this.sourceId}canDrag(){Ft(!mw,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return mw=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{mw=!1}}isDragging(){if(!this.sourceId)return!1;Ft(!fw,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return fw=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{fw=!1}}subscribeToStateChange(r,n){return this.internalMonitor.subscribeToStateChange(r,n)}isDraggingSource(r){return this.internalMonitor.isDraggingSource(r)}isOverTarget(r,n){return this.internalMonitor.isOverTarget(r,n)}getTargetIds(){return this.internalMonitor.getTargetIds()}isSourcePublic(){return this.internalMonitor.isSourcePublic()}getSourceId(){return this.internalMonitor.getSourceId()}subscribeToOffsetChange(r){return this.internalMonitor.subscribeToOffsetChange(r)}canDragSource(r){return this.internalMonitor.canDragSource(r)}canDropOnTarget(r){return this.internalMonitor.canDropOnTarget(r)}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(r){this.sourceId=null,this.internalMonitor=r.getMonitor()}}let pw=!1;class die{receiveHandlerId(r){this.targetId=r}getHandlerId(){return this.targetId}subscribeToStateChange(r,n){return this.internalMonitor.subscribeToStateChange(r,n)}canDrop(){if(!this.targetId)return!1;Ft(!pw,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor");try{return pw=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{pw=!1}}isOver(r){return this.targetId?this.internalMonitor.isOverTarget(this.targetId,r):!1}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(r){this.targetId=null,this.internalMonitor=r.getMonitor()}}function uie(t,r,n){const s=n.getRegistry(),a=s.addTarget(t,r);return[a,()=>s.removeTarget(a)]}function hie(t,r,n){const s=n.getRegistry(),a=s.addSource(t,r);return[a,()=>s.removeSource(a)]}function E_(t,r,n,s){let a;if(a!==void 0)return!!a;if(t===r)return!0;if(typeof t!="object"||!t||typeof r!="object"||!r)return!1;const i=Object.keys(t),o=Object.keys(r);if(i.length!==o.length)return!1;const l=Object.prototype.hasOwnProperty.bind(r);for(let c=0;c<i.length;c++){const u=i[c];if(!l(u))return!1;const m=t[u],p=r[u];if(a=void 0,a===!1||a===void 0&&m!==p)return!1}return!0}function T_(t){return t!==null&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function mie(t){if(typeof t.type=="string")return;const r=t.type.displayName||t.type.name||"the component";throw new Error(`Only native element nodes can now be passed to React DnD connectors.You can either wrap ${r} into a <div>, or turn it into a drag source or a drop target itself.`)}function fie(t){return(r=null,n=null)=>{if(!N.isValidElement(r)){const i=r;return t(i,n),i}const s=r;return mie(s),pie(s,n?i=>t(i,n):t)}}function C$(t){const r={};return Object.keys(t).forEach(n=>{const s=t[n];if(n.endsWith("Ref"))r[n]=t[n];else{const a=fie(s);r[n]=()=>a}}),r}function dA(t,r){typeof t=="function"?t(r):t.current=r}function pie(t,r){const n=t.ref;return Ft(typeof n!="string","Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://reactjs.org/docs/refs-and-the-dom.html#callback-refs"),n?N.cloneElement(t,{ref:s=>{dA(n,s),dA(r,s)}}):N.cloneElement(t,{ref:r})}class xie{receiveHandlerId(r){this.handlerId!==r&&(this.handlerId=r,this.reconnect())}get connectTarget(){return this.dragSource}get dragSourceOptions(){return this.dragSourceOptionsInternal}set dragSourceOptions(r){this.dragSourceOptionsInternal=r}get dragPreviewOptions(){return this.dragPreviewOptionsInternal}set dragPreviewOptions(r){this.dragPreviewOptionsInternal=r}reconnect(){const r=this.reconnectDragSource();this.reconnectDragPreview(r)}reconnectDragSource(){const r=this.dragSource,n=this.didHandlerIdChange()||this.didConnectedDragSourceChange()||this.didDragSourceOptionsChange();return n&&this.disconnectDragSource(),this.handlerId?r?(n&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragSource=r,this.lastConnectedDragSourceOptions=this.dragSourceOptions,this.dragSourceUnsubscribe=this.backend.connectDragSource(this.handlerId,r,this.dragSourceOptions)),n):(this.lastConnectedDragSource=r,n):n}reconnectDragPreview(r=!1){const n=this.dragPreview,s=r||this.didHandlerIdChange()||this.didConnectedDragPreviewChange()||this.didDragPreviewOptionsChange();if(s&&this.disconnectDragPreview(),!!this.handlerId){if(!n){this.lastConnectedDragPreview=n;return}s&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragPreview=n,this.lastConnectedDragPreviewOptions=this.dragPreviewOptions,this.dragPreviewUnsubscribe=this.backend.connectDragPreview(this.handlerId,n,this.dragPreviewOptions))}}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didConnectedDragSourceChange(){return this.lastConnectedDragSource!==this.dragSource}didConnectedDragPreviewChange(){return this.lastConnectedDragPreview!==this.dragPreview}didDragSourceOptionsChange(){return!E_(this.lastConnectedDragSourceOptions,this.dragSourceOptions)}didDragPreviewOptionsChange(){return!E_(this.lastConnectedDragPreviewOptions,this.dragPreviewOptions)}disconnectDragSource(){this.dragSourceUnsubscribe&&(this.dragSourceUnsubscribe(),this.dragSourceUnsubscribe=void 0)}disconnectDragPreview(){this.dragPreviewUnsubscribe&&(this.dragPreviewUnsubscribe(),this.dragPreviewUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)}get dragSource(){return this.dragSourceNode||this.dragSourceRef&&this.dragSourceRef.current}get dragPreview(){return this.dragPreviewNode||this.dragPreviewRef&&this.dragPreviewRef.current}clearDragSource(){this.dragSourceNode=null,this.dragSourceRef=null}clearDragPreview(){this.dragPreviewNode=null,this.dragPreviewRef=null}constructor(r){this.hooks=C$({dragSource:(n,s)=>{this.clearDragSource(),this.dragSourceOptions=s||null,T_(n)?this.dragSourceRef=n:this.dragSourceNode=n,this.reconnectDragSource()},dragPreview:(n,s)=>{this.clearDragPreview(),this.dragPreviewOptions=s||null,T_(n)?this.dragPreviewRef=n:this.dragPreviewNode=n,this.reconnectDragPreview()}}),this.handlerId=null,this.dragSourceRef=null,this.dragSourceOptionsInternal=null,this.dragPreviewRef=null,this.dragPreviewOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDragSource=null,this.lastConnectedDragSourceOptions=null,this.lastConnectedDragPreview=null,this.lastConnectedDragPreviewOptions=null,this.backend=r}}class gie{get connectTarget(){return this.dropTarget}reconnect(){const r=this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();r&&this.disconnectDropTarget();const n=this.dropTarget;if(this.handlerId){if(!n){this.lastConnectedDropTarget=n;return}r&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=n,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=this.backend.connectDropTarget(this.handlerId,n,this.dropTargetOptions))}}receiveHandlerId(r){r!==this.handlerId&&(this.handlerId=r,this.reconnect())}get dropTargetOptions(){return this.dropTargetOptionsInternal}set dropTargetOptions(r){this.dropTargetOptionsInternal=r}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didDropTargetChange(){return this.lastConnectedDropTarget!==this.dropTarget}didOptionsChange(){return!E_(this.lastConnectedDropTargetOptions,this.dropTargetOptions)}disconnectDropTarget(){this.unsubscribeDropTarget&&(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=void 0)}get dropTarget(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.current}clearDropTarget(){this.dropTargetRef=null,this.dropTargetNode=null}constructor(r){this.hooks=C$({dropTarget:(n,s)=>{this.clearDropTarget(),this.dropTargetOptions=s,T_(n)?this.dropTargetRef=n:this.dropTargetNode=n,this.reconnect()}}),this.handlerId=null,this.dropTargetRef=null,this.dropTargetOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDropTarget=null,this.lastConnectedDropTargetOptions=null,this.backend=r}}function Am(){const{dragDropManager:t}=N.useContext(g$);return Ft(t!=null,"Expected drag drop context"),t}function vie(t,r){const n=Am(),s=N.useMemo(()=>new xie(n.getBackend()),[n]);return Gd(()=>(s.dragSourceOptions=t||null,s.reconnect(),()=>s.disconnectDragSource()),[s,t]),Gd(()=>(s.dragPreviewOptions=r||null,s.reconnect(),()=>s.disconnectDragPreview()),[s,r]),s}function yie(){const t=Am();return N.useMemo(()=>new cie(t),[t])}class bie{beginDrag(){const r=this.spec,n=this.monitor;let s=null;return typeof r.item=="object"?s=r.item:typeof r.item=="function"?s=r.item(n):s={},s??null}canDrag(){const r=this.spec,n=this.monitor;return typeof r.canDrag=="boolean"?r.canDrag:typeof r.canDrag=="function"?r.canDrag(n):!0}isDragging(r,n){const s=this.spec,a=this.monitor,{isDragging:i}=s;return i?i(a):n===r.getSourceId()}endDrag(){const r=this.spec,n=this.monitor,s=this.connector,{end:a}=r;a&&a(n.getItem(),n),s.reconnect()}constructor(r,n,s){this.spec=r,this.monitor=n,this.connector=s}}function jie(t,r,n){const s=N.useMemo(()=>new bie(t,r,n),[r,n]);return N.useEffect(()=>{s.spec=t},[t]),s}function wie(t){return N.useMemo(()=>{const r=t.type;return Ft(r!=null,"spec.type must be defined"),r},[t])}function Nie(t,r,n){const s=Am(),a=jie(t,r,n),i=wie(t);Gd(function(){if(i!=null){const[l,c]=hie(i,a,s);return r.receiveHandlerId(l),n.receiveHandlerId(l),c}},[s,r,n,a,i])}function Sie(t,r){const n=k$(t);Ft(!n.begin,"useDrag::spec.begin was deprecated in v14. Replace spec.begin() with spec.item(). (see more here - https://react-dnd.github.io/react-dnd/docs/api/use-drag)");const s=yie(),a=vie(n.options,n.previewOptions);return Nie(n,s,a),[_$(n.collect,s,a),oie(a),lie(a)]}function _ie(t){return N.useMemo(()=>t.hooks.dropTarget(),[t])}function kie(t){const r=Am(),n=N.useMemo(()=>new gie(r.getBackend()),[r]);return Gd(()=>(n.dropTargetOptions=t||null,n.reconnect(),()=>n.disconnectDropTarget()),[t]),n}function Cie(){const t=Am();return N.useMemo(()=>new die(t),[t])}function Pie(t){const{accept:r}=t;return N.useMemo(()=>(Ft(t.accept!=null,"accept must be defined"),Array.isArray(r)?r:[r]),[r])}class Aie{canDrop(){const r=this.spec,n=this.monitor;return r.canDrop?r.canDrop(n.getItem(),n):!0}hover(){const r=this.spec,n=this.monitor;r.hover&&r.hover(n.getItem(),n)}drop(){const r=this.spec,n=this.monitor;if(r.drop)return r.drop(n.getItem(),n)}constructor(r,n){this.spec=r,this.monitor=n}}function Eie(t,r){const n=N.useMemo(()=>new Aie(t,r),[r]);return N.useEffect(()=>{n.spec=t},[t]),n}function Tie(t,r,n){const s=Am(),a=Eie(t,r),i=Pie(t);Gd(function(){const[l,c]=uie(i,a,s);return r.receiveHandlerId(l),n.receiveHandlerId(l),c},[s,r,a,n,i.map(o=>o.toString()).join("|")])}function Oie(t,r){const n=k$(t),s=Cie(),a=kie(n.options);return Tie(n,s,a),[_$(n.collect,s,a),_ie(a)]}function P$(t){let r=null;return()=>(r==null&&(r=t()),r)}function Mie(t,r){return t.filter(n=>n!==r)}function Die(t,r){const n=new Set,s=i=>n.add(i);t.forEach(s),r.forEach(s);const a=[];return n.forEach(i=>a.push(i)),a}class Rie{enter(r){const n=this.entered.length,s=a=>this.isNodeInDocument(a)&&(!a.contains||a.contains(r));return this.entered=Die(this.entered.filter(s),[r]),n===0&&this.entered.length>0}leave(r){const n=this.entered.length;return this.entered=Mie(this.entered.filter(this.isNodeInDocument),r),n>0&&this.entered.length===0}reset(){this.entered=[]}constructor(r){this.entered=[],this.isNodeInDocument=r}}class Iie{initializeExposedProperties(){Object.keys(this.config.exposeProperties).forEach(r=>{Object.defineProperty(this.item,r,{configurable:!0,enumerable:!0,get(){return console.warn(`Browser doesn't allow reading "${r}" until the drop event.`),null}})})}loadDataTransfer(r){if(r){const n={};Object.keys(this.config.exposeProperties).forEach(s=>{const a=this.config.exposeProperties[s];a!=null&&(n[s]={value:a(r,this.config.matchesTypes),configurable:!0,enumerable:!0})}),Object.defineProperties(this.item,n)}}canDrag(){return!0}beginDrag(){return this.item}isDragging(r,n){return n===r.getSourceId()}endDrag(){}constructor(r){this.config=r,this.item={},this.initializeExposedProperties()}}const A$="__NATIVE_FILE__",E$="__NATIVE_URL__",T$="__NATIVE_TEXT__",O$="__NATIVE_HTML__",uA=Object.freeze(Object.defineProperty({__proto__:null,FILE:A$,HTML:O$,TEXT:T$,URL:E$},Symbol.toStringTag,{value:"Module"}));function xw(t,r,n){const s=r.reduce((a,i)=>a||t.getData(i),"");return s??n}const O_={[A$]:{exposeProperties:{files:t=>Array.prototype.slice.call(t.files),items:t=>t.items,dataTransfer:t=>t},matchesTypes:["Files"]},[O$]:{exposeProperties:{html:(t,r)=>xw(t,r,""),dataTransfer:t=>t},matchesTypes:["Html","text/html"]},[E$]:{exposeProperties:{urls:(t,r)=>xw(t,r,"").split(`
`),dataTransfer:t=>t},matchesTypes:["Url","text/uri-list"]},[T$]:{exposeProperties:{text:(t,r)=>xw(t,r,""),dataTransfer:t=>t},matchesTypes:["Text","text/plain"]}};function Lie(t,r){const n=O_[t];if(!n)throw new Error(`native type ${t} has no configuration`);const s=new Iie(n);return s.loadDataTransfer(r),s}function gw(t){if(!t)return null;const r=Array.prototype.slice.call(t.types||[]);return Object.keys(O_).filter(n=>{const s=O_[n];return s!=null&&s.matchesTypes?s.matchesTypes.some(a=>r.indexOf(a)>-1):!1})[0]||null}const $ie=P$(()=>/firefox/i.test(navigator.userAgent)),M$=P$(()=>!!window.safari);class hA{interpolate(r){const{xs:n,ys:s,c1s:a,c2s:i,c3s:o}=this;let l=n.length-1;if(r===n[l])return s[l];let c=0,u=o.length-1,m;for(;c<=u;){m=Math.floor(.5*(c+u));const v=n[m];if(v<r)c=m+1;else if(v>r)u=m-1;else return s[m]}l=Math.max(0,u);const p=r-n[l],x=p*p;return s[l]+a[l]*p+i[l]*x+o[l]*p*x}constructor(r,n){const{length:s}=r,a=[];for(let v=0;v<s;v++)a.push(v);a.sort((v,w)=>r[v]<r[w]?-1:1);const i=[],o=[];let l,c;for(let v=0;v<s-1;v++)l=r[v+1]-r[v],c=n[v+1]-n[v],i.push(l),o.push(c/l);const u=[o[0]];for(let v=0;v<i.length-1;v++){const w=o[v],y=o[v+1];if(w*y<=0)u.push(0);else{l=i[v];const j=i[v+1],S=l+j;u.push(3*S/((S+j)/w+(S+l)/y))}}u.push(o[o.length-1]);const m=[],p=[];let x;for(let v=0;v<u.length-1;v++){x=o[v];const w=u[v],y=1/i[v],j=w+u[v+1]-x-x;m.push((x-w-j)*y),p.push(j*y*y)}this.xs=r,this.ys=n,this.c1s=u,this.c2s=m,this.c3s=p}}const Bie=1;function D$(t){const r=t.nodeType===Bie?t:t.parentElement;if(!r)return null;const{top:n,left:s}=r.getBoundingClientRect();return{x:s,y:n}}function n0(t){return{x:t.clientX,y:t.clientY}}function Fie(t){var r;return t.nodeName==="IMG"&&($ie()||!(!((r=document.documentElement)===null||r===void 0)&&r.contains(t)))}function zie(t,r,n,s){let a=t?r.width:n,i=t?r.height:s;return M$()&&t&&(i/=window.devicePixelRatio,a/=window.devicePixelRatio),{dragPreviewWidth:a,dragPreviewHeight:i}}function Uie(t,r,n,s,a){const i=Fie(r),l=D$(i?t:r),c={x:n.x-l.x,y:n.y-l.y},{offsetWidth:u,offsetHeight:m}=t,{anchorX:p,anchorY:x}=s,{dragPreviewWidth:v,dragPreviewHeight:w}=zie(i,r,u,m),y=()=>{let k=new hA([0,.5,1],[c.y,c.y/m*w,c.y+w-m]).interpolate(x);return M$()&&i&&(k+=(window.devicePixelRatio-1)*w),k},j=()=>new hA([0,.5,1],[c.x,c.x/u*v,c.x+v-u]).interpolate(p),{offsetX:S,offsetY:C}=a,P=S===0||S,T=C===0||C;return{x:P?S:j(),y:T?C:y()}}class Hie{get window(){if(this.globalContext)return this.globalContext;if(typeof window<"u")return window}get document(){var r;return!((r=this.globalContext)===null||r===void 0)&&r.document?this.globalContext.document:this.window?this.window.document:void 0}get rootElement(){var r;return((r=this.optionsArgs)===null||r===void 0?void 0:r.rootElement)||this.window}constructor(r,n){this.ownerDocument=null,this.globalContext=r,this.optionsArgs=n}}function Wie(t,r,n){return r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function mA(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{},s=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(s=s.concat(Object.getOwnPropertySymbols(n).filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable}))),s.forEach(function(a){Wie(t,a,n[a])})}return t}class qie{profile(){var r,n;return{sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,sourceNodeOptions:this.sourceNodeOptions.size,sourceNodes:this.sourceNodes.size,dragStartSourceIds:((r=this.dragStartSourceIds)===null||r===void 0?void 0:r.length)||0,dropTargetIds:this.dropTargetIds.length,dragEnterTargetIds:this.dragEnterTargetIds.length,dragOverTargetIds:((n=this.dragOverTargetIds)===null||n===void 0?void 0:n.length)||0}}get window(){return this.options.window}get document(){return this.options.document}get rootElement(){return this.options.rootElement}setup(){const r=this.rootElement;if(r!==void 0){if(r.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");r.__isReactDndBackendSetUp=!0,this.addEventListeners(r)}}teardown(){const r=this.rootElement;if(r!==void 0&&(r.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.rootElement),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId)){var n;(n=this.window)===null||n===void 0||n.cancelAnimationFrame(this.asyncEndDragFrameId)}}connectDragPreview(r,n,s){return this.sourcePreviewNodeOptions.set(r,s),this.sourcePreviewNodes.set(r,n),()=>{this.sourcePreviewNodes.delete(r),this.sourcePreviewNodeOptions.delete(r)}}connectDragSource(r,n,s){this.sourceNodes.set(r,n),this.sourceNodeOptions.set(r,s);const a=o=>this.handleDragStart(o,r),i=o=>this.handleSelectStart(o);return n.setAttribute("draggable","true"),n.addEventListener("dragstart",a),n.addEventListener("selectstart",i),()=>{this.sourceNodes.delete(r),this.sourceNodeOptions.delete(r),n.removeEventListener("dragstart",a),n.removeEventListener("selectstart",i),n.setAttribute("draggable","false")}}connectDropTarget(r,n){const s=o=>this.handleDragEnter(o,r),a=o=>this.handleDragOver(o,r),i=o=>this.handleDrop(o,r);return n.addEventListener("dragenter",s),n.addEventListener("dragover",a),n.addEventListener("drop",i),()=>{n.removeEventListener("dragenter",s),n.removeEventListener("dragover",a),n.removeEventListener("drop",i)}}addEventListeners(r){r.addEventListener&&(r.addEventListener("dragstart",this.handleTopDragStart),r.addEventListener("dragstart",this.handleTopDragStartCapture,!0),r.addEventListener("dragend",this.handleTopDragEndCapture,!0),r.addEventListener("dragenter",this.handleTopDragEnter),r.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),r.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),r.addEventListener("dragover",this.handleTopDragOver),r.addEventListener("dragover",this.handleTopDragOverCapture,!0),r.addEventListener("drop",this.handleTopDrop),r.addEventListener("drop",this.handleTopDropCapture,!0))}removeEventListeners(r){r.removeEventListener&&(r.removeEventListener("dragstart",this.handleTopDragStart),r.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),r.removeEventListener("dragend",this.handleTopDragEndCapture,!0),r.removeEventListener("dragenter",this.handleTopDragEnter),r.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),r.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),r.removeEventListener("dragover",this.handleTopDragOver),r.removeEventListener("dragover",this.handleTopDragOverCapture,!0),r.removeEventListener("drop",this.handleTopDrop),r.removeEventListener("drop",this.handleTopDropCapture,!0))}getCurrentSourceNodeOptions(){const r=this.monitor.getSourceId(),n=this.sourceNodeOptions.get(r);return mA({dropEffect:this.altKeyPressed?"copy":"move"},n||{})}getCurrentDropEffect(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}getCurrentSourcePreviewNodeOptions(){const r=this.monitor.getSourceId(),n=this.sourcePreviewNodeOptions.get(r);return mA({anchorX:.5,anchorY:.5,captureDraggingState:!1},n||{})}isDraggingNativeItem(){const r=this.monitor.getItemType();return Object.keys(uA).some(n=>uA[n]===r)}beginDragNativeItem(r,n){this.clearCurrentDragSourceNode(),this.currentNativeSource=Lie(r,n),this.currentNativeHandle=this.registry.addSource(r,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}setCurrentDragSourceNode(r){this.clearCurrentDragSourceNode(),this.currentDragSourceNode=r;const n=1e3;this.mouseMoveTimeoutTimer=setTimeout(()=>{var s;return(s=this.rootElement)===null||s===void 0?void 0:s.addEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)},n)}clearCurrentDragSourceNode(){if(this.currentDragSourceNode){if(this.currentDragSourceNode=null,this.rootElement){var r;(r=this.window)===null||r===void 0||r.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.rootElement.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)}return this.mouseMoveTimeoutTimer=null,!0}return!1}handleDragStart(r,n){r.defaultPrevented||(this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(n))}handleDragEnter(r,n){this.dragEnterTargetIds.unshift(n)}handleDragOver(r,n){this.dragOverTargetIds===null&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(n)}handleDrop(r,n){this.dropTargetIds.unshift(n)}constructor(r,n,s){this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.sourceNodes=new Map,this.sourceNodeOptions=new Map,this.dragStartSourceIds=null,this.dropTargetIds=[],this.dragEnterTargetIds=[],this.currentNativeSource=null,this.currentNativeHandle=null,this.currentDragSourceNode=null,this.altKeyPressed=!1,this.mouseMoveTimeoutTimer=null,this.asyncEndDragFrameId=null,this.dragOverTargetIds=null,this.lastClientOffset=null,this.hoverRafId=null,this.getSourceClientOffset=a=>{const i=this.sourceNodes.get(a);return i&&D$(i)||null},this.endDragNativeItem=()=>{this.isDraggingNativeItem()&&(this.actions.endDrag(),this.currentNativeHandle&&this.registry.removeSource(this.currentNativeHandle),this.currentNativeHandle=null,this.currentNativeSource=null)},this.isNodeInDocument=a=>!!(a&&this.document&&this.document.body&&this.document.body.contains(a)),this.endDragIfSourceWasRemovedFromDOM=()=>{const a=this.currentDragSourceNode;a==null||this.isNodeInDocument(a)||(this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover())},this.scheduleHover=a=>{this.hoverRafId===null&&typeof requestAnimationFrame<"u"&&(this.hoverRafId=requestAnimationFrame(()=>{this.monitor.isDragging()&&this.actions.hover(a||[],{clientOffset:this.lastClientOffset}),this.hoverRafId=null}))},this.cancelHover=()=>{this.hoverRafId!==null&&typeof cancelAnimationFrame<"u"&&(cancelAnimationFrame(this.hoverRafId),this.hoverRafId=null)},this.handleTopDragStartCapture=()=>{this.clearCurrentDragSourceNode(),this.dragStartSourceIds=[]},this.handleTopDragStart=a=>{if(a.defaultPrevented)return;const{dragStartSourceIds:i}=this;this.dragStartSourceIds=null;const o=n0(a);this.monitor.isDragging()&&(this.actions.endDrag(),this.cancelHover()),this.actions.beginDrag(i||[],{publishSource:!1,getSourceClientOffset:this.getSourceClientOffset,clientOffset:o});const{dataTransfer:l}=a,c=gw(l);if(this.monitor.isDragging()){if(l&&typeof l.setDragImage=="function"){const m=this.monitor.getSourceId(),p=this.sourceNodes.get(m),x=this.sourcePreviewNodes.get(m)||p;if(x){const{anchorX:v,anchorY:w,offsetX:y,offsetY:j}=this.getCurrentSourcePreviewNodeOptions(),P=Uie(p,x,o,{anchorX:v,anchorY:w},{offsetX:y,offsetY:j});l.setDragImage(x,P.x,P.y)}}try{l==null||l.setData("application/json",{})}catch{}this.setCurrentDragSourceNode(a.target);const{captureDraggingState:u}=this.getCurrentSourcePreviewNodeOptions();u?this.actions.publishDragSource():setTimeout(()=>this.actions.publishDragSource(),0)}else if(c)this.beginDragNativeItem(c);else{if(l&&!l.types&&(a.target&&!a.target.hasAttribute||!a.target.hasAttribute("draggable")))return;a.preventDefault()}},this.handleTopDragEndCapture=()=>{this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleTopDragEnterCapture=a=>{if(this.dragEnterTargetIds=[],this.isDraggingNativeItem()){var i;(i=this.currentNativeSource)===null||i===void 0||i.loadDataTransfer(a.dataTransfer)}if(!this.enterLeaveCounter.enter(a.target)||this.monitor.isDragging())return;const{dataTransfer:l}=a,c=gw(l);c&&this.beginDragNativeItem(c,l)},this.handleTopDragEnter=a=>{const{dragEnterTargetIds:i}=this;if(this.dragEnterTargetIds=[],!this.monitor.isDragging())return;this.altKeyPressed=a.altKey,i.length>0&&this.actions.hover(i,{clientOffset:n0(a)}),i.some(l=>this.monitor.canDropOnTarget(l))&&(a.preventDefault(),a.dataTransfer&&(a.dataTransfer.dropEffect=this.getCurrentDropEffect()))},this.handleTopDragOverCapture=a=>{if(this.dragOverTargetIds=[],this.isDraggingNativeItem()){var i;(i=this.currentNativeSource)===null||i===void 0||i.loadDataTransfer(a.dataTransfer)}},this.handleTopDragOver=a=>{const{dragOverTargetIds:i}=this;if(this.dragOverTargetIds=[],!this.monitor.isDragging()){a.preventDefault(),a.dataTransfer&&(a.dataTransfer.dropEffect="none");return}this.altKeyPressed=a.altKey,this.lastClientOffset=n0(a),this.scheduleHover(i),(i||[]).some(l=>this.monitor.canDropOnTarget(l))?(a.preventDefault(),a.dataTransfer&&(a.dataTransfer.dropEffect=this.getCurrentDropEffect())):this.isDraggingNativeItem()?a.preventDefault():(a.preventDefault(),a.dataTransfer&&(a.dataTransfer.dropEffect="none"))},this.handleTopDragLeaveCapture=a=>{this.isDraggingNativeItem()&&a.preventDefault(),this.enterLeaveCounter.leave(a.target)&&(this.isDraggingNativeItem()&&setTimeout(()=>this.endDragNativeItem(),0),this.cancelHover())},this.handleTopDropCapture=a=>{if(this.dropTargetIds=[],this.isDraggingNativeItem()){var i;a.preventDefault(),(i=this.currentNativeSource)===null||i===void 0||i.loadDataTransfer(a.dataTransfer)}else gw(a.dataTransfer)&&a.preventDefault();this.enterLeaveCounter.reset()},this.handleTopDrop=a=>{const{dropTargetIds:i}=this;this.dropTargetIds=[],this.actions.hover(i,{clientOffset:n0(a)}),this.actions.drop({dropEffect:this.getCurrentDropEffect()}),this.isDraggingNativeItem()?this.endDragNativeItem():this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleSelectStart=a=>{const i=a.target;typeof i.dragDrop=="function"&&(i.tagName==="INPUT"||i.tagName==="SELECT"||i.tagName==="TEXTAREA"||i.isContentEditable||(a.preventDefault(),i.dragDrop()))},this.options=new Hie(n,s),this.actions=r.getActions(),this.monitor=r.getMonitor(),this.registry=r.getRegistry(),this.enterLeaveCounter=new Rie(this.isNodeInDocument)}}const Vie=function(r,n,s){return new qie(r,n,s)};function Gie({isOpen:t,onClose:r,orderId:n,clientName:s,initialItems:a=[],onComplete:i}){const{currency:o}=Kt(),[l,c]=N.useState(a),[u,m]=N.useState("card"),[p,x]=N.useState("percent"),[v,w]=N.useState(0),[y,j]=N.useState(!1),[S,C]=N.useState(""),[P,T]=N.useState("services"),_=[{id:"s1",name:"Conditioning Treatment",price:25,type:"service"},{id:"s2",name:"Scalp Massage",price:15,type:"service"},{id:"s3",name:"Beard Trim",price:20,type:"service"},{id:"s4",name:"Eyebrow Shaping",price:15,type:"service"},{id:"s5",name:"Nail Art",price:10,type:"service"},{id:"s6",name:"Hair Mask",price:30,type:"service"},{id:"s7",name:"Hot Towel Shave",price:35,type:"service"},{id:"s8",name:"Face Scrub",price:25,type:"service"}],k=[{id:"p1",name:"Premium Shampoo",price:30,type:"product"},{id:"p2",name:"Hair Oil",price:45,type:"product"},{id:"p3",name:"Styling Gel",price:20,type:"product"},{id:"p4",name:"Face Cream",price:55,type:"product"},{id:"p5",name:"Beard Oil",price:25,type:"product"},{id:"p6",name:"Hairspray",price:18,type:"product"},{id:"p7",name:"Matte Clay",price:22,type:"product"},{id:"p8",name:"Comb Set",price:15,type:"product"}];if(!t)return null;const M=l.reduce((V,W)=>V+W.price,0),$=p==="percent"?M*v/100:v,B=Math.max(0,M-$),F=V=>{c([...l,{...V}]),j(!1),C("")},H=V=>{c(l.filter((W,G)=>G!==V))},K=()=>{i(u,B),r()},Z=(P==="services"?_:k).filter(V=>V.name.toLowerCase().includes(S.toLowerCase()));return e.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4 animate-in fade-in",children:e.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-hidden flex flex-col",children:[e.jsxs("div",{className:"border-b border-gray-200 p-6 flex items-center justify-between flex-shrink-0",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Checkout"}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Complete payment for ",s,"'s visit."]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("span",{className:"text-sm text-gray-500",children:["Order #",n]}),e.jsx("button",{onClick:r,className:"w-8 h-8 rounded-full hover:bg-gray-100 flex items-center justify-center text-gray-500",children:e.jsx(ht,{className:"w-5 h-5"})})]})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-3",children:"SERVICES & PRODUCTS"}),e.jsx("div",{className:"space-y-2 mb-3",children:l.map((V,W)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-xl group hover:bg-gray-100 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-gray-600",children:""}),e.jsx("span",{className:"text-gray-900",children:V.name})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("span",{className:"font-semibold text-gray-900",children:[o.symbol,V.price.toFixed(2)]}),e.jsx("button",{onClick:()=>H(W),className:"opacity-0 group-hover:opacity-100 text-red-500 hover:text-red-700 transition-opacity",children:e.jsx(ht,{className:"w-4 h-4"})})]})]},`${V.id}-${W}`))}),e.jsxs("button",{onClick:()=>j(!y),className:"w-full p-4 border-2 border-gray-200 rounded-xl hover:border-purple-400 hover:bg-purple-50 transition-colors flex items-center justify-center gap-2 text-gray-700 hover:text-purple-600",children:[e.jsx(er,{className:"w-5 h-5"}),e.jsx("span",{className:"font-medium",children:"Add Service / Product"})]}),y&&e.jsxs(ne,{className:"mt-3 p-4 border-2 border-purple-200 animate-in slide-in-from-top-2",children:[e.jsxs("div",{className:"relative mb-4",children:[e.jsx(qr,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"text",value:S,onChange:V=>C(V.target.value),placeholder:"Search services or products...",className:"w-full pl-10 pr-4 py-3 border-2 border-gray-200 rounded-xl focus:border-purple-400 focus:outline-none"})]}),e.jsxs("div",{className:"flex gap-2 mb-4",children:[e.jsxs("button",{onClick:()=>T("services"),className:`flex-1 flex items-center justify-center gap-2 py-3 px-4 rounded-xl font-medium transition-colors ${P==="services"?"bg-purple-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[e.jsx(hl,{className:"w-4 h-4"}),"Services"]}),e.jsxs("button",{onClick:()=>T("products"),className:`flex-1 flex items-center justify-center gap-2 py-3 px-4 rounded-xl font-medium transition-colors ${P==="products"?"bg-purple-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[e.jsx(ml,{className:"w-4 h-4"}),"Products"]})]}),e.jsxs("div",{className:"max-h-64 overflow-y-auto space-y-1",children:[Z.map(V=>e.jsxs("button",{onClick:()=>F(V),className:"w-full flex items-center justify-between p-3 hover:bg-purple-50 rounded-lg transition-colors text-left",children:[e.jsx("span",{className:"text-gray-900 font-medium",children:V.name}),e.jsxs("span",{className:"text-gray-600",children:[o.symbol,V.price]})]},V.id)),Z.length===0&&e.jsx("div",{className:"text-center py-8 text-gray-500",children:e.jsxs("p",{children:["No ",P," found"]})})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-3",children:"Payment Method"}),e.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[e.jsxs("button",{onClick:()=>m("card"),className:`p-4 rounded-xl border-2 transition-all ${u==="card"?"border-purple-600 bg-purple-50":"border-gray-200 hover:border-gray-300"}`,children:[e.jsx(Wr,{className:`w-6 h-6 mx-auto mb-1 ${u==="card"?"text-purple-600":"text-gray-400"}`}),e.jsx("div",{className:`text-xs font-medium ${u==="card"?"text-purple-600":"text-gray-600"}`,children:"Card"})]}),e.jsxs("button",{onClick:()=>m("cash"),className:`p-4 rounded-xl border-2 transition-all ${u==="cash"?"border-purple-600 bg-purple-50":"border-gray-200 hover:border-gray-300"}`,children:[e.jsx(Zt,{className:`w-6 h-6 mx-auto mb-1 ${u==="cash"?"text-purple-600":"text-gray-400"}`}),e.jsx("div",{className:`text-xs font-medium ${u==="cash"?"text-purple-600":"text-gray-600"}`,children:"Cash"})]}),e.jsxs("button",{onClick:()=>m("link"),className:`p-4 rounded-xl border-2 transition-all ${u==="link"?"border-purple-600 bg-purple-50":"border-gray-200 hover:border-gray-300"}`,children:[e.jsx(HG,{className:`w-6 h-6 mx-auto mb-1 ${u==="link"?"text-purple-600":"text-gray-400"}`}),e.jsx("div",{className:`text-xs font-medium ${u==="link"?"text-purple-600":"text-gray-600"}`,children:"Link"})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-3",children:"Discount"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("div",{className:"flex gap-1 flex-shrink-0",children:[e.jsx("button",{onClick:()=>x("percent"),className:`px-3 py-2 rounded-lg text-sm font-medium transition-colors ${p==="percent"?"bg-purple-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:"%"}),e.jsx("button",{onClick:()=>x("amount"),className:`px-3 py-2 rounded-lg text-sm font-medium transition-colors ${p==="amount"?"bg-purple-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:o.symbol})]}),e.jsxs("div",{className:"flex-1 relative",children:[e.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 font-medium",children:p==="percent"?"%":o.symbol}),e.jsx("input",{type:"number",value:v,onChange:V=>w(Math.max(0,parseFloat(V.target.value)||0)),className:"w-full pl-10 pr-4 py-3 border-2 border-gray-200 rounded-xl focus:border-purple-400 focus:outline-none",placeholder:"0",min:"0",max:p==="percent"?100:M})]})]})]})]}),e.jsxs("div",{className:"space-y-3 pt-4 border-t border-gray-200",children:[e.jsxs("div",{className:"flex justify-between text-gray-700",children:[e.jsx("span",{children:"Subtotal"}),e.jsxs("span",{className:"font-semibold",children:[o.symbol,M.toFixed(2)]})]}),$>0&&e.jsxs("div",{className:"flex justify-between text-green-600",children:[e.jsxs("span",{children:["Discount (",p==="percent"?`${v}%`:`${o.symbol}${v}`,")"]}),e.jsxs("span",{className:"font-semibold",children:["-",o.symbol,$.toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between items-center pt-3 border-t border-gray-200",children:[e.jsx("span",{className:"text-xl font-bold text-gray-900",children:"Total To Pay"}),e.jsxs("span",{className:"text-3xl font-bold text-purple-600",children:[o.symbol,B.toFixed(2)]})]})]})]}),e.jsxs("div",{className:"border-t border-gray-200 p-6 flex justify-end gap-3 flex-shrink-0",children:[e.jsx(Q,{onClick:r,variant:"outline",className:"px-6",children:"Cancel"}),e.jsxs(Q,{onClick:K,disabled:l.length===0,className:"px-6 bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700",children:["Charge ",o.symbol,B.toFixed(2)]})]})]})})}function Kie({isOpen:t,onClose:r,salonName:n,masters:s,services:a,packageDeals:i=[],existingBookings:o,onConfirm:l}){const[c,u]=N.useState(""),[m,p]=N.useState("+1 234 567 890"),[x,v]=N.useState([]),[w,y]=N.useState(""),[j,S]=N.useState({}),[C,P]=N.useState("single"),[T,_]=N.useState(null),[k,M]=N.useState("weekly"),[$,B]=N.useState(12),H=(()=>{const R=[];for(let D=9;D<=19;D++)for(let I=0;I<60;I+=15){const q=`${String(D).padStart(2,"0")}:${String(I).padStart(2,"0")}`;R.push(q)}return R})(),K=(R,D,I,q)=>{if(!R||!D||!I)return!0;const[J,ie]=I.split(":").map(Number),ee=J*60+ie,ae=ee+q,oe=o.some(ue=>{if(ue.masterId!==R||ue.date!==D)return!1;const[de,fe]=ue.time.split(":").map(Number),ye=de*60+fe,he=ye+ue.duration;return ee<he&&ae>ye}),te=x.some(ue=>{if(ue.masterId!==R||ue.date!==D)return!1;const[de,fe]=ue.time.split(":").map(Number),ye=de*60+fe,he=ye+ue.duration;return ee<he&&ae>ye});return!oe&&!te},Z=()=>{const R={id:`temp-${Date.now()}`,serviceId:"",serviceName:"",masterId:null,masterName:"Any Master",date:"",time:"",duration:60,price:0};v([...x,R])},V=(R,D,I)=>{v(q=>q.map(J=>{if(J.id===R){const ie={...J,[D]:I};if(D==="serviceId"){const ee=a.find(ae=>ae.id===I);ee&&(ie.serviceName=ee.name,ie.duration=ee.duration,ie.price=ee.price)}if(D==="masterId"){const ee=s.find(ae=>ae.id===I);ie.masterName=ee?ee.name:"Any Master"}return ie}return J}))},W=R=>{v(D=>D.filter(I=>I.id!==R))},G=()=>{const R={};return c.trim()||(R.name="Name is required"),(!m.trim()||m.length<10)&&(R.phone="Valid phone number is required"),S(R),Object.keys(R).length===0},O=()=>{if(!G())return;if(x.length===0){alert("Please add at least one service to book");return}if(x.find(D=>!D.serviceId||!D.date||!D.time)){alert("Please complete all booking details (service, date, and time)");return}l({clientName:c,clientPhone:m,bookings:x,notes:w,isRecurring:C==="recurring",recurringPattern:C==="recurring"?{frequency:k,occurrences:$}:void 0}),u(""),p("+1 234 567 890"),v([]),y(""),S({}),P("single"),_(null),M("weekly"),B(12)};return N.useEffect(()=>{t&&x.length===0&&Z()},[t]),t?e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 p-6 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Book Appointment"}),e.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[n," - Select services and masters"]})]}),e.jsx("button",{onClick:r,className:"w-8 h-8 rounded-lg hover:bg-gray-100 flex items-center justify-center",children:e.jsx(ht,{className:"w-5 h-5 text-gray-500"})})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700 mb-2",children:[e.jsx(zn,{className:"w-4 h-4"}),"Name *"]}),e.jsx("input",{type:"text",value:c,onChange:R=>u(R.target.value),placeholder:"Your Name",className:`w-full px-4 py-2.5 border rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 ${j.name?"border-red-500":"border-gray-300"}`}),j.name&&e.jsx("p",{className:"text-xs text-red-500 mt-1",children:j.name})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700 mb-2",children:[e.jsx(En,{className:"w-4 h-4"}),"Phone *"]}),e.jsx("input",{type:"tel",value:m,onChange:R=>p(R.target.value),placeholder:"+1 234 567 890",className:`w-full px-4 py-2.5 border rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 ${j.phone?"border-red-500":"border-gray-300"}`}),j.phone&&e.jsx("p",{className:"text-xs text-red-500 mt-1",children:j.phone})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(hl,{className:"w-5 h-5 text-purple-600"}),e.jsx("h3",{className:"font-semibold text-gray-900",children:"Add Services"})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[e.jsx("button",{onClick:()=>P("single"),className:`flex-1 min-w-[120px] px-3 py-1.5 rounded-lg text-sm font-medium ${C==="single"?"bg-purple-600 text-white":"bg-gray-100 text-gray-700"}`,children:"Single Service"}),e.jsx("button",{onClick:()=>P("package"),className:`flex-1 min-w-[120px] px-3 py-1.5 rounded-lg text-sm font-medium ${C==="package"?"bg-purple-600 text-white":"bg-gray-100 text-gray-700"}`,children:"Package Deal"}),e.jsx("button",{onClick:()=>P("recurring"),className:`flex-1 min-w-[120px] px-3 py-1.5 rounded-lg text-sm font-medium ${C==="recurring"?"bg-purple-600 text-white":"bg-gray-100 text-gray-700"}`,children:"Recurring Service"})]}),C==="single"&&e.jsxs(e.Fragment,{children:[x.map((R,D)=>e.jsxs("div",{className:"bg-white rounded-lg p-4 space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-500",children:["Service ",D+1]}),x.length>1&&e.jsx("button",{onClick:()=>W(R.id),className:"text-xs text-red-600 hover:text-red-700 hover:underline",children:"Remove"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-medium text-gray-600 mb-1 block",children:"Service"}),e.jsxs("select",{value:R.serviceId,onChange:I=>V(R.id,"serviceId",I.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-purple-500",children:[e.jsx("option",{value:"",children:"Select Service"}),a.map(I=>e.jsxs("option",{value:I.id,children:[I.name," - $",I.price," (",I.duration,"min)"]},I.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-medium text-gray-600 mb-1 block",children:"Master (Optional)"}),e.jsxs("select",{value:R.masterId||"",onChange:I=>V(R.id,"masterId",I.target.value||null),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-purple-500",children:[e.jsx("option",{value:"",children:"Any Master"}),s.map(I=>e.jsxs("option",{value:I.id,children:[I.avatar," ",I.name," - ",I.role]},I.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-medium text-gray-600 mb-1 block",children:"Date"}),e.jsx("input",{type:"date",value:R.date,onChange:I=>V(R.id,"date",I.target.value),min:new Date().toISOString().split("T")[0],className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-purple-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-medium text-gray-600 mb-1 block",children:"Time"}),e.jsxs("select",{value:R.time,onChange:I=>V(R.id,"time",I.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-purple-500",children:[e.jsx("option",{value:"",children:"Select Time"}),H.map(I=>{const q=K(R.masterId,R.date,I,R.duration);return e.jsxs("option",{value:I,disabled:!q,className:q?"":"text-gray-400",children:[I," ",q?"":"(Booked)"]},I)})]})]})]}),R.serviceId&&R.date&&R.time&&e.jsxs("div",{className:"bg-purple-50 rounded-lg p-3 text-xs",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(pt,{className:"w-3 h-3 text-purple-600"}),e.jsxs("span",{className:"text-purple-900",children:[R.serviceName," with ",R.masterName]})]}),e.jsxs("span",{className:"font-semibold text-purple-900",children:["$",R.price]})]}),e.jsxs("p",{className:"text-purple-700 mt-1",children:[new Date(R.date).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})," at ",R.time," (",R.duration," min)"]})]})]},R.id)),e.jsxs("button",{onClick:Z,className:"w-full py-2.5 border-2 border-dashed border-gray-300 rounded-lg text-sm font-medium text-gray-600 hover:border-purple-500 hover:text-purple-600 transition-colors flex items-center justify-center gap-2",children:[e.jsx(er,{className:"w-4 h-4"}),"Add to Booking"]})]}),C==="package"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"bg-gray-100 rounded-lg p-4 space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(bs,{className:"w-5 h-5 text-purple-600"}),e.jsx("h4",{className:"font-semibold text-gray-900",children:"Select Package Deal"})]}),e.jsx("div",{className:"grid grid-cols-2 gap-4",children:i.map(R=>e.jsxs("div",{className:"bg-white rounded-lg p-4 space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-gray-500",children:R.name}),e.jsx("button",{onClick:()=>_(R),className:`text-xs font-medium ${(T==null?void 0:T.id)===R.id?"text-purple-600":"text-gray-600"}`,children:(T==null?void 0:T.id)===R.id?"Selected":"Select"})]}),e.jsx("p",{className:"text-sm text-gray-600",children:R.description}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Original Price:"}),e.jsxs("span",{className:"text-sm font-bold text-gray-900",children:["$",R.originalPrice.toFixed(2)]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Discounted Price:"}),e.jsxs("span",{className:"text-sm font-bold text-gray-900",children:["$",R.discountedPrice.toFixed(2)]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Validity:"}),e.jsxs("span",{className:"text-sm font-bold text-gray-900",children:[R.validityDays," days"]})]})]},R.id))})]}),T&&e.jsxs("div",{className:"bg-purple-50 rounded-lg p-3 text-xs",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(dr,{className:"w-3 h-3 text-purple-600"}),e.jsx("span",{className:"text-purple-900",children:T.name})]}),e.jsxs("span",{className:"font-semibold text-purple-900",children:["$",T.discountedPrice.toFixed(2)]})]}),e.jsx("p",{className:"text-purple-700 mt-1",children:T.description})]})]}),C==="recurring"&&e.jsxs(e.Fragment,{children:[x.map((R,D)=>e.jsxs("div",{className:"bg-white rounded-lg p-4 space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-500",children:["Service ",D+1]}),x.length>1&&e.jsx("button",{onClick:()=>W(R.id),className:"text-xs text-red-600 hover:text-red-700 hover:underline",children:"Remove"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-medium text-gray-600 mb-1 block",children:"Service"}),e.jsxs("select",{value:R.serviceId,onChange:I=>V(R.id,"serviceId",I.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-purple-500",children:[e.jsx("option",{value:"",children:"Select Service"}),a.map(I=>e.jsxs("option",{value:I.id,children:[I.name," - $",I.price," (",I.duration,"min)"]},I.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-medium text-gray-600 mb-1 block",children:"Master (Optional)"}),e.jsxs("select",{value:R.masterId||"",onChange:I=>V(R.id,"masterId",I.target.value||null),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-purple-500",children:[e.jsx("option",{value:"",children:"Any Master"}),s.map(I=>e.jsxs("option",{value:I.id,children:[I.avatar," ",I.name," - ",I.role]},I.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-medium text-gray-600 mb-1 block",children:"Date"}),e.jsx("input",{type:"date",value:R.date,onChange:I=>V(R.id,"date",I.target.value),min:new Date().toISOString().split("T")[0],className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-purple-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-medium text-gray-600 mb-1 block",children:"Time"}),e.jsxs("select",{value:R.time,onChange:I=>V(R.id,"time",I.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-purple-500",children:[e.jsx("option",{value:"",children:"Select Time"}),H.map(I=>{const q=K(R.masterId,R.date,I,R.duration);return e.jsxs("option",{value:I,disabled:!q,className:q?"":"text-gray-400",children:[I," ",q?"":"(Booked)"]},I)})]})]})]}),R.serviceId&&R.date&&R.time&&e.jsxs("div",{className:"bg-purple-50 rounded-lg p-3 text-xs",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(pt,{className:"w-3 h-3 text-purple-600"}),e.jsxs("span",{className:"text-purple-900",children:[R.serviceName," with ",R.masterName]})]}),e.jsxs("span",{className:"font-semibold text-purple-900",children:["$",R.price]})]}),e.jsxs("p",{className:"text-purple-700 mt-1",children:[new Date(R.date).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})," at ",R.time," (",R.duration," min)"]})]})]},R.id)),e.jsxs("button",{onClick:Z,className:"w-full py-2.5 border-2 border-dashed border-gray-300 rounded-lg text-sm font-medium text-gray-600 hover:border-purple-500 hover:text-purple-600 transition-colors flex items-center justify-center gap-2",children:[e.jsx(er,{className:"w-4 h-4"}),"Add to Booking"]}),e.jsxs("div",{className:"bg-gray-100 rounded-lg p-4 space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(OL,{className:"w-5 h-5 text-purple-600"}),e.jsx("h4",{className:"font-semibold text-gray-900",children:"Recurring Pattern"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Frequency"}),e.jsxs("select",{value:k,onChange:R=>M(R.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-purple-500",children:[e.jsx("option",{value:"weekly",children:"Weekly"}),e.jsx("option",{value:"biweekly",children:"Biweekly"}),e.jsx("option",{value:"triweekly",children:"Triweekly"}),e.jsx("option",{value:"monthly",children:"Monthly"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Occurrences"}),e.jsx("input",{type:"number",value:$,onChange:R=>B(Number(R.target.value)),min:1,className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-purple-500"})]})]})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Additional Notes"}),e.jsx("textarea",{value:w,onChange:R=>y(R.target.value),placeholder:"Any special requests?",rows:3,className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 resize-none text-sm"})]}),e.jsxs("div",{className:"bg-blue-50 border border-blue-100 rounded-lg p-4 flex items-start gap-3",children:[e.jsx(Fh,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-blue-900",children:"You'll receive notifications"}),e.jsx("p",{className:"text-xs text-blue-700 mt-1",children:"Booking confirmation will be sent via WhatsApp/SMS to your phone number. You'll also receive reminders 24h and 1h before your appointment."})]})]})]}),e.jsxs("div",{className:"sticky bottom-0 bg-white border-t border-gray-200 p-6 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Total"}),e.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["$",x.reduce((R,D)=>R+D.price,0).toFixed(2)]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Q,{variant:"outline",onClick:r,className:"px-6",children:"Cancel"}),e.jsx(Q,{onClick:O,className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white px-8",children:"Confirm Booking"})]})]})]})}):null}var vw={},yw={},Cf={},bw={},fA;function Yie(){return fA||(fA=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={animating:!1,autoplaying:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,dragging:!1,edgeDragged:!1,initialized:!1,lazyLoadedList:[],listHeight:null,listWidth:null,scrolling:!1,slideCount:null,slideHeight:null,slideWidth:null,swipeLeft:null,swiped:!1,swiping:!1,touchObject:{startX:0,startY:0,curX:0,curY:0},trackStyle:{},trackWidth:0,targetSlide:0};t.default=r})(bw)),bw}var jw,pA;function Zie(){if(pA)return jw;pA=1;var t="Expected a function",r=NaN,n="[object Symbol]",s=/^\s+|\s+$/g,a=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,o=/^0o[0-7]+$/i,l=parseInt,c=typeof jc=="object"&&jc&&jc.Object===Object&&jc,u=typeof self=="object"&&self&&self.Object===Object&&self,m=c||u||Function("return this")(),p=Object.prototype,x=p.toString,v=Math.max,w=Math.min,y=function(){return m.Date.now()};function j(_,k,M){var $,B,F,H,K,Z,V=0,W=!1,G=!1,O=!0;if(typeof _!="function")throw new TypeError(t);k=T(k)||0,S(M)&&(W=!!M.leading,G="maxWait"in M,F=G?v(T(M.maxWait)||0,k):F,O="trailing"in M?!!M.trailing:O);function R(te){var ue=$,de=B;return $=B=void 0,V=te,H=_.apply(de,ue),H}function D(te){return V=te,K=setTimeout(J,k),W?R(te):H}function I(te){var ue=te-Z,de=te-V,fe=k-ue;return G?w(fe,F-de):fe}function q(te){var ue=te-Z,de=te-V;return Z===void 0||ue>=k||ue<0||G&&de>=F}function J(){var te=y();if(q(te))return ie(te);K=setTimeout(J,I(te))}function ie(te){return K=void 0,O&&$?R(te):($=B=void 0,H)}function ee(){K!==void 0&&clearTimeout(K),V=0,$=Z=B=K=void 0}function ae(){return K===void 0?H:ie(y())}function oe(){var te=y(),ue=q(te);if($=arguments,B=this,Z=te,ue){if(K===void 0)return D(Z);if(G)return K=setTimeout(J,k),R(Z)}return K===void 0&&(K=setTimeout(J,k)),H}return oe.cancel=ee,oe.flush=ae,oe}function S(_){var k=typeof _;return!!_&&(k=="object"||k=="function")}function C(_){return!!_&&typeof _=="object"}function P(_){return typeof _=="symbol"||C(_)&&x.call(_)==n}function T(_){if(typeof _=="number")return _;if(P(_))return r;if(S(_)){var k=typeof _.valueOf=="function"?_.valueOf():_;_=S(k)?k+"":k}if(typeof _!="string")return _===0?_:+_;_=_.replace(s,"");var M=i.test(_);return M||o.test(_)?l(_.slice(2),M?2:8):a.test(_)?r:+_}return jw=j,jw}var ww={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var xA;function Cy(){return xA||(xA=1,(function(t){(function(){var r={}.hasOwnProperty;function n(){for(var i="",o=0;o<arguments.length;o++){var l=arguments[o];l&&(i=a(i,s(l)))}return i}function s(i){if(typeof i=="string"||typeof i=="number")return i;if(typeof i!="object")return"";if(Array.isArray(i))return n.apply(null,i);if(i.toString!==Object.prototype.toString&&!i.toString.toString().includes("[native code]"))return i.toString();var o="";for(var l in i)r.call(i,l)&&i[l]&&(o=a(o,l));return o}function a(i,o){return o?i?i+" "+o:i+o:i}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(ww)),ww.exports}var Ke={},Nw={},gA;function R$(){return gA||(gA=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(Eo());function n(a){return a&&a.__esModule?a:{default:a}}var s={accessibility:!0,adaptiveHeight:!1,afterChange:null,appendDots:function(i){return r.default.createElement("ul",{style:{display:"block"}},i)},arrows:!0,autoplay:!1,autoplaySpeed:3e3,beforeChange:null,centerMode:!1,centerPadding:"50px",className:"",cssEase:"ease",customPaging:function(i){return r.default.createElement("button",null,i+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,infinite:!0,initialSlide:0,lazyLoad:null,nextArrow:null,onEdge:null,onInit:null,onLazyLoadError:null,onReInit:null,pauseOnDotsHover:!1,pauseOnFocus:!1,pauseOnHover:!0,prevArrow:null,responsive:null,rows:1,rtl:!1,slide:"div",slidesPerRow:1,slidesToScroll:1,slidesToShow:1,speed:500,swipe:!0,swipeEvent:null,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,verticalSwiping:!1,waitForAnimate:!0,asNavFor:null,unslick:!1};t.default=s})(Nw)),Nw}var vA;function bx(){if(vA)return Ke;vA=1,Object.defineProperty(Ke,"__esModule",{value:!0}),Ke.checkSpecKeys=Ke.checkNavigable=Ke.changeSlide=Ke.canUseDOM=Ke.canGoNext=void 0,Ke.clamp=u,Ke.extractObject=void 0,Ke.filterSettings=R,Ke.validSettings=Ke.swipeStart=Ke.swipeMove=Ke.swipeEnd=Ke.slidesOnRight=Ke.slidesOnLeft=Ke.slideHandler=Ke.siblingDirection=Ke.safePreventDefault=Ke.lazyStartIndex=Ke.lazySlidesOnRight=Ke.lazySlidesOnLeft=Ke.lazyEndIndex=Ke.keyHandler=Ke.initializedState=Ke.getWidth=Ke.getTrackLeft=Ke.getTrackCSS=Ke.getTrackAnimateCSS=Ke.getTotalSlides=Ke.getSwipeDirection=Ke.getSlideCount=Ke.getRequiredLazySlides=Ke.getPreClones=Ke.getPostClones=Ke.getOnDemandLazySlides=Ke.getNavigableIndexes=Ke.getHeight=void 0;var t=n(Eo()),r=n(R$());function n(D){return D&&D.__esModule?D:{default:D}}function s(D){"@babel/helpers - typeof";return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(I){return typeof I}:function(I){return I&&typeof Symbol=="function"&&I.constructor===Symbol&&I!==Symbol.prototype?"symbol":typeof I},s(D)}function a(D,I){var q=Object.keys(D);if(Object.getOwnPropertySymbols){var J=Object.getOwnPropertySymbols(D);I&&(J=J.filter(function(ie){return Object.getOwnPropertyDescriptor(D,ie).enumerable})),q.push.apply(q,J)}return q}function i(D){for(var I=1;I<arguments.length;I++){var q=arguments[I]!=null?arguments[I]:{};I%2?a(Object(q),!0).forEach(function(J){o(D,J,q[J])}):Object.getOwnPropertyDescriptors?Object.defineProperties(D,Object.getOwnPropertyDescriptors(q)):a(Object(q)).forEach(function(J){Object.defineProperty(D,J,Object.getOwnPropertyDescriptor(q,J))})}return D}function o(D,I,q){return(I=l(I))in D?Object.defineProperty(D,I,{value:q,enumerable:!0,configurable:!0,writable:!0}):D[I]=q,D}function l(D){var I=c(D,"string");return s(I)=="symbol"?I:I+""}function c(D,I){if(s(D)!="object"||!D)return D;var q=D[Symbol.toPrimitive];if(q!==void 0){var J=q.call(D,I);if(s(J)!="object")return J;throw new TypeError("@@toPrimitive must return a primitive value.")}return(I==="string"?String:Number)(D)}function u(D,I,q){return Math.max(I,Math.min(D,q))}var m=Ke.safePreventDefault=function(I){var q=["onTouchStart","onTouchMove","onWheel"];q.includes(I._reactName)||I.preventDefault()},p=Ke.getOnDemandLazySlides=function(I){for(var q=[],J=x(I),ie=v(I),ee=J;ee<ie;ee++)I.lazyLoadedList.indexOf(ee)<0&&q.push(ee);return q};Ke.getRequiredLazySlides=function(I){for(var q=[],J=x(I),ie=v(I),ee=J;ee<ie;ee++)q.push(ee);return q};var x=Ke.lazyStartIndex=function(I){return I.currentSlide-w(I)},v=Ke.lazyEndIndex=function(I){return I.currentSlide+y(I)},w=Ke.lazySlidesOnLeft=function(I){return I.centerMode?Math.floor(I.slidesToShow/2)+(parseInt(I.centerPadding)>0?1:0):0},y=Ke.lazySlidesOnRight=function(I){return I.centerMode?Math.floor((I.slidesToShow-1)/2)+1+(parseInt(I.centerPadding)>0?1:0):I.slidesToShow},j=Ke.getWidth=function(I){return I&&I.offsetWidth||0},S=Ke.getHeight=function(I){return I&&I.offsetHeight||0},C=Ke.getSwipeDirection=function(I){var q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,J,ie,ee,ae;return J=I.startX-I.curX,ie=I.startY-I.curY,ee=Math.atan2(ie,J),ae=Math.round(ee*180/Math.PI),ae<0&&(ae=360-Math.abs(ae)),ae<=45&&ae>=0||ae<=360&&ae>=315?"left":ae>=135&&ae<=225?"right":q===!0?ae>=35&&ae<=135?"up":"down":"vertical"},P=Ke.canGoNext=function(I){var q=!0;return I.infinite||(I.centerMode&&I.currentSlide>=I.slideCount-1||I.slideCount<=I.slidesToShow||I.currentSlide>=I.slideCount-I.slidesToShow)&&(q=!1),q};Ke.extractObject=function(I,q){var J={};return q.forEach(function(ie){return J[ie]=I[ie]}),J},Ke.initializedState=function(I){var q=t.default.Children.count(I.children),J=I.listRef,ie=Math.ceil(j(J)),ee=I.trackRef&&I.trackRef.node,ae=Math.ceil(j(ee)),oe;if(I.vertical)oe=ie;else{var te=I.centerMode&&parseInt(I.centerPadding)*2;typeof I.centerPadding=="string"&&I.centerPadding.slice(-1)==="%"&&(te*=ie/100),oe=Math.ceil((ie-te)/I.slidesToShow)}var ue=J&&S(J.querySelector('[data-index="0"]')),de=ue*I.slidesToShow,fe=I.currentSlide===void 0?I.initialSlide:I.currentSlide;I.rtl&&I.currentSlide===void 0&&(fe=q-1-I.initialSlide);var ye=I.lazyLoadedList||[],he=p(i(i({},I),{},{currentSlide:fe,lazyLoadedList:ye}));ye=ye.concat(he);var Ce={slideCount:q,slideWidth:oe,listWidth:ie,trackWidth:ae,currentSlide:fe,slideHeight:ue,listHeight:de,lazyLoadedList:ye};return I.autoplaying===null&&I.autoplay&&(Ce.autoplaying="playing"),Ce},Ke.slideHandler=function(I){var q=I.waitForAnimate,J=I.animating,ie=I.fade,ee=I.infinite,ae=I.index,oe=I.slideCount,te=I.lazyLoad,ue=I.currentSlide,de=I.centerMode,fe=I.slidesToScroll,ye=I.slidesToShow,he=I.useCSS,Ce=I.lazyLoadedList;if(q&&J)return{};var Se=ae,$e,qe,Fe,it={},rt={},yt=ee?ae:u(ae,0,oe-1);if(ie){if(!ee&&(ae<0||ae>=oe))return{};ae<0?Se=ae+oe:ae>=oe&&(Se=ae-oe),te&&Ce.indexOf(Se)<0&&(Ce=Ce.concat(Se)),it={animating:!0,currentSlide:Se,lazyLoadedList:Ce,targetSlide:Se},rt={animating:!1,targetSlide:Se}}else $e=Se,Se<0?($e=Se+oe,ee?oe%fe!==0&&($e=oe-oe%fe):$e=0):!P(I)&&Se>ue?Se=$e=ue:de&&Se>=oe?(Se=ee?oe:oe-1,$e=ee?0:oe-1):Se>=oe&&($e=Se-oe,ee?oe%fe!==0&&($e=0):$e=oe-ye),!ee&&Se+ye>=oe&&($e=oe-ye),qe=F(i(i({},I),{},{slideIndex:Se})),Fe=F(i(i({},I),{},{slideIndex:$e})),ee||(qe===Fe&&(Se=$e),qe=Fe),te&&(Ce=Ce.concat(p(i(i({},I),{},{currentSlide:Se})))),he?(it={animating:!0,currentSlide:$e,trackStyle:B(i(i({},I),{},{left:qe})),lazyLoadedList:Ce,targetSlide:yt},rt={animating:!1,currentSlide:$e,trackStyle:$(i(i({},I),{},{left:Fe})),swipeLeft:null,targetSlide:yt}):it={currentSlide:$e,trackStyle:$(i(i({},I),{},{left:Fe})),lazyLoadedList:Ce,targetSlide:yt};return{state:it,nextState:rt}},Ke.changeSlide=function(I,q){var J,ie,ee,ae,oe,te=I.slidesToScroll,ue=I.slidesToShow,de=I.slideCount,fe=I.currentSlide,ye=I.targetSlide,he=I.lazyLoad,Ce=I.infinite;if(ae=de%te!==0,J=ae?0:(de-fe)%te,q.message==="previous")ee=J===0?te:ue-J,oe=fe-ee,he&&!Ce&&(ie=fe-ee,oe=ie===-1?de-1:ie),Ce||(oe=ye-te);else if(q.message==="next")ee=J===0?te:J,oe=fe+ee,he&&!Ce&&(oe=(fe+te)%de+J),Ce||(oe=ye+te);else if(q.message==="dots")oe=q.index*q.slidesToScroll;else if(q.message==="children"){if(oe=q.index,Ce){var Se=V(i(i({},I),{},{targetSlide:oe}));oe>q.currentSlide&&Se==="left"?oe=oe-de:oe<q.currentSlide&&Se==="right"&&(oe=oe+de)}}else q.message==="index"&&(oe=Number(q.index));return oe},Ke.keyHandler=function(I,q,J){return I.target.tagName.match("TEXTAREA|INPUT|SELECT")||!q?"":I.keyCode===37?J?"next":"previous":I.keyCode===39?J?"previous":"next":""},Ke.swipeStart=function(I,q,J){return I.target.tagName==="IMG"&&m(I),!q||!J&&I.type.indexOf("mouse")!==-1?"":{dragging:!0,touchObject:{startX:I.touches?I.touches[0].pageX:I.clientX,startY:I.touches?I.touches[0].pageY:I.clientY,curX:I.touches?I.touches[0].pageX:I.clientX,curY:I.touches?I.touches[0].pageY:I.clientY}}},Ke.swipeMove=function(I,q){var J=q.scrolling,ie=q.animating,ee=q.vertical,ae=q.swipeToSlide,oe=q.verticalSwiping,te=q.rtl,ue=q.currentSlide,de=q.edgeFriction,fe=q.edgeDragged,ye=q.onEdge,he=q.swiped,Ce=q.swiping,Se=q.slideCount,$e=q.slidesToScroll,qe=q.infinite,Fe=q.touchObject,it=q.swipeEvent,rt=q.listHeight,yt=q.listWidth;if(!J){if(ie)return m(I);ee&&ae&&oe&&m(I);var Pt,Et={},Te=F(q);Fe.curX=I.touches?I.touches[0].pageX:I.clientX,Fe.curY=I.touches?I.touches[0].pageY:I.clientY,Fe.swipeLength=Math.round(Math.sqrt(Math.pow(Fe.curX-Fe.startX,2)));var $t=Math.round(Math.sqrt(Math.pow(Fe.curY-Fe.startY,2)));if(!oe&&!Ce&&$t>10)return{scrolling:!0};oe&&(Fe.swipeLength=$t);var Dt=(te?-1:1)*(Fe.curX>Fe.startX?1:-1);oe&&(Dt=Fe.curY>Fe.startY?1:-1);var De=Math.ceil(Se/$e),Ge=C(q.touchObject,oe),Je=Fe.swipeLength;return qe||(ue===0&&(Ge==="right"||Ge==="down")||ue+1>=De&&(Ge==="left"||Ge==="up")||!P(q)&&(Ge==="left"||Ge==="up"))&&(Je=Fe.swipeLength*de,fe===!1&&ye&&(ye(Ge),Et.edgeDragged=!0)),!he&&it&&(it(Ge),Et.swiped=!0),ee?Pt=Te+Je*(rt/yt)*Dt:te?Pt=Te-Je*Dt:Pt=Te+Je*Dt,oe&&(Pt=Te+Je*Dt),Et=i(i({},Et),{},{touchObject:Fe,swipeLeft:Pt,trackStyle:$(i(i({},q),{},{left:Pt}))}),Math.abs(Fe.curX-Fe.startX)<Math.abs(Fe.curY-Fe.startY)*.8||Fe.swipeLength>10&&(Et.swiping=!0,m(I)),Et}},Ke.swipeEnd=function(I,q){var J=q.dragging,ie=q.swipe,ee=q.touchObject,ae=q.listWidth,oe=q.touchThreshold,te=q.verticalSwiping,ue=q.listHeight,de=q.swipeToSlide,fe=q.scrolling,ye=q.onSwipe,he=q.targetSlide,Ce=q.currentSlide,Se=q.infinite;if(!J)return ie&&m(I),{};var $e=te?ue/oe:ae/oe,qe=C(ee,te),Fe={dragging:!1,edgeDragged:!1,scrolling:!1,swiping:!1,swiped:!1,swipeLeft:null,touchObject:{}};if(fe||!ee.swipeLength)return Fe;if(ee.swipeLength>$e){m(I),ye&&ye(qe);var it,rt,yt=Se?Ce:he;switch(qe){case"left":case"up":rt=yt+k(q),it=de?_(q,rt):rt,Fe.currentDirection=0;break;case"right":case"down":rt=yt-k(q),it=de?_(q,rt):rt,Fe.currentDirection=1;break;default:it=yt}Fe.triggerSlideHandler=it}else{var Pt=F(q);Fe.trackStyle=B(i(i({},q),{},{left:Pt}))}return Fe};var T=Ke.getNavigableIndexes=function(I){for(var q=I.infinite?I.slideCount*2:I.slideCount,J=I.infinite?I.slidesToShow*-1:0,ie=I.infinite?I.slidesToShow*-1:0,ee=[];J<q;)ee.push(J),J=ie+I.slidesToScroll,ie+=Math.min(I.slidesToScroll,I.slidesToShow);return ee},_=Ke.checkNavigable=function(I,q){var J=T(I),ie=0;if(q>J[J.length-1])q=J[J.length-1];else for(var ee in J){if(q<J[ee]){q=ie;break}ie=J[ee]}return q},k=Ke.getSlideCount=function(I){var q=I.centerMode?I.slideWidth*Math.floor(I.slidesToShow/2):0;if(I.swipeToSlide){var J,ie=I.listRef,ee=ie.querySelectorAll&&ie.querySelectorAll(".slick-slide")||[];if(Array.from(ee).every(function(te){if(I.vertical){if(te.offsetTop+S(te)/2>I.swipeLeft*-1)return J=te,!1}else if(te.offsetLeft-q+j(te)/2>I.swipeLeft*-1)return J=te,!1;return!0}),!J)return 0;var ae=I.rtl===!0?I.slideCount-I.currentSlide:I.currentSlide,oe=Math.abs(J.dataset.index-ae)||1;return oe}else return I.slidesToScroll},M=Ke.checkSpecKeys=function(I,q){return q.reduce(function(J,ie){return J&&I.hasOwnProperty(ie)},!0)?null:console.error("Keys Missing:",I)},$=Ke.getTrackCSS=function(I){M(I,["left","variableWidth","slideCount","slidesToShow","slideWidth"]);var q,J;if(!I.vertical)q=Z(I)*I.slideWidth;else{var ie=I.unslick?I.slideCount:I.slideCount+2*I.slidesToShow;J=ie*I.slideHeight}var ee={opacity:1,transition:"",WebkitTransition:""};if(I.useTransform){var ae=I.vertical?"translate3d(0px, "+I.left+"px, 0px)":"translate3d("+I.left+"px, 0px, 0px)",oe=I.vertical?"translate3d(0px, "+I.left+"px, 0px)":"translate3d("+I.left+"px, 0px, 0px)",te=I.vertical?"translateY("+I.left+"px)":"translateX("+I.left+"px)";ee=i(i({},ee),{},{WebkitTransform:ae,transform:oe,msTransform:te})}else I.vertical?ee.top=I.left:ee.left=I.left;return I.fade&&(ee={opacity:1}),q&&(ee.width=q),J&&(ee.height=J),window&&!window.addEventListener&&window.attachEvent&&(I.vertical?ee.marginTop=I.left+"px":ee.marginLeft=I.left+"px"),ee},B=Ke.getTrackAnimateCSS=function(I){M(I,["left","variableWidth","slideCount","slidesToShow","slideWidth","speed","cssEase"]);var q=$(I);return I.useTransform?(q.WebkitTransition="-webkit-transform "+I.speed+"ms "+I.cssEase,q.transition="transform "+I.speed+"ms "+I.cssEase):I.vertical?q.transition="top "+I.speed+"ms "+I.cssEase:q.transition="left "+I.speed+"ms "+I.cssEase,q},F=Ke.getTrackLeft=function(I){if(I.unslick)return 0;M(I,["slideIndex","trackRef","infinite","centerMode","slideCount","slidesToShow","slidesToScroll","slideWidth","listWidth","variableWidth","slideHeight"]);var q=I.slideIndex,J=I.trackRef,ie=I.infinite,ee=I.centerMode,ae=I.slideCount,oe=I.slidesToShow,te=I.slidesToScroll,ue=I.slideWidth,de=I.listWidth,fe=I.variableWidth,ye=I.slideHeight,he=I.fade,Ce=I.vertical,Se=0,$e,qe,Fe=0;if(he||I.slideCount===1)return 0;var it=0;if(ie?(it=-H(I),ae%te!==0&&q+te>ae&&(it=-(q>ae?oe-(q-ae):ae%te)),ee&&(it+=parseInt(oe/2))):(ae%te!==0&&q+te>ae&&(it=oe-ae%te),ee&&(it=parseInt(oe/2))),Se=it*ue,Fe=it*ye,Ce?$e=q*ye*-1+Fe:$e=q*ue*-1+Se,fe===!0){var rt,yt=J&&J.node;if(rt=q+H(I),qe=yt&&yt.childNodes[rt],$e=qe?qe.offsetLeft*-1:0,ee===!0){rt=ie?q+H(I):q,qe=yt&&yt.children[rt],$e=0;for(var Pt=0;Pt<rt;Pt++)$e-=yt&&yt.children[Pt]&&yt.children[Pt].offsetWidth;$e-=parseInt(I.centerPadding),$e+=qe&&(de-qe.offsetWidth)/2}}return $e},H=Ke.getPreClones=function(I){return I.unslick||!I.infinite?0:I.variableWidth?I.slideCount:I.slidesToShow+(I.centerMode?1:0)},K=Ke.getPostClones=function(I){return I.unslick||!I.infinite?0:I.variableWidth?I.slideCount:I.slidesToShow+(I.centerMode?1:0)},Z=Ke.getTotalSlides=function(I){return I.slideCount===1?1:H(I)+I.slideCount+K(I)},V=Ke.siblingDirection=function(I){return I.targetSlide>I.currentSlide?I.targetSlide>I.currentSlide+W(I)?"left":"right":I.targetSlide<I.currentSlide-G(I)?"right":"left"},W=Ke.slidesOnRight=function(I){var q=I.slidesToShow,J=I.centerMode,ie=I.rtl,ee=I.centerPadding;if(J){var ae=(q-1)/2+1;return parseInt(ee)>0&&(ae+=1),ie&&q%2===0&&(ae+=1),ae}return ie?0:q-1},G=Ke.slidesOnLeft=function(I){var q=I.slidesToShow,J=I.centerMode,ie=I.rtl,ee=I.centerPadding;if(J){var ae=(q-1)/2+1;return parseInt(ee)>0&&(ae+=1),!ie&&q%2===0&&(ae+=1),ae}return ie?q-1:0};Ke.canUseDOM=function(){return!!(typeof window<"u"&&window.document&&window.document.createElement)};var O=Ke.validSettings=Object.keys(r.default);function R(D){return O.reduce(function(I,q){return D.hasOwnProperty(q)&&(I[q]=D[q]),I},{})}return Ke}var Pf={},yA;function Xie(){if(yA)return Pf;yA=1,Object.defineProperty(Pf,"__esModule",{value:!0}),Pf.Track=void 0;var t=s(Eo()),r=s(Cy()),n=bx();function s(B){return B&&B.__esModule?B:{default:B}}function a(B){"@babel/helpers - typeof";return a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(F){return typeof F}:function(F){return F&&typeof Symbol=="function"&&F.constructor===Symbol&&F!==Symbol.prototype?"symbol":typeof F},a(B)}function i(){return i=Object.assign?Object.assign.bind():function(B){for(var F=1;F<arguments.length;F++){var H=arguments[F];for(var K in H)({}).hasOwnProperty.call(H,K)&&(B[K]=H[K])}return B},i.apply(null,arguments)}function o(B,F){if(!(B instanceof F))throw new TypeError("Cannot call a class as a function")}function l(B,F){for(var H=0;H<F.length;H++){var K=F[H];K.enumerable=K.enumerable||!1,K.configurable=!0,"value"in K&&(K.writable=!0),Object.defineProperty(B,P(K.key),K)}}function c(B,F,H){return F&&l(B.prototype,F),Object.defineProperty(B,"prototype",{writable:!1}),B}function u(B,F){if(typeof F!="function"&&F!==null)throw new TypeError("Super expression must either be null or a function");B.prototype=Object.create(F&&F.prototype,{constructor:{value:B,writable:!0,configurable:!0}}),Object.defineProperty(B,"prototype",{writable:!1}),F&&m(B,F)}function m(B,F){return m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(H,K){return H.__proto__=K,H},m(B,F)}function p(B){var F=w();return function(){var H,K=y(B);if(F){var Z=y(this).constructor;H=Reflect.construct(K,arguments,Z)}else H=K.apply(this,arguments);return x(this,H)}}function x(B,F){if(F&&(a(F)=="object"||typeof F=="function"))return F;if(F!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return v(B)}function v(B){if(B===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return B}function w(){try{var B=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(w=function(){return!!B})()}function y(B){return y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(F){return F.__proto__||Object.getPrototypeOf(F)},y(B)}function j(B,F){var H=Object.keys(B);if(Object.getOwnPropertySymbols){var K=Object.getOwnPropertySymbols(B);F&&(K=K.filter(function(Z){return Object.getOwnPropertyDescriptor(B,Z).enumerable})),H.push.apply(H,K)}return H}function S(B){for(var F=1;F<arguments.length;F++){var H=arguments[F]!=null?arguments[F]:{};F%2?j(Object(H),!0).forEach(function(K){C(B,K,H[K])}):Object.getOwnPropertyDescriptors?Object.defineProperties(B,Object.getOwnPropertyDescriptors(H)):j(Object(H)).forEach(function(K){Object.defineProperty(B,K,Object.getOwnPropertyDescriptor(H,K))})}return B}function C(B,F,H){return(F=P(F))in B?Object.defineProperty(B,F,{value:H,enumerable:!0,configurable:!0,writable:!0}):B[F]=H,B}function P(B){var F=T(B,"string");return a(F)=="symbol"?F:F+""}function T(B,F){if(a(B)!="object"||!B)return B;var H=B[Symbol.toPrimitive];if(H!==void 0){var K=H.call(B,F);if(a(K)!="object")return K;throw new TypeError("@@toPrimitive must return a primitive value.")}return(F==="string"?String:Number)(B)}var _=function(F){var H,K,Z,V,W;F.rtl?W=F.slideCount-1-F.index:W=F.index,Z=W<0||W>=F.slideCount,F.centerMode?(V=Math.floor(F.slidesToShow/2),K=(W-F.currentSlide)%F.slideCount===0,W>F.currentSlide-V-1&&W<=F.currentSlide+V&&(H=!0)):H=F.currentSlide<=W&&W<F.currentSlide+F.slidesToShow;var G;F.targetSlide<0?G=F.targetSlide+F.slideCount:F.targetSlide>=F.slideCount?G=F.targetSlide-F.slideCount:G=F.targetSlide;var O=W===G;return{"slick-slide":!0,"slick-active":H,"slick-center":K,"slick-cloned":Z,"slick-current":O}},k=function(F){var H={};return(F.variableWidth===void 0||F.variableWidth===!1)&&(H.width=F.slideWidth),F.fade&&(H.position="relative",F.vertical?H.top=-F.index*parseInt(F.slideHeight):H.left=-F.index*parseInt(F.slideWidth),H.opacity=F.currentSlide===F.index?1:0,H.zIndex=F.currentSlide===F.index?999:998,F.useCSS&&(H.transition="opacity "+F.speed+"ms "+F.cssEase+", visibility "+F.speed+"ms "+F.cssEase)),H},M=function(F,H){return F.key||H},$=function(F){var H,K=[],Z=[],V=[],W=t.default.Children.count(F.children),G=(0,n.lazyStartIndex)(F),O=(0,n.lazyEndIndex)(F);return t.default.Children.forEach(F.children,function(R,D){var I,q={message:"children",index:D,slidesToScroll:F.slidesToScroll,currentSlide:F.currentSlide};!F.lazyLoad||F.lazyLoad&&F.lazyLoadedList.indexOf(D)>=0?I=R:I=t.default.createElement("div",null);var J=k(S(S({},F),{},{index:D})),ie=I.props.className||"",ee=_(S(S({},F),{},{index:D}));if(K.push(t.default.cloneElement(I,{key:"original"+M(I,D),"data-index":D,className:(0,r.default)(ee,ie),tabIndex:"-1","aria-hidden":!ee["slick-active"],style:S(S({outline:"none"},I.props.style||{}),J),onClick:function(te){I.props&&I.props.onClick&&I.props.onClick(te),F.focusOnSelect&&F.focusOnSelect(q)}})),F.infinite&&W>1&&F.fade===!1&&!F.unslick){var ae=W-D;ae<=(0,n.getPreClones)(F)&&(H=-ae,H>=G&&(I=R),ee=_(S(S({},F),{},{index:H})),Z.push(t.default.cloneElement(I,{key:"precloned"+M(I,H),"data-index":H,tabIndex:"-1",className:(0,r.default)(ee,ie),"aria-hidden":!ee["slick-active"],style:S(S({},I.props.style||{}),J),onClick:function(te){I.props&&I.props.onClick&&I.props.onClick(te),F.focusOnSelect&&F.focusOnSelect(q)}}))),D<(0,n.getPostClones)(F)&&(H=W+D,H<O&&(I=R),ee=_(S(S({},F),{},{index:H})),V.push(t.default.cloneElement(I,{key:"postcloned"+M(I,H),"data-index":H,tabIndex:"-1",className:(0,r.default)(ee,ie),"aria-hidden":!ee["slick-active"],style:S(S({},I.props.style||{}),J),onClick:function(te){I.props&&I.props.onClick&&I.props.onClick(te),F.focusOnSelect&&F.focusOnSelect(q)}})))}}),F.rtl?Z.concat(K,V).reverse():Z.concat(K,V)};return Pf.Track=(function(B){u(H,B);var F=p(H);function H(){var K;o(this,H);for(var Z=arguments.length,V=new Array(Z),W=0;W<Z;W++)V[W]=arguments[W];return K=F.call.apply(F,[this].concat(V)),C(v(K),"node",null),C(v(K),"handleRef",function(G){K.node=G}),K}return c(H,[{key:"render",value:function(){var Z=$(this.props),V=this.props,W=V.onMouseEnter,G=V.onMouseOver,O=V.onMouseLeave,R={onMouseEnter:W,onMouseOver:G,onMouseLeave:O};return t.default.createElement("div",i({ref:this.handleRef,className:"slick-track",style:this.props.trackStyle},R),Z)}}]),H})(t.default.PureComponent),Pf}var Af={},bA;function Jie(){if(bA)return Af;bA=1;function t(_){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(k){return typeof k}:function(k){return k&&typeof Symbol=="function"&&k.constructor===Symbol&&k!==Symbol.prototype?"symbol":typeof k},t(_)}Object.defineProperty(Af,"__esModule",{value:!0}),Af.Dots=void 0;var r=a(Eo()),n=a(Cy()),s=bx();function a(_){return _&&_.__esModule?_:{default:_}}function i(_,k){var M=Object.keys(_);if(Object.getOwnPropertySymbols){var $=Object.getOwnPropertySymbols(_);k&&($=$.filter(function(B){return Object.getOwnPropertyDescriptor(_,B).enumerable})),M.push.apply(M,$)}return M}function o(_){for(var k=1;k<arguments.length;k++){var M=arguments[k]!=null?arguments[k]:{};k%2?i(Object(M),!0).forEach(function($){l(_,$,M[$])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_,Object.getOwnPropertyDescriptors(M)):i(Object(M)).forEach(function($){Object.defineProperty(_,$,Object.getOwnPropertyDescriptor(M,$))})}return _}function l(_,k,M){return(k=p(k))in _?Object.defineProperty(_,k,{value:M,enumerable:!0,configurable:!0,writable:!0}):_[k]=M,_}function c(_,k){if(!(_ instanceof k))throw new TypeError("Cannot call a class as a function")}function u(_,k){for(var M=0;M<k.length;M++){var $=k[M];$.enumerable=$.enumerable||!1,$.configurable=!0,"value"in $&&($.writable=!0),Object.defineProperty(_,p($.key),$)}}function m(_,k,M){return k&&u(_.prototype,k),Object.defineProperty(_,"prototype",{writable:!1}),_}function p(_){var k=x(_,"string");return t(k)=="symbol"?k:k+""}function x(_,k){if(t(_)!="object"||!_)return _;var M=_[Symbol.toPrimitive];if(M!==void 0){var $=M.call(_,k);if(t($)!="object")return $;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(_)}function v(_,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function");_.prototype=Object.create(k&&k.prototype,{constructor:{value:_,writable:!0,configurable:!0}}),Object.defineProperty(_,"prototype",{writable:!1}),k&&w(_,k)}function w(_,k){return w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(M,$){return M.__proto__=$,M},w(_,k)}function y(_){var k=C();return function(){var M,$=P(_);if(k){var B=P(this).constructor;M=Reflect.construct($,arguments,B)}else M=$.apply(this,arguments);return j(this,M)}}function j(_,k){if(k&&(t(k)=="object"||typeof k=="function"))return k;if(k!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return S(_)}function S(_){if(_===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _}function C(){try{var _=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(C=function(){return!!_})()}function P(_){return P=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(k){return k.__proto__||Object.getPrototypeOf(k)},P(_)}var T=function(k){var M;return k.infinite?M=Math.ceil(k.slideCount/k.slidesToScroll):M=Math.ceil((k.slideCount-k.slidesToShow)/k.slidesToScroll)+1,M};return Af.Dots=(function(_){v(M,_);var k=y(M);function M(){return c(this,M),k.apply(this,arguments)}return m(M,[{key:"clickHandler",value:function(B,F){F.preventDefault(),this.props.clickHandler(B)}},{key:"render",value:function(){for(var B=this.props,F=B.onMouseEnter,H=B.onMouseOver,K=B.onMouseLeave,Z=B.infinite,V=B.slidesToScroll,W=B.slidesToShow,G=B.slideCount,O=B.currentSlide,R=T({slideCount:G,slidesToScroll:V,slidesToShow:W,infinite:Z}),D={onMouseEnter:F,onMouseOver:H,onMouseLeave:K},I=[],q=0;q<R;q++){var J=(q+1)*V-1,ie=Z?J:(0,s.clamp)(J,0,G-1),ee=ie-(V-1),ae=Z?ee:(0,s.clamp)(ee,0,G-1),oe=(0,n.default)({"slick-active":Z?O>=ae&&O<=ie:O===ae}),te={message:"dots",index:q,slidesToScroll:V,currentSlide:O},ue=this.clickHandler.bind(this,te);I=I.concat(r.default.createElement("li",{key:q,className:oe},r.default.cloneElement(this.props.customPaging(q),{onClick:ue})))}return r.default.cloneElement(this.props.appendDots(I),o({className:this.props.dotsClass},D))}}]),M})(r.default.PureComponent),Af}var yd={},jA;function Qie(){if(jA)return yd;jA=1;function t(_){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(k){return typeof k}:function(k){return k&&typeof Symbol=="function"&&k.constructor===Symbol&&k!==Symbol.prototype?"symbol":typeof k},t(_)}Object.defineProperty(yd,"__esModule",{value:!0}),yd.PrevArrow=yd.NextArrow=void 0;var r=a(Eo()),n=a(Cy()),s=bx();function a(_){return _&&_.__esModule?_:{default:_}}function i(){return i=Object.assign?Object.assign.bind():function(_){for(var k=1;k<arguments.length;k++){var M=arguments[k];for(var $ in M)({}).hasOwnProperty.call(M,$)&&(_[$]=M[$])}return _},i.apply(null,arguments)}function o(_,k){var M=Object.keys(_);if(Object.getOwnPropertySymbols){var $=Object.getOwnPropertySymbols(_);k&&($=$.filter(function(B){return Object.getOwnPropertyDescriptor(_,B).enumerable})),M.push.apply(M,$)}return M}function l(_){for(var k=1;k<arguments.length;k++){var M=arguments[k]!=null?arguments[k]:{};k%2?o(Object(M),!0).forEach(function($){c(_,$,M[$])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_,Object.getOwnPropertyDescriptors(M)):o(Object(M)).forEach(function($){Object.defineProperty(_,$,Object.getOwnPropertyDescriptor(M,$))})}return _}function c(_,k,M){return(k=x(k))in _?Object.defineProperty(_,k,{value:M,enumerable:!0,configurable:!0,writable:!0}):_[k]=M,_}function u(_,k){if(!(_ instanceof k))throw new TypeError("Cannot call a class as a function")}function m(_,k){for(var M=0;M<k.length;M++){var $=k[M];$.enumerable=$.enumerable||!1,$.configurable=!0,"value"in $&&($.writable=!0),Object.defineProperty(_,x($.key),$)}}function p(_,k,M){return k&&m(_.prototype,k),Object.defineProperty(_,"prototype",{writable:!1}),_}function x(_){var k=v(_,"string");return t(k)=="symbol"?k:k+""}function v(_,k){if(t(_)!="object"||!_)return _;var M=_[Symbol.toPrimitive];if(M!==void 0){var $=M.call(_,k);if(t($)!="object")return $;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(_)}function w(_,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function");_.prototype=Object.create(k&&k.prototype,{constructor:{value:_,writable:!0,configurable:!0}}),Object.defineProperty(_,"prototype",{writable:!1}),k&&y(_,k)}function y(_,k){return y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(M,$){return M.__proto__=$,M},y(_,k)}function j(_){var k=P();return function(){var M,$=T(_);if(k){var B=T(this).constructor;M=Reflect.construct($,arguments,B)}else M=$.apply(this,arguments);return S(this,M)}}function S(_,k){if(k&&(t(k)=="object"||typeof k=="function"))return k;if(k!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return C(_)}function C(_){if(_===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _}function P(){try{var _=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(P=function(){return!!_})()}function T(_){return T=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(k){return k.__proto__||Object.getPrototypeOf(k)},T(_)}return yd.PrevArrow=(function(_){w(M,_);var k=j(M);function M(){return u(this,M),k.apply(this,arguments)}return p(M,[{key:"clickHandler",value:function(B,F){F&&F.preventDefault(),this.props.clickHandler(B,F)}},{key:"render",value:function(){var B={"slick-arrow":!0,"slick-prev":!0},F=this.clickHandler.bind(this,{message:"previous"});!this.props.infinite&&(this.props.currentSlide===0||this.props.slideCount<=this.props.slidesToShow)&&(B["slick-disabled"]=!0,F=null);var H={key:"0","data-role":"none",className:(0,n.default)(B),style:{display:"block"},onClick:F},K={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},Z;return this.props.prevArrow?Z=r.default.cloneElement(this.props.prevArrow,l(l({},H),K)):Z=r.default.createElement("button",i({key:"0",type:"button"},H)," ","Previous"),Z}}]),M})(r.default.PureComponent),yd.NextArrow=(function(_){w(M,_);var k=j(M);function M(){return u(this,M),k.apply(this,arguments)}return p(M,[{key:"clickHandler",value:function(B,F){F&&F.preventDefault(),this.props.clickHandler(B,F)}},{key:"render",value:function(){var B={"slick-arrow":!0,"slick-next":!0},F=this.clickHandler.bind(this,{message:"next"});(0,s.canGoNext)(this.props)||(B["slick-disabled"]=!0,F=null);var H={key:"1","data-role":"none",className:(0,n.default)(B),style:{display:"block"},onClick:F},K={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},Z;return this.props.nextArrow?Z=r.default.cloneElement(this.props.nextArrow,l(l({},H),K)):Z=r.default.createElement("button",i({key:"1",type:"button"},H)," ","Next"),Z}}]),M})(r.default.PureComponent),yd}var I$=(function(){if(typeof Map<"u")return Map;function t(r,n){var s=-1;return r.some(function(a,i){return a[0]===n?(s=i,!0):!1}),s}return(function(){function r(){this.__entries__=[]}return Object.defineProperty(r.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),r.prototype.get=function(n){var s=t(this.__entries__,n),a=this.__entries__[s];return a&&a[1]},r.prototype.set=function(n,s){var a=t(this.__entries__,n);~a?this.__entries__[a][1]=s:this.__entries__.push([n,s])},r.prototype.delete=function(n){var s=this.__entries__,a=t(s,n);~a&&s.splice(a,1)},r.prototype.has=function(n){return!!~t(this.__entries__,n)},r.prototype.clear=function(){this.__entries__.splice(0)},r.prototype.forEach=function(n,s){s===void 0&&(s=null);for(var a=0,i=this.__entries__;a<i.length;a++){var o=i[a];n.call(s,o[1],o[0])}},r})()})(),M_=typeof window<"u"&&typeof document<"u"&&window.document===document,H0=(function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()})(),eoe=(function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(H0):function(t){return setTimeout(function(){return t(Date.now())},1e3/60)}})(),toe=2;function roe(t,r){var n=!1,s=!1,a=0;function i(){n&&(n=!1,t()),s&&l()}function o(){eoe(i)}function l(){var c=Date.now();if(n){if(c-a<toe)return;s=!0}else n=!0,s=!1,setTimeout(o,r);a=c}return l}var noe=20,soe=["top","right","bottom","left","width","height","size","weight"],aoe=typeof MutationObserver<"u",ioe=(function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=roe(this.refresh.bind(this),noe)}return t.prototype.addObserver=function(r){~this.observers_.indexOf(r)||this.observers_.push(r),this.connected_||this.connect_()},t.prototype.removeObserver=function(r){var n=this.observers_,s=n.indexOf(r);~s&&n.splice(s,1),!n.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){var r=this.updateObservers_();r&&this.refresh()},t.prototype.updateObservers_=function(){var r=this.observers_.filter(function(n){return n.gatherActive(),n.hasActive()});return r.forEach(function(n){return n.broadcastActive()}),r.length>0},t.prototype.connect_=function(){!M_||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),aoe?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){!M_||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(r){var n=r.propertyName,s=n===void 0?"":n,a=soe.some(function(i){return!!~s.indexOf(i)});a&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t})(),L$=(function(t,r){for(var n=0,s=Object.keys(r);n<s.length;n++){var a=s[n];Object.defineProperty(t,a,{value:r[a],enumerable:!1,writable:!1,configurable:!0})}return t}),Hh=(function(t){var r=t&&t.ownerDocument&&t.ownerDocument.defaultView;return r||H0}),$$=Py(0,0,0,0);function W0(t){return parseFloat(t)||0}function wA(t){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];return r.reduce(function(s,a){var i=t["border-"+a+"-width"];return s+W0(i)},0)}function ooe(t){for(var r=["top","right","bottom","left"],n={},s=0,a=r;s<a.length;s++){var i=a[s],o=t["padding-"+i];n[i]=W0(o)}return n}function loe(t){var r=t.getBBox();return Py(0,0,r.width,r.height)}function coe(t){var r=t.clientWidth,n=t.clientHeight;if(!r&&!n)return $$;var s=Hh(t).getComputedStyle(t),a=ooe(s),i=a.left+a.right,o=a.top+a.bottom,l=W0(s.width),c=W0(s.height);if(s.boxSizing==="border-box"&&(Math.round(l+i)!==r&&(l-=wA(s,"left","right")+i),Math.round(c+o)!==n&&(c-=wA(s,"top","bottom")+o)),!uoe(t)){var u=Math.round(l+i)-r,m=Math.round(c+o)-n;Math.abs(u)!==1&&(l-=u),Math.abs(m)!==1&&(c-=m)}return Py(a.left,a.top,l,c)}var doe=(function(){return typeof SVGGraphicsElement<"u"?function(t){return t instanceof Hh(t).SVGGraphicsElement}:function(t){return t instanceof Hh(t).SVGElement&&typeof t.getBBox=="function"}})();function uoe(t){return t===Hh(t).document.documentElement}function hoe(t){return M_?doe(t)?loe(t):coe(t):$$}function moe(t){var r=t.x,n=t.y,s=t.width,a=t.height,i=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,o=Object.create(i.prototype);return L$(o,{x:r,y:n,width:s,height:a,top:n,right:r+s,bottom:a+n,left:r}),o}function Py(t,r,n,s){return{x:t,y:r,width:n,height:s}}var foe=(function(){function t(r){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=Py(0,0,0,0),this.target=r}return t.prototype.isActive=function(){var r=hoe(this.target);return this.contentRect_=r,r.width!==this.broadcastWidth||r.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var r=this.contentRect_;return this.broadcastWidth=r.width,this.broadcastHeight=r.height,r},t})(),poe=(function(){function t(r,n){var s=moe(n);L$(this,{target:r,contentRect:s})}return t})(),xoe=(function(){function t(r,n,s){if(this.activeObservations_=[],this.observations_=new I$,typeof r!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=r,this.controller_=n,this.callbackCtx_=s}return t.prototype.observe=function(r){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(r instanceof Hh(r).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(r)||(n.set(r,new foe(r)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(r){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(r instanceof Hh(r).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(r)&&(n.delete(r),n.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var r=this;this.clearActive(),this.observations_.forEach(function(n){n.isActive()&&r.activeObservations_.push(n)})},t.prototype.broadcastActive=function(){if(this.hasActive()){var r=this.callbackCtx_,n=this.activeObservations_.map(function(s){return new poe(s.target,s.broadcastRect())});this.callback_.call(r,n,r),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t})(),B$=typeof WeakMap<"u"?new WeakMap:new I$,F$=(function(){function t(r){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=ioe.getInstance(),s=new xoe(r,n,this);B$.set(this,s)}return t})();["observe","unobserve","disconnect"].forEach(function(t){F$.prototype[t]=function(){var r;return(r=B$.get(this))[t].apply(r,arguments)}});var goe=(function(){return typeof H0.ResizeObserver<"u"?H0.ResizeObserver:F$})();const voe=Object.freeze(Object.defineProperty({__proto__:null,default:goe},Symbol.toStringTag,{value:"Module"})),yoe=IH(voe);var NA;function boe(){if(NA)return Cf;NA=1,Object.defineProperty(Cf,"__esModule",{value:!0}),Cf.InnerSlider=void 0;var t=u(Eo()),r=u(Yie()),n=u(Zie()),s=u(Cy()),a=bx(),i=Xie(),o=Jie(),l=Qie(),c=u(yoe);function u(Z){return Z&&Z.__esModule?Z:{default:Z}}function m(Z){"@babel/helpers - typeof";return m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(V){return typeof V}:function(V){return V&&typeof Symbol=="function"&&V.constructor===Symbol&&V!==Symbol.prototype?"symbol":typeof V},m(Z)}function p(){return p=Object.assign?Object.assign.bind():function(Z){for(var V=1;V<arguments.length;V++){var W=arguments[V];for(var G in W)({}).hasOwnProperty.call(W,G)&&(Z[G]=W[G])}return Z},p.apply(null,arguments)}function x(Z,V){if(Z==null)return{};var W,G,O=v(Z,V);if(Object.getOwnPropertySymbols){var R=Object.getOwnPropertySymbols(Z);for(G=0;G<R.length;G++)W=R[G],V.includes(W)||{}.propertyIsEnumerable.call(Z,W)&&(O[W]=Z[W])}return O}function v(Z,V){if(Z==null)return{};var W={};for(var G in Z)if({}.hasOwnProperty.call(Z,G)){if(V.includes(G))continue;W[G]=Z[G]}return W}function w(Z,V){var W=Object.keys(Z);if(Object.getOwnPropertySymbols){var G=Object.getOwnPropertySymbols(Z);V&&(G=G.filter(function(O){return Object.getOwnPropertyDescriptor(Z,O).enumerable})),W.push.apply(W,G)}return W}function y(Z){for(var V=1;V<arguments.length;V++){var W=arguments[V]!=null?arguments[V]:{};V%2?w(Object(W),!0).forEach(function(G){F(Z,G,W[G])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Z,Object.getOwnPropertyDescriptors(W)):w(Object(W)).forEach(function(G){Object.defineProperty(Z,G,Object.getOwnPropertyDescriptor(W,G))})}return Z}function j(Z,V){if(!(Z instanceof V))throw new TypeError("Cannot call a class as a function")}function S(Z,V){for(var W=0;W<V.length;W++){var G=V[W];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty(Z,H(G.key),G)}}function C(Z,V,W){return V&&S(Z.prototype,V),Object.defineProperty(Z,"prototype",{writable:!1}),Z}function P(Z,V){if(typeof V!="function"&&V!==null)throw new TypeError("Super expression must either be null or a function");Z.prototype=Object.create(V&&V.prototype,{constructor:{value:Z,writable:!0,configurable:!0}}),Object.defineProperty(Z,"prototype",{writable:!1}),V&&T(Z,V)}function T(Z,V){return T=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(W,G){return W.__proto__=G,W},T(Z,V)}function _(Z){var V=$();return function(){var W,G=B(Z);if(V){var O=B(this).constructor;W=Reflect.construct(G,arguments,O)}else W=G.apply(this,arguments);return k(this,W)}}function k(Z,V){if(V&&(m(V)=="object"||typeof V=="function"))return V;if(V!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return M(Z)}function M(Z){if(Z===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Z}function $(){try{var Z=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($=function(){return!!Z})()}function B(Z){return B=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(V){return V.__proto__||Object.getPrototypeOf(V)},B(Z)}function F(Z,V,W){return(V=H(V))in Z?Object.defineProperty(Z,V,{value:W,enumerable:!0,configurable:!0,writable:!0}):Z[V]=W,Z}function H(Z){var V=K(Z,"string");return m(V)=="symbol"?V:V+""}function K(Z,V){if(m(Z)!="object"||!Z)return Z;var W=Z[Symbol.toPrimitive];if(W!==void 0){var G=W.call(Z,V);if(m(G)!="object")return G;throw new TypeError("@@toPrimitive must return a primitive value.")}return(V==="string"?String:Number)(Z)}return Cf.InnerSlider=(function(Z){P(W,Z);var V=_(W);function W(G){var O;j(this,W),O=V.call(this,G),F(M(O),"listRefHandler",function(D){return O.list=D}),F(M(O),"trackRefHandler",function(D){return O.track=D}),F(M(O),"adaptHeight",function(){if(O.props.adaptiveHeight&&O.list){var D=O.list.querySelector('[data-index="'.concat(O.state.currentSlide,'"]'));O.list.style.height=(0,a.getHeight)(D)+"px"}}),F(M(O),"componentDidMount",function(){if(O.props.onInit&&O.props.onInit(),O.props.lazyLoad){var D=(0,a.getOnDemandLazySlides)(y(y({},O.props),O.state));D.length>0&&(O.setState(function(q){return{lazyLoadedList:q.lazyLoadedList.concat(D)}}),O.props.onLazyLoad&&O.props.onLazyLoad(D))}var I=y({listRef:O.list,trackRef:O.track},O.props);O.updateState(I,!0,function(){O.adaptHeight(),O.props.autoplay&&O.autoPlay("update")}),O.props.lazyLoad==="progressive"&&(O.lazyLoadTimer=setInterval(O.progressiveLazyLoad,1e3)),O.ro=new c.default(function(){O.state.animating?(O.onWindowResized(!1),O.callbackTimers.push(setTimeout(function(){return O.onWindowResized()},O.props.speed))):O.onWindowResized()}),O.ro.observe(O.list),document.querySelectorAll&&Array.prototype.forEach.call(document.querySelectorAll(".slick-slide"),function(q){q.onfocus=O.props.pauseOnFocus?O.onSlideFocus:null,q.onblur=O.props.pauseOnFocus?O.onSlideBlur:null}),window.addEventListener?window.addEventListener("resize",O.onWindowResized):window.attachEvent("onresize",O.onWindowResized)}),F(M(O),"componentWillUnmount",function(){O.animationEndCallback&&clearTimeout(O.animationEndCallback),O.lazyLoadTimer&&clearInterval(O.lazyLoadTimer),O.callbackTimers.length&&(O.callbackTimers.forEach(function(D){return clearTimeout(D)}),O.callbackTimers=[]),window.addEventListener?window.removeEventListener("resize",O.onWindowResized):window.detachEvent("onresize",O.onWindowResized),O.autoplayTimer&&clearInterval(O.autoplayTimer),O.ro.disconnect()}),F(M(O),"componentDidUpdate",function(D){if(O.checkImagesLoad(),O.props.onReInit&&O.props.onReInit(),O.props.lazyLoad){var I=(0,a.getOnDemandLazySlides)(y(y({},O.props),O.state));I.length>0&&(O.setState(function(ie){return{lazyLoadedList:ie.lazyLoadedList.concat(I)}}),O.props.onLazyLoad&&O.props.onLazyLoad(I))}O.adaptHeight();var q=y(y({listRef:O.list,trackRef:O.track},O.props),O.state),J=O.didPropsChange(D);J&&O.updateState(q,J,function(){O.state.currentSlide>=t.default.Children.count(O.props.children)&&O.changeSlide({message:"index",index:t.default.Children.count(O.props.children)-O.props.slidesToShow,currentSlide:O.state.currentSlide}),O.props.autoplay?O.autoPlay("update"):O.pause("paused")})}),F(M(O),"onWindowResized",function(D){O.debouncedResize&&O.debouncedResize.cancel(),O.debouncedResize=(0,n.default)(function(){return O.resizeWindow(D)},50),O.debouncedResize()}),F(M(O),"resizeWindow",function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,I=!!(O.track&&O.track.node);if(I){var q=y(y({listRef:O.list,trackRef:O.track},O.props),O.state);O.updateState(q,D,function(){O.props.autoplay?O.autoPlay("update"):O.pause("paused")}),O.setState({animating:!1}),clearTimeout(O.animationEndCallback),delete O.animationEndCallback}}),F(M(O),"updateState",function(D,I,q){var J=(0,a.initializedState)(D);D=y(y(y({},D),J),{},{slideIndex:J.currentSlide});var ie=(0,a.getTrackLeft)(D);D=y(y({},D),{},{left:ie});var ee=(0,a.getTrackCSS)(D);(I||t.default.Children.count(O.props.children)!==t.default.Children.count(D.children))&&(J.trackStyle=ee),O.setState(J,q)}),F(M(O),"ssrInit",function(){if(O.props.variableWidth){var D=0,I=0,q=[],J=(0,a.getPreClones)(y(y(y({},O.props),O.state),{},{slideCount:O.props.children.length})),ie=(0,a.getPostClones)(y(y(y({},O.props),O.state),{},{slideCount:O.props.children.length}));O.props.children.forEach(function(qe){q.push(qe.props.style.width),D+=qe.props.style.width});for(var ee=0;ee<J;ee++)I+=q[q.length-1-ee],D+=q[q.length-1-ee];for(var ae=0;ae<ie;ae++)D+=q[ae];for(var oe=0;oe<O.state.currentSlide;oe++)I+=q[oe];var te={width:D+"px",left:-I+"px"};if(O.props.centerMode){var ue="".concat(q[O.state.currentSlide],"px");te.left="calc(".concat(te.left," + (100% - ").concat(ue,") / 2 ) ")}return{trackStyle:te}}var de=t.default.Children.count(O.props.children),fe=y(y(y({},O.props),O.state),{},{slideCount:de}),ye=(0,a.getPreClones)(fe)+(0,a.getPostClones)(fe)+de,he=100/O.props.slidesToShow*ye,Ce=100/ye,Se=-Ce*((0,a.getPreClones)(fe)+O.state.currentSlide)*he/100;O.props.centerMode&&(Se+=(100-Ce*he/100)/2);var $e={width:he+"%",left:Se+"%"};return{slideWidth:Ce+"%",trackStyle:$e}}),F(M(O),"checkImagesLoad",function(){var D=O.list&&O.list.querySelectorAll&&O.list.querySelectorAll(".slick-slide img")||[],I=D.length,q=0;Array.prototype.forEach.call(D,function(J){var ie=function(){return++q&&q>=I&&O.onWindowResized()};if(!J.onclick)J.onclick=function(){return J.parentNode.focus()};else{var ee=J.onclick;J.onclick=function(ae){ee(ae),J.parentNode.focus()}}J.onload||(O.props.lazyLoad?J.onload=function(){O.adaptHeight(),O.callbackTimers.push(setTimeout(O.onWindowResized,O.props.speed))}:(J.onload=ie,J.onerror=function(){ie(),O.props.onLazyLoadError&&O.props.onLazyLoadError()}))})}),F(M(O),"progressiveLazyLoad",function(){for(var D=[],I=y(y({},O.props),O.state),q=O.state.currentSlide;q<O.state.slideCount+(0,a.getPostClones)(I);q++)if(O.state.lazyLoadedList.indexOf(q)<0){D.push(q);break}for(var J=O.state.currentSlide-1;J>=-(0,a.getPreClones)(I);J--)if(O.state.lazyLoadedList.indexOf(J)<0){D.push(J);break}D.length>0?(O.setState(function(ie){return{lazyLoadedList:ie.lazyLoadedList.concat(D)}}),O.props.onLazyLoad&&O.props.onLazyLoad(D)):O.lazyLoadTimer&&(clearInterval(O.lazyLoadTimer),delete O.lazyLoadTimer)}),F(M(O),"slideHandler",function(D){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,q=O.props,J=q.asNavFor,ie=q.beforeChange,ee=q.onLazyLoad,ae=q.speed,oe=q.afterChange,te=O.state.currentSlide,ue=(0,a.slideHandler)(y(y(y({index:D},O.props),O.state),{},{trackRef:O.track,useCSS:O.props.useCSS&&!I})),de=ue.state,fe=ue.nextState;if(de){ie&&ie(te,de.currentSlide);var ye=de.lazyLoadedList.filter(function(he){return O.state.lazyLoadedList.indexOf(he)<0});ee&&ye.length>0&&ee(ye),!O.props.waitForAnimate&&O.animationEndCallback&&(clearTimeout(O.animationEndCallback),oe&&oe(te),delete O.animationEndCallback),O.setState(de,function(){J&&O.asNavForIndex!==D&&(O.asNavForIndex=D,J.innerSlider.slideHandler(D)),fe&&(O.animationEndCallback=setTimeout(function(){var he=fe.animating,Ce=x(fe,["animating"]);O.setState(Ce,function(){O.callbackTimers.push(setTimeout(function(){return O.setState({animating:he})},10)),oe&&oe(de.currentSlide),delete O.animationEndCallback})},ae))})}}),F(M(O),"changeSlide",function(D){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,q=y(y({},O.props),O.state),J=(0,a.changeSlide)(q,D);if(!(J!==0&&!J)&&(I===!0?O.slideHandler(J,I):O.slideHandler(J),O.props.autoplay&&O.autoPlay("update"),O.props.focusOnSelect)){var ie=O.list.querySelectorAll(".slick-current");ie[0]&&ie[0].focus()}}),F(M(O),"clickHandler",function(D){O.clickable===!1&&(D.stopPropagation(),D.preventDefault()),O.clickable=!0}),F(M(O),"keyHandler",function(D){var I=(0,a.keyHandler)(D,O.props.accessibility,O.props.rtl);I!==""&&O.changeSlide({message:I})}),F(M(O),"selectHandler",function(D){O.changeSlide(D)}),F(M(O),"disableBodyScroll",function(){var D=function(q){q=q||window.event,q.preventDefault&&q.preventDefault(),q.returnValue=!1};window.ontouchmove=D}),F(M(O),"enableBodyScroll",function(){window.ontouchmove=null}),F(M(O),"swipeStart",function(D){O.props.verticalSwiping&&O.disableBodyScroll();var I=(0,a.swipeStart)(D,O.props.swipe,O.props.draggable);I!==""&&O.setState(I)}),F(M(O),"swipeMove",function(D){var I=(0,a.swipeMove)(D,y(y(y({},O.props),O.state),{},{trackRef:O.track,listRef:O.list,slideIndex:O.state.currentSlide}));I&&(I.swiping&&(O.clickable=!1),O.setState(I))}),F(M(O),"swipeEnd",function(D){var I=(0,a.swipeEnd)(D,y(y(y({},O.props),O.state),{},{trackRef:O.track,listRef:O.list,slideIndex:O.state.currentSlide}));if(I){var q=I.triggerSlideHandler;delete I.triggerSlideHandler,O.setState(I),q!==void 0&&(O.slideHandler(q),O.props.verticalSwiping&&O.enableBodyScroll())}}),F(M(O),"touchEnd",function(D){O.swipeEnd(D),O.clickable=!0}),F(M(O),"slickPrev",function(){O.callbackTimers.push(setTimeout(function(){return O.changeSlide({message:"previous"})},0))}),F(M(O),"slickNext",function(){O.callbackTimers.push(setTimeout(function(){return O.changeSlide({message:"next"})},0))}),F(M(O),"slickGoTo",function(D){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(D=Number(D),isNaN(D))return"";O.callbackTimers.push(setTimeout(function(){return O.changeSlide({message:"index",index:D,currentSlide:O.state.currentSlide},I)},0))}),F(M(O),"play",function(){var D;if(O.props.rtl)D=O.state.currentSlide-O.props.slidesToScroll;else if((0,a.canGoNext)(y(y({},O.props),O.state)))D=O.state.currentSlide+O.props.slidesToScroll;else return!1;O.slideHandler(D)}),F(M(O),"autoPlay",function(D){O.autoplayTimer&&clearInterval(O.autoplayTimer);var I=O.state.autoplaying;if(D==="update"){if(I==="hovered"||I==="focused"||I==="paused")return}else if(D==="leave"){if(I==="paused"||I==="focused")return}else if(D==="blur"&&(I==="paused"||I==="hovered"))return;O.autoplayTimer=setInterval(O.play,O.props.autoplaySpeed+50),O.setState({autoplaying:"playing"})}),F(M(O),"pause",function(D){O.autoplayTimer&&(clearInterval(O.autoplayTimer),O.autoplayTimer=null);var I=O.state.autoplaying;D==="paused"?O.setState({autoplaying:"paused"}):D==="focused"?(I==="hovered"||I==="playing")&&O.setState({autoplaying:"focused"}):I==="playing"&&O.setState({autoplaying:"hovered"})}),F(M(O),"onDotsOver",function(){return O.props.autoplay&&O.pause("hovered")}),F(M(O),"onDotsLeave",function(){return O.props.autoplay&&O.state.autoplaying==="hovered"&&O.autoPlay("leave")}),F(M(O),"onTrackOver",function(){return O.props.autoplay&&O.pause("hovered")}),F(M(O),"onTrackLeave",function(){return O.props.autoplay&&O.state.autoplaying==="hovered"&&O.autoPlay("leave")}),F(M(O),"onSlideFocus",function(){return O.props.autoplay&&O.pause("focused")}),F(M(O),"onSlideBlur",function(){return O.props.autoplay&&O.state.autoplaying==="focused"&&O.autoPlay("blur")}),F(M(O),"render",function(){var D=(0,s.default)("slick-slider",O.props.className,{"slick-vertical":O.props.vertical,"slick-initialized":!0}),I=y(y({},O.props),O.state),q=(0,a.extractObject)(I,["fade","cssEase","speed","infinite","centerMode","focusOnSelect","currentSlide","lazyLoad","lazyLoadedList","rtl","slideWidth","slideHeight","listHeight","vertical","slidesToShow","slidesToScroll","slideCount","trackStyle","variableWidth","unslick","centerPadding","targetSlide","useCSS"]),J=O.props.pauseOnHover;q=y(y({},q),{},{onMouseEnter:J?O.onTrackOver:null,onMouseLeave:J?O.onTrackLeave:null,onMouseOver:J?O.onTrackOver:null,focusOnSelect:O.props.focusOnSelect&&O.clickable?O.selectHandler:null});var ie;if(O.props.dots===!0&&O.state.slideCount>=O.props.slidesToShow){var ee=(0,a.extractObject)(I,["dotsClass","slideCount","slidesToShow","currentSlide","slidesToScroll","clickHandler","children","customPaging","infinite","appendDots"]),ae=O.props.pauseOnDotsHover;ee=y(y({},ee),{},{clickHandler:O.changeSlide,onMouseEnter:ae?O.onDotsLeave:null,onMouseOver:ae?O.onDotsOver:null,onMouseLeave:ae?O.onDotsLeave:null}),ie=t.default.createElement(o.Dots,ee)}var oe,te,ue=(0,a.extractObject)(I,["infinite","centerMode","currentSlide","slideCount","slidesToShow","prevArrow","nextArrow"]);ue.clickHandler=O.changeSlide,O.props.arrows&&(oe=t.default.createElement(l.PrevArrow,ue),te=t.default.createElement(l.NextArrow,ue));var de=null;O.props.vertical&&(de={height:O.state.listHeight});var fe=null;O.props.vertical===!1?O.props.centerMode===!0&&(fe={padding:"0px "+O.props.centerPadding}):O.props.centerMode===!0&&(fe={padding:O.props.centerPadding+" 0px"});var ye=y(y({},de),fe),he=O.props.touchMove,Ce={className:"slick-list",style:ye,onClick:O.clickHandler,onMouseDown:he?O.swipeStart:null,onMouseMove:O.state.dragging&&he?O.swipeMove:null,onMouseUp:he?O.swipeEnd:null,onMouseLeave:O.state.dragging&&he?O.swipeEnd:null,onTouchStart:he?O.swipeStart:null,onTouchMove:O.state.dragging&&he?O.swipeMove:null,onTouchEnd:he?O.touchEnd:null,onTouchCancel:O.state.dragging&&he?O.swipeEnd:null,onKeyDown:O.props.accessibility?O.keyHandler:null},Se={className:D,dir:"ltr",style:O.props.style};return O.props.unslick&&(Ce={className:"slick-list"},Se={className:D,style:O.props.style}),t.default.createElement("div",Se,O.props.unslick?"":oe,t.default.createElement("div",p({ref:O.listRefHandler},Ce),t.default.createElement(i.Track,p({ref:O.trackRefHandler},q),O.props.children)),O.props.unslick?"":te,O.props.unslick?"":ie)}),O.list=null,O.track=null,O.state=y(y({},r.default),{},{currentSlide:O.props.initialSlide,targetSlide:O.props.initialSlide?O.props.initialSlide:0,slideCount:t.default.Children.count(O.props.children)}),O.callbackTimers=[],O.clickable=!0,O.debouncedResize=null;var R=O.ssrInit();return O.state=y(y({},O.state),R),O}return C(W,[{key:"didPropsChange",value:function(O){for(var R=!1,D=0,I=Object.keys(this.props);D<I.length;D++){var q=I[D];if(!O.hasOwnProperty(q)){R=!0;break}if(!(m(O[q])==="object"||typeof O[q]=="function"||isNaN(O[q]))&&O[q]!==this.props[q]){R=!0;break}}return R||t.default.Children.count(this.props.children)!==t.default.Children.count(O.children)}}]),W})(t.default.Component),Cf}var Sw,SA;function joe(){if(SA)return Sw;SA=1;var t=function(r){return r.replace(/[A-Z]/g,function(n){return"-"+n.toLowerCase()}).toLowerCase()};return Sw=t,Sw}var _w,_A;function woe(){if(_A)return _w;_A=1;var t=joe(),r=function(a){var i=/[height|width]$/;return i.test(a)},n=function(a){var i="",o=Object.keys(a);return o.forEach(function(l,c){var u=a[l];l=t(l),r(l)&&typeof u=="number"&&(u=u+"px"),u===!0?i+=l:u===!1?i+="not "+l:i+="("+l+": "+u+")",c<o.length-1&&(i+=" and ")}),i},s=function(a){var i="";return typeof a=="string"?a:a instanceof Array?(a.forEach(function(o,l){i+=n(o),l<a.length-1&&(i+=", ")}),i):n(a)};return _w=s,_w}var kA;function Noe(){return kA||(kA=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(Eo()),n=boe(),s=o(woe()),a=o(R$()),i=bx();function o($){return $&&$.__esModule?$:{default:$}}function l($){"@babel/helpers - typeof";return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(B){return typeof B}:function(B){return B&&typeof Symbol=="function"&&B.constructor===Symbol&&B!==Symbol.prototype?"symbol":typeof B},l($)}function c(){return c=Object.assign?Object.assign.bind():function($){for(var B=1;B<arguments.length;B++){var F=arguments[B];for(var H in F)({}).hasOwnProperty.call(F,H)&&($[H]=F[H])}return $},c.apply(null,arguments)}function u($,B){var F=Object.keys($);if(Object.getOwnPropertySymbols){var H=Object.getOwnPropertySymbols($);B&&(H=H.filter(function(K){return Object.getOwnPropertyDescriptor($,K).enumerable})),F.push.apply(F,H)}return F}function m($){for(var B=1;B<arguments.length;B++){var F=arguments[B]!=null?arguments[B]:{};B%2?u(Object(F),!0).forEach(function(H){_($,H,F[H])}):Object.getOwnPropertyDescriptors?Object.defineProperties($,Object.getOwnPropertyDescriptors(F)):u(Object(F)).forEach(function(H){Object.defineProperty($,H,Object.getOwnPropertyDescriptor(F,H))})}return $}function p($,B){if(!($ instanceof B))throw new TypeError("Cannot call a class as a function")}function x($,B){for(var F=0;F<B.length;F++){var H=B[F];H.enumerable=H.enumerable||!1,H.configurable=!0,"value"in H&&(H.writable=!0),Object.defineProperty($,k(H.key),H)}}function v($,B,F){return B&&x($.prototype,B),Object.defineProperty($,"prototype",{writable:!1}),$}function w($,B){if(typeof B!="function"&&B!==null)throw new TypeError("Super expression must either be null or a function");$.prototype=Object.create(B&&B.prototype,{constructor:{value:$,writable:!0,configurable:!0}}),Object.defineProperty($,"prototype",{writable:!1}),B&&y($,B)}function y($,B){return y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(F,H){return F.__proto__=H,F},y($,B)}function j($){var B=P();return function(){var F,H=T($);if(B){var K=T(this).constructor;F=Reflect.construct(H,arguments,K)}else F=H.apply(this,arguments);return S(this,F)}}function S($,B){if(B&&(l(B)=="object"||typeof B=="function"))return B;if(B!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return C($)}function C($){if($===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return $}function P(){try{var $=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(P=function(){return!!$})()}function T($){return T=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(B){return B.__proto__||Object.getPrototypeOf(B)},T($)}function _($,B,F){return(B=k(B))in $?Object.defineProperty($,B,{value:F,enumerable:!0,configurable:!0,writable:!0}):$[B]=F,$}function k($){var B=M($,"string");return l(B)=="symbol"?B:B+""}function M($,B){if(l($)!="object"||!$)return $;var F=$[Symbol.toPrimitive];if(F!==void 0){var H=F.call($,B);if(l(H)!="object")return H;throw new TypeError("@@toPrimitive must return a primitive value.")}return(B==="string"?String:Number)($)}t.default=(function($){w(F,$);var B=j(F);function F(H){var K;return p(this,F),K=B.call(this,H),_(C(K),"innerSliderRefHandler",function(Z){return K.innerSlider=Z}),_(C(K),"slickPrev",function(){return K.innerSlider.slickPrev()}),_(C(K),"slickNext",function(){return K.innerSlider.slickNext()}),_(C(K),"slickGoTo",function(Z){var V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return K.innerSlider.slickGoTo(Z,V)}),_(C(K),"slickPause",function(){return K.innerSlider.pause("paused")}),_(C(K),"slickPlay",function(){return K.innerSlider.autoPlay("play")}),K.state={breakpoint:null},K._responsiveMediaHandlers=[],K}return v(F,[{key:"media",value:function(K,Z){var V=window.matchMedia(K),W=function(O){var R=O.matches;R&&Z()};V.addListener(W),this._responsiveMediaHandlers.push({mql:V,query:K,listener:W})}},{key:"componentDidMount",value:function(){var K=this;if(this.props.responsive){var Z=this.props.responsive.map(function(W){return W.breakpoint});Z.sort(function(W,G){return W-G}),Z.forEach(function(W,G){var O;G===0?O=(0,s.default)({minWidth:0,maxWidth:W}):O=(0,s.default)({minWidth:Z[G-1]+1,maxWidth:W}),(0,i.canUseDOM)()&&K.media(O,function(){K.setState({breakpoint:W})})});var V=(0,s.default)({minWidth:Z.slice(-1)[0]});(0,i.canUseDOM)()&&this.media(V,function(){K.setState({breakpoint:null})})}}},{key:"componentWillUnmount",value:function(){this._responsiveMediaHandlers.forEach(function(K){K.mql.removeListener(K.listener)})}},{key:"render",value:function(){var K=this,Z,V;this.state.breakpoint?(V=this.props.responsive.filter(function(ee){return ee.breakpoint===K.state.breakpoint}),Z=V[0].settings==="unslick"?"unslick":m(m(m({},a.default),this.props),V[0].settings)):Z=m(m({},a.default),this.props),Z.centerMode&&(Z.slidesToScroll>1,Z.slidesToScroll=1),Z.fade&&(Z.slidesToShow>1,Z.slidesToScroll>1,Z.slidesToShow=1,Z.slidesToScroll=1);var W=r.default.Children.toArray(this.props.children);W=W.filter(function(ee){return typeof ee=="string"?!!ee.trim():!!ee}),Z.variableWidth&&(Z.rows>1||Z.slidesPerRow>1)&&(console.warn("variableWidth is not supported in case of rows > 1 or slidesPerRow > 1"),Z.variableWidth=!1);for(var G=[],O=null,R=0;R<W.length;R+=Z.rows*Z.slidesPerRow){for(var D=[],I=R;I<R+Z.rows*Z.slidesPerRow;I+=Z.slidesPerRow){for(var q=[],J=I;J<I+Z.slidesPerRow&&(Z.variableWidth&&W[J].props.style&&(O=W[J].props.style.width),!(J>=W.length));J+=1)q.push(r.default.cloneElement(W[J],{key:100*R+10*I+J,tabIndex:-1,style:{width:"".concat(100/Z.slidesPerRow,"%"),display:"inline-block"}}));D.push(r.default.createElement("div",{key:10*R+I},q))}Z.variableWidth?G.push(r.default.createElement("div",{key:R,style:{width:O}},D)):G.push(r.default.createElement("div",{key:R},D))}if(Z==="unslick"){var ie="regular slider "+(this.props.className||"");return r.default.createElement("div",{className:ie},W)}else G.length<=Z.slidesToShow&&(Z.unslick=!0);return r.default.createElement(n.InnerSlider,c({style:this.props.style,ref:this.innerSliderRefHandler},(0,i.filterSettings)(Z)),G)}}]),F})(r.default.Component)})(yw)),yw}var CA;function Soe(){return CA||(CA=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(Noe());function n(s){return s&&s.__esModule?s:{default:s}}t.default=r.default})(vw)),vw}var _oe=Soe();const koe=ar(_oe),z$="BOOKING",Coe={Manicure:{bg:"bg-pink-100",border:"border-l-pink-500",text:"text-pink-900"},Pedicure:{bg:"bg-orange-100",border:"border-l-orange-500",text:"text-orange-900"},Eyelashes:{bg:"bg-purple-100",border:"border-l-purple-500",text:"text-purple-900"},Brow:{bg:"bg-amber-100",border:"border-l-amber-600",text:"text-amber-900"},Barber:{bg:"bg-blue-100",border:"border-l-blue-500",text:"text-blue-900"},"Hair stylist":{bg:"bg-indigo-100",border:"border-l-indigo-500",text:"text-indigo-900"},Cosmetology:{bg:"bg-cyan-100",border:"border-l-cyan-500",text:"text-cyan-900"},Facial:{bg:"bg-rose-100",border:"border-l-rose-500",text:"text-rose-900"},Laser:{bg:"bg-red-100",border:"border-l-red-500",text:"text-red-900"},"Make up":{bg:"bg-fuchsia-100",border:"border-l-fuchsia-500",text:"text-fuchsia-900"},Tattoo:{bg:"bg-slate-100",border:"border-l-slate-600",text:"text-slate-900"},Piercing:{bg:"bg-gray-100",border:"border-l-gray-500",text:"text-gray-900"},PMU:{bg:"bg-violet-100",border:"border-l-violet-500",text:"text-violet-900"},Spa:{bg:"bg-emerald-100",border:"border-l-emerald-500",text:"text-emerald-900"},Massage:{bg:"bg-teal-100",border:"border-l-teal-500",text:"text-teal-900"},Fitness:{bg:"bg-lime-100",border:"border-l-lime-600",text:"text-lime-900"},Waxing:{bg:"bg-yellow-100",border:"border-l-yellow-500",text:"text-yellow-900"},Other:{bg:"bg-zinc-100",border:"border-l-zinc-500",text:"text-zinc-900"}};function D_({booking:t,onDrop:r,onCheckout:n,view:s}){const[{isDragging:a},i]=Sie(()=>({type:z$,item:{id:t.id},collect:u=>({isDragging:!!u.isDragging()})})),o=Coe[t.category||""]||{bg:"bg-gray-100",border:"border-l-gray-500",text:"text-gray-900"},l={paid:"bg-green-500 text-white",deposit:"bg-yellow-500 text-white",unpaid:"bg-red-500 text-white"},c={paid:"Paid",deposit:"Dep",unpaid:"Unpaid"};return s==="month"?e.jsx("div",{ref:i,className:`${o.bg} ${o.border} border-l-4 rounded p-1 mb-0.5 cursor-move text-[10px] ${a?"opacity-50":"opacity-100"}`,children:e.jsxs("div",{className:`font-medium truncate ${o.text}`,children:[t.startTime," ",t.clientName]})}):e.jsxs("div",{ref:i,className:`${o.bg} ${o.border} border-l-4 rounded-lg p-2 mb-1 cursor-move hover:shadow-md transition-shadow group relative ${a?"opacity-50":"opacity-100"}`,style:{height:s==="day"?`${t.duration*60}px`:"auto",minHeight:s==="day"?"60px":"auto"},children:[e.jsxs("div",{className:"flex items-start justify-between mb-1",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"flex items-center gap-2",children:e.jsx("span",{className:`font-semibold text-sm truncate ${o.text}`,children:t.clientName})}),e.jsx("div",{className:`text-xs truncate ${o.text} opacity-80`,children:t.service})]}),e.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full font-medium ${l[t.status]}`,children:c[t.status]})]}),e.jsx("div",{className:`text-xs opacity-70 ${o.text}`,children:t.startTime}),(t.status==="unpaid"||t.status==="deposit")&&e.jsxs("button",{onClick:u=>{u.stopPropagation(),n(t)},className:"absolute bottom-1 right-1 opacity-0 group-hover:opacity-100 transition-opacity bg-purple-600 hover:bg-purple-700 text-white text-xs px-2 py-1 rounded flex items-center gap-1",children:[e.jsx(Wr,{className:"w-3 h-3"}),"Check Out"]})]})}function PA({time:t,masterId:r,bookings:n,onDrop:s,onCheckout:a,view:i,date:o}){const[{isOver:l},c]=Oie(()=>({accept:z$,drop:m=>{s(m.id,r,t)},collect:m=>({isOver:!!m.isOver()})})),u=n.filter(m=>m.masterId===r&&m.startTime===t&&(!o||m.date===o));return e.jsx("div",{ref:c,className:`border-r border-gray-200 transition-colors ${l?"bg-purple-50":"hover:bg-gray-50"}`,style:{minHeight:i==="day"?"15px":i==="week"?"60px":"80px",height:i==="day"?"15px":"auto"},children:u.map(m=>e.jsx(D_,{booking:m,onDrop:s,onCheckout:a,view:i},m.id))})}function Poe({onNewBooking:t}){const[r,n]=N.useState("day"),[s,a]=N.useState(new Date(2024,10,15)),[i,o]=N.useState(null),[l,c]=N.useState(!1),[u,m]=N.useState(!1),[p,x]=N.useState(!1),[v,w]=N.useState(null),[y,j]=N.useState(new Date),[S,C]=N.useState(!1);N.useRef(null);const{currency:P}=Kt();N.useEffect(()=>{const te=setInterval(()=>{j(new Date)},6e4);return()=>clearInterval(te)},[]);const _=(()=>{const te=[];for(let ue=9;ue<=19;ue++)for(let de=0;de<60;de+=15){const fe=`${String(ue).padStart(2,"0")}:${String(de).padStart(2,"0")}`;te.push(fe)}return te.push("20:00"),te})(),M=(()=>{const te=y.getHours(),ue=y.getMinutes();return te<9||te>=20?null:(te-9)*60+ue})(),B=[{id:"alice",name:"Alice",role:"Stylist",avatar:""},{id:"bob",name:"Bob",role:"Barber",avatar:""},{id:"elena",name:"Elena",role:"Nail Tech",avatar:""}],F=[{id:"haircut",name:"Haircut",duration:60,price:65},{id:"beard",name:"Beard Trim",duration:30,price:25},{id:"manicure",name:"Manicure",duration:60,price:45},{id:"pedicure",name:"Pedicure",duration:75,price:55},{id:"coloring",name:"Hair Coloring",duration:120,price:120},{id:"styling",name:"Hair Styling",duration:45,price:40}],[H,K]=N.useState([{id:"1",clientName:"Sarah J.",service:"Haircut",startTime:"10:00",duration:1,status:"deposit",masterId:"alice",date:"2024-11-15",category:"Hair stylist"},{id:"2",clientName:"Mike T.",service:"Beard Trim",startTime:"12:00",duration:.5,status:"paid",masterId:"bob",date:"2024-11-15",category:"Barber"},{id:"3",clientName:"Jessica W.",service:"Manicure",startTime:"14:00",duration:1,status:"unpaid",masterId:"elena",date:"2024-11-15",category:"Manicure"},{id:"4",clientName:"Anna K.",service:"Eyelash Extensions",startTime:"11:00",duration:1.5,status:"paid",masterId:"alice",date:"2024-11-15",category:"Eyelashes"},{id:"5",clientName:"Tom B.",service:"Spa Treatment",startTime:"15:30",duration:2,status:"deposit",masterId:"elena",date:"2024-11-15",category:"Spa"}]),Z=(te,ue,de)=>{K(fe=>fe.map(ye=>ye.id===te?{...ye,masterId:ue,startTime:de}:ye))},V=te=>{o(te),c(!0)},W=(te,ue)=>{i&&K(de=>de.map(fe=>fe.id===i.id?{...fe,status:"paid"}:fe)),alert(` Payment completed!

Client: ${i==null?void 0:i.clientName}
Total: $${ue.toFixed(2)}
Method: ${te}`),c(!1),o(null)},G=te=>{const ue=te.bookings.map(de=>({id:`booking-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,clientName:te.clientName,service:de.serviceName,startTime:de.time,duration:de.duration/60,status:"unpaid",masterId:de.masterId||B[0].id,date:de.date}));K(de=>[...de,...ue]),alert(` Booking Confirmed!

Client: ${te.clientName}
Phone: ${te.clientPhone}
Services: ${te.bookings.length}
Total: $${te.bookings.reduce((de,fe)=>de+fe.price,0).toFixed(2)}

 Confirmation sent via WhatsApp/SMS
 Reminders set for 24h and 1h before appointment`),m(!1)},O=te=>{if(r==="day")return te.toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric",year:"numeric"});if(r==="week"){const ue=new Date(te);ue.setDate(te.getDate()-te.getDay());const de=new Date(ue);return de.setDate(ue.getDate()+6),`${ue.toLocaleDateString("en-US",{month:"short",day:"numeric"})} - ${de.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}`}else return te.toLocaleDateString("en-US",{month:"long",year:"numeric"})},R=()=>{const te=new Date(s);r==="day"?te.setDate(te.getDate()-1):r==="week"?te.setDate(te.getDate()-7):te.setMonth(te.getMonth()-1),a(te)},D=()=>{const te=new Date(s);r==="day"?te.setDate(te.getDate()+1):r==="week"?te.setDate(te.getDate()+7):te.setMonth(te.getMonth()+1),a(te)},I=()=>{const te=[],ue=new Date(s);ue.setDate(s.getDate()-s.getDay());for(let de=0;de<7;de++){const fe=new Date(ue);fe.setDate(ue.getDate()+de),te.push(fe)}return te},q=()=>{const te=s.getFullYear(),ue=s.getMonth(),de=new Date(te,ue,1),fe=new Date(te,ue+1,0),ye=de.getDay(),he=[];for(let Se=0;Se<ye;Se++){const $e=new Date(te,ue,-ye+Se+1);he.push({date:$e,isCurrentMonth:!1})}for(let Se=1;Se<=fe.getDate();Se++)he.push({date:new Date(te,ue,Se),isCurrentMonth:!0});const Ce=42-he.length;for(let Se=1;Se<=Ce;Se++)he.push({date:new Date(te,ue+1,Se),isCurrentMonth:!1});return he},J=B.length>10,ie=J?"auto":`${100/B.length}%`,ee=()=>{if(J){const te={dots:!1,infinite:!1,speed:500,slidesToShow:10,slidesToScroll:5,arrows:!0,responsive:[{breakpoint:1920,settings:{slidesToShow:10,slidesToScroll:5}},{breakpoint:1440,settings:{slidesToShow:7,slidesToScroll:3}},{breakpoint:1024,settings:{slidesToShow:5,slidesToScroll:2}},{breakpoint:768,settings:{slidesToShow:3,slidesToScroll:1}}]};return e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"border-b border-gray-200 bg-gray-50 flex",children:[e.jsx("div",{className:"w-20 flex-shrink-0 p-3 font-medium text-xs text-gray-500 border-r border-gray-200",children:"TIME"}),e.jsx("div",{className:"flex-1",children:e.jsx(koe,{...te,children:B.map(ue=>e.jsx("div",{className:"px-2",children:e.jsx("div",{className:"p-3 text-center border-r border-gray-200",children:e.jsxs("div",{className:"flex flex-col items-center gap-1",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-purple-100 to-pink-100 flex items-center justify-center text-xl",children:ue.avatar}),e.jsx("div",{className:"font-semibold text-xs text-gray-900 truncate w-full",children:ue.name}),e.jsx("div",{className:"text-[10px] text-gray-500 truncate w-full",children:ue.role})]})})},ue.id))})})]}),e.jsxs("div",{className:"relative",children:[M!==null&&e.jsx("div",{className:"absolute left-0 right-0 z-10 pointer-events-none",style:{top:`${M}px`},children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-20 flex items-center justify-end pr-2",children:e.jsx("div",{className:"bg-red-500 text-white text-[10px] font-bold px-1.5 py-0.5 rounded",children:y.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!1})})}),e.jsx("div",{className:"flex-1 h-0.5 bg-red-500 relative",children:e.jsx("div",{className:"absolute left-0 top-1/2 -translate-y-1/2 w-2 h-2 bg-red-500 rounded-full"})})]})}),e.jsx("div",{className:S?"overflow-y-auto h-full":"overflow-y-auto max-h-[600px]",children:_.map(ue=>{const de=ue.endsWith(":00"),fe=ue.endsWith(":30");return e.jsxs("div",{className:"flex",style:{height:"15px",borderTop:de?"1px solid #d1d5db":fe?"1px solid #e5e7eb":"1px solid #f3f4f6"},children:[e.jsx("div",{className:"w-20 flex-shrink-0 border-r border-gray-200 bg-gray-50",children:(de||fe)&&e.jsx("div",{className:`text-[11px] font-medium px-2 -mt-2 ${de?"text-gray-700":"text-gray-500"}`,children:ue})}),e.jsx("div",{className:"flex-1 flex",children:B.map(ye=>e.jsx("div",{style:{width:ie},children:e.jsx(PA,{time:ue,masterId:ye.id,bookings:H,onDrop:Z,onCheckout:V,view:"day"})},`${ue}-${ye.id}`))})]},ue)})})]})]})}else return e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"border-b border-gray-200 bg-gray-50 flex",children:[e.jsx("div",{className:"w-20 flex-shrink-0 p-3 font-medium text-xs text-gray-500 border-r border-gray-200",children:"TIME"}),e.jsx("div",{className:"flex-1 flex",children:B.map(te=>e.jsx("div",{style:{width:ie},className:"border-r border-gray-200",children:e.jsx("div",{className:"p-3 text-center",children:e.jsxs("div",{className:"flex flex-col items-center gap-1",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-purple-100 to-pink-100 flex items-center justify-center text-xl",children:te.avatar}),e.jsx("div",{className:"font-semibold text-xs text-gray-900 truncate w-full",children:te.name}),e.jsx("div",{className:"text-[10px] text-gray-500 truncate w-full",children:te.role})]})})},te.id))})]}),e.jsxs("div",{className:"relative",children:[M!==null&&e.jsx("div",{className:"absolute left-0 right-0 z-10 pointer-events-none",style:{top:`${M}px`},children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-20 flex items-center justify-end pr-2",children:e.jsx("div",{className:"bg-red-500 text-white text-[10px] font-bold px-1.5 py-0.5 rounded",children:y.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!1})})}),e.jsx("div",{className:"flex-1 h-0.5 bg-red-500 relative",children:e.jsx("div",{className:"absolute left-0 top-1/2 -translate-y-1/2 w-2 h-2 bg-red-500 rounded-full"})})]})}),e.jsx("div",{className:S?"overflow-y-auto h-full":"overflow-y-auto max-h-[600px]",children:_.map(te=>{const ue=te.endsWith(":00"),de=te.endsWith(":30");return e.jsxs("div",{className:"flex",style:{height:"15px",borderTop:ue?"1px solid #d1d5db":de?"1px solid #e5e7eb":"1px solid #f3f4f6"},children:[e.jsx("div",{className:"w-20 flex-shrink-0 border-r border-gray-200 bg-gray-50",children:(ue||de)&&e.jsx("div",{className:`text-[11px] font-medium px-2 -mt-2 ${ue?"text-gray-700":"text-gray-500"}`,children:te})}),e.jsx("div",{className:"flex-1 flex",children:B.map(fe=>e.jsx("div",{style:{width:ie},children:e.jsx(PA,{time:te,masterId:fe.id,bookings:H,onDrop:Z,onCheckout:V,view:"day"})},`${te}-${fe.id}`))})]},te)})})]})]})},ae=()=>{const te=I(),ue=["9:00","10:00","11:00","12:00","13:00","14:00","15:00","16:00","17:00","18:00","19:00"];return e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("div",{className:"min-w-[800px]",children:[e.jsxs("div",{className:"grid grid-cols-8 border-b border-gray-200 bg-gray-50",children:[e.jsx("div",{className:"p-3 text-xs font-medium text-gray-500",children:"TIME"}),te.map((de,fe)=>e.jsxs("div",{className:"p-3 text-center border-l border-gray-200",children:[e.jsx("div",{className:"font-semibold text-sm text-gray-900",children:de.toLocaleDateString("en-US",{weekday:"short"})}),e.jsx("div",{className:"text-xs text-gray-600",children:de.toLocaleDateString("en-US",{month:"short",day:"numeric"})})]},fe))]}),e.jsx("div",{className:S?"overflow-y-auto h-full":"overflow-y-auto max-h-[600px]",children:ue.map(de=>e.jsxs("div",{className:"grid grid-cols-8 border-b border-gray-100",children:[e.jsx("div",{className:"p-2 text-xs font-medium text-gray-600 border-r border-gray-200 bg-gray-50",children:de}),te.map((fe,ye)=>{const he=fe.toISOString().split("T")[0],Ce=H.filter(Se=>Se.date===he&&Se.startTime===de);return e.jsx("div",{className:"p-2 border-l border-gray-200 min-h-[60px]",children:Ce.map(Se=>e.jsx(D_,{booking:Se,onDrop:Z,onCheckout:V,view:"week"},Se.id))},ye)})]},de))})]})})},oe=()=>{const te=q(),ue=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];return e.jsxs("div",{children:[e.jsx("div",{className:"grid grid-cols-7 border-b border-gray-200 bg-gray-50",children:ue.map(de=>e.jsx("div",{className:"p-3 text-center font-medium text-sm text-gray-700",children:de},de))}),e.jsx("div",{className:"grid grid-cols-7",children:te.map(({date:de,isCurrentMonth:fe},ye)=>{const he=de.toISOString().split("T")[0],Ce=H.filter($e=>$e.date===he),Se=de.toDateString()===new Date().toDateString();return e.jsxs("div",{className:`min-h-[100px] p-2 border-r border-b border-gray-200 ${fe?"bg-white":"bg-gray-50"} ${Se?"ring-2 ring-purple-500 ring-inset":""}`,children:[e.jsx("div",{className:`text-sm font-medium mb-1 ${fe?Se?"text-purple-600":"text-gray-900":"text-gray-400"}`,children:de.getDate()}),e.jsx("div",{className:"space-y-0.5",children:Ce.map($e=>e.jsx(D_,{booking:$e,onDrop:Z,onCheckout:V,view:"month"},$e.id))})]},ye)})})]})};return e.jsxs(Qae,{backend:Vie,children:[e.jsxs("div",{className:`${S?"fixed inset-0 z-50 bg-white flex flex-col":"space-y-4"}`,children:[e.jsxs("div",{className:`flex items-center justify-between ${S?"p-6 pb-4 flex-shrink-0":""}`,children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-purple-100 flex items-center justify-center",children:e.jsx("span",{className:"text-purple-600",children:""})}),e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Booking Calendar"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:R,className:"w-8 h-8 rounded-lg hover:bg-gray-100 flex items-center justify-center",children:e.jsx(Bh,{className:"w-5 h-5 text-gray-600"})}),e.jsx("span",{className:"text-sm font-medium text-gray-700 min-w-[200px] text-center",children:O(s)}),e.jsx("button",{onClick:D,className:"w-8 h-8 rounded-lg hover:bg-gray-100 flex items-center justify-center",children:e.jsx(Gs,{className:"w-5 h-5 text-gray-600"})})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"flex items-center gap-1 bg-gray-100 rounded-lg p-1",children:[e.jsx("button",{onClick:()=>n("day"),className:`px-3 py-1.5 rounded text-sm font-medium transition-colors ${r==="day"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:"Day"}),e.jsx("button",{onClick:()=>n("week"),className:`px-3 py-1.5 rounded text-sm font-medium transition-colors ${r==="week"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:"Week"}),e.jsx("button",{onClick:()=>n("month"),className:`px-3 py-1.5 rounded text-sm font-medium transition-colors ${r==="month"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:"Month"})]}),e.jsx(Q,{variant:"outline",size:"sm",className:"gap-2",onClick:()=>C(!S),children:S?e.jsx(wC,{className:"w-4 h-4"}):e.jsx(jC,{className:"w-4 h-4"})}),e.jsxs(Q,{onClick:()=>m(!0),className:"bg-purple-600 hover:bg-purple-700 text-white gap-2",children:[e.jsx(er,{className:"w-4 h-4"}),"New Booking"]})]})]}),e.jsx("div",{className:`${S?"flex-1 overflow-auto px-6":""}`,children:e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 overflow-hidden h-full",children:[r==="day"&&ee(),r==="week"&&ae(),r==="month"&&oe()]})}),!S&&e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-6",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("span",{className:"text-gray-700 font-semibold text-sm",children:"Service Categories:"})}),e.jsxs("div",{className:"grid grid-cols-6 gap-x-6 gap-y-2 flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-4 h-4 rounded bg-pink-500 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600 text-xs",children:"Manicure"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-4 h-4 rounded bg-orange-500 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600 text-xs",children:"Pedicure"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-4 h-4 rounded bg-purple-500 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600 text-xs",children:"Eyelashes"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-4 h-4 rounded bg-amber-600 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600 text-xs",children:"Brow"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-4 h-4 rounded bg-blue-500 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600 text-xs",children:"Barber"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-4 h-4 rounded bg-indigo-500 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600 text-xs",children:"Hair Stylist"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-4 h-4 rounded bg-cyan-500 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600 text-xs",children:"Cosmetology"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-4 h-4 rounded bg-rose-500 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600 text-xs",children:"Facial"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-4 h-4 rounded bg-red-500 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600 text-xs",children:"Laser"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-4 h-4 rounded bg-fuchsia-500 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600 text-xs",children:"Make up"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-4 h-4 rounded bg-slate-600 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600 text-xs",children:"Tattoo"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-4 h-4 rounded bg-gray-500 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600 text-xs",children:"Piercing"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-4 h-4 rounded bg-violet-500 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600 text-xs",children:"PMU"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-4 h-4 rounded bg-emerald-500 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600 text-xs",children:"Spa"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-4 h-4 rounded bg-teal-500 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600 text-xs",children:"Massage"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-4 h-4 rounded bg-lime-600 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600 text-xs",children:"Fitness"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-4 h-4 rounded bg-yellow-500 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600 text-xs",children:"Waxing"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-4 h-4 rounded bg-zinc-500 flex-shrink-0"}),e.jsx("span",{className:"text-gray-600 text-xs",children:"Other"})]})]})]})}),e.jsxs("div",{className:"flex items-center gap-6 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("span",{className:"text-gray-700 font-medium",children:"Payment Status:"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-4 h-4 rounded bg-green-500"}),e.jsx("span",{className:"text-gray-600",children:"Paid"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-4 h-4 rounded bg-yellow-500"}),e.jsx("span",{className:"text-gray-600",children:"Deposit"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-4 h-4 rounded bg-red-500"}),e.jsx("span",{className:"text-gray-600",children:"Unpaid"})]})]}),e.jsx("div",{className:"text-gray-500 border-l border-gray-300 pl-6",children:" Drag bookings to reschedule"})]})]})]}),i&&e.jsx(Gie,{isOpen:l,onClose:()=>{c(!1),o(null)},orderId:i.id,clientName:i.clientName,initialItems:[{id:i.id,name:i.service,price:65,type:"service"}],onComplete:W}),e.jsx(Kie,{isOpen:u,onClose:()=>m(!1),salonName:"Glamour Downtown",masters:B,services:F,existingBookings:H.map(te=>({masterId:te.masterId,date:te.date,time:te.startTime,duration:te.duration*60})),onConfirm:G})]})}var l4="Dialog",[U$]=Is(l4),[Aoe,Ki]=U$(l4),H$=t=>{const{__scopeDialog:r,children:n,open:s,defaultOpen:a,onOpenChange:i,modal:o=!0}=t,l=N.useRef(null),c=N.useRef(null),[u=!1,m]=Co({prop:s,defaultProp:a,onChange:i});return e.jsx(Aoe,{scope:r,triggerRef:l,contentRef:c,contentId:go(),titleId:go(),descriptionId:go(),open:u,onOpenChange:m,onOpenToggle:N.useCallback(()=>m(p=>!p),[m]),modal:o,children:n})};H$.displayName=l4;var W$="DialogTrigger",q$=N.forwardRef((t,r)=>{const{__scopeDialog:n,...s}=t,a=Ki(W$,n),i=Xt(r,a.triggerRef);return e.jsx(mt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":u4(a.open),...s,ref:i,onClick:Ze(t.onClick,a.onOpenToggle)})});q$.displayName=W$;var c4="DialogPortal",[Eoe,V$]=U$(c4,{forceMount:void 0}),G$=t=>{const{__scopeDialog:r,forceMount:n,children:s,container:a}=t,i=Ki(c4,r);return e.jsx(Eoe,{scope:r,forceMount:n,children:N.Children.map(s,o=>e.jsx(Gi,{present:n||i.open,children:e.jsx(uy,{asChild:!0,container:a,children:o})}))})};G$.displayName=c4;var q0="DialogOverlay",K$=N.forwardRef((t,r)=>{const n=V$(q0,t.__scopeDialog),{forceMount:s=n.forceMount,...a}=t,i=Ki(q0,t.__scopeDialog);return i.modal?e.jsx(Gi,{present:s||i.open,children:e.jsx(Toe,{...a,ref:r})}):null});K$.displayName=q0;var Toe=N.forwardRef((t,r)=>{const{__scopeDialog:n,...s}=t,a=Ki(q0,n);return e.jsx(my,{as:vl,allowPinchZoom:!0,shards:[a.contentRef],children:e.jsx(mt.div,{"data-state":u4(a.open),...s,ref:r,style:{pointerEvents:"auto",...s.style}})})}),Kd="DialogContent",Y$=N.forwardRef((t,r)=>{const n=V$(Kd,t.__scopeDialog),{forceMount:s=n.forceMount,...a}=t,i=Ki(Kd,t.__scopeDialog);return e.jsx(Gi,{present:s||i.open,children:i.modal?e.jsx(Ooe,{...a,ref:r}):e.jsx(Moe,{...a,ref:r})})});Y$.displayName=Kd;var Ooe=N.forwardRef((t,r)=>{const n=Ki(Kd,t.__scopeDialog),s=N.useRef(null),a=Xt(r,n.contentRef,s);return N.useEffect(()=>{const i=s.current;if(i)return $C(i)},[]),e.jsx(Z$,{...t,ref:a,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ze(t.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Ze(t.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:Ze(t.onFocusOutside,i=>i.preventDefault())})}),Moe=N.forwardRef((t,r)=>{const n=Ki(Kd,t.__scopeDialog),s=N.useRef(!1),a=N.useRef(!1);return e.jsx(Z$,{...t,ref:r,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(s.current||(l=n.triggerRef.current)==null||l.focus(),i.preventDefault()),s.current=!1,a.current=!1},onInteractOutside:i=>{var c,u;(c=t.onInteractOutside)==null||c.call(t,i),i.defaultPrevented||(s.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;((u=n.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),Z$=N.forwardRef((t,r)=>{const{__scopeDialog:n,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:i,...o}=t,l=Ki(Kd,n),c=N.useRef(null),u=Xt(r,c);return AC(),e.jsxs(e.Fragment,{children:[e.jsx(ay,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:a,onUnmountAutoFocus:i,children:e.jsx(sy,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":u4(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),e.jsxs(e.Fragment,{children:[e.jsx(Doe,{titleId:l.titleId}),e.jsx(Ioe,{contentRef:c,descriptionId:l.descriptionId})]})]})}),d4="DialogTitle",X$=N.forwardRef((t,r)=>{const{__scopeDialog:n,...s}=t,a=Ki(d4,n);return e.jsx(mt.h2,{id:a.titleId,...s,ref:r})});X$.displayName=d4;var J$="DialogDescription",Q$=N.forwardRef((t,r)=>{const{__scopeDialog:n,...s}=t,a=Ki(J$,n);return e.jsx(mt.p,{id:a.descriptionId,...s,ref:r})});Q$.displayName=J$;var e7="DialogClose",t7=N.forwardRef((t,r)=>{const{__scopeDialog:n,...s}=t,a=Ki(e7,n);return e.jsx(mt.button,{type:"button",...s,ref:r,onClick:Ze(t.onClick,()=>a.onOpenChange(!1))})});t7.displayName=e7;function u4(t){return t?"open":"closed"}var r7="DialogTitleWarning",[x4e,n7]=WJ(r7,{contentName:Kd,titleName:d4,docsSlug:"dialog"}),Doe=({titleId:t})=>{const r=n7(r7),n=`\`${r.contentName}\` requires a \`${r.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${r.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${r.docsSlug}`;return N.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},Roe="DialogDescriptionWarning",Ioe=({contentRef:t,descriptionId:r})=>{const s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${n7(Roe).contentName}}.`;return N.useEffect(()=>{var i;const a=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");r&&a&&(document.getElementById(r)||console.warn(s))},[s,t,r]),null},s7=H$,Loe=q$,a7=G$,i7=K$,o7=Y$,l7=X$,c7=Q$,d7=t7;function u7({...t}){return e.jsx(s7,{"data-slot":"dialog",...t})}function $oe({...t}){return e.jsx(a7,{"data-slot":"dialog-portal",...t})}function Boe({className:t,...r}){return e.jsx(i7,{"data-slot":"dialog-overlay",className:lt("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...r})}function h7({className:t,children:r,...n}){return e.jsxs($oe,{"data-slot":"dialog-portal",children:[e.jsx(Boe,{}),e.jsxs(o7,{"data-slot":"dialog-content",className:lt("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t),...n,children:[r,e.jsxs(d7,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[e.jsx(ht,{}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function m7({className:t,...r}){return e.jsx("div",{"data-slot":"dialog-header",className:lt("flex flex-col gap-2 text-center sm:text-left",t),...r})}function f7({className:t,...r}){return e.jsx(l7,{"data-slot":"dialog-title",className:lt("text-lg leading-none font-semibold",t),...r})}function Foe({className:t,...r}){return e.jsx(c7,{"data-slot":"dialog-description",className:lt("text-muted-foreground text-sm",t),...r})}function Wh({className:t,...r}){return e.jsx("textarea",{"data-slot":"textarea",className:lt("resize-none border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-input-background px-3 py-2 text-base transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),...r})}function zoe({userRole:t="admin"}){const[r,n]=N.useState("all"),[s,a]=N.useState(""),[i,o]=N.useState(null),[l,c]=N.useState(null),[u,m]=N.useState({}),[p,x]=N.useState(!1),v=[{id:"1",name:"Sarah Johnson",email:"sarah.j@email.com",phone:"+971 50 123 4567",status:"active",totalVisits:12,lastVisit:"2024-11-10",totalSpent:1240,rating:5,notes:"Prefers Alice as stylist",formula:"Color: 7.1 + 20vol"},{id:"2",name:"Mike Thompson",email:"mike.t@email.com",phone:"+971 50 234 5678",status:"active",totalVisits:8,lastVisit:"2024-11-12",totalSpent:680,rating:4,notes:"Regular beard trim every 2 weeks"},{id:"3",name:"Jessica Williams",email:"jessica.w@email.com",phone:"+971 50 345 6789",status:"active",totalVisits:15,lastVisit:"2024-11-14",totalSpent:2100,rating:5,notes:"VIP client, loves nail art",formula:"Gel: Pink #123"},{id:"4",name:"David Brown",email:"david.b@email.com",phone:"+971 50 456 7890",status:"blacklisted",totalVisits:2,lastVisit:"2024-10-05",totalSpent:80,rating:1,notes:"No-show twice, payment issues"}],w=v.filter(k=>{const M=r==="all"||k.status===r,$=k.name.toLowerCase().includes(s.toLowerCase())||k.email.toLowerCase().includes(s.toLowerCase())||k.phone.includes(s);return M&&$}),y={all:v.length,active:v.filter(k=>k.status==="active").length,blacklisted:v.filter(k=>k.status==="blacklisted").length},j=k=>{c(k),m(k)},S=()=>{console.log("Saving client:",u),c(null),m({})},C=()=>{c(null),m({})},P=()=>{const k=["Name","Email","Phone","Status","Total Visits","Last Visit","Total Spent","Rating","Notes","Formula"],M=v.map(K=>[K.name,K.email,K.phone,K.status,K.totalVisits,K.lastVisit,K.totalSpent,K.rating,K.notes||"",K.formula||""]),$=[k.join(","),...M.map(K=>K.map(Z=>`"${Z}"`).join(","))].join(`
`),B=new Blob([$],{type:"text/csv;charset=utf-8;"}),F=document.createElement("a"),H=URL.createObjectURL(B);F.setAttribute("href",H),F.setAttribute("download",`clients_export_${new Date().toISOString().split("T")[0]}.csv`),F.style.visibility="hidden",document.body.appendChild(F),F.click(),document.body.removeChild(F)},T=()=>{const k=["Name","Email","Phone","Status","Total Visits","Last Visit","Total Spent","Rating","Notes","Formula"],M=v.map(Z=>[Z.name,Z.email,Z.phone,Z.status,Z.totalVisits,Z.lastVisit,Z.totalSpent,Z.rating,Z.notes||"",Z.formula||""]),$=[k.join(","),...M.map(Z=>Z.map(V=>`"${V}"`).join(","))].join(`
`),B="\uFEFF",F=new Blob([B+$],{type:"text/csv;charset=utf-8;"}),H=document.createElement("a"),K=URL.createObjectURL(F);H.setAttribute("href",K),H.setAttribute("download",`clients_export_${new Date().toISOString().split("T")[0]}.xlsx`),H.style.visibility="hidden",document.body.appendChild(H),H.click(),document.body.removeChild(H)},_=k=>{var B;const M=(B=k.target.files)==null?void 0:B[0];if(!M)return;const $=new FileReader;$.onload=F=>{var V;const K=((V=F.target)==null?void 0:V.result).split(`
`);K[0].split(",").map(W=>W.replace(/"/g,"").trim());const Z=K.slice(1).filter(W=>W.trim()).map((W,G)=>{var R;const O=((R=W.match(/(".*?"|[^,]+)(?=\s*,|\s*$)/g))==null?void 0:R.map(D=>D.replace(/^"|"$/g,"").trim()))||[];return{id:`imported-${Date.now()}-${G}`,name:O[0]||"",email:O[1]||"",phone:O[2]||"",status:O[3]==="blacklisted"?"blacklisted":"active",totalVisits:parseInt(O[4])||0,lastVisit:O[5]||new Date().toISOString().split("T")[0],totalSpent:parseFloat(O[6])||0,rating:parseInt(O[7])||0,notes:O[8]||"",formula:O[9]||""}});console.log("Imported clients:",Z),alert(`Successfully imported ${Z.length} clients!`)},$.readAsText(M),k.target.value=""};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Client Database"}),e.jsx("p",{className:"text-sm text-gray-500",children:"History & Favorites"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[t==="owner"&&e.jsxs(e.Fragment,{children:[e.jsxs(Q,{variant:"outline",className:"gap-2",onClick:P,children:[e.jsx(vr,{className:"w-4 h-4"}),"Export CSV"]}),e.jsxs(Q,{variant:"outline",className:"gap-2",onClick:T,children:[e.jsx(vr,{className:"w-4 h-4"}),"Export Excel"]}),e.jsxs("label",{htmlFor:"import-file",className:"relative",children:[e.jsx("input",{type:"file",accept:".csv,.xlsx,.xls",onChange:_,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer",id:"import-file"}),e.jsxs(Q,{variant:"outline",className:"gap-2 pointer-events-none",children:[e.jsx(ss,{className:"w-4 h-4"}),"Import"]})]})]}),e.jsxs(Q,{className:"bg-purple-600 hover:bg-purple-700 text-white gap-2",children:[e.jsx(er,{className:"w-4 h-4"}),"Add Client"]})]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2 bg-gray-100 rounded-lg p-1",children:[e.jsxs("button",{onClick:()=>n("all"),className:`px-4 py-2 rounded text-sm font-medium transition-colors ${r==="all"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:["All (",y.all,")"]}),e.jsxs("button",{onClick:()=>n("active"),className:`px-4 py-2 rounded text-sm font-medium transition-colors ${r==="active"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:["Active (",y.active,")"]}),e.jsxs("button",{onClick:()=>n("blacklisted"),className:`px-4 py-2 rounded text-sm font-medium transition-colors ${r==="blacklisted"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:["Blacklisted (",y.blacklisted,")"]})]}),e.jsxs("div",{className:"flex-1 max-w-md relative",children:[e.jsx(qr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search clients...",value:s,onChange:k=>a(k.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-purple-500"})]})]}),e.jsx("div",{className:"grid gap-4",children:w.map(k=>e.jsx(ne,{className:"p-6 hover:shadow-lg transition-shadow",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-start gap-4 flex-1 cursor-pointer",onClick:()=>o(i===k.id?null:k.id),children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-purple-100 to-pink-100 flex items-center justify-center text-xl font-bold text-purple-600",children:k.name.charAt(0)}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[e.jsx("h3",{className:"font-bold text-gray-900",children:k.name}),k.status==="blacklisted"&&e.jsx("span",{className:"px-2 py-1 bg-red-100 text-red-600 text-xs font-medium rounded-full",children:"Blacklisted"}),i===k.id?e.jsx(_L,{className:"w-4 h-4 text-gray-400 ml-auto"}):e.jsx(Jv,{className:"w-4 h-4 text-gray-400 ml-auto"})]}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500",children:[e.jsxs("span",{children:[k.totalVisits," visits"]}),e.jsxs("span",{children:["$",k.totalSpent," spent"]})]}),i===k.id&&e.jsxs("div",{className:"mt-4 space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-x-8 gap-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[e.jsx(Ut,{className:"w-4 h-4"}),k.email]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[e.jsx(En,{className:"w-4 h-4"}),k.phone]})]}),e.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-gray-500",children:"Total Visits"}),e.jsx("div",{className:"text-lg font-bold text-gray-900",children:k.totalVisits})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-gray-500",children:"Last Visit"}),e.jsx("div",{className:"text-sm font-medium text-gray-900",children:k.lastVisit})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-gray-500",children:"Total Spent"}),e.jsxs("div",{className:"text-lg font-bold text-green-600",children:["$",k.totalSpent]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-gray-500",children:"Rating"}),e.jsx("div",{className:"flex items-center gap-1",children:[...Array(5)].map((M,$)=>e.jsx(Gt,{className:`w-4 h-4 ${$<k.rating?"fill-yellow-400 text-yellow-400":"text-gray-300"}`},$))})]})]}),(k.notes||k.formula)&&e.jsxs("div",{className:"space-y-2",children:[k.notes&&e.jsxs("div",{className:"bg-blue-50 rounded-lg p-3",children:[e.jsx("div",{className:"text-xs font-medium text-blue-600 mb-1",children:"Notes"}),e.jsx("div",{className:"text-sm text-gray-700",children:k.notes})]}),k.formula&&e.jsxs("div",{className:"bg-purple-50 rounded-lg p-3",children:[e.jsx("div",{className:"text-xs font-medium text-purple-600 mb-1",children:"Formula"}),e.jsx("div",{className:"text-sm text-gray-700",children:k.formula})]})]})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(Q,{variant:"outline",size:"sm",className:"gap-2",onClick:M=>{M.stopPropagation(),j(k)},children:[e.jsx(oi,{className:"w-4 h-4"}),"Edit"]}),e.jsx(Q,{variant:"outline",size:"sm",className:"text-red-600 hover:bg-red-50",onClick:M=>M.stopPropagation(),children:e.jsx(cn,{className:"w-4 h-4"})})]})]})},k.id))}),w.length===0&&e.jsx("div",{className:"text-center py-12",children:e.jsx("p",{className:"text-gray-500",children:"No clients found"})}),e.jsx(u7,{open:!!l,onOpenChange:k=>!k&&C(),children:e.jsxs(h7,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsx(m7,{children:e.jsx(f7,{children:"Edit Client Information"})}),e.jsxs("div",{className:"space-y-6 py-4",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"Basic Information"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(We,{htmlFor:"name",children:"Full Name"}),e.jsx(He,{id:"name",value:u.name||"",onChange:k=>m({...u,name:k.target.value}),placeholder:"Client name"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(We,{htmlFor:"status",children:"Status"}),e.jsxs("select",{id:"status",value:u.status||"active",onChange:k=>m({...u,status:k.target.value}),className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-purple-500",children:[e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"blacklisted",children:"Blacklisted"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(We,{htmlFor:"email",children:"Email"}),e.jsx(He,{id:"email",type:"email",value:u.email||"",onChange:k=>m({...u,email:k.target.value}),placeholder:"client@email.com"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(We,{htmlFor:"phone",children:"Phone"}),e.jsx(He,{id:"phone",value:u.phone||"",onChange:k=>m({...u,phone:k.target.value}),placeholder:"+971 50 123 4567"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(We,{htmlFor:"notes",children:"Notes"}),e.jsx(Wh,{id:"notes",value:u.notes||"",onChange:k=>m({...u,notes:k.target.value}),placeholder:"Add notes about client preferences, allergies, special requests...",rows:4,className:"resize-none"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(We,{htmlFor:"formula",children:"Color Formula / Treatment Details"}),e.jsx(Wh,{id:"formula",value:u.formula||"",onChange:k=>m({...u,formula:k.target.value}),placeholder:"E.g., Hair Color: 7.1 + 20vol, Gel Polish: Pink #123...",rows:3,className:"resize-none"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Add hair color formulas, gel polish codes, or any treatment details"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(We,{children:"Client Rating"}),e.jsx("div",{className:"flex items-center gap-2",children:[1,2,3,4,5].map(k=>e.jsx("button",{type:"button",onClick:()=>m({...u,rating:k}),className:"focus:outline-none",children:e.jsx(Gt,{className:`w-8 h-8 ${k<=(u.rating||0)?"fill-yellow-400 text-yellow-400":"text-gray-300"} hover:text-yellow-400 transition-colors`})},k))})]})]}),e.jsxs("div",{className:"flex items-center justify-end gap-3 pt-4 border-t",children:[e.jsx(Q,{variant:"outline",onClick:C,children:"Cancel"}),e.jsx(Q,{className:"bg-purple-600 hover:bg-purple-700 text-white",onClick:S,children:"Save Changes"})]})]})})]})}const kw=[{value:"monday",label:"Monday"},{value:"tuesday",label:"Tuesday"},{value:"wednesday",label:"Wednesday"},{value:"thursday",label:"Thursday"},{value:"friday",label:"Friday"},{value:"saturday",label:"Saturday"},{value:"sunday",label:"Sunday"}],Uoe=["Manicure","Pedicure","Eyelashes","Brow","Barber","Hair stylist","Cosmetology","Facial","Laser","Make up","Tattoo","Piercing","PMU","Spa","Massage","Fitness","Waxing","Other"];function Hoe({isOpen:t,onClose:r,onSubmit:n,editingMaster:s}){const{services:a}=au(),[i,o]=N.useState(1),[l,c]=N.useState(""),[u,m]=N.useState(""),[p,x]=N.useState(""),[v,w]=N.useState(""),[y,j]=N.useState([]),[S,C]=N.useState([]),[P,T]=N.useState(kw.map(Te=>({day:Te.value,isWorking:Te.value!=="sunday",startTime:"09:00",endTime:"18:00"}))),[_,k]=N.useState([]),[M,$]=N.useState(""),[B,F]=N.useState(""),[H,K]=N.useState(""),[Z,V]=N.useState([]),[W,G]=N.useState(""),[O,R]=N.useState("09:00"),[D,I]=N.useState("18:00"),[q,J]=N.useState(3e3),[ie,ee]=N.useState(15e3),[ae,oe]=N.useState("percentage"),[te,ue]=N.useState(10);N.useEffect(()=>{s&&(c(s.firstName),m(s.lastName),x(s.phone),w(s.email),j(s.categories),C(s.services),T(s.workingHours),k(s.vacations),V(s.extraWorkDays),J(s.baseSalary),ee(s.monthlyTarget),oe(s.bonusType),ue(s.bonusValue))},[s]);const de=()=>{o(1),c(""),m(""),x(""),w(""),j([]),C([]),T(kw.map(Te=>({day:Te.value,isWorking:Te.value!=="sunday",startTime:"09:00",endTime:"18:00"}))),k([]),V([]),$(""),F(""),K(""),G(""),R("09:00"),I("18:00"),J(3e3),ee(15e3),oe("percentage"),ue(10)},fe=()=>{de(),r()},ye=Te=>{if(y.includes(Te)){j(y.filter(Dt=>Dt!==Te));const $t=a.filter(Dt=>Dt.category===Te).map(Dt=>Dt.id);C(S.filter(Dt=>!$t.includes(Dt)))}else j([...y,Te])},he=Te=>{S.includes(Te)?C(S.filter($t=>$t!==Te)):C([...S,Te])},Ce=(Te,$t,Dt)=>{T(P.map(De=>De.day===Te?{...De,[$t]:Dt}:De))},Se=()=>{if(M&&B){const Te={id:Date.now().toString(),startDate:new Date(M),endDate:new Date(B),reason:H};k([..._,Te]),$(""),F(""),K("")}},$e=Te=>{k(_.filter($t=>$t.id!==Te))},qe=()=>{if(W){const Te={id:Date.now().toString(),date:new Date(W),startTime:O,endTime:D};V([...Z,Te]),G(""),R("09:00"),I("18:00")}},Fe=Te=>{V(Z.filter($t=>$t.id!==Te))},it=()=>{const Te=P.filter(Dt=>!Dt.isWorking).map(Dt=>Dt.day),$t={id:(s==null?void 0:s.id)||Date.now().toString(),firstName:l,lastName:u,phone:p,email:v,role:"master",categories:y,services:S,workingHours:P,daysOff:Te,vacations:_,extraWorkDays:Z,rating:(s==null?void 0:s.rating)||0,completedBookings:(s==null?void 0:s.completedBookings)||0,revenue:(s==null?void 0:s.revenue)||0,baseSalary:q,monthlyTarget:ie,currentRevenue:(s==null?void 0:s.currentRevenue)||0,bonusType:ae,bonusValue:te};n($t),fe()},rt=l&&u&&p&&v,yt=y.length>0&&S.length>0,Pt=q>0&&ie>0&&te>0;if(!t)return null;const Et=a.filter(Te=>y.includes(Te.category));return e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden flex flex-col",children:[e.jsxs("div",{className:"bg-gradient-to-r from-purple-600 to-pink-600 p-6 text-white relative",children:[e.jsx("button",{onClick:fe,className:"absolute top-4 right-4 w-8 h-8 rounded-full bg-white/20 hover:bg-white/30 flex items-center justify-center transition-colors",children:e.jsx(ht,{className:"w-5 h-5"})}),e.jsx("h2",{className:"text-2xl font-bold mb-2",children:s?"Edit Master":"Add New Master"}),e.jsxs("p",{className:"text-white/90 text-sm",children:[i===1&&"Personal Information",i===2&&"Categories & Services",i===3&&"Working Hours & Schedule",i===4&&"Salary & Monthly Target"]}),e.jsx("div",{className:"flex items-center gap-2 mt-4",children:[1,2,3,4].map(Te=>e.jsx("div",{className:`flex-1 h-1 rounded-full transition-all ${i>=Te?"bg-white":"bg-white/30"}`},Te))})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[i===1&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(zn,{className:"w-4 h-4 inline mr-2"}),"First Name *"]}),e.jsx("input",{type:"text",value:l,onChange:Te=>c(Te.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:"Enter first name"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(zn,{className:"w-4 h-4 inline mr-2"}),"Last Name *"]}),e.jsx("input",{type:"text",value:u,onChange:Te=>m(Te.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:"Enter last name"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(En,{className:"w-4 h-4 inline mr-2"}),"Phone Number *"]}),e.jsx("input",{type:"tel",value:p,onChange:Te=>x(Te.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:"+48 123 456 789"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(Ut,{className:"w-4 h-4 inline mr-2"}),"Email Address *"]}),e.jsx("input",{type:"email",value:v,onChange:Te=>w(Te.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:"master@salon.com"})]}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mt-6",children:e.jsxs("p",{className:"text-sm text-blue-800",children:[e.jsx("strong",{children:"Note:"})," An invitation email will be sent to this address once the master is added."]})})]}),i===2&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:[e.jsx(SL,{className:"w-4 h-4 inline mr-2"}),"Select Categories *"]}),e.jsx("div",{className:"grid grid-cols-3 gap-3",children:Uoe.map(Te=>e.jsx("button",{onClick:()=>ye(Te),className:`px-4 py-2 rounded-lg border-2 transition-all ${y.includes(Te)?"border-purple-600 bg-purple-50 text-purple-700 font-semibold":"border-gray-300 hover:border-purple-300 text-gray-700"}`,children:Te},Te))})]}),y.length>0&&e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:["Select Specific Services * (",S.length," selected)"]}),e.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto border border-gray-200 rounded-lg p-3",children:Et.length>0?Et.map(Te=>e.jsxs("label",{className:"flex items-center gap-3 p-3 hover:bg-gray-50 rounded-lg cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:S.includes(Te.id),onChange:()=>he(Te.id),className:"w-5 h-5 text-purple-600 border-gray-300 rounded focus:ring-purple-500"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium text-gray-900",children:Te.name}),e.jsxs("div",{className:"text-sm text-gray-500",children:[Te.category,"  ",Te.duration," min"]})]})]},Te.id)):e.jsx("p",{className:"text-center text-gray-500 py-4",children:"No services available for selected categories"})})]})]}),i===3&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:[e.jsx(pt,{className:"w-4 h-4 inline mr-2"}),"Working Hours"]}),e.jsx("div",{className:"space-y-2",children:kw.map(Te=>{const $t=P.find(Dt=>Dt.day===Te.value);return e.jsxs("div",{className:"flex items-center gap-4 p-3 bg-gray-50 rounded-lg",children:[e.jsxs("label",{className:"flex items-center gap-2 w-32",children:[e.jsx("input",{type:"checkbox",checked:($t==null?void 0:$t.isWorking)||!1,onChange:Dt=>Ce(Te.value,"isWorking",Dt.target.checked),className:"w-4 h-4 text-purple-600 border-gray-300 rounded focus:ring-purple-500"}),e.jsx("span",{className:"font-medium text-gray-700",children:Te.label})]}),($t==null?void 0:$t.isWorking)&&e.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[e.jsx("input",{type:"time",value:$t.startTime,onChange:Dt=>Ce(Te.value,"startTime",Dt.target.value),className:"px-3 py-1 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500"}),e.jsx("span",{className:"text-gray-500",children:"to"}),e.jsx("input",{type:"time",value:$t.endTime,onChange:Dt=>Ce(Te.value,"endTime",Dt.target.value),className:"px-3 py-1 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500"})]})]},Te.value)})})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:[e.jsx(vt,{className:"w-4 h-4 inline mr-2"}),"Vacation Periods"]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-3",children:[e.jsxs("div",{className:"grid grid-cols-3 gap-3 mb-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Start Date"}),e.jsx("input",{type:"date",value:M,onChange:Te=>$(Te.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"End Date"}),e.jsx("input",{type:"date",value:B,onChange:Te=>F(Te.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Reason (optional)"}),e.jsx("input",{type:"text",value:H,onChange:Te=>K(Te.target.value),placeholder:"e.g., Annual leave",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 text-sm"})]})]}),e.jsxs(Q,{onClick:Se,disabled:!M||!B,size:"sm",className:"bg-purple-600 hover:bg-purple-700 text-white",children:[e.jsx(er,{className:"w-4 h-4 mr-2"}),"Add Vacation"]})]}),_.length>0&&e.jsx("div",{className:"space-y-2",children:_.map(Te=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-orange-50 border border-orange-200 rounded-lg",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"font-medium text-gray-900",children:[new Date(Te.startDate).toLocaleDateString()," - ",new Date(Te.endDate).toLocaleDateString()]}),Te.reason&&e.jsx("div",{className:"text-sm text-gray-600",children:Te.reason})]}),e.jsx(Q,{onClick:()=>$e(Te.id),size:"sm",variant:"ghost",className:"text-red-600 hover:bg-red-50",children:e.jsx(cn,{className:"w-4 h-4"})})]},Te.id))})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:[e.jsx(MV,{className:"w-4 h-4 inline mr-2"}),"Extra Work Days"]}),e.jsx("div",{className:"bg-gray-50 rounded-lg p-4 mb-3",children:e.jsxs("div",{className:"grid grid-cols-4 gap-3 mb-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Date"}),e.jsx("input",{type:"date",value:W,onChange:Te=>G(Te.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Start Time"}),e.jsx("input",{type:"time",value:O,onChange:Te=>R(Te.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"End Time"}),e.jsx("input",{type:"time",value:D,onChange:Te=>I(Te.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 text-sm"})]}),e.jsx("div",{className:"flex items-end",children:e.jsxs(Q,{onClick:qe,disabled:!W,size:"sm",className:"bg-green-600 hover:bg-green-700 text-white w-full",children:[e.jsx(er,{className:"w-4 h-4 mr-2"}),"Add"]})})]})}),Z.length>0&&e.jsx("div",{className:"space-y-2",children:Z.map(Te=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 border border-green-200 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:new Date(Te.date).toLocaleDateString()}),e.jsxs("div",{className:"text-sm text-gray-600",children:[Te.startTime," - ",Te.endTime]})]}),e.jsx(Q,{onClick:()=>Fe(Te.id),size:"sm",variant:"ghost",className:"text-red-600 hover:bg-red-50",children:e.jsx(cn,{className:"w-4 h-4"})})]},Te.id))})]})]}),i===4&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4",children:e.jsxs("p",{className:"text-sm text-blue-800",children:[e.jsx("strong",{children:"Financial Settings:"})," Set base salary, monthly target, and bonus structure. Bonuses are only paid when the monthly target is achieved."]})}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(Zt,{className:"w-4 h-4 inline mr-2"}),"Base Salary (Monthly) *"]}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500",children:"$"}),e.jsx("input",{type:"number",value:q,onChange:Te=>J(Number(Te.target.value)),className:"w-full pl-8 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:"3000",min:"0"})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Fixed amount paid regardless of performance"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(xr,{className:"w-4 h-4 inline mr-2"}),"Monthly Revenue Target *"]}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500",children:"$"}),e.jsx("input",{type:"number",value:ie,onChange:Te=>ee(Number(Te.target.value)),className:"w-full pl-8 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:"15000",min:"0"})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Revenue goal to unlock bonus payment"})]}),e.jsxs("div",{className:"bg-purple-50 rounded-lg p-4",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:[e.jsx(So,{className:"w-4 h-4 inline mr-2"}),"Bonus Structure *"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("input",{type:"radio",id:"percentage",value:"percentage",checked:ae==="percentage",onChange:()=>oe("percentage"),className:"mt-1 w-4 h-4 text-purple-600 border-gray-300 focus:ring-purple-500"}),e.jsxs("label",{htmlFor:"percentage",className:"flex-1 cursor-pointer",children:[e.jsx("div",{className:"font-medium text-gray-900",children:"Percentage of Revenue"}),e.jsx("div",{className:"text-xs text-gray-600",children:"Bonus calculated as % of total revenue when target is met"})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("input",{type:"radio",id:"fixed",value:"fixed",checked:ae==="fixed",onChange:()=>oe("fixed"),className:"mt-1 w-4 h-4 text-purple-600 border-gray-300 focus:ring-purple-500"}),e.jsxs("label",{htmlFor:"fixed",className:"flex-1 cursor-pointer",children:[e.jsx("div",{className:"font-medium text-gray-900",children:"Fixed Amount"}),e.jsx("div",{className:"text-xs text-gray-600",children:"One-time bonus amount when target is achieved"})]})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:ae==="percentage"?e.jsxs(e.Fragment,{children:[e.jsx(So,{className:"w-4 h-4 inline mr-2"}),"Bonus Percentage *"]}):e.jsxs(e.Fragment,{children:[e.jsx(Zt,{className:"w-4 h-4 inline mr-2"}),"Bonus Amount *"]})}),e.jsxs("div",{className:"relative",children:[ae==="fixed"&&e.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500",children:"$"}),e.jsx("input",{type:"number",value:te,onChange:Te=>ue(Number(Te.target.value)),className:`w-full ${ae==="fixed"?"pl-8":"pl-4"} pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500`,placeholder:ae==="percentage"?"10":"500",min:"0"}),ae==="percentage"&&e.jsx("span",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500",children:"%"})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:ae==="percentage"?`${te}% of revenue = $${Math.round(ie*te/100).toLocaleString()} (when target met)`:`Fixed bonus of $${te.toLocaleString()} when target is achieved`})]}),e.jsxs("div",{className:"bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-lg p-4",children:[e.jsx("div",{className:"text-sm font-medium mb-3",children:" Salary Preview (Target Achieved)"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{children:"Base Salary"}),e.jsxs("span",{className:"font-bold",children:["$",q.toLocaleString()]})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("span",{children:["Bonus (",ae==="percentage"?`${te}%`:"Fixed",")"]}),e.jsxs("span",{className:"font-bold",children:["+$",ae==="percentage"?Math.round(ie*te/100).toLocaleString():te.toLocaleString()]})]}),e.jsxs("div",{className:"border-t border-white/30 pt-2 flex items-center justify-between",children:[e.jsx("span",{className:"font-bold",children:"Total"}),e.jsxs("span",{className:"text-2xl font-bold",children:["$",(q+(ae==="percentage"?Math.round(ie*te/100):te)).toLocaleString()]})]})]})]}),e.jsx("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4",children:e.jsxs("p",{className:"text-sm text-orange-800",children:[e.jsx("strong",{children:" Important:"})," If the monthly target is NOT met, the master will receive only the base salary without any bonus."]})})]})]}),e.jsxs("div",{className:"border-t border-gray-200 p-6 bg-gray-50 flex items-center justify-between",children:[e.jsx("div",{children:i>1&&e.jsx(Q,{onClick:()=>o(i-1),variant:"outline",children:"Previous"})}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Q,{variant:"outline",onClick:fe,children:"Cancel"}),i<4?e.jsx(Q,{onClick:()=>o(i+1),disabled:i===1&&!rt||i===2&&!yt,className:"bg-purple-600 hover:bg-purple-700 text-white",children:"Next Step"}):e.jsx(Q,{onClick:it,disabled:!rt||!yt||!1||!Pt,className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white",children:s?"Update Master":"Add Master & Send Invitation"})]})]})]})})}const Cw=[{day:"monday",isWorking:!0,startTime:"09:00",endTime:"18:00"},{day:"tuesday",isWorking:!0,startTime:"09:00",endTime:"18:00"},{day:"wednesday",isWorking:!0,startTime:"09:00",endTime:"18:00"},{day:"thursday",isWorking:!0,startTime:"09:00",endTime:"18:00"},{day:"friday",isWorking:!0,startTime:"09:00",endTime:"18:00"},{day:"saturday",isWorking:!1,startTime:"00:00",endTime:"00:00"},{day:"sunday",isWorking:!1,startTime:"00:00",endTime:"00:00"}];function Woe({isOpen:t,onClose:r,onSubmit:n,editingAdmin:s}){const[a,i]=N.useState(""),[o,l]=N.useState(""),[c,u]=N.useState(""),[m,p]=N.useState(""),[x,v]=N.useState(Cw),[w,y]=N.useState(!0);N.useEffect(()=>{s?(i(s.firstName),l(s.lastName),u(s.phone),p(s.email),v(s.workingHours)):(i(""),l(""),u(""),p(""),v(Cw),y(!0))},[s,t]);const j=()=>{i(""),l(""),u(""),p(""),v(Cw),y(!0),r()},S=()=>{if(!a||!o||!c||!m)return;const T=x.filter(k=>!k.isWorking).map(k=>k.day),_={id:(s==null?void 0:s.id)||Date.now().toString(),firstName:a,lastName:o,phone:c,email:m,role:"admin",categories:[],services:[],workingHours:x,daysOff:T,vacations:(s==null?void 0:s.vacations)||[],extraWorkDays:(s==null?void 0:s.extraWorkDays)||[],rating:0,completedBookings:0,revenue:0,baseSalary:0,monthlyTarget:0,currentRevenue:0,bonusType:"fixed",bonusValue:0};n(_),j()},C=(T,_,k)=>{const M=[...x];M[T]={...M[T],[_]:k},v(M)};if(!t)return null;const P=a&&o&&c&&m;return e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsx("div",{className:"sticky top-0 bg-gradient-to-r from-blue-600 to-indigo-600 text-white p-6 rounded-t-2xl",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-2xl font-bold mb-2 flex items-center gap-2",children:[e.jsx(Yn,{className:"w-7 h-7"}),s?"Edit Admin":"Add New Admin"]}),e.jsx("p",{className:"text-white/90 text-sm",children:"Administrator with full access to bookings and client database"})]}),e.jsx("button",{onClick:j,className:"text-white/80 hover:text-white transition-colors",children:e.jsx(ht,{className:"w-6 h-6"})})]})}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"font-bold text-gray-900 flex items-center gap-2",children:[e.jsx(zn,{className:"w-5 h-5 text-blue-600"}),"Personal Information"]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"First Name *"}),e.jsx("input",{type:"text",value:a,onChange:T=>i(T.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"John"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Last Name *"}),e.jsx("input",{type:"text",value:o,onChange:T=>l(T.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Doe"})]})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(En,{className:"w-4 h-4 inline mr-2"}),"Phone *"]}),e.jsx("input",{type:"tel",value:c,onChange:T=>u(T.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"+48 123 456 789"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(Ut,{className:"w-4 h-4 inline mr-2"}),"Email *"]}),e.jsx("input",{type:"email",value:m,onChange:T=>p(T.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"admin@salon.com"})]})]}),!s&&e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsxs("label",{className:"flex items-start gap-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:w,onChange:T=>y(T.target.checked),className:"mt-1 w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium text-blue-900",children:"Send Email Invitation"}),e.jsx("div",{className:"text-sm text-blue-700",children:"The admin will receive an email with login credentials and access instructions"})]})]})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"font-bold text-gray-900 flex items-center gap-2",children:[e.jsx(pt,{className:"w-5 h-5 text-blue-600"}),"Working Schedule"]}),e.jsx("div",{className:"bg-gray-50 rounded-lg p-4 space-y-3",children:x.map((T,_)=>e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("label",{className:"flex items-center gap-2 w-32",children:[e.jsx("input",{type:"checkbox",checked:T.isWorking,onChange:k=>C(_,"isWorking",k.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("span",{className:"text-sm font-medium text-gray-700 capitalize",children:T.day})]}),T.isWorking&&e.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[e.jsx("input",{type:"time",value:T.startTime,onChange:k=>C(_,"startTime",k.target.value),className:"px-3 py-1.5 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"}),e.jsx("span",{className:"text-gray-500",children:"to"}),e.jsx("input",{type:"time",value:T.endTime,onChange:k=>C(_,"endTime",k.target.value),className:"px-3 py-1.5 border border-gray-300 rounded text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),!T.isWorking&&e.jsx("span",{className:"text-sm text-gray-500",children:"Day off"})]},T.day))})]}),e.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-200 rounded-lg p-4",children:[e.jsx("div",{className:"font-medium text-blue-900 mb-2",children:" Admin Permissions"}),e.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[e.jsx("li",{children:" View and manage all bookings in the calendar"}),e.jsx("li",{children:" Access complete client database with phone numbers"}),e.jsx("li",{children:" Cannot view financial data or salary information"}),e.jsx("li",{children:" Cannot add/remove masters or other admins"})]})]}),e.jsxs("div",{className:"flex items-center gap-3 pt-4 border-t border-gray-200",children:[e.jsx(Q,{className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white disabled:opacity-50",onClick:S,disabled:!P,children:s?"Update Admin":"Add Admin"}),e.jsx(Q,{variant:"outline",onClick:j,children:"Cancel"})]})]})]})})}function qoe({master:t,isOpen:r,onClose:n,onEdit:s,userRole:a="owner"}){var y,j;const{services:i}=au();if(!r)return null;const o=()=>i.filter(S=>t.services.includes(S.id)),l=()=>t.monthlyTarget===0?0:Math.round(t.currentRevenue/t.monthlyTarget*100),c=()=>l()<100?0:t.bonusType==="percentage"?t.currentRevenue*t.bonusValue/100:t.bonusValue,u=()=>{const S=c();return t.baseSalary+S},m=S=>S>=100?"from-purple-600 to-pink-600":S>=50?"from-yellow-500 to-yellow-600":"from-red-500 to-red-600",p=o(),x=l(),v=u(),w=m(x);return e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl max-w-3xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"sticky top-0 bg-gradient-to-r from-purple-600 to-pink-600 text-white p-6 flex items-start justify-between rounded-t-2xl",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-16 h-16 rounded-full bg-white/20 flex items-center justify-center overflow-hidden",children:t.avatar?e.jsx("img",{src:t.avatar,alt:`${t.firstName} ${t.lastName}`,className:"w-full h-full object-cover"}):e.jsxs("span",{className:"text-2xl font-bold",children:[t.firstName[0],t.lastName[0]]})}),e.jsxs("div",{children:[e.jsxs("h2",{className:"text-2xl font-bold",children:[t.firstName," ",t.lastName]}),e.jsx("p",{className:"text-purple-100 text-sm",children:t.role==="admin"?" Administrator":" Master Specialist"})]})]}),e.jsx("button",{onClick:n,className:"text-white/80 hover:text-white transition-colors",children:e.jsx(ht,{className:"w-6 h-6"})})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsxs("h3",{className:"font-bold text-gray-900 mb-3 flex items-center gap-2",children:[e.jsx(SL,{className:"w-5 h-5 text-purple-600"}),"Contact Information"]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-3",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(En,{className:"w-4 h-4 text-gray-500"}),e.jsx("span",{className:"text-gray-700",children:t.phone})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(Ut,{className:"w-4 h-4 text-gray-500"}),e.jsx("span",{className:"text-gray-700",children:t.email})]})]})]}),t.role==="master"&&e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-purple-50 rounded-lg p-4 text-center",children:[e.jsxs("div",{className:"flex items-center justify-center gap-1 text-yellow-500 mb-2",children:[e.jsx(Gt,{className:"w-5 h-5 fill-current"}),e.jsx("span",{className:"font-bold text-lg text-gray-900",children:(y=t.rating)==null?void 0:y.toFixed(1)})]}),e.jsx("div",{className:"text-xs text-gray-600",children:"Rating"})]}),e.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-gray-900 mb-1",children:t.completedBookings}),e.jsx("div",{className:"text-xs text-gray-600",children:"Bookings"})]}),a!=="admin"&&e.jsxs("div",{className:"bg-green-50 rounded-lg p-4 text-center",children:[e.jsxs("div",{className:"text-2xl font-bold text-gray-900 mb-1",children:["$",(j=t.revenue)==null?void 0:j.toLocaleString()]}),e.jsx("div",{className:"text-xs text-gray-600",children:"Revenue"})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsx("h3",{className:"font-bold text-gray-900 mb-3",children:"Specializations"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-600 mb-2",children:"Categories"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:t.categories.map((S,C)=>e.jsx("span",{className:"px-3 py-1 bg-purple-100 text-purple-700 rounded-full text-sm font-medium",children:S},C))})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"text-sm text-gray-600 mb-2",children:["Services (",p.length,")"]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:p.map(S=>e.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-sm",children:S.name},S.id))})]})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsxs("h3",{className:"font-bold text-gray-900 mb-3 flex items-center gap-2",children:[e.jsx(pt,{className:"w-5 h-5 text-purple-600"}),"Working Schedule"]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:t.workingHours.map((S,C)=>e.jsxs("div",{className:`p-2 rounded text-center text-sm ${S.isWorking?"bg-green-50 border border-green-200":"bg-gray-100 border border-gray-200"}`,children:[e.jsx("div",{className:"font-medium text-gray-900 capitalize",children:S.day.slice(0,3)}),S.isWorking?e.jsxs("div",{className:"text-xs text-green-700",children:[S.startTime," - ",S.endTime]}):e.jsx("div",{className:"text-xs text-gray-500",children:"Off"})]},C))})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[t.vacations.length>0&&e.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(vt,{className:"w-4 h-4 text-orange-600"}),e.jsx("span",{className:"font-medium text-orange-800",children:"Vacations"})]}),e.jsxs("div",{className:"text-sm text-orange-700",children:[t.vacations.length," planned vacation",t.vacations.length>1?"s":""]})]}),t.extraWorkDays.length>0&&e.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(vt,{className:"w-4 h-4 text-green-600"}),e.jsx("span",{className:"font-medium text-green-800",children:"Extra Days"})]}),e.jsxs("div",{className:"text-sm text-green-700",children:[t.extraWorkDays.length," extra work day",t.extraWorkDays.length>1?"s":""]})]})]}),t.role==="master"&&a!=="admin"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"bg-gradient-to-r from-gray-50 to-gray-100 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-600 mb-1",children:"Monthly Target"}),e.jsxs("div",{className:"text-lg font-bold text-gray-900",children:["$",t.currentRevenue.toLocaleString()," / $",t.monthlyTarget.toLocaleString()]})]}),e.jsxs("div",{className:`text-3xl font-bold bg-gradient-to-r ${w} bg-clip-text text-transparent`,children:[x,"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3 mb-3",children:e.jsx("div",{className:`h-3 rounded-full bg-gradient-to-r ${w} transition-all duration-500`,style:{width:`${Math.min(x,100)}%`}})}),x<100?e.jsxs("div",{className:"text-sm text-gray-600",children:[e.jsxs("span",{className:"font-medium text-red-600",children:["$",(t.monthlyTarget-t.currentRevenue).toLocaleString()," remaining"]})," ","to achieve target"]}):e.jsxs("div",{className:"text-sm text-purple-600 font-medium",children:[" Target Achieved! ",x>100&&`Exceeded by ${x-100}%`]})]}),e.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 rounded-lg p-4",children:[e.jsxs("div",{className:"text-sm font-medium text-gray-600 mb-4 flex items-center gap-2",children:[e.jsx(Zt,{className:"w-5 h-5 text-purple-600"}),"Salary Breakdown"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-700",children:"Base Salary"}),e.jsxs("span",{className:"font-bold text-gray-900 text-lg",children:["$",t.baseSalary.toLocaleString()]})]}),x>=100&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-purple-700",children:["Bonus (",t.bonusType==="percentage"?`${t.bonusValue}%`:"Fixed",")"]}),e.jsxs("span",{className:"font-bold text-purple-700 text-lg",children:["+$",c().toLocaleString()]})]}),e.jsxs("div",{className:"border-t border-purple-200 pt-3 flex items-center justify-between",children:[e.jsx("span",{className:"font-bold text-gray-900 text-lg",children:"Total Salary"}),e.jsxs("span",{className:`text-2xl font-bold ${x>=100?"text-purple-600":"text-gray-900"}`,children:["$",v.toLocaleString()]})]})]}),x<100&&e.jsxs("div",{className:"mt-3 text-xs text-gray-600 bg-white rounded-lg p-3",children:[e.jsx("span",{className:"font-medium",children:"Potential with Target:"})," $",t.baseSalary.toLocaleString()," + ",t.bonusType==="percentage"?`${t.bonusValue}%`:`$${t.bonusValue}`," =",e.jsxs("span",{className:"font-bold text-purple-600",children:[" $",(t.baseSalary+(t.bonusType==="percentage"?t.monthlyTarget*t.bonusValue/100:t.bonusValue)).toLocaleString()]})]})]})]}),t.role==="master"&&a==="admin"&&e.jsxs("div",{className:"bg-gradient-to-r from-gray-50 to-gray-100 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-600 mb-1",children:"Monthly Target"}),e.jsxs("div",{className:"text-lg font-bold text-gray-900",children:["$",t.currentRevenue.toLocaleString()," / $",t.monthlyTarget.toLocaleString()]})]}),e.jsxs("div",{className:`text-3xl font-bold bg-gradient-to-r ${w} bg-clip-text text-transparent`,children:[x,"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3 mb-3",children:e.jsx("div",{className:`h-3 rounded-full bg-gradient-to-r ${w} transition-all duration-500`,style:{width:`${Math.min(x,100)}%`}})}),x<100?e.jsxs("div",{className:"text-sm text-gray-600",children:[e.jsxs("span",{className:"font-medium text-red-600",children:["$",(t.monthlyTarget-t.currentRevenue).toLocaleString()," remaining"]})," ","to achieve target"]}):e.jsxs("div",{className:"text-sm text-purple-600 font-medium",children:[" Target Achieved! ",x>100&&`Exceeded by ${x-100}%`]})]}),e.jsxs("div",{className:"flex items-center gap-3 pt-4 border-t border-gray-200",children:[a!=="admin"&&e.jsxs(Q,{className:"flex-1 bg-purple-600 hover:bg-purple-700 text-white",onClick:s,children:["Edit ",t.role==="admin"?"Admin":"Master"]}),e.jsx(Q,{variant:"outline",onClick:n,className:a==="admin"?"flex-1":"",children:"Close"})]})]})]})})}function Voe({userRole:t="owner"}){const{masters:r,addMaster:n,updateMaster:s}=s8(),{services:a}=au(),[i,o]=N.useState(!1),[l,c]=N.useState(!1),[u,m]=N.useState(!1),[p,x]=N.useState(null),[v,w]=N.useState(null),[y,j]=N.useState(null),S=B=>{n(B)},C=B=>{s(B),x(null),w(null)},P=B=>{j(B),m(!0)},T=()=>{t!=="admin"&&y&&(y.role==="admin"?(w(y),c(!0)):(x(y),o(!0)),m(!1))},_=B=>B.monthlyTarget===0?0:Math.round(B.currentRevenue/B.monthlyTarget*100),k=B=>B>=100?"from-purple-600 to-pink-600":B>=50?"from-yellow-500 to-yellow-600":"from-red-500 to-red-600",M=r.filter(B=>B.role==="master"),$=r.filter(B=>B.role==="admin");return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[e.jsx(tr,{className:"w-7 h-7 text-purple-600"}),"Masters"]}),e.jsx("p",{className:"text-sm text-gray-500",children:"Service specialists with client bookings"})]}),t!=="admin"&&e.jsxs(Q,{className:"bg-purple-600 hover:bg-purple-700 text-white gap-2",onClick:()=>{x(null),o(!0)},children:[e.jsx(er,{className:"w-4 h-4"}),"Add Master"]})]}),e.jsx("div",{className:"grid md:grid-cols-3 lg:grid-cols-4 gap-4",children:M.map(B=>{var K;const F=_(B),H=k(F);return e.jsx(ne,{className:"overflow-hidden hover:shadow-lg transition-all cursor-pointer group",onClick:()=>P(B),children:e.jsxs(ke,{className:"p-4",children:[e.jsxs("div",{className:"flex flex-col items-center text-center mb-3",children:[e.jsx("div",{className:"w-20 h-20 rounded-full bg-gradient-to-br from-purple-100 to-pink-100 flex items-center justify-center mb-3 overflow-hidden group-hover:scale-110 transition-transform",children:B.avatar?e.jsx("img",{src:B.avatar,alt:`${B.firstName} ${B.lastName}`,className:"w-full h-full object-cover"}):e.jsxs("span",{className:"text-2xl font-bold text-purple-600",children:[B.firstName[0],B.lastName[0]]})}),e.jsxs("h3",{className:"font-bold text-gray-900 text-sm",children:[B.firstName," ",B.lastName]}),e.jsx("p",{className:"text-xs text-gray-500",children:B.categories[0]})]}),e.jsxs("div",{className:"space-y-2 mb-3",children:[e.jsxs("div",{className:"flex items-center justify-between text-xs",children:[e.jsx("span",{className:"text-gray-600",children:"Rating"}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Gt,{className:"w-3 h-3 fill-yellow-400 text-yellow-400"}),e.jsx("span",{className:"font-bold text-gray-900",children:(K=B.rating)==null?void 0:K.toFixed(1)})]})]}),e.jsxs("div",{className:"flex items-center justify-between text-xs",children:[e.jsx("span",{className:"text-gray-600",children:"Bookings"}),e.jsx("span",{className:"font-bold text-gray-900",children:B.completedBookings})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-2",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("span",{className:"text-xs text-gray-600",children:"Target"}),e.jsxs("span",{className:`text-sm font-bold bg-gradient-to-r ${H} bg-clip-text text-transparent`,children:[F,"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-1.5",children:e.jsx("div",{className:`h-1.5 rounded-full bg-gradient-to-r ${H} transition-all duration-500`,style:{width:`${Math.min(F,100)}%`}})})]})]})},B.id)})}),M.length===0&&e.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-lg border-2 border-dashed border-gray-300",children:[e.jsx(tr,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-500",children:"No masters added yet"}),e.jsx(Q,{className:"mt-4 bg-purple-600 hover:bg-purple-700 text-white",onClick:()=>o(!0),children:"Add First Master"})]})]}),e.jsxs("div",{className:"pt-6 border-t-2 border-gray-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[e.jsx(Yn,{className:"w-7 h-7 text-blue-600"}),"Administrators"]}),e.jsx("p",{className:"text-sm text-gray-500",children:"Staff with booking and client management access"})]}),t!=="admin"&&e.jsxs(Q,{className:"bg-blue-600 hover:bg-blue-700 text-white gap-2",onClick:()=>{w(null),c(!0)},children:[e.jsx(er,{className:"w-4 h-4"}),"Add Admin"]})]}),e.jsx("div",{className:"grid md:grid-cols-3 lg:grid-cols-4 gap-4",children:$.map(B=>e.jsx(ne,{className:"overflow-hidden hover:shadow-lg transition-all cursor-pointer group",onClick:()=>P(B),children:e.jsxs(ke,{className:"p-4",children:[e.jsxs("div",{className:"flex flex-col items-center text-center mb-3",children:[e.jsx("div",{className:"w-20 h-20 rounded-full bg-gradient-to-br from-blue-100 to-indigo-100 flex items-center justify-center mb-3 overflow-hidden group-hover:scale-110 transition-transform",children:B.avatar?e.jsx("img",{src:B.avatar,alt:`${B.firstName} ${B.lastName}`,className:"w-full h-full object-cover"}):e.jsx(Yn,{className:"w-10 h-10 text-blue-600"})}),e.jsxs("h3",{className:"font-bold text-gray-900 text-sm",children:[B.firstName," ",B.lastName]}),e.jsx("p",{className:"text-xs text-blue-600 font-medium",children:"Administrator"})]}),e.jsxs("div",{className:"bg-blue-50 rounded-lg p-2 space-y-1",children:[e.jsx("div",{className:"text-xs text-gray-600 truncate",children:B.email}),e.jsx("div",{className:"text-xs text-gray-600",children:B.phone})]}),e.jsx("div",{className:"mt-3 text-center",children:e.jsxs("div",{className:"text-xs text-gray-500",children:[B.workingHours.filter(F=>F.isWorking).length," working days"]})})]})},B.id))}),$.length===0&&e.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-lg border-2 border-dashed border-gray-300",children:[e.jsx(Yn,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-500",children:"No administrators added yet"}),t!=="admin"&&e.jsx(Q,{className:"mt-4 bg-blue-600 hover:bg-blue-700 text-white",onClick:()=>c(!0),children:"Add First Admin"})]})]}),e.jsx(Hoe,{isOpen:i,onClose:()=>{o(!1),x(null)},onSubmit:S,editingMaster:p}),e.jsx(Woe,{isOpen:l,onClose:()=>{c(!1),w(null)},onSubmit:C,editingAdmin:v}),y&&e.jsx(qoe,{master:y,isOpen:u,onClose:()=>{m(!1),j(null)},onEdit:T,userRole:t})]})}const Goe=["Haircut","Coloring","Styling","Manicure","Pedicure","Makeup","Massage","Facial","Waxing","Other"];function Koe({isOpen:t,onClose:r,onSubmit:n}){const{currency:s,setCurrency:a,formatPrice:i}=Kt(),[o,l]=N.useState(""),[c,u]=N.useState(""),[m,p]=N.useState(""),[x,v]=N.useState(""),[w,y]=N.useState("");if(!t)return null;const j=C=>{if(C.preventDefault(),!o||!c||!m||!x){ve.error("Please fill in all required fields");return}const P={category:o,name:c,duration:parseInt(m),price:parseFloat(x),currency:s.code,description:w};n(P),l(""),u(""),p(""),v(""),y(""),ve.success("Service added successfully! "),r()},S=()=>{l(""),u(""),p(""),v(""),y(""),r()};return e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50 backdrop-blur-sm",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg max-h-[90vh] overflow-y-auto",children:[e.jsx("div",{className:"sticky top-0 bg-gradient-to-r from-purple-600 to-pink-600 text-white p-6 rounded-t-2xl",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-white/20 flex items-center justify-center",children:e.jsx(tr,{className:"w-6 h-6"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold",children:"Add New Service"}),e.jsx("p",{className:"text-purple-100 text-sm",children:"Create a new service for your salon"})]})]}),e.jsx("button",{onClick:S,className:"w-8 h-8 rounded-full hover:bg-white/20 flex items-center justify-center transition-colors",children:e.jsx(ht,{className:"w-5 h-5"})})]})}),e.jsxs("form",{onSubmit:j,className:"p-6 space-y-5",children:[e.jsxs("div",{children:[e.jsxs(We,{htmlFor:"category",className:"text-gray-700 font-medium mb-2 flex items-center gap-2",children:["Category ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{id:"category",value:o,onChange:C=>l(C.target.value),className:"w-full h-11 px-4 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent bg-white",required:!0,children:[e.jsx("option",{value:"",children:"Select category..."}),Goe.map(C=>e.jsx("option",{value:C,children:C},C))]})]}),e.jsxs("div",{children:[e.jsxs(We,{htmlFor:"name",className:"text-gray-700 font-medium mb-2 flex items-center gap-2",children:["Service Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(He,{id:"name",type:"text",value:c,onChange:C=>u(C.target.value),placeholder:"e.g. Women's Haircut",className:"h-11",required:!0})]}),e.jsxs("div",{children:[e.jsxs(We,{htmlFor:"duration",className:"text-gray-700 font-medium mb-2 flex items-center gap-2",children:[e.jsx(pt,{className:"w-4 h-4 text-purple-600"}),"Duration (minutes) ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(He,{id:"duration",type:"number",value:m,onChange:C=>p(C.target.value),placeholder:"e.g. 60",min:"15",step:"15",className:"h-11",required:!0}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Duration in 15-minute increments"})]}),e.jsxs("div",{children:[e.jsxs(We,{htmlFor:"price",className:"text-gray-700 font-medium mb-2 flex items-center gap-2",children:[e.jsx(Zt,{className:"w-4 h-4 text-purple-600"}),"Price ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("div",{className:"flex-1",children:e.jsx(He,{id:"price",type:"number",value:x,onChange:C=>v(C.target.value),placeholder:"e.g. 50",min:"0",step:"0.01",className:"h-11",required:!0})}),e.jsx("select",{value:s.code,onChange:C=>{const P=Xs.find(T=>T.code===C.target.value);P&&a(P)},className:"h-11 px-4 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent bg-white min-w-[120px]",children:Xs.map(C=>e.jsxs("option",{value:C.code,children:[C.flag," ",C.code," (",C.symbol,")"]},C.code))})]}),x&&e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Preview: ",i(parseFloat(x))]})]}),e.jsxs("div",{children:[e.jsx(We,{htmlFor:"description",className:"text-gray-700 font-medium mb-2",children:"Description"}),e.jsx("textarea",{id:"description",value:w,onChange:C=>y(C.target.value),placeholder:"Describe the service details...",className:"w-full min-h-[100px] px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent resize-none",rows:4}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Optional: Add more details about this service"})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx(Q,{type:"button",variant:"outline",onClick:S,className:"flex-1 h-11",children:"Cancel"}),e.jsx(Q,{type:"submit",className:"flex-1 h-11 bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white",children:"Add Service"})]})]})]})})}const AA={Manicure:"bg-pink-500",Pedicure:"bg-orange-500",Eyelashes:"bg-purple-500",Brow:"bg-amber-600",Barber:"bg-blue-500","Hair stylist":"bg-indigo-500",Cosmetology:"bg-cyan-500",Facial:"bg-rose-500",Laser:"bg-red-500","Make up":"bg-fuchsia-500",Tattoo:"bg-slate-600",Piercing:"bg-gray-500",PMU:"bg-violet-500",Spa:"bg-emerald-500",Massage:"bg-teal-500",Fitness:"bg-lime-600",Waxing:"bg-yellow-500",Other:"bg-zinc-500"},Pw=[{code:"USD",symbol:"$",name:"US Dollar"},{code:"EUR",symbol:"",name:"Euro"},{code:"GBP",symbol:"",name:"British Pound"},{code:"RUB",symbol:"",name:"Russian Ruble"},{code:"UAH",symbol:"",name:"Ukrainian Hryvnia"},{code:"PLN",symbol:"z",name:"Polish Zloty"}];function Yoe({isOpen:t,onClose:r,service:n,bookingDetails:s,onSave:a}){var T;const[i,o]=N.useState(Pw[0]),[l,c]=N.useState(!1),[u,m]=N.useState(n);if(N.useEffect(()=>{t&&n&&JSON.stringify(u)!==JSON.stringify(n)&&m(n)},[t,n,u]),!t)return null;const p=l?u:n,x=p&&AA[p.category]||"bg-gray-500",v=p&&p.originalPrice||p?p.price:0,w=p&&p.discount&&p.discount>0,y=p&&p.originalPrice||p?p.price:0,j=_=>{const k=Math.floor(_/60),M=_%60;return k>0&&M>0?`${k}h ${M}min`:k>0?`${k}h`:`${M}min`},S={paid:"bg-green-100 text-green-800 border-green-200",deposit:"bg-yellow-100 text-yellow-800 border-yellow-200",unpaid:"bg-red-100 text-red-800 border-red-200"},C={paid:"Paid",deposit:"Deposit Paid",unpaid:"Not Paid"},P=()=>{a&&u&&a(u),c(!1)};return e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-hidden",children:[e.jsxs("div",{className:`${x} p-6 text-white relative`,children:[e.jsx("button",{onClick:r,className:"absolute top-4 right-4 w-8 h-8 rounded-full bg-white/20 hover:bg-white/30 flex items-center justify-center transition-colors",children:e.jsx(ht,{className:"w-5 h-5"})}),e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"text-white/90 text-sm font-medium mb-2",children:p?p.category:"Unknown"}),e.jsx("h2",{className:"text-2xl font-bold mb-1",children:p?p.name:"Unknown"}),s&&e.jsxs("div",{className:"text-white/90 text-sm",children:["with ",s.masterName]})]}),w&&e.jsxs("div",{className:"bg-white/20 backdrop-blur-sm rounded-lg px-3 py-2 flex items-center gap-2",children:[e.jsx(So,{className:"w-5 h-5"}),e.jsxs("span",{className:"font-bold text-lg",children:[p?p.discount:0,"% OFF"]})]})]})]}),e.jsxs("div",{className:"p-6 space-y-6 overflow-y-auto max-h-[calc(90vh-200px)]",children:[s&&e.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 space-y-3",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Booking Information"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Client"}),e.jsx("div",{className:"font-medium text-gray-900",children:s.clientName})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Payment Status"}),e.jsx("span",{className:`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium border ${S[s.status]}`,children:C[s.status]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Date"}),e.jsx("div",{className:"font-medium text-gray-900",children:new Date(s.date).toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric",year:"numeric"})})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Time"}),e.jsx("div",{className:"font-medium text-gray-900",children:s.time})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"Service Details"}),l?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-indigo-100 flex items-center justify-center flex-shrink-0",children:e.jsx(Ti,{className:"w-5 h-5 text-indigo-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"text-sm text-gray-500 mb-1 block",children:"Service Name"}),e.jsx("input",{type:"text",value:(u==null?void 0:u.name)||"",onChange:_=>m(k=>k?{...k,name:_.target.value}:null),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:"Enter service name"})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:`w-10 h-10 rounded-lg ${x} flex items-center justify-center flex-shrink-0`,children:e.jsx(_c,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"text-sm text-gray-500 mb-1 block",children:"Category"}),e.jsx("select",{value:(u==null?void 0:u.category)||"",onChange:_=>m(k=>k?{...k,category:_.target.value}:null),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",children:Object.keys(AA).map(_=>e.jsx("option",{value:_,children:_},_))})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-purple-100 flex items-center justify-center flex-shrink-0",children:e.jsx(pt,{className:"w-5 h-5 text-purple-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"text-sm text-gray-500 mb-1 block",children:"Duration (minutes)"}),e.jsx("input",{type:"number",value:(u==null?void 0:u.duration)||0,onChange:_=>m(k=>k?{...k,duration:parseInt(_.target.value)||0}:null),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:"Enter duration in minutes",min:"1"})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-green-100 flex items-center justify-center flex-shrink-0",children:e.jsx(Zt,{className:"w-5 h-5 text-green-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"text-sm text-gray-500 mb-1 block",children:"Price"}),e.jsx("input",{type:"number",value:(u==null?void 0:u.price)||0,onChange:_=>m(k=>k?{...k,price:parseFloat(_.target.value)||0}:null),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:"Enter price",min:"0",step:"0.01"})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-red-100 flex items-center justify-center flex-shrink-0",children:e.jsx(So,{className:"w-5 h-5 text-red-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"text-sm text-gray-500 mb-1 block",children:"Discount (%)"}),e.jsx("input",{type:"number",value:(u==null?void 0:u.discount)||0,onChange:_=>{const k=parseInt(_.target.value)||0,$=((u==null?void 0:u.price)||0)/(1-k/100);m(B=>B?{...B,discount:k,originalPrice:k>0?$:void 0}:null)},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:"Enter discount percentage",min:"0",max:"100"}),u&&u.discount&&u.discount>0&&e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Original price: ",i.symbol,(T=u.originalPrice)==null?void 0:T.toFixed(2)]})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-blue-100 flex items-center justify-center flex-shrink-0",children:e.jsx(Ti,{className:"w-5 h-5 text-blue-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"text-sm text-gray-500 mb-1 block",children:"Description"}),e.jsx("textarea",{value:(u==null?void 0:u.description)||"",onChange:_=>m(k=>k?{...k,description:_.target.value}:null),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 min-h-[100px]",placeholder:"Enter service description"})]})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-purple-100 flex items-center justify-center flex-shrink-0",children:e.jsx(pt,{className:"w-5 h-5 text-purple-600"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-500",children:"Duration"}),e.jsx("div",{className:"font-semibold text-gray-900",children:p?j(p.duration):"Unknown"})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-green-100 flex items-center justify-center flex-shrink-0",children:e.jsx(Zt,{className:"w-5 h-5 text-green-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"text-sm text-gray-500 mb-2",children:"Price"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"flex items-baseline gap-2",children:[w&&e.jsxs("span",{className:"text-lg text-gray-400 line-through",children:[i.symbol,y.toFixed(2)]}),e.jsxs("span",{className:"text-2xl font-bold text-gray-900",children:[i.symbol,v.toFixed(2)]})]}),e.jsx("select",{value:i.code,onChange:_=>{const k=Pw.find(M=>M.code===_.target.value);k&&o(k)},className:"px-3 py-1.5 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-purple-500",children:Pw.map(_=>e.jsxs("option",{value:_.code,children:[_.code," (",_.symbol,")"]},_.code))})]}),w&&e.jsxs("div",{className:"mt-2 inline-flex items-center gap-1.5 bg-green-50 text-green-700 px-3 py-1 rounded-full text-sm font-medium",children:[e.jsx(_c,{className:"w-3.5 h-3.5"}),"You save ",i.symbol,(y-v).toFixed(2)," (",p?p.discount:0,"%)"]})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:`w-10 h-10 rounded-lg ${x} flex items-center justify-center flex-shrink-0`,children:e.jsx(_c,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-500",children:"Category"}),e.jsx("div",{className:"font-semibold text-gray-900",children:p?p.category:"Unknown"})]})]}),p&&p.description&&e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-blue-100 flex items-center justify-center flex-shrink-0",children:e.jsx(Ti,{className:"w-5 h-5 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-500 mb-1",children:"Description"}),e.jsx("div",{className:"text-gray-700 leading-relaxed",children:p.description})]})]})]})]})]}),e.jsx("div",{className:"border-t border-gray-200 p-6 bg-gray-50",children:e.jsxs("div",{className:"flex items-center justify-end gap-3",children:[e.jsx(Q,{variant:"outline",onClick:r,children:"Close"}),l?e.jsxs(e.Fragment,{children:[e.jsx(Q,{className:"bg-red-600 hover:bg-red-700 text-white",onClick:()=>c(!1),children:"Cancel"}),e.jsx(Q,{className:"bg-green-600 hover:bg-green-700 text-white",onClick:P,children:"Save"})]}):e.jsx(Q,{className:"bg-purple-600 hover:bg-purple-700 text-white",onClick:()=>c(!0),children:"Edit Service"})]})})]})})}function Zoe({isOpen:t,onClose:r,onSubmit:n}){const{formatPrice:s,convertPrice:a}=Kt(),{services:i}=au(),[o,l]=N.useState(""),[c,u]=N.useState(""),[m,p]=N.useState([]),[x,v]=N.useState("percentage"),[w,y]=N.useState(0),[j,S]=N.useState(30),[C,P]=N.useState("all"),T=["all",...Array.from(new Set(i.map(O=>O.category)))],_=C==="all"?i:i.filter(O=>O.category===C),k=()=>m.reduce((O,R)=>{const D=i.find(I=>I.id===R.serviceId);return O+(D?D.price*R.quantity:0)},0),M=()=>{const O=k();return x==="percentage"?O*(1-w/100):Math.max(0,O-w)},$=()=>{const O=k(),R=M();return O===0?0:Math.round((O-R)/O*100)},B=O=>{const R=m.find(D=>D.serviceId===O);p(R?m.map(D=>D.serviceId===O?{...D,quantity:D.quantity+1}:D):[...m,{serviceId:O,quantity:1}])},F=(O,R)=>{R<=0?p(m.filter(D=>D.serviceId!==O)):p(m.map(D=>D.serviceId===O?{...D,quantity:R}:D))},H=O=>{p(m.filter(R=>R.serviceId!==O))},K=O=>{if(O.preventDefault(),!o||m.length===0){alert("Please fill in package name and select at least one service");return}n({name:o,description:c,services:m,discountType:x,discountValue:w,validityDays:j}),Z()},Z=()=>{l(""),u(""),p([]),v("percentage"),y(0),S(30),P("all"),r()};if(!t)return null;const V=k(),W=M(),G=$();return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"bg-gradient-to-r from-purple-600 to-pink-600 p-6 flex items-center justify-between sticky top-0 z-10",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-white/20 flex items-center justify-center",children:e.jsx(dr,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-white",children:"Add New Package"}),e.jsx("p",{className:"text-sm text-purple-100",children:"Create a package deal for your salon"})]})]}),e.jsx("button",{onClick:Z,className:"w-8 h-8 rounded-lg bg-white/20 hover:bg-white/30 flex items-center justify-center transition-colors",children:e.jsx(ht,{className:"w-5 h-5 text-white"})})]}),e.jsxs("form",{onSubmit:K,className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Package Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:o,onChange:O=>l(O.target.value),placeholder:"e.g. Manicure + Pedicure Bundle",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Description"}),e.jsx("textarea",{value:c,onChange:O=>u(O.target.value),placeholder:"Describe the package details...",rows:3,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 resize-none"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Optional: Add more details about this package"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Filter by Category"}),e.jsx("select",{value:C,onChange:O=>P(O.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",children:T.map(O=>e.jsx("option",{value:O,children:O==="all"?"All Categories":O},O))})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Select Services ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("div",{className:"border border-gray-300 rounded-lg p-4 max-h-64 overflow-y-auto",children:e.jsx("div",{className:"grid gap-3",children:_.map(O=>{const R=m.find(D=>D.serviceId===O.id);return e.jsx("div",{className:`p-3 border-2 rounded-lg cursor-pointer transition-all ${R?"border-purple-500 bg-purple-50":"border-gray-200 hover:border-purple-300"}`,onClick:()=>B(O.id),children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:O.name}),e.jsxs("p",{className:"text-xs text-gray-500",children:[O.category,"  ",O.duration," min"]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"font-bold text-purple-600",children:s(O.price)}),R&&e.jsxs("p",{className:"text-xs text-green-600 font-semibold",children:[" Added (x",R.quantity,")"]})]})]})},O.id)})})})]}),m.length>0&&e.jsxs("div",{className:"bg-purple-50 border-2 border-purple-200 rounded-lg p-4",children:[e.jsxs("h3",{className:"font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[e.jsx(dr,{className:"w-4 h-4 text-purple-600"}),"Selected Services (",m.length,")"]}),e.jsx("div",{className:"space-y-2",children:m.map(O=>{const R=i.find(D=>D.id===O.serviceId);return R?e.jsxs("div",{className:"bg-white p-3 rounded-lg flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:R.name}),e.jsxs("p",{className:"text-xs text-gray-500",children:[s(R.price),"  ",O.quantity]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"flex items-center gap-2 border border-gray-300 rounded-lg",children:[e.jsx("button",{type:"button",onClick:()=>F(O.serviceId,O.quantity-1),className:"px-3 py-1 hover:bg-gray-100 rounded-l-lg",children:"-"}),e.jsx("span",{className:"font-semibold",children:O.quantity}),e.jsx("button",{type:"button",onClick:()=>F(O.serviceId,O.quantity+1),className:"px-3 py-1 hover:bg-gray-100 rounded-r-lg",children:"+"})]}),e.jsx("p",{className:"font-bold text-purple-600 min-w-[80px] text-right",children:s(R.price*O.quantity)}),e.jsx("button",{type:"button",onClick:()=>H(O.serviceId),className:"text-red-500 hover:bg-red-50 p-2 rounded-lg",children:e.jsx(cn,{className:"w-4 h-4"})})]})]},O.serviceId):null})})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Discount Type ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("button",{type:"button",onClick:()=>v("percentage"),className:`px-4 py-3 border-2 rounded-lg font-semibold transition-all flex items-center justify-center gap-2 ${x==="percentage"?"border-purple-500 bg-purple-50 text-purple-600":"border-gray-300 text-gray-600 hover:border-purple-300"}`,children:[e.jsx(So,{className:"w-4 h-4"}),"Percentage"]}),e.jsxs("button",{type:"button",onClick:()=>v("amount"),className:`px-4 py-3 border-2 rounded-lg font-semibold transition-all flex items-center justify-center gap-2 ${x==="amount"?"border-purple-500 bg-purple-50 text-purple-600":"border-gray-300 text-gray-600 hover:border-purple-300"}`,children:[e.jsx(Zt,{className:"w-4 h-4"}),"Amount"]})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Discount Value ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"number",value:w,onChange:O=>y(Number(O.target.value)),min:"0",max:x==="percentage"?100:V,placeholder:x==="percentage"?"e.g. 20":"e.g. 50",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 pr-12",required:!0}),e.jsx("span",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-500 font-semibold",children:x==="percentage"?"%":"AED"})]})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Validity Period (Days) ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"number",value:j,onChange:O=>S(Number(O.target.value)),min:"1",placeholder:"e.g. 30",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",required:!0}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"How many days is this package valid after purchase?"})]}),m.length>0&&e.jsxs("div",{className:"bg-gradient-to-r from-purple-50 via-pink-50 to-blue-50 border-2 border-purple-300 rounded-xl p-6",children:[e.jsx("h3",{className:"font-bold text-gray-900 mb-4 text-lg",children:" Price Summary"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Original Total:"}),e.jsx("span",{className:"font-semibold text-gray-900",children:s(V)})]}),e.jsxs("div",{className:"flex items-center justify-between text-green-600",children:[e.jsxs("span",{children:["Discount (",G,"%):"]}),e.jsxs("span",{className:"font-semibold",children:["-",s(V-W)]})]}),e.jsx("div",{className:"h-px bg-purple-300"}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-lg font-bold text-gray-900",children:"Package Price:"}),e.jsx("span",{className:"text-2xl font-bold text-purple-600",children:s(W)})]}),e.jsxs("div",{className:"text-xs text-gray-500 text-center",children:["Customers save ",s(V-W)," with this package!"]})]})]}),e.jsxs("div",{className:"flex items-center gap-4 pt-4",children:[e.jsx(Q,{type:"button",variant:"outline",onClick:Z,className:"flex-1",children:"Cancel"}),e.jsxs(Q,{type:"submit",className:"flex-1 bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white",disabled:!o||m.length===0,children:[e.jsx(er,{className:"w-4 h-4 mr-2"}),"Add Package"]})]})]})]})})}function Xoe({isOpen:t,onClose:r,onSubmit:n,packageDeal:s}){const{formatPrice:a}=Kt(),{services:i}=au(),[o,l]=N.useState(""),[c,u]=N.useState(""),[m,p]=N.useState([]),[x,v]=N.useState("percentage"),[w,y]=N.useState(0),[j,S]=N.useState(30),[C,P]=N.useState("all");N.useEffect(()=>{if(t&&s){l(s.name),u(s.description),p(s.services),S(s.validityDays);const O=s.originalPrice,R=s.discountedPrice,D=O-R,I=s.discount;I>0?(v("percentage"),y(I)):(v("amount"),y(D))}},[t,s]);const T=["all",...Array.from(new Set(i.map(O=>O.category)))],_=C==="all"?i:i.filter(O=>O.category===C),k=()=>m.reduce((O,R)=>{const D=i.find(I=>I.id===R.serviceId);return O+(D?D.price*R.quantity:0)},0),M=()=>{const O=k();return x==="percentage"?O*(1-w/100):Math.max(0,O-w)},$=()=>{const O=k(),R=M();return O===0?0:Math.round((O-R)/O*100)},B=O=>{const R=m.find(D=>D.serviceId===O);p(R?m.map(D=>D.serviceId===O?{...D,quantity:D.quantity+1}:D):[...m,{serviceId:O,quantity:1}])},F=(O,R)=>{R<=0?p(m.filter(D=>D.serviceId!==O)):p(m.map(D=>D.serviceId===O?{...D,quantity:R}:D))},H=O=>{p(m.filter(R=>R.serviceId!==O))},K=O=>{if(O.preventDefault(),!o||m.length===0){alert("Please fill in package name and select at least one service");return}n({name:o,description:c,services:m,discountType:x,discountValue:w,validityDays:j}),Z()},Z=()=>{r()};if(!t||!s)return null;const V=k(),W=M(),G=$();return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"bg-gradient-to-r from-purple-600 to-pink-600 p-6 flex items-center justify-between sticky top-0 z-10",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-white/20 flex items-center justify-center",children:e.jsx(dr,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-white",children:"Edit Package"}),e.jsx("p",{className:"text-sm text-purple-100",children:"Update package deal details"})]})]}),e.jsx("button",{onClick:Z,className:"w-8 h-8 rounded-lg bg-white/20 hover:bg-white/30 flex items-center justify-center transition-colors",children:e.jsx(ht,{className:"w-5 h-5 text-white"})})]}),e.jsxs("form",{onSubmit:K,className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Package Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:o,onChange:O=>l(O.target.value),placeholder:"e.g. Manicure + Pedicure Bundle",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Description"}),e.jsx("textarea",{value:c,onChange:O=>u(O.target.value),placeholder:"Describe the package details...",rows:3,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 resize-none"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Filter by Category"}),e.jsx("select",{value:C,onChange:O=>P(O.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",children:T.map(O=>e.jsx("option",{value:O,children:O==="all"?"All Categories":O},O))})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Select Services ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("div",{className:"border border-gray-300 rounded-lg p-4 max-h-64 overflow-y-auto",children:e.jsx("div",{className:"grid gap-3",children:_.map(O=>{const R=m.find(D=>D.serviceId===O.id);return e.jsx("div",{className:`p-3 border-2 rounded-lg cursor-pointer transition-all ${R?"border-purple-500 bg-purple-50":"border-gray-200 hover:border-purple-300"}`,onClick:()=>B(O.id),children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:O.name}),e.jsxs("p",{className:"text-xs text-gray-500",children:[O.category,"  ",O.duration," min"]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"font-bold text-purple-600",children:a(O.price)}),R&&e.jsxs("p",{className:"text-xs text-green-600 font-semibold",children:[" Added (x",R.quantity,")"]})]})]})},O.id)})})})]}),m.length>0&&e.jsxs("div",{className:"bg-purple-50 border-2 border-purple-200 rounded-lg p-4",children:[e.jsxs("h3",{className:"font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[e.jsx(dr,{className:"w-4 h-4 text-purple-600"}),"Selected Services (",m.length,")"]}),e.jsx("div",{className:"space-y-2",children:m.map(O=>{const R=i.find(D=>D.id===O.serviceId);return R?e.jsxs("div",{className:"bg-white p-3 rounded-lg flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:R.name}),e.jsxs("p",{className:"text-xs text-gray-500",children:[a(R.price),"  ",O.quantity]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"flex items-center gap-2 border border-gray-300 rounded-lg",children:[e.jsx("button",{type:"button",onClick:()=>F(O.serviceId,O.quantity-1),className:"px-3 py-1 hover:bg-gray-100 rounded-l-lg",children:"-"}),e.jsx("span",{className:"font-semibold",children:O.quantity}),e.jsx("button",{type:"button",onClick:()=>F(O.serviceId,O.quantity+1),className:"px-3 py-1 hover:bg-gray-100 rounded-r-lg",children:"+"})]}),e.jsx("p",{className:"font-bold text-purple-600 min-w-[80px] text-right",children:a(R.price*O.quantity)}),e.jsx("button",{type:"button",onClick:()=>H(O.serviceId),className:"text-red-500 hover:bg-red-50 p-2 rounded-lg",children:e.jsx(cn,{className:"w-4 h-4"})})]})]},O.serviceId):null})})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Discount Type ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("button",{type:"button",onClick:()=>v("percentage"),className:`px-4 py-3 border-2 rounded-lg font-semibold transition-all flex items-center justify-center gap-2 ${x==="percentage"?"border-purple-500 bg-purple-50 text-purple-600":"border-gray-300 text-gray-600 hover:border-purple-300"}`,children:[e.jsx(So,{className:"w-4 h-4"}),"Percentage"]}),e.jsxs("button",{type:"button",onClick:()=>v("amount"),className:`px-4 py-3 border-2 rounded-lg font-semibold transition-all flex items-center justify-center gap-2 ${x==="amount"?"border-purple-500 bg-purple-50 text-purple-600":"border-gray-300 text-gray-600 hover:border-purple-300"}`,children:[e.jsx(Zt,{className:"w-4 h-4"}),"Amount"]})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Discount Value ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"number",value:w,onChange:O=>y(Number(O.target.value)),min:"0",max:x==="percentage"?100:V,placeholder:x==="percentage"?"e.g. 20":"e.g. 50",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 pr-12",required:!0}),e.jsx("span",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-500 font-semibold",children:x==="percentage"?"%":"AED"})]})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["Validity Period (Days) ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"number",value:j,onChange:O=>S(Number(O.target.value)),min:"1",placeholder:"e.g. 30",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",required:!0})]}),m.length>0&&e.jsxs("div",{className:"bg-gradient-to-r from-purple-50 via-pink-50 to-blue-50 border-2 border-purple-300 rounded-xl p-6",children:[e.jsx("h3",{className:"font-bold text-gray-900 mb-4 text-lg",children:" Price Summary"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Original Total:"}),e.jsx("span",{className:"font-semibold text-gray-900",children:a(V)})]}),e.jsxs("div",{className:"flex items-center justify-between text-green-600",children:[e.jsxs("span",{children:["Discount (",G,"%):"]}),e.jsxs("span",{className:"font-semibold",children:["-",a(V-W)]})]}),e.jsx("div",{className:"h-px bg-purple-300"}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-lg font-bold text-gray-900",children:"Package Price:"}),e.jsx("span",{className:"text-2xl font-bold text-purple-600",children:a(W)})]}),e.jsxs("div",{className:"text-xs text-gray-500 text-center",children:["Customers save ",a(V-W)," with this package!"]})]})]}),e.jsxs("div",{className:"flex items-center gap-4 pt-4",children:[e.jsx(Q,{type:"button",variant:"outline",onClick:Z,className:"flex-1",children:"Cancel"}),e.jsxs(Q,{type:"submit",className:"flex-1 bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white",disabled:!o||m.length===0,children:[e.jsx(dr,{className:"w-4 h-4 mr-2"}),"Update Package"]})]})]})]})})}function Joe(){const{formatPrice:t}=Kt(),{services:r,addService:n,updateService:s,deleteService:a}=au(),[i,o]=N.useState(""),[l,c]=N.useState(!1),[u,m]=N.useState(!1),[p,x]=N.useState(!1),[v,w]=N.useState(!1),[y,j]=N.useState(null),[S,C]=N.useState(null),[P,T]=N.useState("services"),[_,k]=N.useState({tier1:{minPeople:2,maxPeople:3,discount:5},tier2:{minPeople:4,maxPeople:5,discount:10},tier3:{minPeople:6,maxPeople:99,discount:15}}),[M,$]=N.useState(!1),[B,F]=N.useState([{id:"1",name:" Manicure + Pedicure Bundle",description:"Get both services with 20% discount",services:[{serviceId:"1",quantity:1},{serviceId:"2",quantity:1}],originalPrice:120,discountedPrice:96,discount:20,validityDays:30,isActive:!0},{id:"2",name:" Monthly Beauty Package",description:"4 sessions per month - any service",services:[{serviceId:"1",quantity:4}],originalPrice:240,discountedPrice:180,discount:25,validityDays:30,isActive:!0}]),H=W=>{const G={id:(r.length+1).toString(),name:W.name,category:W.category,price:W.price,duration:W.duration,description:W.description};n(G)},K=W=>{const G=W.services.reduce((I,q)=>{const J=r.find(ie=>ie.id===q.serviceId);return I+(J?J.price*q.quantity:0)},0);let O=G;W.discountType==="percentage"?O=G*(1-W.discountValue/100):O=Math.max(0,G-W.discountValue);const R=Math.round((G-O)/G*100),D={id:(B.length+1).toString(),name:W.name,description:W.description,services:W.services,originalPrice:G,discountedPrice:O,discount:R,validityDays:W.validityDays,isActive:!0};F([...B,D]),console.log(" Package added successfully:",D)},Z=W=>{s(W),w(!1)},V=W=>{if(!S)return;const G=W.services.reduce((I,q)=>{const J=r.find(ie=>ie.id===q.serviceId);return I+(J?J.price*q.quantity:0)},0);let O=G;W.discountType==="percentage"?O=G*(1-W.discountValue/100):O=Math.max(0,G-W.discountValue);const R=Math.round((G-O)/G*100),D={...S,name:W.name,description:W.description,services:W.services,originalPrice:G,discountedPrice:O,discount:R,validityDays:W.validityDays};F(B.map(I=>I.id===S.id?D:I)),x(!1),console.log(" Package updated successfully:",D)};return Array.from(new Set(r.map(W=>W.category))),vn(),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"menu/Services"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Manage Services & Package Deals"})]}),e.jsx(Q,{className:"bg-gray-900 hover:bg-gray-800 text-white gap-2",onClick:()=>{P==="services"?c(!0):P==="packages"?m(!0):P==="group"&&$(!M)},children:P==="group"&&M?e.jsxs(e.Fragment,{children:[e.jsx(ht,{className:"w-4 h-4"}),"Cancel Edit"]}):e.jsxs(e.Fragment,{children:[e.jsx(er,{className:"w-4 h-4"}),P==="services"?"Add Service":P==="packages"?"Add Package":"Edit Settings"]})})]}),e.jsx("div",{className:"border-b border-gray-200",children:e.jsxs("div",{className:"flex gap-8",children:[e.jsx("button",{onClick:()=>T("services"),className:`pb-4 px-1 border-b-2 transition-colors ${P==="services"?"border-purple-600 text-purple-600 font-semibold":"border-transparent text-gray-500 hover:text-gray-700"}`,children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Zt,{className:"w-4 h-4"}),"Individual Services"]})}),e.jsx("button",{onClick:()=>T("packages"),className:`pb-4 px-1 border-b-2 transition-colors ${P==="packages"?"border-purple-600 text-purple-600 font-semibold":"border-transparent text-gray-500 hover:text-gray-700"}`,children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(dr,{className:"w-4 h-4"}),"Package Deals"]})}),e.jsx("button",{onClick:()=>T("group"),className:`pb-4 px-1 border-b-2 transition-colors ${P==="group"?"border-purple-600 text-purple-600 font-semibold":"border-transparent text-gray-500 hover:text-gray-700"}`,children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(pr,{className:"w-4 h-4"}),"Group Booking"]})})]})}),P==="services"?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"relative",children:[e.jsx(qr,{className:"absolute left-3 top-3 w-4 h-4 text-gray-500"}),e.jsx("input",{type:"text",placeholder:"Search services...",value:i,onChange:W=>o(W.target.value),className:"w-full px-10 py-2 border border-gray-300 rounded-md focus:outline-none focus:border-purple-500"})]}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[r.filter(W=>W.name.toLowerCase().includes(i.toLowerCase())).map(W=>e.jsxs(ne,{className:"p-6 hover:shadow-lg transition-shadow",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-1",children:W.name}),e.jsx("p",{className:"text-sm text-gray-500",children:W.category})]}),W.discount&&W.discount>0&&e.jsxs("div",{className:"bg-red-500 text-white text-xs font-bold px-2 py-1 rounded",children:["-",W.discount,"%"]})]}),e.jsxs("div",{className:"space-y-3 mb-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex flex-col items-start",children:[W.originalPrice&&W.originalPrice>W.price&&e.jsx("span",{className:"text-sm text-gray-400 line-through",children:t(W.originalPrice)}),e.jsx("span",{className:"text-2xl font-bold text-purple-600",children:t(W.price)})]}),e.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600",children:[e.jsx(pt,{className:"w-4 h-4"}),W.duration," min"]})]}),W.description&&e.jsx("p",{className:"text-sm text-gray-600 line-clamp-2",children:W.description})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(Q,{variant:"outline",size:"sm",className:"flex-1 gap-2",onClick:()=>{j(W),w(!0)},children:[e.jsx(oi,{className:"w-4 h-4"}),"Edit"]}),e.jsx(Q,{variant:"outline",size:"sm",className:"text-red-600 hover:bg-red-50",children:e.jsx(cn,{className:"w-4 h-4"})})]})]},W.id)),e.jsxs("button",{onClick:()=>c(!0),className:"border-2 border-dashed border-gray-300 rounded-xl p-6 hover:border-purple-500 hover:bg-purple-50 transition-colors flex flex-col items-center justify-center min-h-[200px]",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-gray-100 flex items-center justify-center mb-3",children:e.jsx(er,{className:"w-6 h-6 text-gray-600"})}),e.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Add Service"})]})]})]}):P==="packages"?e.jsx(e.Fragment,{children:e.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[B.map(W=>e.jsxs(ne,{className:"p-6 hover:shadow-lg transition-shadow",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-1",children:W.name}),e.jsx("p",{className:"text-sm text-gray-500",children:W.description})]}),W.discount&&W.discount>0&&e.jsxs("div",{className:"bg-red-500 text-white text-xs font-bold px-2 py-1 rounded",children:["-",W.discount,"%"]})]}),e.jsxs("div",{className:"space-y-3 mb-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex flex-col items-start",children:[W.originalPrice&&W.originalPrice>W.discountedPrice&&e.jsx("span",{className:"text-sm text-gray-400 line-through",children:t(W.originalPrice)}),e.jsx("span",{className:"text-2xl font-bold text-purple-600",children:t(W.discountedPrice)})]}),e.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600",children:[e.jsx(pt,{className:"w-4 h-4"}),W.validityDays," days"]})]}),W.services.map(G=>{var O;return e.jsxs("p",{className:"text-sm text-gray-600 line-clamp-2",children:[(O=r.find(R=>R.id===G.serviceId))==null?void 0:O.name," x ",G.quantity]},G.serviceId)})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(Q,{variant:"outline",size:"sm",className:"flex-1 gap-2",onClick:()=>{C(W),x(!0)},children:[e.jsx(oi,{className:"w-4 h-4"}),"Edit"]}),e.jsx(Q,{variant:"outline",size:"sm",className:"text-red-600 hover:bg-red-50",children:e.jsx(cn,{className:"w-4 h-4"})})]})]},W.id)),e.jsxs("button",{onClick:()=>m(!0),className:"border-2 border-dashed border-gray-300 rounded-xl p-6 hover:border-purple-500 hover:bg-purple-50 transition-colors flex flex-col items-center justify-center min-h-[200px]",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-gray-100 flex items-center justify-center mb-3",children:e.jsx(er,{className:"w-6 h-6 text-gray-600"})}),e.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Add Package"})]})]})}):e.jsx(e.Fragment,{children:e.jsxs(ne,{className:"p-8",children:[e.jsxs("div",{className:"flex items-start justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-16 h-16 rounded-2xl bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center",children:e.jsx(pr,{className:"w-8 h-8 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"Group Booking Discounts"}),e.jsx("p",{className:"text-sm text-gray-600",children:M?"Edit discount tiers below":"Configure automatic discounts for group bookings"})]})]}),M&&e.jsx(Q,{className:"bg-green-600 hover:bg-green-700 text-white",onClick:()=>{$(!1),console.log(" Group booking settings saved:",_),localStorage.setItem("groupBookingSettings",JSON.stringify(_))},children:"Save Changes"})]}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[e.jsx(ne,{className:`p-6 bg-gradient-to-br from-green-50 to-emerald-50 border-2 ${M?"border-green-500":"border-green-200"}`,children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-green-500 text-white font-bold text-xl flex items-center justify-center mx-auto mb-3",children:M?e.jsxs("span",{className:"text-sm",children:[_.tier1.minPeople,"-",_.tier1.maxPeople]}):`${_.tier1.minPeople}-${_.tier1.maxPeople}`}),e.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:"Small Group"}),M?e.jsxs("div",{className:"space-y-2 mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2 justify-center",children:[e.jsx("input",{type:"number",value:_.tier1.minPeople,onChange:W=>k({..._,tier1:{..._.tier1,minPeople:parseInt(W.target.value)||0}}),className:"w-16 px-2 py-1 border border-gray-300 rounded text-center text-sm",min:"1"}),e.jsx("span",{className:"text-xs text-gray-500",children:"to"}),e.jsx("input",{type:"number",value:_.tier1.maxPeople,onChange:W=>k({..._,tier1:{..._.tier1,maxPeople:parseInt(W.target.value)||0}}),className:"w-16 px-2 py-1 border border-gray-300 rounded text-center text-sm",min:"1"})]}),e.jsx("p",{className:"text-xs text-gray-600",children:"people"})]}):e.jsxs("p",{className:"text-sm text-gray-600 mb-3",children:[_.tier1.minPeople,"-",_.tier1.maxPeople," people"]}),M?e.jsxs("div",{className:"flex items-center gap-2 justify-center",children:[e.jsx("input",{type:"number",value:_.tier1.discount,onChange:W=>k({..._,tier1:{..._.tier1,discount:parseInt(W.target.value)||0}}),className:"w-20 px-3 py-2 border-2 border-green-400 rounded-lg text-center text-2xl font-bold text-green-600",min:"0",max:"100"}),e.jsx("span",{className:"text-2xl font-bold text-green-600",children:"% OFF"})]}):e.jsxs("div",{className:"text-3xl font-bold text-green-600",children:[_.tier1.discount,"% OFF"]})]})}),e.jsx(ne,{className:`p-6 bg-gradient-to-br from-blue-50 to-sky-50 border-2 ${M?"border-blue-500":"border-blue-200"}`,children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-blue-500 text-white font-bold text-xl flex items-center justify-center mx-auto mb-3",children:M?e.jsxs("span",{className:"text-sm",children:[_.tier2.minPeople,"-",_.tier2.maxPeople]}):`${_.tier2.minPeople}-${_.tier2.maxPeople}`}),e.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:"Medium Group"}),M?e.jsxs("div",{className:"space-y-2 mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2 justify-center",children:[e.jsx("input",{type:"number",value:_.tier2.minPeople,onChange:W=>k({..._,tier2:{..._.tier2,minPeople:parseInt(W.target.value)||0}}),className:"w-16 px-2 py-1 border border-gray-300 rounded text-center text-sm",min:"1"}),e.jsx("span",{className:"text-xs text-gray-500",children:"to"}),e.jsx("input",{type:"number",value:_.tier2.maxPeople,onChange:W=>k({..._,tier2:{..._.tier2,maxPeople:parseInt(W.target.value)||0}}),className:"w-16 px-2 py-1 border border-gray-300 rounded text-center text-sm",min:"1"})]}),e.jsx("p",{className:"text-xs text-gray-600",children:"people"})]}):e.jsxs("p",{className:"text-sm text-gray-600 mb-3",children:[_.tier2.minPeople,"-",_.tier2.maxPeople," people"]}),M?e.jsxs("div",{className:"flex items-center gap-2 justify-center",children:[e.jsx("input",{type:"number",value:_.tier2.discount,onChange:W=>k({..._,tier2:{..._.tier2,discount:parseInt(W.target.value)||0}}),className:"w-20 px-3 py-2 border-2 border-blue-400 rounded-lg text-center text-2xl font-bold text-blue-600",min:"0",max:"100"}),e.jsx("span",{className:"text-2xl font-bold text-blue-600",children:"% OFF"})]}):e.jsxs("div",{className:"text-3xl font-bold text-blue-600",children:[_.tier2.discount,"% OFF"]})]})}),e.jsx(ne,{className:`p-6 bg-gradient-to-br from-purple-50 to-pink-50 border-2 ${M?"border-purple-500":"border-purple-200"}`,children:e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"w-12 h-12 rounded-full bg-purple-500 text-white font-bold text-xl flex items-center justify-center mx-auto mb-3",children:[_.tier3.minPeople,"+"]}),e.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:"Large Group"}),M?e.jsx("div",{className:"space-y-2 mb-3",children:e.jsxs("div",{className:"flex items-center gap-2 justify-center",children:[e.jsx("input",{type:"number",value:_.tier3.minPeople,onChange:W=>k({..._,tier3:{..._.tier3,minPeople:parseInt(W.target.value)||0}}),className:"w-16 px-2 py-1 border border-gray-300 rounded text-center text-sm",min:"1"}),e.jsx("span",{className:"text-xs text-gray-500",children:"+ people"})]})}):e.jsxs("p",{className:"text-sm text-gray-600 mb-3",children:[_.tier3.minPeople,"+ people"]}),M?e.jsxs("div",{className:"flex items-center gap-2 justify-center",children:[e.jsx("input",{type:"number",value:_.tier3.discount,onChange:W=>k({..._,tier3:{..._.tier3,discount:parseInt(W.target.value)||0}}),className:"w-20 px-3 py-2 border-2 border-purple-400 rounded-lg text-center text-2xl font-bold text-purple-600",min:"0",max:"100"}),e.jsx("span",{className:"text-2xl font-bold text-purple-600",children:"% OFF"})]}):e.jsxs("div",{className:"text-3xl font-bold text-purple-600",children:[_.tier3.discount,"% OFF"]})]})})]}),e.jsxs("div",{className:"mt-8 p-6 bg-gradient-to-r from-purple-50 via-pink-50 to-blue-50 rounded-xl border-2 border-purple-200",children:[e.jsxs("h4",{className:"font-semibold text-gray-900 mb-3 flex items-center gap-2",children:[e.jsx(pr,{className:"w-5 h-5 text-purple-600"}),"How Group Booking Works"]}),e.jsxs("ul",{className:"space-y-2 text-sm text-gray-700",children:[e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-green-600 font-bold",children:""}),e.jsx("span",{children:"Clients can book for multiple people at the same time"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-green-600 font-bold",children:""}),e.jsx("span",{children:"Discounts apply automatically based on group size"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-green-600 font-bold",children:""}),e.jsx("span",{children:"Multiple masters assigned to serve the group simultaneously"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-green-600 font-bold",children:""}),e.jsx("span",{children:"Perfect for weddings, birthdays, corporate events"})]})]})]})]})}),e.jsx(Koe,{isOpen:l,onClose:()=>c(!1),onSubmit:H}),e.jsx(Zoe,{isOpen:u,onClose:()=>m(!1),onSubmit:K}),e.jsx(Yoe,{isOpen:v,onClose:()=>w(!1),service:y,onSave:Z}),e.jsx(Xoe,{isOpen:p,onClose:()=>x(!1),packageDeal:S,onSave:V})]})}function Qoe({isOpen:t,onClose:r,onSubmit:n}){const{currency:s,setCurrency:a,formatPrice:i}=Kt(),[o,l]=N.useState(""),[c,u]=N.useState(""),[m,p]=N.useState(""),[x,v]=N.useState(""),[w,y]=N.useState(""),[j,S]=N.useState(null);if(!t)return null;const C=k=>{var $;const M=($=k.target.files)==null?void 0:$[0];if(M){if(M.size>5*1024*1024){ve.error("Image size should be less than 5MB");return}if(!M.type.startsWith("image/")){ve.error("Please upload an image file");return}S(M);const B=new FileReader;B.onloadend=()=>{y(B.result)},B.readAsDataURL(M)}},P=k=>{if(k.preventDefault(),!o||!c||!x){ve.error("Please fill in all required fields");return}const M={name:o,price:parseFloat(c),currency:s.code,description:m,stock:parseInt(x),image:w};n(M),l(""),u(""),p(""),v(""),y(""),S(null),ve.success("Product added successfully! "),r()},T=()=>{l(""),u(""),p(""),v(""),y(""),S(null),r()},_=()=>{y(""),S(null)};return e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50 backdrop-blur-sm",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg max-h-[90vh] overflow-y-auto",children:[e.jsx("div",{className:"sticky top-0 bg-gradient-to-r from-purple-600 to-pink-600 text-white p-6 rounded-t-2xl",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-white/20 flex items-center justify-center",children:e.jsx(bs,{className:"w-6 h-6"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold",children:"Add New Product"}),e.jsx("p",{className:"text-purple-100 text-sm",children:"Add a new product to your inventory"})]})]}),e.jsx("button",{onClick:T,className:"w-8 h-8 rounded-full hover:bg-white/20 flex items-center justify-center transition-colors",children:e.jsx(ht,{className:"w-5 h-5"})})]})}),e.jsxs("form",{onSubmit:P,className:"p-6 space-y-5",children:[e.jsxs("div",{children:[e.jsxs(We,{className:"text-gray-700 font-medium mb-2 flex items-center gap-2",children:[e.jsx(No,{className:"w-4 h-4 text-purple-600"}),"Product Photo"]}),w?e.jsxs("div",{className:"relative w-full h-48 rounded-lg overflow-hidden border-2 border-gray-200",children:[e.jsx("img",{src:w,alt:"Preview",className:"w-full h-full object-cover"}),e.jsx("button",{type:"button",onClick:_,className:"absolute top-2 right-2 w-8 h-8 bg-red-500 hover:bg-red-600 text-white rounded-full flex items-center justify-center shadow-lg transition-colors",children:e.jsx(ht,{className:"w-4 h-4"})})]}):e.jsxs("label",{className:"w-full h-48 border-2 border-dashed border-gray-300 rounded-lg flex flex-col items-center justify-center cursor-pointer hover:border-purple-500 hover:bg-purple-50 transition-colors",children:[e.jsx(ss,{className:"w-8 h-8 text-gray-400 mb-2"}),e.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Click to upload image"}),e.jsx("span",{className:"text-xs text-gray-500 mt-1",children:"PNG, JPG up to 5MB"}),e.jsx("input",{type:"file",accept:"image/*",onChange:C,className:"hidden"})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Optional: Add a product image"})]}),e.jsxs("div",{children:[e.jsxs(We,{htmlFor:"name",className:"text-gray-700 font-medium mb-2 flex items-center gap-2",children:["Product Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(He,{id:"name",type:"text",value:o,onChange:k=>l(k.target.value),placeholder:"e.g. Hair Styling Gel",className:"h-11",required:!0})]}),e.jsxs("div",{children:[e.jsxs(We,{htmlFor:"price",className:"text-gray-700 font-medium mb-2 flex items-center gap-2",children:[e.jsx(Zt,{className:"w-4 h-4 text-purple-600"}),"Price ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("div",{className:"flex-1",children:e.jsx(He,{id:"price",type:"number",value:c,onChange:k=>u(k.target.value),placeholder:"e.g. 25",min:"0",step:"0.01",className:"h-11",required:!0})}),e.jsx("select",{value:s.code,onChange:k=>{const M=Xs.find($=>$.code===k.target.value);M&&a(M)},className:"h-11 px-4 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent bg-white min-w-[120px]",children:Xs.map(k=>e.jsxs("option",{value:k.code,children:[k.flag," ",k.code," (",k.symbol,")"]},k.code))})]}),c&&e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Preview: ",i(parseFloat(c))]})]}),e.jsxs("div",{children:[e.jsxs(We,{htmlFor:"stock",className:"text-gray-700 font-medium mb-2 flex items-center gap-2",children:[e.jsx(AG,{className:"w-4 h-4 text-purple-600"}),"Stock ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(He,{id:"stock",type:"number",value:x,onChange:k=>v(k.target.value),placeholder:"e.g. 100",min:"0",className:"h-11",required:!0})]}),e.jsxs("div",{children:[e.jsxs(We,{htmlFor:"description",className:"text-gray-700 font-medium mb-2",children:["Description ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("textarea",{id:"description",value:m,onChange:k=>p(k.target.value),placeholder:"Describe the product details, benefits, ingredients, etc...",className:"w-full min-h-[100px] px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent resize-none",rows:4,required:!0}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Add detailed information about this product"})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx(Q,{type:"button",variant:"outline",onClick:T,className:"flex-1 h-11",children:"Cancel"}),e.jsx(Q,{type:"submit",className:"flex-1 h-11 bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white",children:"Add Product"})]})]})]})})}function ele({isOpen:t,onClose:r,product:n,onRestock:s}){const[a,i]=N.useState(""),[o,l]=N.useState(!0);if(!t||!n)return null;const c=p=>{p.preventDefault();const x=parseInt(a);if(!x||x<=0){ve.error("Please enter a valid quantity");return}const v=o?x:-x;if(!o&&x>n.stock){ve.error(`Cannot remove ${x} items. Only ${n.stock} available.`);return}s(n.id,v),i(""),l(!0);const w=o?`Added ${x} items to ${n.name}! `:`Removed ${x} items from ${n.name}`;ve.success(w),r()},u=()=>{i(""),l(!0),r()},m=o?n.stock+parseInt(a||"0"):n.stock-parseInt(a||"0");return e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50 backdrop-blur-sm",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md",children:[e.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-pink-600 text-white p-6 rounded-t-2xl",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-white/20 flex items-center justify-center",children:e.jsx(bs,{className:"w-6 h-6"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold",children:"Manage Stock"}),e.jsx("p",{className:"text-purple-100 text-sm",children:"Update inventory levels"})]})]}),e.jsx("button",{onClick:u,className:"w-8 h-8 rounded-full hover:bg-white/20 flex items-center justify-center transition-colors",children:e.jsx(ht,{className:"w-5 h-5"})})]})}),e.jsxs("form",{onSubmit:c,className:"p-6 space-y-5",children:[e.jsxs("div",{className:"flex items-center gap-4 p-4 bg-gray-50 rounded-lg",children:[n.image&&e.jsx("img",{src:n.image,alt:n.name,className:"w-16 h-16 rounded-lg object-cover"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-bold text-gray-900",children:n.name}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Current stock: ",e.jsx("span",{className:"font-semibold text-gray-900",children:n.stock})]})]})]}),e.jsxs("div",{children:[e.jsx(We,{className:"text-gray-700 font-medium mb-2",children:"Action"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("button",{type:"button",onClick:()=>l(!0),className:`p-3 rounded-lg border-2 transition-all ${o?"border-green-500 bg-green-50 text-green-700":"border-gray-200 bg-white text-gray-600 hover:border-gray-300"}`,children:[e.jsx(er,{className:"w-5 h-5 mx-auto mb-1"}),e.jsx("span",{className:"text-sm font-medium",children:"Add Stock"})]}),e.jsxs("button",{type:"button",onClick:()=>l(!1),className:`p-3 rounded-lg border-2 transition-all ${o?"border-gray-200 bg-white text-gray-600 hover:border-gray-300":"border-red-500 bg-red-50 text-red-700"}`,children:[e.jsx(cK,{className:"w-5 h-5 mx-auto mb-1"}),e.jsx("span",{className:"text-sm font-medium",children:"Remove Stock"})]})]})]}),e.jsxs("div",{children:[e.jsxs(We,{htmlFor:"quantity",className:"text-gray-700 font-medium mb-2 flex items-center gap-2",children:["Quantity ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(He,{id:"quantity",type:"number",value:a,onChange:p=>i(p.target.value),placeholder:"Enter quantity",min:"1",max:o?void 0:n.stock,className:"h-11",required:!0}),!o&&parseInt(a||"0")>n.stock&&e.jsxs("p",{className:"text-xs text-red-500 mt-1",children:[" Cannot remove more than available stock (",n.stock,")"]})]}),a&&parseInt(a)>0&&e.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-blue-700",children:"Current stock:"}),e.jsx("span",{className:"font-bold text-blue-900",children:n.stock})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm mt-1",children:[e.jsx("span",{className:"text-blue-700",children:o?"Adding:":"Removing:"}),e.jsxs("span",{className:`font-bold ${o?"text-green-600":"text-red-600"}`,children:[o?"+":"-",a]})]}),e.jsx("div",{className:"h-px bg-blue-200 my-2"}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-blue-700 font-medium",children:"New stock:"}),e.jsx("span",{className:`text-lg font-bold ${m<10?"text-red-600":m<20?"text-orange-600":"text-green-600"}`,children:m})]}),m<10&&m>=0&&e.jsx("p",{className:"text-xs text-orange-600 mt-2",children:" Low stock warning"}),m<0&&e.jsx("p",{className:"text-xs text-red-600 mt-2",children:" Stock cannot be negative"})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx(Q,{type:"button",variant:"outline",onClick:u,className:"flex-1 h-11",children:"Cancel"}),e.jsx(Q,{type:"submit",className:`flex-1 h-11 ${o?"bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700":"bg-gradient-to-r from-red-600 to-rose-600 hover:from-red-700 hover:to-rose-700"} text-white`,disabled:m<0,children:o?"Add to Stock":"Remove from Stock"})]})]})]})})}function tle({isOpen:t,onClose:r,product:n,onSubmit:s}){const{currency:a,setCurrency:i,formatPrice:o}=Kt(),[l,c]=N.useState(""),[u,m]=N.useState(""),[p,x]=N.useState(""),[v,w]=N.useState(""),[y,j]=N.useState(""),[S,C]=N.useState(""),[P,T]=N.useState(null),[_,k]=N.useState(!1);if(N.useEffect(()=>{var G;if(n&&t&&(c(n.name),m(n.category),x(n.price.toString()),w(((G=n.discount)==null?void 0:G.toString())||"0"),j(n.description),C(n.image||""),k(!1),n.currency)){const O=Xs.find(R=>R.code===n.currency);O&&i(O)}},[n,t]),!t||!n)return null;const M=G=>{var R;const O=(R=G.target.files)==null?void 0:R[0];if(O){if(O.size>5*1024*1024){ve.error("Image size should be less than 5MB");return}if(!O.type.startsWith("image/")){ve.error("Please upload an image file");return}T(O),k(!0);const D=new FileReader;D.onloadend=()=>{C(D.result)},D.readAsDataURL(O)}},$=G=>{if(G.preventDefault(),!l||!p||!u){ve.error("Please fill in all required fields");return}const O=parseFloat(v||"0");if(O<0||O>100){ve.error("Discount must be between 0 and 100");return}const R={id:n.id,name:l,category:u,price:parseFloat(p),currency:a.code,discount:O,stock:n.stock,description:y,image:_?S:n.image};s(R),ve.success("Product updated successfully! "),r()},B=()=>{r()},F=()=>{C(""),T(null),k(!0)},H=parseFloat(p||"0"),K=H*(parseFloat(v||"0")/100),Z=H-K,V=parseFloat(v||"0")>0,W=["Hair Care","Skin Care","Nail Care","Makeup","Tools & Equipment","Spa & Wellness","General"];return e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50 backdrop-blur-sm",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsx("div",{className:"sticky top-0 bg-gradient-to-r from-purple-600 to-pink-600 text-white p-6 rounded-t-2xl z-10",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-white/20 flex items-center justify-center",children:e.jsx(oi,{className:"w-6 h-6"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold",children:"Edit Product"}),e.jsx("p",{className:"text-purple-100 text-sm",children:"Update product information and pricing"})]})]}),e.jsx("button",{onClick:B,className:"w-8 h-8 rounded-full hover:bg-white/20 flex items-center justify-center transition-colors",children:e.jsx(ht,{className:"w-5 h-5"})})]})}),e.jsxs("form",{onSubmit:$,className:"p-6 space-y-5",children:[e.jsxs("div",{className:"grid md:grid-cols-2 gap-5",children:[e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{children:[e.jsxs(We,{className:"text-gray-700 font-medium mb-2 flex items-center gap-2",children:[e.jsx(No,{className:"w-4 h-4 text-purple-600"}),"Product Photo"]}),S?e.jsxs("div",{className:"relative w-full h-48 rounded-lg overflow-hidden border-2 border-gray-200",children:[e.jsx("img",{src:S,alt:"Preview",className:"w-full h-full object-cover"}),e.jsx("button",{type:"button",onClick:F,className:"absolute top-2 right-2 w-8 h-8 bg-red-500 hover:bg-red-600 text-white rounded-full flex items-center justify-center shadow-lg transition-colors",children:e.jsx(ht,{className:"w-4 h-4"})}),e.jsx("div",{className:"absolute bottom-2 left-2 right-2",children:e.jsxs("label",{className:"w-full bg-white/90 hover:bg-white text-gray-700 px-3 py-2 rounded-lg text-xs font-medium cursor-pointer flex items-center justify-center gap-2 transition-colors",children:[e.jsx(ss,{className:"w-3 h-3"}),"Change Photo",e.jsx("input",{type:"file",accept:"image/*",onChange:M,className:"hidden"})]})})]}):e.jsxs("label",{className:"w-full h-48 border-2 border-dashed border-gray-300 rounded-lg flex flex-col items-center justify-center cursor-pointer hover:border-purple-500 hover:bg-purple-50 transition-colors",children:[e.jsx(ss,{className:"w-8 h-8 text-gray-400 mb-2"}),e.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Click to upload image"}),e.jsx("span",{className:"text-xs text-gray-500 mt-1",children:"PNG, JPG up to 5MB"}),e.jsx("input",{type:"file",accept:"image/*",onChange:M,className:"hidden"})]})]}),e.jsxs("div",{children:[e.jsxs(We,{htmlFor:"category",className:"text-gray-700 font-medium mb-2 flex items-center gap-2",children:[e.jsx(_c,{className:"w-4 h-4 text-purple-600"}),"Category ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{id:"category",value:u,onChange:G=>m(G.target.value),className:"w-full h-11 px-4 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent bg-white",required:!0,children:[e.jsx("option",{value:"",children:"Select category"}),W.map(G=>e.jsx("option",{value:G,children:G},G))]})]}),e.jsxs("div",{children:[e.jsxs(We,{htmlFor:"name",className:"text-gray-700 font-medium mb-2 flex items-center gap-2",children:["Product Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(He,{id:"name",type:"text",value:l,onChange:G=>c(G.target.value),placeholder:"e.g. Hair Styling Gel",className:"h-11",required:!0})]})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{children:[e.jsxs(We,{htmlFor:"price",className:"text-gray-700 font-medium mb-2 flex items-center gap-2",children:[e.jsx(Zt,{className:"w-4 h-4 text-purple-600"}),"Original Price ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("div",{className:"flex-1",children:e.jsx(He,{id:"price",type:"number",value:p,onChange:G=>x(G.target.value),placeholder:"e.g. 25",min:"0",step:"0.01",className:"h-11",required:!0})}),e.jsx("select",{value:a.code,onChange:G=>{const O=Xs.find(R=>R.code===G.target.value);O&&i(O)},className:"h-11 px-4 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent bg-white min-w-[120px]",children:Xs.map(G=>e.jsxs("option",{value:G.code,children:[G.flag," ",G.code," (",G.symbol,")"]},G.code))})]})]}),e.jsxs("div",{children:[e.jsxs(We,{htmlFor:"discount",className:"text-gray-700 font-medium mb-2 flex items-center gap-2",children:[e.jsx(So,{className:"w-4 h-4 text-purple-600"}),"Discount (%)"]}),e.jsx(He,{id:"discount",type:"number",value:v,onChange:G=>w(G.target.value),placeholder:"e.g. 20",min:"0",max:"100",step:"1",className:"h-11"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Leave empty or 0 for no discount"})]}),p&&parseFloat(p)>0&&e.jsxs("div",{className:`p-4 rounded-lg border-2 ${V?"bg-green-50 border-green-200":"bg-gray-50 border-gray-200"}`,children:[e.jsx("div",{className:"text-xs font-medium text-gray-500 mb-2",children:"PRICE PREVIEW"}),V?e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("span",{className:"text-sm text-gray-500 line-through",children:o(H)}),e.jsxs("span",{className:"bg-red-500 text-white px-2 py-0.5 rounded text-xs font-bold",children:["-",v,"%"]})]}),e.jsx("div",{className:"text-2xl font-bold text-green-600",children:o(Z)}),e.jsxs("div",{className:"text-xs text-green-700 mt-1",children:["Save ",o(K)]})]}):e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:o(H)})]}),e.jsxs("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-blue-700 font-medium",children:"Current Stock:"}),e.jsx("span",{className:"text-lg font-bold text-blue-900",children:n.stock})]}),e.jsx("p",{className:"text-xs text-blue-600 mt-1",children:"Use the stock button to manage inventory"})]})]})]}),e.jsxs("div",{children:[e.jsxs(We,{htmlFor:"description",className:"text-gray-700 font-medium mb-2",children:["Description ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("textarea",{id:"description",value:y,onChange:G=>j(G.target.value),placeholder:"Describe the product details, benefits, ingredients, etc...",className:"w-full min-h-[100px] px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent resize-none",rows:4,required:!0})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx(Q,{type:"button",variant:"outline",onClick:B,className:"flex-1 h-11",children:"Cancel"}),e.jsx(Q,{type:"submit",className:"flex-1 h-11 bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white",children:"Save Changes"})]})]})]})})}function rle(){const{formatPrice:t}=Kt(),[r,n]=N.useState(""),[s,a]=N.useState(!1),[i,o]=N.useState(!1),[l,c]=N.useState(!1),[u,m]=N.useState(null),[p,x]=N.useState([{id:"1",name:"Premium Argan Oil",category:"Hair Care",price:45,discount:20,stock:24,image:"https://images.unsplash.com/photo-1760541193202-43ac06d34411?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxhcmdhbiUyMG9pbCUyMG5hdHVyYWx8ZW58MXx8fHwxNzY2MzMyMjMyfDA&ixlib=rb-4.1.0&q=80&w=1080",description:"Pure organic argan oil for hair and skin. Restores shine and softness."},{id:"2",name:"Luxury Face Cream",category:"Skin Care",price:85,discount:0,stock:5,image:"https://images.unsplash.com/photo-1591375462077-800a22f5fba4?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxmYWNlJTIwY3JlYW0lMjBsdXh1cnl8ZW58MXx8fHwxNzY2MzMyMjMzfDA&ixlib=rb-4.1.0&q=80&w=1080",description:"Anti-aging face cream with hyaluronic acid and vitamin E."},{id:"3",name:"Professional Shampoo",category:"Hair Care",price:30,discount:0,stock:0,image:"https://images.unsplash.com/photo-1721274503142-63af7aa9c1ad?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxwcm9mZXNzaW9uYWwlMjBzaGFtcG9vfGVufDF8fHx8MTc2NjMzMjIzM3ww&ixlib=rb-4.1.0&q=80&w=1080",description:"Sulfate-free shampoo for color-treated hair."}]),v=S=>{const C={id:(p.length+1).toString(),name:S.name,category:"General",price:S.price,discount:0,stock:S.stock,image:S.image||"https://images.unsplash.com/photo-1526947425960-945c6e72858f?w=400",description:S.description};x([...p,C])},w=(S,C)=>{x(P=>P.map(T=>T.id===S?{...T,stock:T.stock+C}:T))},y=S=>{x(C=>C.map(P=>P.id===S.id?{...P,name:S.name,category:S.category,price:S.price,discount:S.discount,description:S.description,image:S.image||P.image}:P))},j=p.filter(S=>S.name.toLowerCase().includes(r.toLowerCase())||S.category.toLowerCase().includes(r.toLowerCase()));return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"products"}),e.jsx("p",{className:"text-sm text-gray-500",children:"manage/marketplace"})]}),e.jsxs(Q,{className:"bg-gray-900 hover:bg-gray-800 text-white gap-2",onClick:()=>a(!0),children:[e.jsx(er,{className:"w-4 h-4"}),"addProduct"]})]}),e.jsxs("div",{className:"relative max-w-md",children:[e.jsx(qr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"searchProducts",value:r,onChange:S=>n(S.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-purple-500"})]}),e.jsx("div",{className:"grid md:grid-cols-3 gap-6",children:j.map(S=>{const C=S.stock<10,P=S.stock===0;return e.jsxs(ne,{className:`overflow-hidden hover:shadow-lg transition-shadow ${P?"border-red-300 border-2":C?"border-orange-300 border-2":""}`,children:[e.jsxs("div",{className:"relative h-48 bg-gray-100",children:[e.jsx("img",{src:S.image,alt:S.name,className:`w-full h-full object-cover ${P?"opacity-50 grayscale":""}`}),P?e.jsxs("div",{className:"absolute top-3 right-3 bg-red-500 text-white px-3 py-1 rounded-full text-xs font-bold flex items-center gap-1",children:[e.jsx(fr,{className:"w-3 h-3"}),"OUT OF STOCK"]}):C?e.jsxs("div",{className:"absolute top-3 right-3 bg-orange-500 text-white px-3 py-1 rounded-full text-xs font-bold flex items-center gap-1",children:[e.jsx(fr,{className:"w-3 h-3"}),S.stock," LEFT"]}):e.jsxs("div",{className:"absolute top-3 right-3 bg-green-500 text-white px-2 py-1 rounded text-xs font-medium",children:[S.stock," inStock"]})]}),e.jsxs(ke,{className:"p-6",children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("div",{className:"text-xs text-gray-500 mb-1",children:S.category}),e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-1",children:S.name}),e.jsx("p",{className:"text-sm text-gray-600",children:S.description})]}),e.jsx("div",{className:"mb-4",children:S.discount>0?e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("span",{className:"text-sm text-gray-500 line-through",children:t(S.price)}),e.jsxs("span",{className:"bg-red-500 text-white px-2 py-0.5 rounded text-xs font-bold",children:["-",S.discount,"%"]})]}),e.jsx("span",{className:"text-2xl font-bold text-green-600",children:t(S.price*(1-S.discount/100))})]}):e.jsx("span",{className:"text-2xl font-bold text-gray-900",children:t(S.price)})}),C&&!P&&e.jsxs("div",{className:"mb-3 p-2 bg-orange-50 border border-orange-200 rounded-lg flex items-center gap-2",children:[e.jsx(fr,{className:"w-4 h-4 text-orange-600"}),e.jsx("span",{className:"text-xs text-orange-700 font-medium",children:"Low stock - restock soon!"})]}),P&&e.jsxs("div",{className:"mb-3 p-2 bg-red-50 border border-red-200 rounded-lg flex items-center gap-2",children:[e.jsx(fr,{className:"w-4 h-4 text-red-600"}),e.jsx("span",{className:"text-xs text-red-700 font-medium",children:"Out of stock - restock required!"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(Q,{variant:"outline",size:"sm",className:"flex-1 gap-2",onClick:()=>{m(S),c(!0)},children:[e.jsx(oi,{className:"w-4 h-4"}),"Edit"]}),e.jsx(Q,{variant:"outline",size:"sm",className:"text-red-600 hover:bg-red-50",children:e.jsx(cn,{className:"w-4 h-4"})}),e.jsx(Q,{variant:"outline",size:"sm",className:`${P?"text-red-600 hover:bg-red-50 border-red-300":C?"text-orange-600 hover:bg-orange-50 border-orange-300":"text-blue-600 hover:bg-blue-50"}`,onClick:()=>{m(S),o(!0)},title:"Manage Stock",children:e.jsx(xr,{className:"w-4 h-4"})})]})]})]},S.id)})}),j.length===0&&e.jsx("div",{className:"text-center py-12",children:e.jsx("p",{className:"text-gray-500",children:"No products found"})}),e.jsx(Qoe,{isOpen:s,onClose:()=>a(!1),onSubmit:v}),e.jsx(ele,{isOpen:i,onClose:()=>o(!1),product:u,onRestock:w}),e.jsx(tle,{isOpen:l,onClose:()=>c(!1),product:u,onSubmit:y})]})}function nle({isOpen:t,onClose:r,onSubmit:n,salonName:s,salonAvatar:a}){const{currency:i,setCurrency:o,formatPrice:l}=Kt(),[c,u]=N.useState(""),[m,p]=N.useState(""),[x,v]=N.useState(""),[w,y]=N.useState(""),[j,S]=N.useState("60"),[C,P]=N.useState(""),[T,_]=N.useState(""),[k,M]=N.useState(!1),[$,B]=N.useState(!1);if(!t)return null;const F=D=>{var q;const I=(q=D.target.files)==null?void 0:q[0];if(I){if(I.size>5*1024*1024){ve.error("Image size should be less than 5MB");return}if(!I.type.startsWith("image/")){ve.error("Please upload an image file");return}const J=new FileReader;J.onloadend=()=>{_(J.result)},J.readAsDataURL(I)}},H=D=>{if(D.preventDefault(),!c||!x||!m||!C||!T){ve.error("Please fill in all required fields");return}const I=parseFloat(w||"0");if(I<0||I>100){ve.error("Discount must be between 0 and 100");return}const q={serviceName:c,serviceCategory:m,originalPrice:parseFloat(x),discount:I,currency:i.code,description:C,image:T,isLastMinute:k,isPromoted:$,duration:parseInt(j)};n(q),ve.success($?" Service promoted to main feed!":" Service posted successfully!"),u(""),p(""),v(""),y(""),S("60"),P(""),_(""),M(!1),B(!1),r()},K=()=>{r()},Z=()=>{_("")},V=parseFloat(x||"0"),W=V*(parseFloat(w||"0")/100),G=V-W,O=parseFloat(w||"0")>0,R=["Hair Styling","Hair Coloring","Manicure & Pedicure","Facial Treatment","Massage","Makeup","Waxing","Eyelashes & Brows","Spa Treatment"];return e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50 backdrop-blur-sm",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsx("div",{className:"sticky top-0 bg-gradient-to-r from-pink-600 to-purple-600 text-white p-6 rounded-t-2xl z-10",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-white/20 flex items-center justify-center",children:e.jsx(ss,{className:"w-6 h-6"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold",children:"Promote Service"}),e.jsx("p",{className:"text-pink-100 text-sm",children:"Share your service with the beauty community"})]})]}),e.jsx("button",{onClick:K,className:"w-8 h-8 rounded-full hover:bg-white/20 flex items-center justify-center transition-colors",children:e.jsx(ht,{className:"w-5 h-5"})})]})}),e.jsxs("form",{onSubmit:H,className:"p-6",children:[e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{children:[e.jsxs(We,{className:"text-gray-700 font-medium mb-2 flex items-center gap-2",children:[e.jsx(No,{className:"w-4 h-4 text-pink-600"}),"Service Photo ",e.jsx("span",{className:"text-red-500",children:"*"})]}),T?e.jsxs("div",{className:"relative w-full h-64 rounded-lg overflow-hidden border-2 border-gray-200",children:[e.jsx("img",{src:T,alt:"Preview",className:"w-full h-full object-cover"}),e.jsx("button",{type:"button",onClick:Z,className:"absolute top-2 right-2 w-8 h-8 bg-red-500 hover:bg-red-600 text-white rounded-full flex items-center justify-center shadow-lg transition-colors",children:e.jsx(ht,{className:"w-4 h-4"})}),e.jsx("div",{className:"absolute bottom-2 left-2 right-2",children:e.jsxs("label",{className:"w-full bg-white/90 hover:bg-white text-gray-700 px-3 py-2 rounded-lg text-xs font-medium cursor-pointer flex items-center justify-center gap-2 transition-colors",children:[e.jsx(ss,{className:"w-3 h-3"}),"Change Photo",e.jsx("input",{type:"file",accept:"image/*",onChange:F,className:"hidden"})]})})]}):e.jsxs("label",{className:"w-full h-64 border-2 border-dashed border-gray-300 rounded-lg flex flex-col items-center justify-center cursor-pointer hover:border-pink-500 hover:bg-pink-50 transition-colors",children:[e.jsx(ss,{className:"w-10 h-10 text-gray-400 mb-2"}),e.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Click to upload service photo"}),e.jsx("span",{className:"text-xs text-gray-500 mt-1",children:"PNG, JPG up to 5MB"}),e.jsx("span",{className:"text-xs text-gray-500",children:"High-quality photos get more bookings!"}),e.jsx("input",{type:"file",accept:"image/*",onChange:F,className:"hidden"})]})]}),T&&c&&e.jsxs("div",{className:"border-2 border-purple-200 rounded-lg p-4 bg-purple-50",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(Rr,{className:"w-4 h-4 text-purple-600"}),e.jsx("span",{className:"text-sm font-bold text-purple-900",children:"FEED PREVIEW"})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[$&&e.jsxs("div",{className:"bg-gradient-to-r from-yellow-400 to-orange-500 text-white px-3 py-2 flex items-center gap-2 justify-center",children:[e.jsx(xr,{className:"w-4 h-4"}),e.jsx("span",{className:"text-xs font-bold",children:"PROMOTED POST"})]}),e.jsxs("div",{className:"p-3 flex items-center gap-2",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-purple-400 to-pink-400 flex items-center justify-center text-white text-xs font-bold",children:a||s.charAt(0)}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-bold text-gray-900",children:s}),e.jsx("div",{className:"text-xs text-gray-500",children:"Just now"})]})]}),e.jsx("img",{src:T,alt:"Preview",className:"w-full h-32 object-cover"}),e.jsxs("div",{className:"p-3",children:[e.jsxs("div",{className:"flex items-start gap-2 mb-2",children:[e.jsx("h3",{className:"font-bold text-gray-900 text-sm flex-1",children:c}),e.jsxs("div",{className:"flex gap-1",children:[O&&e.jsxs("span",{className:"bg-red-500 text-white px-2 py-0.5 rounded text-xs font-bold",children:["-",w,"%"]}),k&&e.jsx("span",{className:"bg-orange-500 text-white px-2 py-0.5 rounded text-xs font-bold",children:""})]})]}),O?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-xs text-gray-500 line-through",children:l(V)}),e.jsx("span",{className:"text-sm font-bold text-green-600",children:l(G)})]}):e.jsx("span",{className:"text-sm font-bold text-gray-900",children:l(V)})]})]})]})]}),e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{children:[e.jsxs(We,{htmlFor:"serviceName",className:"text-gray-700 font-medium mb-2",children:["Service Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(He,{id:"serviceName",type:"text",value:c,onChange:D=>u(D.target.value),placeholder:"e.g. Balayage Hair Coloring",className:"h-11",required:!0})]}),e.jsxs("div",{children:[e.jsxs(We,{htmlFor:"category",className:"text-gray-700 font-medium mb-2 flex items-center gap-2",children:[e.jsx(_c,{className:"w-4 h-4 text-purple-600"}),"Category ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{id:"category",value:m,onChange:D=>p(D.target.value),className:"w-full h-11 px-4 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent bg-white",required:!0,children:[e.jsx("option",{value:"",children:"Select category"}),R.map(D=>e.jsx("option",{value:D,children:D},D))]})]}),e.jsxs("div",{children:[e.jsxs(We,{htmlFor:"price",className:"text-gray-700 font-medium mb-2",children:["Price ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(He,{id:"price",type:"number",value:x,onChange:D=>v(D.target.value),placeholder:"e.g. 150",min:"0",step:"0.01",className:"h-11 flex-1",required:!0}),e.jsx("select",{value:i.code,onChange:D=>{const I=Xs.find(q=>q.code===D.target.value);I&&o(I)},className:"h-11 px-4 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent bg-white min-w-[120px]",children:Xs.map(D=>e.jsxs("option",{value:D.code,children:[D.flag," ",D.code]},D.code))})]})]}),e.jsxs("div",{children:[e.jsxs(We,{htmlFor:"discount",className:"text-gray-700 font-medium mb-2 flex items-center gap-2",children:[e.jsx(So,{className:"w-4 h-4 text-purple-600"}),"Discount (%)"]}),e.jsx(He,{id:"discount",type:"number",value:w,onChange:D=>y(D.target.value),placeholder:"e.g. 20",min:"0",max:"100",step:"1",className:"h-11"})]}),e.jsxs("div",{children:[e.jsxs(We,{htmlFor:"duration",className:"text-gray-700 font-medium mb-2",children:["Duration (minutes) ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(He,{id:"duration",type:"number",value:j,onChange:D=>S(D.target.value),placeholder:"e.g. 60",min:"15",step:"15",className:"h-11",required:!0})]}),e.jsxs("div",{children:[e.jsxs(We,{htmlFor:"description",className:"text-gray-700 font-medium mb-2",children:["Description ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("textarea",{id:"description",value:C,onChange:D=>P(D.target.value),placeholder:"Describe your service, what makes it special, what's included...",className:"w-full min-h-[80px] px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent resize-none",rows:3,required:!0})]}),e.jsxs("div",{className:"space-y-3 p-4 bg-gray-50 rounded-lg",children:[e.jsxs("label",{className:"flex items-start gap-3 cursor-pointer group",children:[e.jsx("input",{type:"checkbox",checked:k,onChange:D=>M(D.target.checked),className:"mt-1 w-4 h-4 text-orange-600 border-gray-300 rounded focus:ring-orange-500"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ks,{className:"w-4 h-4 text-orange-600"}),e.jsx("span",{className:"font-medium text-gray-900",children:"Last Minute Booking"})]}),e.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Mark as urgent deal for today/tomorrow. Gets orange  badge."})]})]}),e.jsxs("label",{className:"flex items-start gap-3 cursor-pointer group",children:[e.jsx("input",{type:"checkbox",checked:$,onChange:D=>B(D.target.checked),className:"mt-1 w-4 h-4 text-yellow-600 border-gray-300 rounded focus:ring-yellow-500"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(xr,{className:"w-4 h-4 text-yellow-600"}),e.jsx("span",{className:"font-medium text-gray-900",children:"Promote to Main Feed"}),e.jsx("span",{className:"bg-gradient-to-r from-yellow-400 to-orange-500 text-white px-2 py-0.5 rounded text-xs font-bold",children:"FEATURED"})]}),e.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Pin to top of main feed for maximum visibility! "})]})]})]})]})]}),e.jsxs("div",{className:"flex gap-3 pt-6",children:[e.jsx(Q,{type:"button",variant:"outline",onClick:K,className:"flex-1 h-11",children:"Cancel"}),e.jsx(Q,{type:"submit",className:"flex-1 h-11 bg-gradient-to-r from-pink-600 to-purple-600 hover:from-pink-700 hover:to-purple-700 text-white",children:$?" Promote to Feed":" Post Service"})]})]})]})})}function sle(){const{formatPrice:t}=Kt(),[r,n]=N.useState(!1),[s,a]=N.useState([{id:"1",image:"https://images.unsplash.com/photo-1619367901998-73b3a70b3898?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxiZWF1dHklMjBzYWxvbiUyMHdvcmt8ZW58MXx8fHwxNzY2MzMyMjM0fDA&ixlib=rb-4.1.0&q=80&w=1080",likes:142,comments:23,shares:12,caption:"Beautiful balayage transformation ",date:"Dec 14",isService:!1},{id:"promo-1",image:"https://images.unsplash.com/photo-1562322140-8baeececf3df?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxiYWxheWFnZSUyMGhhaXIlMjBjb2xvcnxlbnwxfHx8fDE3NjYzMzIyMzV8MA&ixlib=rb-4.1.0&q=80&w=1080",likes:287,comments:45,shares:32,date:"Dec 15",isService:!0,isPromoted:!0,serviceName:"Balayage Hair Coloring",serviceCategory:"Hair Coloring",originalPrice:150,discount:25,currency:"USD",isLastMinute:!1,salonName:"Katia Beauty Studio",salonAvatar:"K",duration:180,serviceDescription:"Professional balayage technique with premium products. Includes consultation, coloring, toning, and styling.",caption:" SPECIAL OFFER: Get 25% off our signature balayage! Limited slots available this week."},{id:"2",image:"https://images.unsplash.com/photo-1659036354224-48dd0a9a6b86?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxoYWlyJTIwc3R5bGluZyUyMHNhbG9ufGVufDF8fHx8MTc2NjMyNTE0NXww&ixlib=rb-4.1.0&q=80&w=1080",likes:89,comments:15,shares:8,caption:"Fresh haircut and styling",date:"Dec 13",isService:!1},{id:"promo-2",image:"https://images.unsplash.com/photo-1516975080664-ed2fc6a32937?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxtYXNzYWdlJTIwc3BhfGVufDF8fHx8MTc2NjMzMjIzNXww&ixlib=rb-4.1.0&q=80&w=1080",likes:198,comments:31,shares:18,date:"Dec 15",isService:!0,isPromoted:!1,serviceName:"Relaxing Spa Massage",serviceCategory:"Spa Treatment",originalPrice:80,discount:0,currency:"USD",isLastMinute:!0,salonName:"Serenity Spa",salonAvatar:"S",duration:60,serviceDescription:"Full body relaxation massage with aromatherapy oils.",caption:" LAST MINUTE DEAL: Available TODAY! Book your relaxation session now."},{id:"3",image:"https://images.unsplash.com/photo-1659391542239-9648f307c0b1?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxuYWlscyUyMG1hbmljdXJlfGVufDF8fHx8MTc2NjMzMjIzNHww&ixlib=rb-4.1.0&q=80&w=1080",likes:201,comments:34,shares:19,caption:"Nail art perfection ",date:"Dec 12",isService:!1},{id:"4",image:"https://images.unsplash.com/photo-1619367901998-73b3a70b3898?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxiZWF1dHklMjBzYWxvbiUyMHdvcmt8ZW58MXx8fHwxNzY2MzMyMjM0fDA&ixlib=rb-4.1.0&q=80&w=1080",likes:156,comments:28,shares:14,caption:"Gorgeous hair color",date:"Dec 11",isService:!1}]),i=u=>{const m={id:`service-${Date.now()}`,image:u.image,likes:0,comments:0,shares:0,date:"Just now",isService:!0,serviceName:u.serviceName,serviceCategory:u.serviceCategory,originalPrice:u.originalPrice,discount:u.discount,currency:u.currency,isLastMinute:u.isLastMinute,isPromoted:u.isPromoted,salonName:"Katia Beauty Studio",salonAvatar:"K",duration:u.duration,serviceDescription:u.description,caption:u.description,publishedToMainFeed:!1};a([m,...s])},o=u=>{a(s.map(m=>m.id===u?{...m,publishedToMainFeed:!m.publishedToMainFeed}:m))},l=u=>{console.log("Booking service:",u),alert(`Booking ${u.serviceName} at ${u.salonName}!

Price: ${u.discount&&u.discount>0?`${t(u.originalPrice)}  ${t(u.originalPrice*(1-u.discount/100))} (${u.discount}% OFF)`:t(u.originalPrice)}

This will open the booking modal with pre-filled service.`)},c=[...s].sort((u,m)=>u.isPromoted&&!m.isPromoted?-1:!u.isPromoted&&m.isPromoted?1:0);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:" Beauty Feed"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Showcase your services and work to the community"})]}),e.jsxs(Q,{className:"bg-pink-600 hover:bg-pink-700 text-white gap-2",onClick:()=>n(!0),children:[e.jsx(er,{className:"w-4 h-4"}),"Promote Service"]})]}),e.jsx(ne,{className:"bg-gradient-to-r from-purple-50 to-pink-50 border-purple-200",children:e.jsxs("div",{className:"p-4 flex items-start gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-purple-500 to-pink-500 flex items-center justify-center flex-shrink-0",children:e.jsx(xr,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-gray-900 mb-1",children:"Promote Your Services"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Share your services with photos, special discounts, and last-minute deals. Promoted posts appear first in the feed for maximum visibility! "})]})]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:c.map(u=>e.jsxs(ne,{className:`overflow-hidden group hover:shadow-2xl transition-all ${u.publishedToMainFeed?"ring-2 ring-green-400":""}`,children:[e.jsxs("div",{className:"relative aspect-square bg-gray-100 overflow-hidden",children:[e.jsx("img",{src:u.image,alt:u.serviceName||"Beauty work",className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-105"}),e.jsxs("div",{className:"absolute top-2 left-2 right-2 flex items-start justify-between",children:[e.jsxs("div",{className:"flex flex-col gap-1",children:[u.isService&&u.isLastMinute&&e.jsxs("div",{className:"bg-orange-500 text-white px-2 py-1 rounded text-xs font-bold flex items-center gap-1",children:[e.jsx(Ks,{className:"w-3 h-3"}),"LAST"]}),u.isPromoted&&e.jsx("div",{className:"bg-yellow-500 text-white px-2 py-1 rounded text-xs font-bold",children:" TOP"})]}),u.isService&&u.discount&&u.discount>0&&e.jsx("div",{className:"bg-red-500 text-white px-3 py-2 rounded-lg shadow-lg",children:e.jsxs("div",{className:"text-xl font-bold",children:["-",u.discount,"%"]})})]}),e.jsx("div",{className:"absolute bottom-2 right-2",children:u.publishedToMainFeed?e.jsxs("div",{className:"bg-green-500 text-white px-2 py-1 rounded-full text-xs font-bold flex items-center gap-1",children:[e.jsx(Oh,{className:"w-3 h-3"}),"PUBLIC"]}):e.jsxs("div",{className:"bg-gray-800/80 text-white px-2 py-1 rounded-full text-xs font-medium flex items-center gap-1",children:[e.jsx(wo,{className:"w-3 h-3"}),"SALON"]})}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/90 via-black/50 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:e.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-4 text-white",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-3 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Kn,{className:"w-4 h-4 fill-white"}),e.jsx("span",{className:"font-bold",children:u.likes})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Fh,{className:"w-4 h-4"}),e.jsx("span",{className:"font-bold",children:u.comments})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(_o,{className:"w-4 h-4"}),e.jsx("span",{className:"font-bold",children:u.shares})]})]}),u.isService&&e.jsxs("div",{className:"mb-2",children:[e.jsx("div",{className:"text-xs text-purple-300 mb-1",children:u.serviceCategory}),e.jsx("div",{className:"font-bold text-sm mb-1 line-clamp-1",children:u.serviceName}),e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(vt,{className:"w-3 h-3"}),e.jsxs("span",{children:[u.duration,"min"]}),e.jsx("span",{className:"mx-1",children:""}),u.discount&&u.discount>0?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"line-through text-gray-300 text-xs",children:t(u.originalPrice)}),e.jsx("span",{className:"font-bold text-green-400",children:t(u.originalPrice*(1-u.discount/100))})]}):e.jsx("span",{className:"font-bold",children:t(u.originalPrice)})]})]}),!u.isService&&u.caption&&e.jsx("p",{className:"text-sm line-clamp-2 mb-2",children:u.caption})]})})]}),e.jsx("div",{className:"p-3 bg-white",children:u.isService?e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-sm text-gray-900 line-clamp-1",children:u.serviceName}),e.jsx("div",{className:"text-xs text-gray-500",children:u.serviceCategory})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(Q,{size:"sm",variant:u.publishedToMainFeed?"default":"outline",className:`flex-1 gap-1 h-8 text-xs ${u.publishedToMainFeed?"bg-green-600 hover:bg-green-700 text-white":"border-purple-600 text-purple-600 hover:bg-purple-50"}`,onClick:()=>o(u.id),children:[e.jsx(Oh,{className:"w-3 h-3"}),u.publishedToMainFeed?"Live":"Publish"]}),e.jsx(Q,{size:"sm",className:"flex-1 bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white h-8 text-xs",onClick:()=>l(u),children:"Book"})]})]}):e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-700 line-clamp-2 mb-2",children:u.caption}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("span",{children:[" ",u.likes]}),e.jsxs("span",{children:[" ",u.comments]})]}),e.jsx("span",{children:u.date})]})]})})]},u.id))}),e.jsx(ne,{className:"bg-gradient-to-r from-pink-50 to-purple-50 border-none",children:e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"font-bold text-gray-900 mb-4",children:"Feed Performance"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-6",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Total Posts"}),e.jsx("div",{className:"text-3xl font-bold text-gray-900",children:s.length})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Service Posts"}),e.jsx("div",{className:"text-3xl font-bold text-purple-600",children:s.filter(u=>u.isService).length})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Published"}),e.jsx("div",{className:"text-3xl font-bold text-green-600",children:s.filter(u=>u.publishedToMainFeed).length})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Total Likes"}),e.jsx("div",{className:"text-3xl font-bold text-pink-600",children:s.reduce((u,m)=>u+m.likes,0)})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Promoted"}),e.jsx("div",{className:"text-3xl font-bold text-yellow-600",children:s.filter(u=>u.isPromoted).length})]})]})]})}),e.jsx(nle,{isOpen:r,onClose:()=>n(!1),onSubmit:i,salonName:"Katia Beauty Studio",salonAvatar:"K"})]})}function ale(){const[t,r]=N.useState([{id:"1",name:"Birthday Special",type:"Birthday Campaign",message:'"Happy Birthday {name}! Enjoy 20% off your next visit valid for 7 days. "',icon:"",enabled:!0},{id:"2",name:"We Miss You",type:"Retention Campaign",message:"",icon:"",enabled:!1},{id:"3",name:"Review Request",type:"General Campaign",message:'"Thanks for visiting {name}! How was your experience? Leave a review  "',icon:"",enabled:!0}]),n=[{id:"top-placement",name:"Top Placement",description:"Be #1 on Homepage & Search",price:19,period:"week",features:["Top of main slider","1st in search results","5x more views"],badge:"PREMIUM",badgeColor:"bg-yellow-500",color:"from-purple-600 to-purple-500",promotion:"First Week $1"},{id:"smart-spot",name:"Smart Spot",description:"Frequent visibility in list",price:9,period:"week",features:['"Recommended" section',"2x more views","Highlighted badge"],badge:"RECOMMENDED",badgeColor:"bg-cyan-500",color:"from-blue-600 to-blue-500"},{id:"holiday-spotlight",name:"Holiday Spotlight",description:"Get booked for the holidays!",price:15,period:"3 days",features:["Perfect for filling last-minute slots before major holidays","(New Year, Valentine's, etc)"],badge:"NEW",badgeColor:"bg-pink-500",color:"from-pink-600 to-pink-500"}],s=a=>{r(i=>i.map(o=>o.id===a?{...o,enabled:!o.enabled}:o))};return e.jsxs("div",{className:"grid lg:grid-cols-[1fr_400px] gap-6",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-1",children:"Marketing Notifications"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Engage your clients"})]}),e.jsx(ne,{className:"bg-gray-50 border-none",children:e.jsxs(ke,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(xr,{className:"w-5 h-5 text-purple-600"}),e.jsx("h3",{className:"font-bold text-gray-900",children:"Campaign Performance"})]}),e.jsxs("div",{className:"grid grid-cols-4 gap-6",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Impressions"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-purple-500"}),e.jsx("span",{className:"text-2xl font-bold text-gray-900",children:"12.5k"})]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Clicks"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500"}),e.jsx("span",{className:"text-2xl font-bold text-gray-900",children:"840"})]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Bookings"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-green-500"}),e.jsx("span",{className:"text-2xl font-bold text-gray-900",children:"42"})]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Revenue"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-orange-500"}),e.jsx("span",{className:"text-2xl font-bold text-gray-900",children:"$1260"})]})]})]})]})}),e.jsx("div",{className:"space-y-3",children:t.map(a=>e.jsx(ne,{className:"hover:shadow-md transition-shadow",children:e.jsx(ke,{className:"p-6",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-start gap-4 flex-1",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-gray-100 flex items-center justify-center text-2xl",children:a.icon}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-bold text-gray-900 mb-1",children:a.name}),e.jsx("p",{className:"text-sm text-gray-500 mb-2",children:a.type}),a.message&&e.jsx("p",{className:"text-sm text-gray-600 italic",children:a.message})]})]}),e.jsx("button",{onClick:()=>s(a.id),className:`relative w-12 h-6 rounded-full transition-colors ${a.enabled?"bg-purple-600":"bg-gray-300"}`,children:e.jsx("div",{className:`absolute top-1 w-4 h-4 bg-white rounded-full transition-transform ${a.enabled?"translate-x-7":"translate-x-1"}`})})]})})},a.id))}),e.jsxs("button",{className:"w-full bg-gray-900 hover:bg-gray-800 text-white rounded-xl py-4 flex items-center justify-center gap-2 font-medium transition-colors",children:[e.jsx(er,{className:"w-5 h-5"}),"Create Campaign"]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(tr,{className:"w-5 h-5 text-purple-600"}),e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Boost Visibility"})]}),e.jsx("p",{className:"text-sm text-gray-500",children:"Get more bookings by promoting your salon"})]}),n.map(a=>e.jsx(ne,{className:`overflow-hidden border-none bg-gradient-to-br ${a.color} text-white`,children:e.jsxs(ke,{className:"p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[a.id==="top-placement"&&e.jsx(ii,{className:"w-5 h-5 text-yellow-300"}),a.id==="smart-spot"&&e.jsx($d,{className:"w-5 h-5 text-cyan-300"}),a.id==="holiday-spotlight"&&e.jsx(tr,{className:"w-5 h-5 text-pink-300"}),e.jsx("h3",{className:"font-bold text-lg",children:a.name})]}),a.badge&&e.jsx("span",{className:`${a.badgeColor} text-white text-xs font-bold px-2 py-1 rounded-full`,children:a.badge})]}),e.jsx("p",{className:"text-sm text-white/90 mb-4",children:a.description}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex items-baseline gap-1",children:[e.jsxs("span",{className:"text-3xl font-bold",children:["$",a.price]}),e.jsxs("span",{className:"text-sm text-white/80",children:["/ ",a.period]})]}),a.promotion&&e.jsx("div",{className:"inline-block bg-orange-500 text-white text-xs font-bold px-3 py-1 rounded-full mt-2",children:a.promotion})]}),e.jsx("div",{className:"space-y-2 mb-4",children:a.features.map((i,o)=>e.jsxs("div",{className:"flex items-start gap-2 text-sm",children:[e.jsx("div",{className:"w-1 h-1 rounded-full bg-white mt-2 flex-shrink-0"}),e.jsx("span",{className:"text-white/90",children:i})]},o))}),e.jsx(Q,{className:"w-full bg-white hover:bg-gray-100 text-gray-900 font-medium",size:"lg",children:a.id==="top-placement"?"Boost Now ":a.id==="smart-spot"?"Activate ":"Enable Spotlight "})]})},a.id))]})]})}function ile(){const[t,r]=N.useState("This Month"),[n,s]=N.useState("All Masters"),[a,i]=N.useState(!1),[o,l]=N.useState("2024-11-01"),[c,u]=N.useState("2024-11-30"),{formatPrice:m}=Kt(),p={"All Masters":{revenue:45680,bookings:160,avgCheck:285,conversion:18.7,whatsappClicks:142,saves:89,aiBookings:24,dailyLoad:[{day:"Mon",bookings:18,revenue:5130,progress:36},{day:"Tue",bookings:22,revenue:6270,progress:44},{day:"Wed",bookings:25,revenue:7125,progress:50},{day:"Thu",bookings:28,revenue:7980,progress:56},{day:"Fri",bookings:32,revenue:9120,progress:64},{day:"Sat",bookings:30,revenue:8550,progress:60},{day:"Sun",bookings:5,revenue:1425,progress:10}],hourlyData:[{hour:"9:00",value:12},{hour:"10:00",value:32},{hour:"11:00",value:45},{hour:"12:00",value:52},{hour:"13:00",value:65},{hour:"14:00",value:48},{hour:"15:00",value:56},{hour:"16:00",value:72},{hour:"17:00",value:68},{hour:"18:00",value:58},{hour:"19:00",value:42},{hour:"20:00",value:28}]},Alice:{revenue:18200,bookings:68,avgCheck:268,conversion:22.1,whatsappClicks:58,saves:34,aiBookings:12,dailyLoad:[{day:"Mon",bookings:8,revenue:2144,progress:32},{day:"Tue",bookings:10,revenue:2680,progress:40},{day:"Wed",bookings:12,revenue:3216,progress:48},{day:"Thu",bookings:11,revenue:2948,progress:44},{day:"Fri",bookings:13,revenue:3484,progress:52},{day:"Sat",bookings:12,revenue:3216,progress:48},{day:"Sun",bookings:2,revenue:536,progress:8}],hourlyData:[{hour:"9:00",value:8},{hour:"10:00",value:18},{hour:"11:00",value:25},{hour:"12:00",value:32},{hour:"13:00",value:38},{hour:"14:00",value:28},{hour:"15:00",value:35},{hour:"16:00",value:42},{hour:"17:00",value:40},{hour:"18:00",value:35},{hour:"19:00",value:25},{hour:"20:00",value:15}]},Bob:{revenue:15840,bookings:55,avgCheck:288,conversion:16.3,whatsappClicks:42,saves:28,aiBookings:7,dailyLoad:[{day:"Mon",bookings:6,revenue:1728,progress:24},{day:"Tue",bookings:8,revenue:2304,progress:32},{day:"Wed",bookings:9,revenue:2592,progress:36},{day:"Thu",bookings:10,revenue:2880,progress:40},{day:"Fri",bookings:11,revenue:3168,progress:44},{day:"Sat",bookings:10,revenue:2880,progress:40},{day:"Sun",bookings:1,revenue:288,progress:4}],hourlyData:[{hour:"9:00",value:5},{hour:"10:00",value:12},{hour:"11:00",value:18},{hour:"12:00",value:22},{hour:"13:00",value:28},{hour:"14:00",value:20},{hour:"15:00",value:24},{hour:"16:00",value:30},{hour:"17:00",value:28},{hour:"18:00",value:22},{hour:"19:00",value:16},{hour:"20:00",value:10}]},Elena:{revenue:11640,bookings:37,avgCheck:315,conversion:18.9,whatsappClicks:42,saves:27,aiBookings:5,dailyLoad:[{day:"Mon",bookings:4,revenue:1260,progress:16},{day:"Tue",bookings:4,revenue:1260,progress:16},{day:"Wed",bookings:4,revenue:1260,progress:16},{day:"Thu",bookings:7,revenue:2205,progress:28},{day:"Fri",bookings:8,revenue:2520,progress:32},{day:"Sat",bookings:8,revenue:2520,progress:32},{day:"Sun",bookings:2,revenue:630,progress:8}],hourlyData:[{hour:"9:00",value:3},{hour:"10:00",value:8},{hour:"11:00",value:12},{hour:"12:00",value:15},{hour:"13:00",value:20},{hour:"14:00",value:14},{hour:"15:00",value:18},{hour:"16:00",value:24},{hour:"17:00",value:22},{hour:"18:00",value:18},{hour:"19:00",value:12},{hour:"20:00",value:8}]}},x=N.useMemo(()=>p[n]||p["All Masters"],[n]),v=[{label:"WhatsApp Clicks",value:x.whatsappClicks.toString(),icon:Fh,color:"text-green-600",bg:"bg-green-100"},{label:"Salon Saves",value:x.saves.toString(),icon:Kn,color:"text-pink-600",bg:"bg-pink-100"},{label:"AI Bookings",value:x.aiBookings.toString(),icon:vt,color:"text-purple-600",bg:"bg-purple-100"}],w=[{label:"Revenue",value:m(x.revenue),change:"+13.5%",changeType:"positive",subtitle:"vs last period",icon:"$",iconColor:"text-green-600",iconBg:"bg-green-100",changeColor:"text-green-600"},{label:"Bookings",value:x.bookings.toString(),change:"-8.1%",changeType:"negative",subtitle:"vs last period",icon:"",iconColor:"text-blue-600",iconBg:"bg-blue-100",changeColor:"text-red-600"},{label:"Avg Check",value:m(x.avgCheck),subtitle:"Revenue  Count",icon:"",iconColor:"text-purple-600",iconBg:"bg-purple-100",changeColor:""},{label:"Conversion",value:`${x.conversion}%`,subtitle:"34/3 views  bookings",icon:"",iconColor:"text-orange-600",iconBg:"bg-orange-100",changeColor:""}],y=x.dailyLoad.map(C=>({...C,revenue:m(C.revenue)})),j=Math.max(...x.hourlyData.map(C=>C.value)),S=()=>{r("Custom Range"),i(!1)};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Analytics"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Performance insights"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(Hd,{className:"w-4 h-4 text-gray-500"}),e.jsx("span",{className:"text-gray-600",children:"Filter by"})]}),e.jsxs("select",{value:t,onChange:C=>r(C.target.value),className:"px-4 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-purple-500",children:[e.jsx("option",{children:"This Month"}),e.jsx("option",{children:"Last Month"}),e.jsx("option",{children:"Last 3 Months"}),e.jsx("option",{children:"This Year"}),e.jsx("option",{children:"Custom Range"})]}),t==="Custom Range"&&e.jsxs("div",{className:"relative",children:[e.jsxs("button",{onClick:()=>i(!a),className:"flex items-center gap-2 px-4 py-2 border border-purple-300 bg-purple-50 rounded-lg text-sm font-medium text-purple-700 hover:bg-purple-100 focus:outline-none focus:ring-2 focus:ring-purple-500",children:[e.jsx(TV,{className:"w-4 h-4"}),e.jsxs("span",{children:[o," - ",c]})]}),a&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>i(!1)}),e.jsxs("div",{className:"absolute top-full right-0 mt-2 bg-white border border-gray-200 rounded-xl shadow-xl z-50 min-w-[320px]",children:[e.jsxs("div",{className:"p-4 border-b border-gray-100",children:[e.jsx("h3",{className:"font-bold text-gray-900",children:"Select Date Range"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Choose start and end dates"})]}),e.jsxs("div",{className:"p-4 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Start Date"}),e.jsx("input",{type:"date",value:o,onChange:C=>l(C.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"End Date"}),e.jsx("input",{type:"date",value:c,onChange:C=>u(C.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]})]}),e.jsxs("div",{className:"p-4 border-t border-gray-100 flex items-center justify-between gap-2",children:[e.jsx("button",{onClick:()=>i(!1),className:"px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:"Cancel"}),e.jsx("button",{onClick:S,className:"px-4 py-2 text-sm font-medium bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:"Apply Range"})]})]})]})]}),e.jsxs("select",{value:n,onChange:C=>s(C.target.value),className:"px-4 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-purple-500",children:[e.jsx("option",{children:"All Masters"}),e.jsx("option",{children:"Alice"}),e.jsx("option",{children:"Bob"}),e.jsx("option",{children:"Elena"})]})]})]}),e.jsx("div",{className:"grid md:grid-cols-3 gap-4",children:v.map(C=>{const P=C.icon;return e.jsx(ne,{className:"border-none shadow-sm",children:e.jsxs(ke,{className:"p-6",children:[e.jsx("div",{className:"flex items-center gap-3 mb-3",children:e.jsx("div",{className:`w-12 h-12 rounded-xl ${C.bg} flex items-center justify-center`,children:e.jsx(P,{className:`w-6 h-6 ${C.color}`})})}),e.jsx("div",{className:"text-sm text-gray-500 mb-1",children:C.label}),e.jsx("div",{className:"text-3xl font-bold text-gray-900",children:C.value})]})},C.label)})}),e.jsx("div",{className:"grid md:grid-cols-4 gap-4",children:w.map((C,P)=>e.jsx(ne,{className:"border-none shadow-sm",children:e.jsxs(ke,{className:"p-6",children:[e.jsx("div",{className:"flex items-center gap-3 mb-3",children:e.jsx("div",{className:`w-10 h-10 rounded-lg ${C.iconBg} flex items-center justify-center text-xl`,children:C.icon})}),e.jsx("div",{className:"text-sm text-gray-500 mb-1",children:C.label}),e.jsx("div",{className:"text-2xl font-bold text-gray-900 mb-1",children:C.value}),C.change&&e.jsxs("div",{className:`text-sm font-medium ${C.changeType==="positive"?"text-green-600":"text-red-600"}`,children:[C.change," ",C.subtitle]}),C.subtitle&&!C.change&&e.jsx("div",{className:"text-xs text-gray-500",children:C.subtitle})]})},P))}),e.jsxs("div",{className:"flex items-center gap-6 border-b border-gray-200",children:[e.jsx("button",{className:"px-4 py-3 text-sm font-medium border-b-2 border-purple-600 text-purple-600",children:"Overview"}),e.jsx("button",{className:"px-4 py-3 text-sm font-medium border-b-2 border-transparent text-gray-600 hover:text-gray-900",children:"Services"}),e.jsx("button",{className:"px-4 py-3 text-sm font-medium border-b-2 border-transparent text-gray-600 hover:text-gray-900",children:"Masters"}),e.jsx("button",{className:"px-4 py-3 text-sm font-medium border-b-2 border-transparent text-gray-600 hover:text-gray-900",children:"Clients"})]}),e.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[e.jsx(ne,{className:"border-none shadow-sm",children:e.jsxs(ke,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[e.jsx("div",{className:"w-1 h-6 bg-purple-600 rounded"}),e.jsx("h3",{className:"font-bold text-gray-900",children:"Daily Load"})]}),e.jsx("p",{className:"text-sm text-gray-500 mb-6",children:"Booking distribution by day of week"}),e.jsx("div",{className:"space-y-4",children:y.map(C=>e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between text-sm mb-2",children:[e.jsx("span",{className:"font-medium text-gray-700 w-12",children:C.day}),e.jsxs("span",{className:"text-gray-500 flex-1 text-right",children:[C.bookings," bookings"]}),e.jsx("span",{className:"font-medium text-gray-900 w-24 text-right",children:C.revenue})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:e.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-pink-600 rounded-full h-2.5 transition-all",style:{width:`${C.progress}%`}})})]},C.day))})]})}),e.jsx(ne,{className:"border-none shadow-sm",children:e.jsxs(ke,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[e.jsx("div",{className:"w-1 h-6 bg-pink-600 rounded"}),e.jsx("h3",{className:"font-bold text-gray-900",children:"Popular Hours"})]}),e.jsx("p",{className:"text-sm text-gray-500 mb-6",children:"Peak traffic hours"}),e.jsx("div",{className:"flex items-end justify-between gap-2 h-64",children:x.hourlyData.map(C=>e.jsxs("div",{className:"flex-1 flex flex-col items-center gap-2",children:[e.jsx("div",{className:"w-full bg-gradient-to-t from-pink-600 to-purple-600 rounded-t transition-all hover:opacity-80",style:{height:`${C.value/j*100}%`}}),e.jsx("span",{className:"text-xs text-gray-500 rotate-0 whitespace-nowrap",children:C.hour})]},C.hour))})]})})]})]})}function ole(){return e.jsxs("div",{className:"grid lg:grid-cols-[1fr_400px] gap-6",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-1",children:"Financial Overview"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Track your revenue and payments"})]}),e.jsx(ne,{className:"border-none shadow-sm",children:e.jsxs(ke,{className:"p-12 flex flex-col items-center justify-center min-h-[400px] bg-gray-50",children:[e.jsx("div",{className:"w-20 h-20 rounded-2xl bg-gray-200 flex items-center justify-center mb-4",children:e.jsx(Ac,{className:"w-10 h-10 text-gray-400"})}),e.jsx("h3",{className:"font-bold text-gray-900 mb-2 text-lg",children:"Revenue Chart Visualization"}),e.jsx("p",{className:"text-gray-500 text-center max-w-md",children:"Connect your payment method to start tracking revenue, transactions, and financial analytics"})]})})]}),e.jsx("div",{children:e.jsx(ne,{className:"bg-gray-900 text-white border-none",children:e.jsxs(ke,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-white/10 flex items-center justify-center",children:e.jsx(Wr,{className:"w-5 h-5"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-lg",children:"Payment Settings"}),e.jsx("p",{className:"text-sm text-gray-400",children:"Direct payments to your account"})]})]}),e.jsxs("div",{className:"bg-white/5 rounded-lg p-4 mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-400 mb-1",children:"Platform Fee"}),e.jsx("div",{className:"text-2xl font-bold text-green-400",children:"0% Commission"})]}),e.jsx("div",{className:"px-3 py-1 bg-green-500/20 text-green-400 text-xs font-medium rounded-full",children:"0% Fee"})]}),e.jsx("p",{className:"text-xs text-gray-400",children:"We don't take any cut from your bookings. You keep 100% of your earnings."})]}),e.jsx(Q,{className:"w-full bg-purple-600 hover:bg-purple-700 text-white font-medium mb-4",size:"lg",children:"Connect Stripe"}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Secure payments powered by Stripe"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Funds deposited directly to your bank"})]}),e.jsxs("div",{className:"mt-6 pt-6 border-t border-white/10 space-y-3",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-1 h-1 rounded-full bg-green-400 mt-2"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"text-sm font-medium mb-1",children:"Instant Payouts"}),e.jsx("div",{className:"text-xs text-gray-400",children:"Get paid instantly after each booking"})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-1 h-1 rounded-full bg-green-400 mt-2"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"text-sm font-medium mb-1",children:"All Payment Methods"}),e.jsx("div",{className:"text-xs text-gray-400",children:"Accept cards, Apple Pay, Google Pay"})]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-1 h-1 rounded-full bg-green-400 mt-2"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"text-sm font-medium mb-1",children:"Fraud Protection"}),e.jsx("div",{className:"text-xs text-gray-400",children:"Advanced security and chargeback protection"})]})]})]}),e.jsxs("div",{className:"mt-6 pt-6 border-t border-white/10 grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Zt,{className:"w-4 h-4 text-green-400"}),e.jsx("span",{className:"text-xs text-gray-400",children:"Saved in Fees"})]}),e.jsx("div",{className:"text-xl font-bold",children:"$0"}),e.jsx("div",{className:"text-xs text-gray-500",children:"vs 15% standard"})]}),e.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Ac,{className:"w-4 h-4 text-purple-400"}),e.jsx("span",{className:"text-xs text-gray-400",children:"Total Revenue"})]}),e.jsx("div",{className:"text-xl font-bold",children:"$0"}),e.jsx("div",{className:"text-xs text-gray-500",children:"Connect to track"})]})]})]})})})]})}function lle({userRole:t="owner"}){const[r,n]=N.useState([{id:"1",name:"Manicure Tables",category:"Nails",quantity:3,assignedServices:["Manicure","Nail Extensions","Nail Art"],status:"active"},{id:"2",name:"Pedicure Chairs",category:"Nails",quantity:2,assignedServices:["Pedicure","Spa Pedicure"],status:"active"},{id:"3",name:"Massage Tables",category:"Massage",quantity:1,assignedServices:["Full Body Massage","Back Massage","Relaxation Massage"],status:"active"},{id:"4",name:"Eyelash Extension Beds",category:"Eyelashes",quantity:1,assignedServices:["Classic Lashes","Volume Lashes","Lash Lift"],status:"active"},{id:"5",name:"Hair Styling Stations",category:"Hair",quantity:4,assignedServices:["Haircut","Hair Coloring","Highlights","Blowdry"],status:"active"},{id:"6",name:"Facial Treatment Rooms",category:"Facial",quantity:2,assignedServices:["Classic Facial","Deep Cleansing","Anti-aging Treatment"],status:"active"}]),[s,a]=N.useState(!1),[i,o]=N.useState(null),[l,c]=N.useState({name:"",category:"",quantity:1,assignedServices:[],status:"active",notes:""}),u=["Nails","Hair","Eyelashes","Brow","Facial","Massage","Spa","Makeup","Waxing","Laser","Tattoo","Piercing","Other"],m=["Manicure","Pedicure","Nail Extensions","Nail Art","Spa Pedicure","Haircut","Hair Coloring","Highlights","Balayage","Blowdry","Classic Lashes","Volume Lashes","Lash Lift","Eyebrow Tinting","Eyebrow Shaping","Classic Facial","Deep Cleansing","Anti-aging Treatment","Full Body Massage","Back Massage","Relaxation Massage","Makeup Application","Bridal Makeup","Waxing","Laser Hair Removal"],p=()=>{if(!l.name||!l.category||l.quantity<1){ve.error("Please fill in all required fields");return}const T={id:(r.length+1).toString(),name:l.name,category:l.category,quantity:l.quantity,assignedServices:l.assignedServices,status:l.status,notes:l.notes};n([...r,T]),a(!1),y(),ve.success(`Resource "${l.name}" added successfully`)},x=()=>{if(!i||!l.name||!l.category||l.quantity<1){ve.error("Please fill in all required fields");return}n(r.map(T=>T.id===i.id?{...T,name:l.name,category:l.category,quantity:l.quantity,assignedServices:l.assignedServices,status:l.status,notes:l.notes}:T)),o(null),y(),ve.success("Resource updated successfully")},v=T=>{const _=r.find(k=>k.id===T);_&&(n(r.filter(k=>k.id!==T)),ve.success(`Resource "${_.name}" deleted`))},w=T=>{o(T),c({name:T.name,category:T.category,quantity:T.quantity,assignedServices:T.assignedServices,status:T.status,notes:T.notes||""})},y=()=>{c({name:"",category:"",quantity:1,assignedServices:[],status:"active",notes:""})},j=T=>{c({...l,assignedServices:l.assignedServices.includes(T)?l.assignedServices.filter(_=>_!==T):[...l.assignedServices,T]})},S=T=>{switch(T){case"active":return e.jsxs("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-700 flex items-center gap-1",children:[e.jsx(zt,{className:"w-3 h-3"}),"Active"]});case"maintenance":return e.jsxs("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-700 flex items-center gap-1",children:[e.jsx(j0,{className:"w-3 h-3"}),"Maintenance"]});case"inactive":return e.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-700",children:"Inactive"});default:return null}},C=r.reduce((T,_)=>T+_.quantity,0),P=r.filter(T=>T.status==="active").reduce((T,_)=>T+_.quantity,0);return t!=="owner"?e.jsx("div",{className:"flex items-center justify-center h-96",children:e.jsxs("div",{className:"text-center",children:[e.jsx(An,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"Access Restricted"}),e.jsx("p",{className:"text-gray-600",children:"Only salon owners can manage resource settings."})]})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-2",children:[e.jsx(j0,{className:"w-8 h-8 text-purple-600"}),"Resource Management"]}),e.jsx("p",{className:"text-gray-500 mt-1",children:"Manage workstations, chairs, and equipment to prevent double booking"})]}),e.jsxs(Q,{onClick:()=>a(!0),className:"bg-purple-600 hover:bg-purple-700 text-white gap-2",children:[e.jsx(er,{className:"w-4 h-4"}),"Add Resource"]})]}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[e.jsx(ne,{children:e.jsx(ke,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Total Resources"}),e.jsx("p",{className:"text-2xl font-bold text-purple-600",children:C})]}),e.jsx(j0,{className:"w-8 h-8 text-purple-600"})]})})}),e.jsx(ne,{children:e.jsx(ke,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Active Resources"}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:P})]}),e.jsx(zt,{className:"w-8 h-8 text-green-600"})]})})}),e.jsx(ne,{children:e.jsx(ke,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Resource Types"}),e.jsx("p",{className:"text-2xl font-bold text-blue-600",children:r.length})]}),e.jsx(pr,{className:"w-8 h-8 text-blue-600"})]})})})]}),e.jsx(ne,{children:e.jsx(ke,{className:"p-0",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left p-4 text-sm font-medium text-gray-600",children:"Resource Name"}),e.jsx("th",{className:"text-left p-4 text-sm font-medium text-gray-600",children:"Category"}),e.jsx("th",{className:"text-left p-4 text-sm font-medium text-gray-600",children:"Quantity"}),e.jsx("th",{className:"text-left p-4 text-sm font-medium text-gray-600",children:"Assigned Services"}),e.jsx("th",{className:"text-left p-4 text-sm font-medium text-gray-600",children:"Status"}),e.jsx("th",{className:"text-right p-4 text-sm font-medium text-gray-600",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:r.map(T=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsxs("td",{className:"p-4",children:[e.jsx("span",{className:"font-medium text-gray-900",children:T.name}),T.notes&&e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:T.notes})]}),e.jsx("td",{className:"p-4",children:e.jsx("span",{className:"px-2 py-1 rounded-lg text-xs font-medium bg-purple-100 text-purple-700",children:T.category})}),e.jsx("td",{className:"p-4",children:e.jsx("span",{className:"text-lg font-bold text-gray-900",children:T.quantity})}),e.jsx("td",{className:"p-4",children:e.jsxs("div",{className:"flex flex-wrap gap-1",children:[T.assignedServices.slice(0,3).map(_=>e.jsx("span",{className:"px-2 py-0.5 rounded text-xs bg-blue-100 text-blue-700",children:_},_)),T.assignedServices.length>3&&e.jsxs("span",{className:"px-2 py-0.5 rounded text-xs bg-gray-100 text-gray-600",children:["+",T.assignedServices.length-3," more"]})]})}),e.jsx("td",{className:"p-4",children:S(T.status)}),e.jsx("td",{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[e.jsx(Q,{size:"sm",variant:"outline",onClick:()=>w(T),children:e.jsx(EL,{className:"w-3 h-3"})}),e.jsx(Q,{size:"sm",variant:"outline",className:"text-red-600 hover:bg-red-50",onClick:()=>v(T.id),children:e.jsx(cn,{className:"w-3 h-3"})})]})})]},T.id))})]})})})}),(s||i)&&e.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-3xl max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 p-6 flex items-center justify-between",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:i?"Edit Resource":"Add New Resource"}),e.jsx("button",{onClick:()=>{a(!1),o(null),y()},className:"w-8 h-8 rounded-full hover:bg-gray-100 flex items-center justify-center text-gray-500",children:e.jsx(ht,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Resource Name *"}),e.jsx("input",{type:"text",value:l.name,onChange:T=>c({...l,name:T.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:"e.g., Manicure Tables, Pedicure Chairs",required:!0})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category *"}),e.jsxs("select",{value:l.category,onChange:T=>c({...l,category:T.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",required:!0,children:[e.jsx("option",{value:"",children:"Select category"}),u.map(T=>e.jsx("option",{value:T,children:T},T))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Quantity *"}),e.jsx("input",{type:"number",min:"1",value:l.quantity,onChange:T=>c({...l,quantity:parseInt(T.target.value)||1}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",required:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),e.jsx("div",{className:"flex gap-3",children:["active","maintenance","inactive"].map(T=>e.jsx("button",{type:"button",onClick:()=>c({...l,status:T}),className:`flex-1 px-4 py-2 rounded-lg border-2 transition-all capitalize ${l.status===T?T==="active"?"border-green-500 bg-green-50 text-green-700":T==="maintenance"?"border-yellow-500 bg-yellow-50 text-yellow-700":"border-gray-500 bg-gray-50 text-gray-700":"border-gray-200 text-gray-600 hover:border-gray-300"}`,children:T},T))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Assigned Services"}),e.jsx("p",{className:"text-xs text-gray-500 mb-3",children:"Select which services require this resource"}),e.jsx("div",{className:"border border-gray-300 rounded-lg p-4 max-h-60 overflow-y-auto",children:e.jsx("div",{className:"grid md:grid-cols-2 gap-2",children:m.map(T=>e.jsxs("label",{className:"flex items-center gap-2 p-2 hover:bg-gray-50 rounded cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:l.assignedServices.includes(T),onChange:()=>j(T),className:"w-4 h-4 text-purple-600 rounded focus:ring-purple-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:T})]},T))})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes"}),e.jsx("textarea",{value:l.notes,onChange:T=>c({...l,notes:T.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:"Additional notes about this resource...",rows:3})]})]}),e.jsxs("div",{className:"sticky bottom-0 bg-gray-50 border-t border-gray-200 p-6 flex items-center justify-end gap-3",children:[e.jsx(Q,{variant:"outline",onClick:()=>{a(!1),o(null),y()},children:"Cancel"}),e.jsxs(Q,{onClick:i?x:p,disabled:!l.name||!l.category||l.quantity<1,className:"bg-purple-600 hover:bg-purple-700 text-white disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx(wK,{className:"w-4 h-4 mr-2"}),i?"Update Resource":"Add Resource"]})]})]})}),e.jsx(ne,{className:"bg-blue-50 border-blue-200",children:e.jsxs(ke,{className:"p-6",children:[e.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-3 flex items-center gap-2",children:[e.jsx(An,{className:"w-5 h-5 text-blue-600"}),"How Resource Management Works"]}),e.jsxs("div",{className:"space-y-2 text-sm text-gray-700",children:[e.jsxs("p",{children:[" ",e.jsx("strong",{children:"Prevents Double Booking:"})," System checks resource availability before accepting bookings"]}),e.jsxs("p",{children:[" ",e.jsx("strong",{children:"Service Assignment:"})," Each resource can be assigned to specific services"]}),e.jsxs("p",{children:[" ",e.jsx("strong",{children:"Real-time Availability:"})," Calendar shows only available slots based on resource capacity"]}),e.jsxs("p",{children:[" ",e.jsx("strong",{children:"Maintenance Mode:"})," Mark resources as unavailable temporarily for repairs"]}),e.jsxs("p",{children:[" ",e.jsx("strong",{children:"Multi-salon Support:"})," Each salon can have its own resource configuration"]})]})]})})]})}function cle({salonId:t,salonName:r,currentStripeAccountId:n,isStripeConnected:s,onConnect:a,onDisconnect:i}){const[o,l]=N.useState(!1),[c,u]=N.useState(!1),m=async()=>{l(!0);try{await new Promise(w=>setTimeout(w,1500)),a(),ve.success("Stripe account connected successfully! ")}catch{ve.error("Failed to connect Stripe account. Please try again.")}finally{l(!1)}},p=async()=>{if(confirm("Are you sure you want to disconnect your Stripe account? This will stop all payment processing.")){l(!0);try{await new Promise(w=>setTimeout(w,1e3)),i(),ve.success("Stripe account disconnected successfully")}catch{ve.error("Failed to disconnect Stripe account")}finally{l(!1)}}},x=async()=>{l(!0);try{await new Promise(w=>setTimeout(w,1e3)),ve.success("Account status refreshed")}catch{ve.error("Failed to refresh status")}finally{l(!1)}},v=()=>{n&&(navigator.clipboard.writeText(n),ve.success("Account ID copied to clipboard"))};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:" Stripe Payment Settings"}),e.jsx("p",{className:"text-gray-600",children:"Connect your own Stripe account to accept payments. You keep 100% of your revenue - we only charge for the platform subscription."})]}),e.jsx(ne,{className:`border-2 ${s?"border-green-200 bg-green-50":"border-yellow-200 bg-yellow-50"}`,children:e.jsx(ke,{className:"p-6",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center ${s?"bg-green-100":"bg-yellow-100"}`,children:s?e.jsx(zt,{className:"w-6 h-6 text-green-600"}):e.jsx(An,{className:"w-6 h-6 text-yellow-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:`font-bold mb-1 ${s?"text-green-900":"text-yellow-900"}`,children:s?"Stripe Connected ":"Stripe Not Connected"}),e.jsx("p",{className:`text-sm mb-3 ${s?"text-green-700":"text-yellow-700"}`,children:s?"Your salon is ready to accept online payments. Clients can pay with credit cards, debit cards, and digital wallets.":"Connect your Stripe account to start accepting online payments from clients."}),s&&n&&e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsxs("div",{className:"text-xs text-green-700",children:[e.jsx("span",{className:"font-medium",children:"Account ID:"})," ",c?e.jsx("span",{className:"font-mono",children:n}):e.jsx("span",{children:""})]}),e.jsx("button",{onClick:()=>u(!c),className:"text-green-600 hover:text-green-700 text-xs underline",children:c?"Hide":"Show"}),c&&e.jsx("button",{onClick:v,className:"text-green-600 hover:text-green-700",children:e.jsx(Ld,{className:"w-3 h-3"})})]}),e.jsx("div",{className:"flex gap-2",children:s?e.jsxs(e.Fragment,{children:[e.jsx(Q,{onClick:x,disabled:o,variant:"outline",size:"sm",children:o?e.jsx(KS,{className:"w-4 h-4 animate-spin"}):e.jsxs(e.Fragment,{children:[e.jsx(xn,{className:"w-4 h-4 mr-2"}),"Refresh Status"]})}),e.jsx(Q,{onClick:p,disabled:o,variant:"outline",size:"sm",className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:"Disconnect"})]}):e.jsx(Q,{onClick:m,disabled:o,className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white",children:o?e.jsxs(e.Fragment,{children:[e.jsx(KS,{className:"w-4 h-4 mr-2 animate-spin"}),"Connecting..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Wr,{className:"w-4 h-4 mr-2"}),"Connect Stripe Account"]})})})]})]})})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx(ne,{className:"border-none shadow-sm bg-gradient-to-br from-purple-50 to-white",children:e.jsxs(ke,{className:"p-6",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-purple-100 flex items-center justify-center mb-3",children:e.jsx(Wr,{className:"w-5 h-5 text-purple-600"})}),e.jsx("h4",{className:"font-bold text-gray-900 mb-2",children:"Your Own Account"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Connect your personal Stripe account. Money goes directly to you."})]})}),e.jsx(ne,{className:"border-none shadow-sm bg-gradient-to-br from-green-50 to-white",children:e.jsxs(ke,{className:"p-6",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-green-100 flex items-center justify-center mb-3",children:e.jsx(zt,{className:"w-5 h-5 text-green-600"})}),e.jsx("h4",{className:"font-bold text-gray-900 mb-2",children:"No Commission"}),e.jsx("p",{className:"text-sm text-gray-600",children:"You keep 100% of payments. Only Stripe's standard fees apply."})]})}),e.jsx(ne,{className:"border-none shadow-sm bg-gradient-to-br from-blue-50 to-white",children:e.jsxs(ke,{className:"p-6",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center mb-3",children:e.jsx(gG,{className:"w-5 h-5 text-blue-600"})}),e.jsx("h4",{className:"font-bold text-gray-900 mb-2",children:"Instant Payouts"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Manage payouts, refunds, and settings directly in your Stripe dashboard."})]})})]}),e.jsxs(ne,{className:"border-none shadow-sm",children:[e.jsx(Hr,{children:e.jsx("h3",{className:"font-bold text-gray-900",children:"How It Works"})}),e.jsx(ke,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex gap-4",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-purple-100 text-purple-600 flex items-center justify-center font-bold text-sm flex-shrink-0",children:"1"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:"Connect Your Stripe Account"}),e.jsx("p",{className:"text-sm text-gray-600",children:`Click "Connect Stripe Account" above. You'll be redirected to Stripe to create or connect your existing account. This takes about 2-3 minutes.`})]})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-purple-100 text-purple-600 flex items-center justify-center font-bold text-sm flex-shrink-0",children:"2"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:"Start Accepting Payments"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Once connected, your clients can pay online when booking. They can choose full payment, deposit, or pay at the salon."})]})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-purple-100 text-purple-600 flex items-center justify-center font-bold text-sm flex-shrink-0",children:"3"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:"Manage From Stripe Dashboard"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Access your Stripe dashboard anytime to view transactions, issue refunds, update banking info, and manage payouts."})]})]})]})})]}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex gap-3",children:[e.jsx(An,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-blue-900 mb-2",children:"Important Information"}),e.jsxs("ul",{className:"space-y-1 text-sm text-blue-800",children:[e.jsx("li",{children:" Stripe charges standard processing fees (~2.9% + 30 per transaction)"}),e.jsx("li",{children:" Katia does NOT take any commission from your payments"}),e.jsx("li",{children:" You need a valid business/personal bank account to receive payouts"}),e.jsx("li",{children:" Refunds can be processed directly from your Stripe dashboard"}),e.jsx("li",{children:" All payment data is securely handled by Stripe (PCI compliant)"})]})]})]})}),e.jsxs(ne,{className:"border-none shadow-sm",children:[e.jsx(Hr,{children:e.jsx("h3",{className:"font-bold text-gray-900",children:"Frequently Asked Questions"})}),e.jsxs(ke,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:"Do I need a Stripe account?"}),e.jsx("p",{className:"text-sm text-gray-600",children:"No, if you don't have one, you can create a new Stripe account during the connection process. It's free and takes just a few minutes."})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:"How much does it cost?"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Stripe charges 2.9% + 30 per successful transaction. Katia doesn't charge any commission - you only pay your monthly subscription fee."})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:"When do I receive payouts?"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Stripe typically transfers funds to your bank account within 2-7 business days. You can set up instant payouts in your Stripe dashboard (fees may apply)."})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:"Can I use my existing Stripe account?"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Yes! If you already have a Stripe account, you can connect it during the onboarding process."})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:"Is it safe?"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Absolutely. Stripe is one of the world's most trusted payment processors, used by millions of businesses. All payment data is encrypted and PCI compliant."})]})]})]}),e.jsx("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-purple-100 flex items-center justify-center flex-shrink-0",children:e.jsx(Wr,{className:"w-5 h-5 text-purple-600"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-purple-900 mb-1",children:"Need Help?"}),e.jsx("p",{className:"text-sm text-purple-800 mb-2",children:"If you have any questions about connecting your Stripe account or accepting payments, our support team is here to help!"}),e.jsx(Q,{variant:"outline",size:"sm",className:"border-purple-300 text-purple-700 hover:bg-purple-100",children:"Contact Support"})]})]})})]})}function dle({currentPolicies:t=[],onSave:r}){var c,u,m,p,x,v,w,y,j,S,C,P,T,_,k,M,$,B,F,H;const[n,s]=N.useState(t.length>0?t:[{id:"full",enabled:!0,type:"full"},{id:"partial",enabled:!0,type:"partial",percentage:20},{id:"on-arrival",enabled:!0,type:"on-arrival"}]),a=K=>{s(n.map(Z=>Z.id===K?{...Z,enabled:!Z.enabled}:Z))},i=(K,Z)=>{s(n.map(V=>V.id===K?{...V,percentage:Math.min(100,Math.max(1,Z))}:V))},o=()=>{if(!n.some(Z=>Z.enabled)){ve.error("Please enable at least one payment option");return}r(n),ve.success("Deposit settings saved successfully! ")},l=K=>{switch(K.type){case"full":return"Client pays 100% when booking online";case"partial":return`Client pays ${K.percentage}% deposit when booking online`;case"on-arrival":return"Client pays 100% at the salon (no online payment)";default:return""}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:" Payment & Deposit Options"}),e.jsx("p",{className:"text-gray-600",children:"Configure how clients can pay for their bookings. You can offer multiple payment options."})]}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex gap-3",children:[e.jsx(ux,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-blue-900 mb-1",children:"How It Works"}),e.jsx("p",{className:"text-sm text-blue-800",children:"When clients book online, they'll see the enabled payment options. They can choose their preferred method. Deposits help reduce no-shows and guarantee bookings."})]})]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(ne,{className:`border-2 transition-all ${(c=n.find(K=>K.id==="full"))!=null&&c.enabled?"border-purple-200 bg-purple-50":"border-gray-200 bg-white"}`,children:e.jsx(ke,{className:"p-6",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center ${(u=n.find(K=>K.id==="full"))!=null&&u.enabled?"bg-purple-100":"bg-gray-100"}`,children:e.jsx(Zt,{className:`w-6 h-6 ${(m=n.find(K=>K.id==="full"))!=null&&m.enabled?"text-purple-600":"text-gray-400"}`})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"font-bold text-gray-900 flex items-center gap-2",children:["Full Payment (100%)",((p=n.find(K=>K.id==="full"))==null?void 0:p.enabled)&&e.jsx("span",{className:"text-xs px-2 py-1 bg-green-100 text-green-700 rounded-full",children:"Enabled"})]}),e.jsx("p",{className:"text-sm text-gray-600",children:l(n.find(K=>K.id==="full"))})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:(x=n.find(K=>K.id==="full"))==null?void 0:x.enabled,onChange:()=>a("full"),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-purple-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-purple-600"})]})]}),e.jsxs("div",{className:"bg-white rounded-lg p-3 border border-purple-200",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Example booking: AED 300"}),e.jsx("span",{className:"font-semibold text-purple-600",children:"Pays: AED 300"})]}),e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:" Best for: Guaranteeing appointments, reducing no-shows"})]})]})]})})}),e.jsx(ne,{className:`border-2 transition-all ${(v=n.find(K=>K.id==="partial"))!=null&&v.enabled?"border-blue-200 bg-blue-50":"border-gray-200 bg-white"}`,children:e.jsx(ke,{className:"p-6",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center ${(w=n.find(K=>K.id==="partial"))!=null&&w.enabled?"bg-blue-100":"bg-gray-100"}`,children:e.jsx(Zt,{className:`w-6 h-6 ${(y=n.find(K=>K.id==="partial"))!=null&&y.enabled?"text-blue-600":"text-gray-400"}`})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"font-bold text-gray-900 flex items-center gap-2",children:["Partial Payment (Deposit)",((j=n.find(K=>K.id==="partial"))==null?void 0:j.enabled)&&e.jsx("span",{className:"text-xs px-2 py-1 bg-green-100 text-green-700 rounded-full",children:"Enabled"})]}),e.jsx("p",{className:"text-sm text-gray-600",children:l(n.find(K=>K.id==="partial"))})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:(S=n.find(K=>K.id==="partial"))==null?void 0:S.enabled,onChange:()=>a("partial"),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),((C=n.find(K=>K.id==="partial"))==null?void 0:C.enabled)&&e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Deposit Percentage"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(He,{type:"number",min:"1",max:"100",value:((P=n.find(K=>K.id==="partial"))==null?void 0:P.percentage)||20,onChange:K=>i("partial",parseInt(K.target.value)||20),className:"w-24"}),e.jsx("span",{className:"text-gray-600",children:"%"}),e.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all",style:{width:`${((T=n.find(K=>K.id==="partial"))==null?void 0:T.percentage)||20}%`}})})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Common values: 20%, 30%, 50%"})]}),e.jsxs("div",{className:"bg-white rounded-lg p-3 border border-blue-200",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm mb-1",children:[e.jsx("span",{className:"text-gray-600",children:"Example booking: AED 300"}),e.jsxs("span",{className:"font-semibold text-blue-600",children:["Pays: AED ",Math.round(300*(((_=n.find(K=>K.id==="partial"))==null?void 0:_.percentage)||20)/100)]})]}),e.jsxs("div",{className:"text-xs text-gray-500",children:["Remaining AED ",300-Math.round(300*(((k=n.find(K=>K.id==="partial"))==null?void 0:k.percentage)||20)/100)," paid at salon"]}),e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:" Best for: Securing bookings while keeping flexibility"})]})]})]})})}),e.jsx(ne,{className:`border-2 transition-all ${(M=n.find(K=>K.id==="on-arrival"))!=null&&M.enabled?"border-green-200 bg-green-50":"border-gray-200 bg-white"}`,children:e.jsx(ke,{className:"p-6",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center ${($=n.find(K=>K.id==="on-arrival"))!=null&&$.enabled?"bg-green-100":"bg-gray-100"}`,children:e.jsx(Zt,{className:`w-6 h-6 ${(B=n.find(K=>K.id==="on-arrival"))!=null&&B.enabled?"text-green-600":"text-gray-400"}`})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"font-bold text-gray-900 flex items-center gap-2",children:["Pay at Salon (0%)",((F=n.find(K=>K.id==="on-arrival"))==null?void 0:F.enabled)&&e.jsx("span",{className:"text-xs px-2 py-1 bg-green-100 text-green-700 rounded-full",children:"Enabled"})]}),e.jsx("p",{className:"text-sm text-gray-600",children:l(n.find(K=>K.id==="on-arrival"))})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:(H=n.find(K=>K.id==="on-arrival"))==null?void 0:H.enabled,onChange:()=>a("on-arrival"),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-green-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-green-600"})]})]}),e.jsxs("div",{className:"bg-white rounded-lg p-3 border border-green-200",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Example booking: AED 300"}),e.jsx("span",{className:"font-semibold text-green-600",children:"Pays: AED 0 online"})]}),e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Full amount AED 300 paid at salon"}),e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:" Higher risk of no-shows"})]})]})]})})})]}),e.jsxs(ne,{className:"border-none shadow-sm bg-gradient-to-br from-purple-50 to-white",children:[e.jsxs(Hr,{children:[e.jsx("h3",{className:"font-bold text-gray-900",children:"Client View Preview"}),e.jsx("p",{className:"text-sm text-gray-600",children:"This is what clients will see when booking"})]}),e.jsx(ke,{children:e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Choose Payment Method"}),e.jsx("div",{className:"space-y-2",children:n.filter(K=>K.enabled).map(K=>e.jsxs("div",{className:"flex items-center justify-between p-3 border border-gray-200 rounded-lg hover:border-purple-300 cursor-pointer",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("input",{type:"radio",name:"payment-preview",className:"w-4 h-4 text-purple-600"}),e.jsxs("div",{children:[e.jsxs("div",{className:"font-medium text-gray-900",children:[K.type==="full"&&"Pay Full Amount Now",K.type==="partial"&&`Pay ${K.percentage}% Deposit Now`,K.type==="on-arrival"&&"Pay at Salon"]}),e.jsxs("div",{className:"text-xs text-gray-500",children:[K.type==="full"&&"Secure your booking with full payment",K.type==="partial"&&`Pay ${K.percentage}% now, rest at salon`,K.type==="on-arrival"&&"No online payment required"]})]})]}),K.type==="full"&&e.jsx("span",{className:"text-purple-600 font-semibold",children:"AED 300"}),K.type==="partial"&&e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-purple-600 font-semibold",children:["AED ",Math.round(300*(K.percentage||20)/100)]}),e.jsxs("div",{className:"text-xs text-gray-500",children:["+AED ",300-Math.round(300*(K.percentage||20)/100)," later"]})]}),K.type==="on-arrival"&&e.jsx("span",{className:"text-green-600 font-semibold",children:"Free booking"})]},K.id))})]})})]}),e.jsx("div",{className:"flex justify-end",children:e.jsxs(Q,{onClick:o,className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white",children:[e.jsx(or,{className:"w-4 h-4 mr-2"}),"Save Payment Settings"]})})]})}function ule({salonId:t,initialIsPublished:r=!1,onPublishChange:n}){const[s,a]=N.useState("general"),[i,o]=N.useState("Glamour Downtown"),[l,c]=N.useState("+1 234 567 8900"),[u,m]=N.useState("234 567 8900"),[p,x]=N.useState("+1"),[v,w]=N.useState("US"),[y,j]=N.useState("123 Main St"),[S,C]=N.useState("Tell clients about your salon"),[P,T]=N.useState(r),[_,k]=N.useState(!1),[M,$]=N.useState([]),[B,F]=N.useState(!1),[H,K]=N.useState(!1),[Z,V]=N.useState(null),W=N.useRef(null),[G,O]=N.useState(!1),[R,D]=N.useState(["https://images.unsplash.com/photo-1560066984-138dadb4c035?w=800","https://images.unsplash.com/photo-1522337360788-8b13dee7a37e?w=800","https://images.unsplash.com/photo-1633681926022-84c23e8cb2d6?w=800","https://images.unsplash.com/photo-1562322140-8baeececf3df?w=800"]),[I,q]=N.useState("https://images.unsplash.com/photo-1681965823525-b684fb97e9fe?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxsdXh1cnklMjBzYWxvbiUyMGludGVyaW9yfGVufDF8fHx8MTc2NjMzMDkwM3ww&ixlib=rb-4.1.0&q=80&w=1080"),[J,ie]=N.useState(null),ee=N.useRef(null),ae=N.useRef(null),oe=N.useRef(null),te=[{code:"US",flag:"",name:"United States",dialCode:"+1"},{code:"RU",flag:"",name:"Russia",dialCode:"+7"},{code:"UA",flag:"",name:"Ukraine",dialCode:"+380"},{code:"GB",flag:"",name:"United Kingdom",dialCode:"+44"},{code:"DE",flag:"",name:"Germany",dialCode:"+49"},{code:"FR",flag:"",name:"France",dialCode:"+33"},{code:"IT",flag:"",name:"Italy",dialCode:"+39"},{code:"ES",flag:"",name:"Spain",dialCode:"+34"},{code:"PL",flag:"",name:"Poland",dialCode:"+48"},{code:"CA",flag:"",name:"Canada",dialCode:"+1"},{code:"AU",flag:"",name:"Australia",dialCode:"+61"},{code:"BR",flag:"",name:"Brazil",dialCode:"+55"},{code:"MX",flag:"",name:"Mexico",dialCode:"+52"},{code:"JP",flag:"",name:"Japan",dialCode:"+81"},{code:"CN",flag:"",name:"China",dialCode:"+86"},{code:"IN",flag:"",name:"India",dialCode:"+91"},{code:"KR",flag:"",name:"South Korea",dialCode:"+82"},{code:"TR",flag:"",name:"Turkey",dialCode:"+90"},{code:"SA",flag:"",name:"Saudi Arabia",dialCode:"+966"},{code:"AE",flag:"",name:"UAE",dialCode:"+971"},{code:"IL",flag:"",name:"Israel",dialCode:"+972"},{code:"EG",flag:"",name:"Egypt",dialCode:"+20"},{code:"ZA",flag:"",name:"South Africa",dialCode:"+27"},{code:"AR",flag:"",name:"Argentina",dialCode:"+54"},{code:"CL",flag:"",name:"Chile",dialCode:"+56"},{code:"CO",flag:"",name:"Colombia",dialCode:"+57"},{code:"PE",flag:"",name:"Peru",dialCode:"+51"},{code:"VE",flag:"",name:"Venezuela",dialCode:"+58"},{code:"NL",flag:"",name:"Netherlands",dialCode:"+31"},{code:"BE",flag:"",name:"Belgium",dialCode:"+32"},{code:"AT",flag:"",name:"Austria",dialCode:"+43"},{code:"CH",flag:"",name:"Switzerland",dialCode:"+41"},{code:"SE",flag:"",name:"Sweden",dialCode:"+46"},{code:"NO",flag:"",name:"Norway",dialCode:"+47"},{code:"DK",flag:"",name:"Denmark",dialCode:"+45"},{code:"FI",flag:"",name:"Finland",dialCode:"+358"},{code:"PT",flag:"",name:"Portugal",dialCode:"+351"},{code:"GR",flag:"",name:"Greece",dialCode:"+30"},{code:"CZ",flag:"",name:"Czech Republic",dialCode:"+420"},{code:"RO",flag:"",name:"Romania",dialCode:"+40"},{code:"HU",flag:"",name:"Hungary",dialCode:"+36"},{code:"BG",flag:"",name:"Bulgaria",dialCode:"+359"},{code:"BY",flag:"",name:"Belarus",dialCode:"+375"},{code:"KZ",flag:"",name:"Kazakhstan",dialCode:"+7"},{code:"UZ",flag:"",name:"Uzbekistan",dialCode:"+998"},{code:"GE",flag:"",name:"Georgia",dialCode:"+995"},{code:"AM",flag:"",name:"Armenia",dialCode:"+374"},{code:"AZ",flag:"",name:"Azerbaijan",dialCode:"+994"},{code:"TH",flag:"",name:"Thailand",dialCode:"+66"},{code:"VN",flag:"",name:"Vietnam",dialCode:"+84"},{code:"PH",flag:"",name:"Philippines",dialCode:"+63"},{code:"ID",flag:"",name:"Indonesia",dialCode:"+62"},{code:"MY",flag:"",name:"Malaysia",dialCode:"+60"},{code:"SG",flag:"",name:"Singapore",dialCode:"+65"},{code:"NZ",flag:"",name:"New Zealand",dialCode:"+64"},{code:"IE",flag:"",name:"Ireland",dialCode:"+353"},{code:"LV",flag:"",name:"Latvia",dialCode:"+371"},{code:"LT",flag:"",name:"Lithuania",dialCode:"+370"},{code:"EE",flag:"",name:"Estonia",dialCode:"+372"},{code:"SK",flag:"",name:"Slovakia",dialCode:"+421"},{code:"SI",flag:"",name:"Slovenia",dialCode:"+386"},{code:"HR",flag:"",name:"Croatia",dialCode:"+385"},{code:"RS",flag:"",name:"Serbia",dialCode:"+381"},{code:"BA",flag:"",name:"Bosnia",dialCode:"+387"},{code:"ME",flag:"",name:"Montenegro",dialCode:"+382"},{code:"MK",flag:"",name:"North Macedonia",dialCode:"+389"},{code:"AL",flag:"",name:"Albania",dialCode:"+355"},{code:"MD",flag:"",name:"Moldova",dialCode:"+373"}];te.find(De=>De.code===v)||te[0];const ue=De=>{const Ge=te.find(Je=>Je.code===De);Ge&&(w(De),x(Ge.dialCode),c(`${Ge.dialCode} ${u}`))},de=De=>{m(De),c(`${p} ${De}`)},fe=async De=>{if(De.length<3){$([]),F(!1);return}K(!0);try{const Ge=await fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(De)}&limit=5&addressdetails=1`,{headers:{"Accept-Language":"en"}});if(!Ge.ok)throw new Error("Failed to search address");const Je=await Ge.json();$(Je),F(Je.length>0)}catch(Ge){console.error("Error searching address:",Ge),toast.error("Failed to search address. Please try again.")}finally{K(!1)}},ye=De=>{j(De),W.current&&clearTimeout(W.current),W.current=setTimeout(()=>{fe(De)},500)},he=De=>{j(De.display_name),V({lat:parseFloat(De.lat),lon:parseFloat(De.lon)}),F(!1),toast.success(" Location saved! It will be shown on your public page.")},Ce=async()=>{if(!t){toast.error("Salon ID not found");return}if(!i.trim()){toast.error("Please enter salon name");return}if(!l.trim()){toast.error("Please enter phone number");return}if(!y.trim()){toast.error("Please enter address");return}O(!0);try{const De=`https://${projectId}.supabase.co/functions/v1/make-server-3e5c72fb/salon/${t}/settings`;console.log("Saving settings to:",De);const Ge=await fetch(De,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${publicAnonKey}`},body:JSON.stringify({name:i,phone:l,address:y,description:S,coordinates:Z,logo:J,cover:I,gallery:R,workingHours:Se})});if(console.log("Response status:",Ge.status),!Ge.ok){const Jt=await Ge.json();throw console.error("Response error:",Jt),new Error(Jt.error||`HTTP error! status: ${Ge.status}`)}const Je=await Ge.json();console.log("Response data:",Je),toast.success(" All changes saved successfully!")}catch(De){console.error("Error saving salon settings:",De),toast.error(`Failed to save: ${De.message}`)}finally{O(!1)}},[Se,$e]=N.useState([{day:"Mon",enabled:!0,start:"09:00",end:"18:00"},{day:"Tue",enabled:!0,start:"09:00",end:"18:00"},{day:"Wed",enabled:!0,start:"09:00",end:"18:00"},{day:"Thu",enabled:!0,start:"09:00",end:"18:00"},{day:"Fri",enabled:!0,start:"09:00",end:"18:00"},{day:"Sat",enabled:!1,start:"09:00",end:"18:00"},{day:"Sun",enabled:!1,start:"09:00",end:"18:00"}]),qe=De=>{$e(Ge=>Ge.map((Je,Jt)=>Jt===De?{...Je,enabled:!Je.enabled}:Je))},Fe=(De,Ge,Je)=>{$e(Jt=>Jt.map((bt,kr)=>kr===De?{...bt,[Ge]:Je}:bt))},it=async De=>{if(!t){toast.error("Salon ID not found");return}k(!0);try{const Ge=await fetch(`https://${projectId}.supabase.co/functions/v1/make-server-3e5c72fb/salon/${t}/publish`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${publicAnonKey}`},body:JSON.stringify({isPublished:De})}),Je=await Ge.json();if(!Ge.ok)throw new Error(Je.error||"Failed to update publication status");T(De),n==null||n(De),toast.success(De?" Salon published! Clients can now find and book your services.":"Salon unpublished. It will not be visible to clients.")}catch(Ge){console.error("Error updating publication status:",Ge),toast.error("Failed to update publication status. Please try again.")}finally{k(!1)}},rt=()=>{var De;(De=ee.current)==null||De.click()},yt=De=>{const Ge=De.target.files;!Ge||Ge.length===0||(Array.from(Ge).forEach(Je=>{if(!Je.type.startsWith("image/")){toast.error(`${Je.name} is not an image file`);return}const Jt=5*1024*1024;if(Je.size>Jt){toast.error(`${Je.name} is too large. Max size is 5MB`);return}const bt=new FileReader;bt.onload=kr=>{var yr;const dn=(yr=kr.target)==null?void 0:yr.result;D(js=>[...js,dn]),toast.success(` ${Je.name} added to gallery`)},bt.onerror=()=>{toast.error(`Failed to read ${Je.name}`)},bt.readAsDataURL(Je)}),De.target.value="")},Pt=De=>{D(Ge=>Ge.filter((Je,Jt)=>Jt!==De)),toast.success("Photo removed")},Et=()=>{var De;(De=ae.current)==null||De.click()},Te=De=>{const Ge=De.target.files;!Ge||Ge.length===0||(Array.from(Ge).forEach(Je=>{if(!Je.type.startsWith("image/")){toast.error(`${Je.name} is not an image file`);return}const Jt=5*1024*1024;if(Je.size>Jt){toast.error(`${Je.name} is too large. Max size is 5MB`);return}const bt=new FileReader;bt.onload=kr=>{var yr;const dn=(yr=kr.target)==null?void 0:yr.result;q(dn),toast.success(` ${Je.name} set as cover`)},bt.onerror=()=>{toast.error(`Failed to read ${Je.name}`)},bt.readAsDataURL(Je)}),De.target.value="")},$t=()=>{var De;(De=oe.current)==null||De.click()},Dt=De=>{const Ge=De.target.files;!Ge||Ge.length===0||(Array.from(Ge).forEach(Je=>{if(!Je.type.startsWith("image/")){toast.error(`${Je.name} is not an image file`);return}const Jt=5*1024*1024;if(Je.size>Jt){toast.error(`${Je.name} is too large. Max size is 5MB`);return}const bt=new FileReader;bt.onload=kr=>{var yr;const dn=(yr=kr.target)==null?void 0:yr.result;ie(dn),toast.success(` ${Je.name} set as logo`)},bt.onerror=()=>{toast.error(`Failed to read ${Je.name}`)},bt.readAsDataURL(Je)}),De.target.value="")};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex gap-2 border-b border-gray-200",children:[e.jsxs("button",{onClick:()=>a("general"),className:`px-6 py-3 font-medium transition-all flex items-center gap-2 ${s==="general"?"border-b-2 border-purple-600 text-purple-600":"text-gray-600 hover:text-gray-900"}`,children:[e.jsx(Ec,{className:"w-4 h-4"}),"General Settings"]}),e.jsxs("button",{onClick:()=>a("resources"),className:`px-6 py-3 font-medium transition-all flex items-center gap-2 ${s==="resources"?"border-b-2 border-purple-600 text-purple-600":"text-gray-600 hover:text-gray-900"}`,children:[e.jsx(j0,{className:"w-4 h-4"}),"Resource Management"]}),e.jsxs("button",{onClick:()=>a("payments"),className:`px-6 py-3 font-medium transition-all flex items-center gap-2 ${s==="payments"?"border-b-2 border-purple-600 text-purple-600":"text-gray-600 hover:text-gray-900"}`,children:[e.jsx(Wr,{className:"w-4 h-4"}),"Payment Settings"]}),e.jsxs("button",{onClick:()=>a("deposits"),className:`px-6 py-3 font-medium transition-all flex items-center gap-2 ${s==="deposits"?"border-b-2 border-purple-600 text-purple-600":"text-gray-600 hover:text-gray-900"}`,children:[e.jsx(Zt,{className:"w-4 h-4"}),"Deposit Settings"]})]}),s==="general"?e.jsxs("div",{className:"grid lg:grid-cols-[320px_1fr] gap-6",children:[e.jsx("input",{ref:ee,type:"file",accept:"image/*",multiple:!0,onChange:yt,className:"hidden"}),e.jsx("input",{ref:ae,type:"file",accept:"image/*",onChange:Te,className:"hidden"}),e.jsx("input",{ref:oe,type:"file",accept:"image/*",onChange:Dt,className:"hidden"}),e.jsx("div",{className:"fixed bottom-6 right-6 z-30 lg:right-8",children:e.jsx(Q,{onClick:Ce,disabled:G,className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white px-8 py-6 text-lg font-semibold shadow-2xl hover:shadow-purple-500/50 transition-all duration-300 transform hover:scale-105",children:G?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin h-5 w-5 border-2 border-white border-t-transparent rounded-full mr-3"}),"Saving..."]}):e.jsx(e.Fragment,{children:" Save All Changes"})})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-1",children:"Salon Settings"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Manage your salon profile"})]}),e.jsx(Card,{className:"border-2 border-purple-200 bg-gradient-to-br from-purple-50 to-pink-50",children:e.jsx(CardContent,{className:"p-6",children:e.jsx("div",{className:"flex items-start gap-4",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[P?e.jsx(Rr,{className:"w-5 h-5 text-green-600"}):e.jsx(GS,{className:"w-5 h-5 text-gray-400"}),e.jsx("h3",{className:"font-bold text-gray-900",children:P?"Salon Published":"Salon Not Published"})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:P?"Your salon is visible to clients and accepting bookings.":"Publish your salon when you're ready to accept bookings. Make sure to add services first."}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Switch,{checked:P,onCheckedChange:it,disabled:_,className:"data-[state=checked]:bg-green-600"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:P?"Published":"Unpublished"})]})]})})})}),e.jsx(Card,{className:"border-none shadow-sm",children:e.jsx(CardContent,{className:"p-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-sm font-medium text-gray-700 mb-4",children:"Logo"}),e.jsx("div",{className:"w-32 h-32 mx-auto rounded-full bg-gray-100 flex items-center justify-center mb-4",children:J?e.jsx("img",{src:J,alt:"Salon logo",className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-24 h-24 rounded-full bg-gradient-to-br from-purple-100 to-pink-100 flex items-center justify-center",children:e.jsx("span",{className:"text-4xl font-bold text-purple-600",children:"G"})})}),e.jsxs(Q,{onClick:$t,variant:"outline",size:"sm",className:"gap-2",children:[e.jsx(ss,{className:"w-4 h-4"}),"Upload Logo"]})]})})}),e.jsx(Card,{className:"border-none shadow-sm",children:e.jsx(CardContent,{className:"p-6",children:e.jsxs("div",{children:[e.jsx("div",{className:"relative h-40 rounded-lg overflow-hidden bg-gray-100 mb-4",children:e.jsx("img",{src:I,alt:"Salon cover",className:"w-full h-full object-cover"})}),e.jsxs(Q,{onClick:Et,variant:"outline",size:"sm",className:"w-full gap-2",children:[e.jsx(ss,{className:"w-4 h-4"}),"Upload Cover"]})]})})})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsx(Card,{className:"border-none shadow-sm",children:e.jsxs(CardContent,{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-6",children:"General Information"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6 mb-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Salon Name"}),e.jsx("input",{type:"text",value:i,onChange:De=>o(De.target.value),className:"w-full px-4 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-purple-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Phone"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("div",{className:"relative",children:[e.jsx("select",{value:v,onChange:De=>ue(De.target.value),className:"appearance-none pl-3 pr-8 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-purple-500 bg-white cursor-pointer",style:{minWidth:"110px"},children:te.map(De=>e.jsxs("option",{value:De.code,children:[De.flag," ",De.dialCode]},De.code))}),e.jsx("div",{className:"absolute right-2 top-1/2 transform -translate-y-1/2 pointer-events-none text-gray-400",children:""})]}),e.jsx("input",{type:"tel",value:u,onChange:De=>de(De.target.value),placeholder:"234 567 8900",className:"flex-1 px-4 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-purple-500"})]})]})]}),e.jsxs("div",{className:"mb-6 relative",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Address"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",value:y,onChange:De=>ye(De.target.value),onFocus:()=>y.length>=3&&F(M.length>0),onBlur:()=>setTimeout(()=>F(!1),200),placeholder:"Start typing your salon address...",className:"w-full px-4 py-2 pr-10 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-purple-500"}),H&&e.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:e.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-purple-600 border-t-transparent rounded-full"})}),Z&&!H&&e.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-fuchsia-600",children:""})]}),B&&M.length>0&&e.jsx("div",{className:"absolute z-20 mt-1 w-full bg-white border border-purple-200 rounded-lg shadow-xl max-h-64 overflow-y-auto",children:M.map((De,Ge)=>e.jsx("button",{type:"button",className:"w-full px-4 py-3 text-left hover:bg-gradient-to-r hover:from-purple-50 hover:to-pink-50 transition-all border-b border-gray-100 last:border-b-0",onClick:()=>he(De),children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("span",{className:"text-fuchsia-600 mt-1",children:""}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm text-gray-900 font-medium truncate",children:De.display_name.split(",")[0]}),e.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:De.display_name})]})]})},Ge))}),Z&&e.jsxs("div",{className:"mt-2 inline-flex items-center gap-2 px-3 py-1.5 bg-gradient-to-r from-purple-100 to-pink-100 rounded-full",children:[e.jsx("span",{className:"text-fuchsia-600",children:""}),e.jsxs("span",{className:"text-xs font-medium text-gray-700",children:["Location saved  Lat: ",Z.lat.toFixed(4),", Lon: ",Z.lon.toFixed(4)]})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Description"}),e.jsx("textarea",{value:S,onChange:De=>C(De.target.value),rows:3,className:"w-full px-4 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-purple-500 resize-none",placeholder:"Tell clients about your salon"})]})]})}),e.jsx(Card,{className:"border-none shadow-sm",children:e.jsxs(CardContent,{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-6",children:"Working Hours"}),e.jsx("div",{className:"space-y-4",children:Se.map((De,Ge)=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3 w-24",children:[e.jsx("button",{onClick:()=>qe(Ge),className:`relative w-12 h-6 rounded-full transition-colors ${De.enabled?"bg-gray-900":"bg-gray-300"}`,children:e.jsx("div",{className:`absolute top-1 w-4 h-4 bg-white rounded-full transition-transform ${De.enabled?"translate-x-7":"translate-x-1"}`})}),e.jsx("span",{className:`text-sm font-medium ${De.enabled?"text-gray-900":"text-gray-400"}`,children:De.day})]}),De.enabled?e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("select",{value:De.start,onChange:Je=>Fe(Ge,"start",Je.target.value),className:"px-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-purple-500",children:Array.from({length:24},(Je,Jt)=>{const bt=`${String(Jt).padStart(2,"0")}:00`;return e.jsx("option",{value:bt,children:bt},bt)})}),e.jsx("span",{className:"text-gray-500",children:"-"}),e.jsx("select",{value:De.end,onChange:Je=>Fe(Ge,"end",Je.target.value),className:"px-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-purple-500",children:Array.from({length:24},(Je,Jt)=>{const bt=`${String(Jt).padStart(2,"0")}:00`;return e.jsx("option",{value:bt,children:bt},bt)})})]}):e.jsx("span",{className:"text-sm text-gray-400",children:"Closed"})]},De.day))})]})}),e.jsx(Card,{className:"border-none shadow-sm",children:e.jsxs(CardContent,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Photo Gallery"}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Showcase your salon to attract clients"})]}),e.jsxs(Q,{onClick:rt,className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white gap-2",children:[e.jsx(ss,{className:"w-4 h-4"}),"Add Photo"]})]}),R.length>0?e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:R.map((De,Ge)=>e.jsxs("div",{className:"relative group aspect-square rounded-lg overflow-hidden bg-gray-100",children:[e.jsx("img",{src:De,alt:`Gallery ${Ge+1}`,className:"w-full h-full object-cover"}),e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-40 transition-all duration-200 flex items-center justify-center",children:e.jsx("button",{onClick:()=>Pt(Ge),className:"opacity-0 group-hover:opacity-100 transition-opacity bg-red-500 hover:bg-red-600 text-white rounded-full p-2 transform hover:scale-110",children:e.jsx(ht,{className:"w-5 h-5"})})}),e.jsxs("div",{className:"absolute top-2 left-2 bg-black bg-opacity-60 text-white text-xs px-2 py-1 rounded",children:["#",Ge+1]})]},Ge))}):e.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-lg border-2 border-dashed border-gray-200",children:[e.jsx(No,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"No photos yet"}),e.jsxs(Q,{onClick:rt,variant:"outline",className:"gap-2",children:[e.jsx(ss,{className:"w-4 h-4"}),"Upload First Photo"]})]}),R.length>0&&e.jsxs("div",{className:"mt-4 flex items-center justify-between text-sm",children:[e.jsxs("span",{className:"text-gray-600",children:[R.length," ",R.length===1?"photo":"photos"]}),e.jsx("span",{className:"text-gray-500",children:" Add at least 5 photos to attract more clients"})]})]})})]})]}):s==="resources"?e.jsx(lle,{userRole:"owner"}):s==="payments"?e.jsx(cle,{salonId:t||"",salonName:i,currentStripeAccountId:void 0,isStripeConnected:!1,onConnect:()=>toast.success("Stripe connected!"),onDisconnect:()=>toast.success("Stripe disconnected")}):e.jsx(dle,{currentPolicies:[],onSave:De=>{console.log("Saving deposit policies:",De),toast.success("Deposit settings saved!")}})]})}function hle(){const[t,r]=N.useState(!0),[n,s]=N.useState(!0),[a,i]=N.useState("Friendly & Casual "),[o,l]=N.useState(5),[c,u]=N.useState(""),m=()=>{switch(a){case"Friendly & Casual ":return"Hello!  I'm the AI assistant for Glamour Salon. How can I help you today?";case"Professional & Formal ":return"Good day. I am the automated assistant for Glamour Salon. How may I assist you today?";case"Warm & Welcoming ":return"Welcome!  I'm so happy to help you at Glamour Salon. What can I do for you today?";case"Enthusiastic & Energetic ":return"Hey there!  Super excited to help you at Glamour Salon! What brings you here today? ";default:return"Hello!  I'm the AI assistant for Glamour Salon. How can I help you today?"}},p=()=>{switch(a){case"Friendly & Casual ":return"Let me check that for you!  Yes, we have openings at 10:00 AM and 2:00 PM with Alice. Which one works best? ";case"Professional & Formal ":return"I have verified our availability. We have two appointments available: 10:00 AM and 2:00 PM with Alice. Which time would you prefer?";case"Warm & Welcoming ":return"I'd love to help you with that!  We have wonderful slots at 10:00 AM and 2:00 PM with Alice. Which time feels right for you? ";case"Enthusiastic & Energetic ":return"Great news!  We've got AMAZING times for you - 10:00 AM or 2:00 PM with Alice! Both are fantastic! Which one gets you more excited? ";default:return"Let me check that for you!  Yes, we have openings at 10:00 AM and 2:00 PM with Alice. Which one works best? "}},x=[{id:1,sender:"ai",text:m()},{id:2,sender:"user",text:p(),bubble:!0},{id:3,sender:"hint",text:'Try changing the "Tone" setting on the left!'}];return e.jsxs("div",{className:"grid lg:grid-cols-[400px_1fr] gap-6",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-purple-100 flex items-center justify-center",children:e.jsx(Mi,{className:"w-5 h-5 text-purple-600"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"AI Configuration"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Customize your AI assistant's behavior"})]})]}),e.jsx(ne,{className:"border-none shadow-sm",children:e.jsxs(ke,{className:"p-6 space-y-6",children:[e.jsx("div",{children:e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-bold text-gray-900",children:"Enable AI Assistant"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Allow AI to handle incoming chats"})]}),e.jsx("button",{onClick:()=>r(!t),className:`relative w-12 h-6 rounded-full transition-colors ${t?"bg-gray-900":"bg-gray-300"}`,children:e.jsx("div",{className:`absolute top-1 w-4 h-4 bg-white rounded-full transition-transform ${t?"translate-x-7":"translate-x-1"}`})})]})}),e.jsx("div",{className:"border-t border-gray-200"}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-bold text-gray-900 mb-3 block",children:"Communication Tone"}),e.jsxs("select",{value:a,onChange:v=>i(v.target.value),className:"w-full px-4 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-purple-500",children:[e.jsx("option",{children:"Friendly & Casual "}),e.jsx("option",{children:"Professional & Formal "}),e.jsx("option",{children:"Warm & Welcoming "}),e.jsx("option",{children:"Enthusiastic & Energetic "})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("label",{className:"text-sm font-bold text-gray-900",children:"Response Delay (5s)"}),e.jsx("button",{className:"text-gray-400 hover:text-gray-600",children:e.jsx(ux,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"range",min:"1",max:"10",value:o,onChange:v=>l(Number(v.target.value)),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-purple-600"}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-2",children:[e.jsx("span",{children:"1s"}),e.jsx("span",{children:"10s"})]})]})]}),e.jsx("div",{className:"border-t border-gray-200"}),e.jsx("div",{children:e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-bold text-gray-900",children:"Auto-Confirm Bookings"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Automatically approve available slots"})]}),e.jsx("button",{onClick:()=>s(!n),className:`relative w-12 h-6 rounded-full transition-colors ${n?"bg-gray-900":"bg-gray-300"}`,children:e.jsx("div",{className:`absolute top-1 w-4 h-4 bg-white rounded-full transition-transform ${n?"translate-x-7":"translate-x-1"}`})})]})})]})})]}),e.jsx(ne,{className:"border-none shadow-sm",children:e.jsxs(ke,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 pb-4 border-b border-gray-200 mb-6",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-purple-100 to-pink-100 flex items-center justify-center",children:e.jsx(Mi,{className:"w-6 h-6 text-purple-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-bold text-gray-900",children:"Salon Assistant"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),e.jsx("span",{className:"text-sm text-green-600",children:"Online"})]})]})]}),e.jsx("div",{className:"space-y-4 mb-6 min-h-[400px]",children:x.map(v=>e.jsxs("div",{children:[v.sender==="ai"&&e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-purple-100 to-pink-100 flex items-center justify-center flex-shrink-0",children:e.jsx(Mi,{className:"w-4 h-4 text-purple-600"})}),e.jsx("div",{className:"bg-gray-100 rounded-2xl rounded-tl-sm px-4 py-3 max-w-md",children:e.jsx("p",{className:"text-sm text-gray-900",children:v.text})})]}),v.sender==="user"&&v.bubble&&e.jsx("div",{className:"flex items-start gap-3 justify-end",children:e.jsx("div",{className:"bg-purple-600 rounded-2xl rounded-tr-sm px-4 py-3 max-w-md",children:e.jsx("p",{className:"text-sm text-white",children:v.text})})}),v.sender==="hint"&&e.jsx("div",{className:"flex justify-center",children:e.jsx("div",{className:"inline-block bg-purple-100 text-purple-600 rounded-full px-4 py-2 text-xs font-medium",children:v.text})})]},v.id))}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",value:c,onChange:v=>u(v.target.value),placeholder:"Type a message",className:"w-full px-4 py-3 pr-12 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-purple-500"}),e.jsx("button",{className:"absolute right-3 top-1/2 -translate-y-1/2 w-8 h-8 bg-gray-500 hover:bg-gray-600 rounded-lg flex items-center justify-center text-white",children:e.jsx(ys,{className:"w-4 h-4"})})]}),e.jsx("p",{className:"text-xs text-gray-400 text-center mt-3",children:"Chat preview mode"})]})})]})}function mle({userRole:t="owner"}){const{formatPrice:r}=Kt(),[n,s]=N.useState(""),[a,i]=N.useState("all"),[o]=N.useState([{id:"1",name:"Hair Dye #45 Blonde",category:"Hair Care",currentStock:2,minStock:10,unit:"bottles",pricePerUnit:25,supplier:"Beauty Supply Co.",lastRestocked:"2024-12-15"},{id:"2",name:"Professional Shampoo",category:"Hair Care",currentStock:45,minStock:20,unit:"bottles",pricePerUnit:18,supplier:"Hair Masters Inc.",lastRestocked:"2024-12-20"},{id:"3",name:"Acrylic Powder - Clear",category:"Nail Care",currentStock:8,minStock:15,unit:"jars",pricePerUnit:32,supplier:"Nail Pro Supply",lastRestocked:"2024-12-10"},{id:"4",name:"Disposable Gloves (Box)",category:"Disposables",currentStock:156,minStock:50,unit:"boxes",pricePerUnit:8,supplier:"Medical Supplies Ltd.",lastRestocked:"2024-12-22"},{id:"5",name:"Facial Serum - Vitamin C",category:"Skin Care",currentStock:12,minStock:10,unit:"bottles",pricePerUnit:45,supplier:"Skincare Professionals",lastRestocked:"2024-12-18"},{id:"6",name:"Aluminum Foil Roll",category:"Hair Care",currentStock:3,minStock:8,unit:"rolls",pricePerUnit:12,supplier:"Beauty Supply Co.",lastRestocked:"2024-12-12"}]),l=["all","Hair Care","Nail Care","Skin Care","Tools","Disposables"],c=o.filter(x=>{const v=x.name.toLowerCase().includes(n.toLowerCase())||x.supplier.toLowerCase().includes(n.toLowerCase()),w=a==="all"||x.category===a;return v&&w}),u=o.filter(x=>x.currentStock<x.minStock),m=o.reduce((x,v)=>x+v.currentStock*v.pricePerUnit,0),p=x=>{const v=x.currentStock/x.minStock*100;return v<50?{color:"text-red-600",bg:"bg-red-50",label:"Critical"}:v<100?{color:"text-yellow-600",bg:"bg-yellow-50",label:"Low"}:{color:"text-green-600",bg:"bg-green-50",label:"Good"}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-2",children:[e.jsx(bs,{className:"w-8 h-8 text-purple-600"}),"Inventory Management"]}),e.jsx("p",{className:"text-gray-500 mt-1",children:"Track supplies, stock levels, and reorder alerts"})]}),t!=="master"&&e.jsxs(Q,{className:"bg-purple-600 hover:bg-purple-700 text-white gap-2",children:[e.jsx(er,{className:"w-4 h-4"}),"Add Item"]})]}),e.jsxs("div",{className:"grid md:grid-cols-4 gap-4",children:[e.jsx(ne,{children:e.jsx(ke,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Total Items"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:o.length})]}),e.jsx(bs,{className:"w-8 h-8 text-blue-600"})]})})}),e.jsx(ne,{children:e.jsx(ke,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Low Stock Alerts"}),e.jsx("p",{className:"text-2xl font-bold text-red-600",children:u.length})]}),e.jsx(fr,{className:"w-8 h-8 text-red-600"})]})})}),e.jsx(ne,{children:e.jsx(ke,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Total Value"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:r(m)})]}),e.jsx(Bd,{className:"w-8 h-8 text-green-600"})]})})}),e.jsx(ne,{children:e.jsx(ke,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Suppliers"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:new Set(o.map(x=>x.supplier)).size})]}),e.jsx(bs,{className:"w-8 h-8 text-purple-600"})]})})})]}),u.length>0&&e.jsx(ne,{className:"border-red-200 bg-red-50",children:e.jsx(ke,{className:"p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(fr,{className:"w-5 h-5 text-red-600 mt-0.5"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-bold text-red-900 mb-1",children:"Low Stock Alert"}),e.jsxs("p",{className:"text-sm text-red-700 mb-2",children:[u.length," item",u.length>1?"s":""," below minimum stock level"]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:u.map(x=>e.jsxs("span",{className:"text-xs bg-white px-2 py-1 rounded text-red-700",children:[x.name," (",x.currentStock,"/",x.minStock,")"]},x.id))})]})]})})}),e.jsxs("div",{className:"flex flex-wrap gap-3",children:[e.jsx("div",{className:"flex-1 min-w-[200px]",children:e.jsxs("div",{className:"relative",children:[e.jsx(qr,{className:"w-4 h-4 absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search items or suppliers...",value:n,onChange:x=>s(x.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500"})]})}),e.jsx("div",{className:"flex gap-2",children:l.map(x=>e.jsx("button",{onClick:()=>i(x),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${a===x?"bg-purple-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:x==="all"?"All":x},x))})]}),e.jsx(ne,{children:e.jsxs(ke,{className:"p-0",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left p-4 text-sm font-medium text-gray-600",children:"Item"}),e.jsx("th",{className:"text-left p-4 text-sm font-medium text-gray-600",children:"Category"}),e.jsx("th",{className:"text-left p-4 text-sm font-medium text-gray-600",children:"Stock"}),e.jsx("th",{className:"text-left p-4 text-sm font-medium text-gray-600",children:"Status"}),e.jsx("th",{className:"text-left p-4 text-sm font-medium text-gray-600",children:"Price/Unit"}),e.jsx("th",{className:"text-left p-4 text-sm font-medium text-gray-600",children:"Supplier"}),e.jsx("th",{className:"text-left p-4 text-sm font-medium text-gray-600",children:"Last Restocked"}),t!=="master"&&e.jsx("th",{className:"text-right p-4 text-sm font-medium text-gray-600",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:c.map(x=>{const v=p(x);return e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsxs("td",{className:"p-4",children:[e.jsx("div",{className:"font-medium text-gray-900",children:x.name}),e.jsx("div",{className:"text-sm text-gray-500",children:x.unit})]}),e.jsx("td",{className:"p-4",children:e.jsx("span",{className:"text-sm text-gray-600",children:x.category})}),e.jsx("td",{className:"p-4",children:e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"font-bold text-gray-900",children:x.currentStock}),e.jsxs("span",{className:"text-gray-500",children:[" / ",x.minStock," min"]})]})}),e.jsx("td",{className:"p-4",children:e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${v.bg} ${v.color}`,children:v.label})}),e.jsx("td",{className:"p-4",children:e.jsx("span",{className:"text-sm text-gray-900",children:r(x.pricePerUnit)})}),e.jsx("td",{className:"p-4",children:e.jsx("span",{className:"text-sm text-gray-600",children:x.supplier})}),e.jsx("td",{className:"p-4",children:e.jsx("span",{className:"text-sm text-gray-600",children:x.lastRestocked})}),t!=="master"&&e.jsx("td",{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[e.jsx("button",{className:"p-1 hover:bg-gray-100 rounded",children:e.jsx(EL,{className:"w-4 h-4 text-gray-600"})}),e.jsx("button",{className:"p-1 hover:bg-red-50 rounded",children:e.jsx(cn,{className:"w-4 h-4 text-red-600"})})]})})]},x.id)})})]})}),c.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(bs,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-500",children:"No items found"})]})]})})]})}function fle({userRole:t="owner"}){const[r,n]=N.useState("2024-12-23"),[s,a]=N.useState("today"),[i]=N.useState([{id:"1",staffId:"m1",staffName:"Anna Kowalska",role:"master",date:"2024-12-23",clockIn:"09:02",clockOut:null,breakStart:"13:00",breakEnd:"13:30",totalHours:4.5,status:"present"},{id:"2",staffId:"m2",staffName:"Sarah Johnson",role:"master",date:"2024-12-23",clockIn:"08:58",clockOut:null,breakStart:null,breakEnd:null,totalHours:5,status:"present"},{id:"3",staffId:"m3",staffName:"Maria Garcia",role:"admin",date:"2024-12-23",clockIn:"09:15",clockOut:null,breakStart:null,breakEnd:null,totalHours:4.75,status:"late"},{id:"4",staffId:"m4",staffName:"Emma Wilson",role:"master",date:"2024-12-23",clockIn:null,clockOut:null,breakStart:null,breakEnd:null,totalHours:0,status:"absent"}]),o=i.filter(x=>x.date===r),l=o.filter(x=>x.status==="present"||x.status==="late").length,c=o.filter(x=>x.status==="late").length,u=o.filter(x=>x.status==="absent").length,m=o.reduce((x,v)=>x+v.totalHours,0),p=x=>{switch(x){case"present":return{bg:"bg-green-100",text:"text-green-700",icon:zt};case"late":return{bg:"bg-yellow-100",text:"text-yellow-700",icon:An};case"absent":return{bg:"bg-red-100",text:"text-red-700",icon:tn};case"on-break":return{bg:"bg-blue-100",text:"text-blue-700",icon:pt};default:return{bg:"bg-gray-100",text:"text-gray-700",icon:An}}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-2",children:[e.jsx(pt,{className:"w-8 h-8 text-blue-600"}),"Staff Attendance"]}),e.jsx("p",{className:"text-gray-500 mt-1",children:"Track working hours, breaks, and attendance"})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsx("input",{type:"date",value:r,onChange:x=>n(x.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})})]}),e.jsx("div",{className:"flex gap-2",children:["today","week","month"].map(x=>e.jsx("button",{onClick:()=>a(x),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${s===x?"bg-blue-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:x.charAt(0).toUpperCase()+x.slice(1)},x))}),e.jsxs("div",{className:"grid md:grid-cols-4 gap-4",children:[e.jsx(ne,{children:e.jsx(ke,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Present Today"}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:l})]}),e.jsx(zt,{className:"w-8 h-8 text-green-600"})]})})}),e.jsx(ne,{children:e.jsx(ke,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Late Arrivals"}),e.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:c})]}),e.jsx(An,{className:"w-8 h-8 text-yellow-600"})]})})}),e.jsx(ne,{children:e.jsx(ke,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Absent"}),e.jsx("p",{className:"text-2xl font-bold text-red-600",children:u})]}),e.jsx(tn,{className:"w-8 h-8 text-red-600"})]})})}),e.jsx(ne,{children:e.jsx(ke,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Total Hours"}),e.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[m.toFixed(1),"h"]})]}),e.jsx(xr,{className:"w-8 h-8 text-blue-600"})]})})})]}),e.jsx(ne,{children:e.jsxs(ke,{className:"p-0",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left p-4 text-sm font-medium text-gray-600",children:"Staff Member"}),e.jsx("th",{className:"text-left p-4 text-sm font-medium text-gray-600",children:"Role"}),e.jsx("th",{className:"text-left p-4 text-sm font-medium text-gray-600",children:"Clock In"}),e.jsx("th",{className:"text-left p-4 text-sm font-medium text-gray-600",children:"Clock Out"}),e.jsx("th",{className:"text-left p-4 text-sm font-medium text-gray-600",children:"Break"}),e.jsx("th",{className:"text-left p-4 text-sm font-medium text-gray-600",children:"Total Hours"}),e.jsx("th",{className:"text-left p-4 text-sm font-medium text-gray-600",children:"Status"}),t==="owner"&&e.jsx("th",{className:"text-right p-4 text-sm font-medium text-gray-600",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:o.map(x=>{const v=p(x.status),w=v.icon;return e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"p-4",children:e.jsx("div",{className:"font-medium text-gray-900",children:x.staffName})}),e.jsx("td",{className:"p-4",children:e.jsx("span",{className:"text-sm capitalize text-gray-600",children:x.role})}),e.jsx("td",{className:"p-4",children:x.clockIn?e.jsx("span",{className:"text-sm text-gray-900",children:x.clockIn}):e.jsx("span",{className:"text-sm text-gray-400",children:""})}),e.jsx("td",{className:"p-4",children:x.clockOut?e.jsx("span",{className:"text-sm text-gray-900",children:x.clockOut}):x.clockIn?e.jsx("span",{className:"text-sm text-green-600 font-medium",children:"Working..."}):e.jsx("span",{className:"text-sm text-gray-400",children:""})}),e.jsx("td",{className:"p-4",children:x.breakStart&&x.breakEnd?e.jsxs("span",{className:"text-sm text-gray-600",children:[x.breakStart," - ",x.breakEnd]}):x.breakStart?e.jsx("span",{className:"text-sm text-blue-600 font-medium",children:"On break..."}):e.jsx("span",{className:"text-sm text-gray-400",children:""})}),e.jsx("td",{className:"p-4",children:e.jsx("span",{className:"text-sm font-bold text-gray-900",children:x.totalHours>0?`${x.totalHours.toFixed(1)}h`:""})}),e.jsx("td",{className:"p-4",children:e.jsxs("div",{className:`inline-flex items-center gap-1.5 px-2 py-1 rounded-full ${v.bg}`,children:[e.jsx(w,{className:`w-3 h-3 ${v.text}`}),e.jsx("span",{className:`text-xs font-medium capitalize ${v.text}`,children:x.status})]})}),t==="owner"&&e.jsx("td",{className:"p-4",children:e.jsx("div",{className:"flex items-center justify-end gap-2",children:e.jsx(Q,{variant:"outline",size:"sm",children:"Edit"})})})]},x.id)})})]})}),o.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(pr,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-500",children:"No attendance records for this date"})]})]})}),e.jsx(ne,{children:e.jsxs(ke,{className:"p-6",children:[e.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx(vt,{className:"w-5 h-5 text-blue-600"}),"Monthly Summary (December 2024)"]}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[e.jsx("p",{className:"text-sm text-green-700 mb-1",children:"Total Working Hours"}),e.jsx("p",{className:"text-2xl font-bold text-green-900",children:"168h"}),e.jsx("p",{className:"text-xs text-green-600 mt-1",children:"Expected: 176h"})]}),e.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg",children:[e.jsx("p",{className:"text-sm text-yellow-700 mb-1",children:"Late Arrivals"}),e.jsx("p",{className:"text-2xl font-bold text-yellow-900",children:"8"}),e.jsx("p",{className:"text-xs text-yellow-600 mt-1",children:"Across all staff"})]}),e.jsxs("div",{className:"bg-red-50 p-4 rounded-lg",children:[e.jsx("p",{className:"text-sm text-red-700 mb-1",children:"Absences"}),e.jsx("p",{className:"text-2xl font-bold text-red-900",children:"3"}),e.jsx("p",{className:"text-xs text-red-600 mt-1",children:"Total days"})]})]})]})})]})}function ple({userRole:t="owner"}){const[r,n]=N.useState("all"),[s,a]=N.useState(""),[i,o]=N.useState("all"),[l]=N.useState([{id:"1",clientName:"Emma Watson",masterName:"Anna Kowalska",rating:5,comment:"Amazing haircut! Anna really understood what I wanted. Best salon experience ever!",service:"Women's Haircut",date:"2024-12-20",response:"Thank you so much Emma! We're thrilled you loved your new look! ",responseDate:"2024-12-20",platform:"Google"},{id:"2",clientName:"Sarah Martinez",masterName:"Sarah Johnson",rating:5,comment:"Love my nails! Sarah is a true artist. The nail art is incredible!",service:"Manicure with Nail Art",date:"2024-12-18",platform:"Direct"},{id:"3",clientName:"Maria Lopez",masterName:"Anna Kowalska",rating:4,comment:"Good service but a bit expensive. The quality is definitely there though.",service:"Hair Coloring",date:"2024-12-15",response:"Thank you for your feedback Maria! We use premium products to ensure the best results.",responseDate:"2024-12-16",platform:"Facebook"},{id:"4",clientName:"Jessica Brown",masterName:"Maria Garcia",rating:5,comment:"Perfect facial! My skin has never looked better. Maria is so knowledgeable.",service:"Anti-Aging Facial",date:"2024-12-12",platform:"Google"},{id:"5",clientName:"Lisa Taylor",masterName:"Sarah Johnson",rating:3,comment:"Service was okay, but I had to wait 20 minutes past my appointment time.",service:"Pedicure",date:"2024-12-10",platform:"Direct"},{id:"6",clientName:"Rachel Green",masterName:"Anna Kowalska",rating:5,comment:"Absolutely love it! Anna transformed my hair. Highly recommend!",service:"Balayage",date:"2024-12-08",response:"Thank you Rachel! You look stunning! ",responseDate:"2024-12-08",platform:"Google"}]),c=["all",...Array.from(new Set(l.map(j=>j.masterName)))],u=l.filter(j=>{const S=r==="all"||j.rating===r,C=j.comment.toLowerCase().includes(s.toLowerCase())||j.clientName.toLowerCase().includes(s.toLowerCase())||j.service.toLowerCase().includes(s.toLowerCase()),P=i==="all"||j.masterName===i;return S&&C&&P}),m=(l.reduce((j,S)=>j+S.rating,0)/l.length).toFixed(1),p=l.length,v=(l.filter(j=>j.response).length/p*100).toFixed(0),w=j=>Array.from({length:5}).map((S,C)=>e.jsx(Gt,{className:`w-4 h-4 ${C<j?"fill-yellow-400 text-yellow-400":"text-gray-300"}`},C)),y=j=>({Google:"bg-blue-100 text-blue-700",Facebook:"bg-blue-100 text-blue-600",Direct:"bg-purple-100 text-purple-700"})[j]||"bg-gray-100 text-gray-700";return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-2",children:[e.jsx(Gt,{className:"w-8 h-8 text-yellow-500 fill-yellow-500"}),"Reviews & Ratings"]}),e.jsx("p",{className:"text-gray-500 mt-1",children:"Manage client feedback and build reputation"})]})}),e.jsxs("div",{className:"grid md:grid-cols-4 gap-4",children:[e.jsx(ne,{children:e.jsx(ke,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Average Rating"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:m}),e.jsx("div",{className:"flex",children:w(Math.round(Number(m)))})]})]}),e.jsx(Gt,{className:"w-8 h-8 text-yellow-500 fill-yellow-500"})]})})}),e.jsx(ne,{children:e.jsx(ke,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Total Reviews"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:p})]}),e.jsx(Pa,{className:"w-8 h-8 text-blue-600"})]})})}),e.jsx(ne,{children:e.jsx(ke,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Response Rate"}),e.jsxs("p",{className:"text-2xl font-bold text-green-600",children:[v,"%"]})]}),e.jsx(FK,{className:"w-8 h-8 text-green-600"})]})})}),e.jsx(ne,{children:e.jsx(ke,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"5-Star Reviews"}),e.jsx("p",{className:"text-2xl font-bold text-purple-600",children:l.filter(j=>j.rating===5).length})]}),e.jsx(xr,{className:"w-8 h-8 text-purple-600"})]})})})]}),e.jsxs("div",{className:"flex flex-wrap gap-3",children:[e.jsx("div",{className:"flex-1 min-w-[200px]",children:e.jsxs("div",{className:"relative",children:[e.jsx(qr,{className:"w-4 h-4 absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search reviews...",value:s,onChange:j=>a(j.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500"})]})}),e.jsx("select",{value:i,onChange:j=>o(j.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",children:c.map(j=>e.jsx("option",{value:j,children:j==="all"?"All Masters":j},j))}),e.jsx("div",{className:"flex gap-2",children:["all",5,4,3,2,1].map(j=>e.jsx("button",{onClick:()=>n(j),className:`px-3 py-2 rounded-lg text-sm font-medium transition-colors ${r===j?"bg-yellow-500 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:j==="all"?"All":`${j}`},j))})]}),e.jsxs("div",{className:"space-y-4",children:[u.map(j=>e.jsx(ne,{children:e.jsxs(ke,{className:"p-6",children:[e.jsx("div",{className:"flex items-start justify-between mb-4",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-purple-100 to-pink-100 flex items-center justify-center",children:e.jsx("span",{className:"font-bold text-purple-600",children:j.clientName.split(" ").map(S=>S[0]).join("")})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-gray-900",children:j.clientName}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[e.jsxs("span",{children:["for ",j.masterName]}),e.jsx("span",{children:""}),e.jsx("span",{children:j.date}),e.jsx("span",{children:""}),e.jsx("span",{className:`px-2 py-0.5 rounded text-xs ${y(j.platform)}`,children:j.platform})]})]})]}),e.jsx("div",{className:"flex items-center gap-1 mb-3",children:w(j.rating)}),e.jsx("p",{className:"text-gray-700 mb-2",children:j.comment}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Service: ",j.service]}),j.response&&e.jsxs("div",{className:"mt-4 pl-4 border-l-2 border-purple-200 bg-purple-50 p-3 rounded-r-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("p",{className:"text-sm font-medium text-purple-900",children:"Owner Response"}),e.jsx("span",{className:"text-xs text-purple-600",children:j.responseDate})]}),e.jsx("p",{className:"text-sm text-purple-800",children:j.response})]})]})}),!j.response&&t!=="master"&&e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs(Q,{size:"sm",className:"bg-purple-600 hover:bg-purple-700 text-white",children:[e.jsx(Pa,{className:"w-4 h-4 mr-2"}),"Respond"]})})]})},j.id)),u.length===0&&e.jsx(ne,{children:e.jsxs(ke,{className:"p-12 text-center",children:[e.jsx(Gt,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-500",children:"No reviews found"})]})})]})]})}function xle(){const{formatPrice:t}=Kt(),[r,n]=N.useState("2024-12"),[s]=N.useState([{id:"1",category:"Rent",description:"Monthly rent - Glamour Downtown",amount:8e3,date:"2024-12-01",recurring:!0},{id:"2",category:"Utilities",description:"Electricity & Water",amount:1200,date:"2024-12-05",recurring:!0},{id:"3",category:"Salaries",description:"Staff salaries - December",amount:18e3,date:"2024-12-31",recurring:!0},{id:"4",category:"Supplies",description:"Hair products & materials",amount:2340,date:"2024-12-10",recurring:!1},{id:"5",category:"Marketing",description:"Instagram & Facebook ads",amount:800,date:"2024-12-15",recurring:!0},{id:"6",category:"Equipment",description:"New hair dryer",amount:450,date:"2024-12-18",recurring:!1},{id:"7",category:"Supplies",description:"Nail products",amount:890,date:"2024-12-12",recurring:!1},{id:"8",category:"Other",description:"Cleaning service",amount:300,date:"2024-12-20",recurring:!0}]),a=45600,i=s.reduce((m,p)=>m+p.amount,0),o=a-i,l=(o/a*100).toFixed(1),c=s.reduce((m,p)=>(m[p.category]=(m[p.category]||0)+p.amount,m),{}),u={Rent:"bg-purple-600",Utilities:"bg-blue-600",Salaries:"bg-green-600",Supplies:"bg-yellow-600",Marketing:"bg-pink-600",Equipment:"bg-indigo-600",Other:"bg-gray-600"};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-2",children:[e.jsx(Zt,{className:"w-8 h-8 text-green-600"}),"Expense Tracking"]}),e.jsx("p",{className:"text-gray-500 mt-1",children:"Monitor costs and manage salon budget"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"month",value:r,onChange:m=>n(m.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500"}),e.jsxs(Q,{className:"bg-green-600 hover:bg-green-700 text-white gap-2",children:[e.jsx(er,{className:"w-4 h-4"}),"Add Expense"]})]})]}),e.jsxs("div",{className:"grid md:grid-cols-4 gap-4",children:[e.jsx(ne,{children:e.jsx(ke,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Monthly Revenue"}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:t(a)})]}),e.jsx(Bd,{className:"w-8 h-8 text-green-600"})]})})}),e.jsx(ne,{children:e.jsx(ke,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Total Expenses"}),e.jsx("p",{className:"text-2xl font-bold text-red-600",children:t(i)})]}),e.jsx(Zt,{className:"w-8 h-8 text-red-600"})]})})}),e.jsx(ne,{className:"bg-gradient-to-br from-purple-50 to-pink-50 border-purple-200",children:e.jsx(ke,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-purple-700 font-medium",children:"Net Profit"}),e.jsx("p",{className:"text-2xl font-bold text-purple-900",children:t(o)})]}),e.jsx(Zt,{className:"w-8 h-8 text-purple-600"})]})})}),e.jsx(ne,{children:e.jsx(ke,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Profit Margin"}),e.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[l,"%"]})]}),e.jsx(zV,{className:"w-8 h-8 text-blue-600"})]})})})]}),e.jsx(ne,{children:e.jsxs(ke,{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Expense Breakdown"}),e.jsx("div",{className:"space-y-3",children:Object.entries(c).sort((m,p)=>p[1]-m[1]).map(([m,p])=>{const x=(p/i*100).toFixed(1);return e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:m}),e.jsxs("span",{className:"text-sm font-bold text-gray-900",children:[t(p)," (",x,"%)"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:`h-2 rounded-full ${u[m]}`,style:{width:`${x}%`}})})]},m)})})]})}),e.jsx(ne,{children:e.jsxs(ke,{className:"p-0",children:[e.jsxs("div",{className:"p-4 border-b border-gray-200 flex items-center justify-between",children:[e.jsx("h3",{className:"font-bold text-gray-900",children:"Recent Expenses"}),e.jsxs(Q,{variant:"outline",size:"sm",className:"gap-2",children:[e.jsx(vr,{className:"w-4 h-4"}),"Export"]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left p-4 text-sm font-medium text-gray-600",children:"Date"}),e.jsx("th",{className:"text-left p-4 text-sm font-medium text-gray-600",children:"Category"}),e.jsx("th",{className:"text-left p-4 text-sm font-medium text-gray-600",children:"Description"}),e.jsx("th",{className:"text-left p-4 text-sm font-medium text-gray-600",children:"Amount"}),e.jsx("th",{className:"text-left p-4 text-sm font-medium text-gray-600",children:"Type"}),e.jsx("th",{className:"text-right p-4 text-sm font-medium text-gray-600",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:s.sort((m,p)=>new Date(p.date).getTime()-new Date(m.date).getTime()).map(m=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"p-4",children:e.jsx("span",{className:"text-sm text-gray-900",children:m.date})}),e.jsx("td",{className:"p-4",children:e.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium text-white ${u[m.category]}`,children:m.category})}),e.jsx("td",{className:"p-4",children:e.jsx("span",{className:"text-sm text-gray-900",children:m.description})}),e.jsx("td",{className:"p-4",children:e.jsx("span",{className:"text-sm font-bold text-gray-900",children:t(m.amount)})}),e.jsx("td",{className:"p-4",children:m.recurring?e.jsx("span",{className:"text-xs bg-blue-100 text-blue-700 px-2 py-1 rounded",children:"Recurring"}):e.jsx("span",{className:"text-xs bg-gray-100 text-gray-700 px-2 py-1 rounded",children:"One-time"})}),e.jsx("td",{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[e.jsx(Q,{variant:"outline",size:"sm",children:"Edit"}),e.jsx(Q,{variant:"outline",size:"sm",className:"text-red-600 hover:bg-red-50",children:"Delete"})]})})]},m.id))})]})})]})})]})}function gle(){const{formatPrice:t}=Kt(),[r,n]=N.useState("members"),[s]=N.useState([{id:"1",name:"Emma Watson",tier:"Gold",points:6450,totalSpent:6450,visits:28,joinDate:"2024-01-15",nextReward:"50 points to free haircut"},{id:"2",name:"Sarah Martinez",tier:"Silver",points:2340,totalSpent:2340,visits:12,joinDate:"2024-03-20",nextReward:"160 points to Gold tier"},{id:"3",name:"Maria Lopez",tier:"Bronze",points:680,totalSpent:680,visits:5,joinDate:"2024-10-01",nextReward:"320 points to Silver tier"},{id:"4",name:"Jessica Brown",tier:"Gold",points:8920,totalSpent:8920,visits:42,joinDate:"2023-11-10",nextReward:"VIP status unlocked!"},{id:"5",name:"Lisa Taylor",tier:"Silver",points:1850,totalSpent:1850,visits:9,joinDate:"2024-05-12",nextReward:"650 points to Gold tier"}]),a=s.length,i=s.filter(u=>u.tier==="Gold").length;s.filter(u=>u.tier==="Silver").length,s.filter(u=>u.tier==="Bronze").length;const o=s.reduce((u,m)=>u+m.points,0),l=u=>{switch(u){case"Gold":return{bg:"bg-yellow-100",text:"text-yellow-700",icon:""};case"Silver":return{bg:"bg-gray-200",text:"text-gray-700",icon:""};case"Bronze":return{bg:"bg-orange-100",text:"text-orange-700",icon:""};default:return{bg:"bg-gray-100",text:"text-gray-700",icon:""}}},c=u=>{switch(u){case"Gold":return"15%";case"Silver":return"10%";case"Bronze":return"5%";default:return"0%"}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-2",children:[e.jsx(dr,{className:"w-8 h-8 text-purple-600"}),"Loyalty Program"]}),e.jsx("p",{className:"text-gray-500 mt-1",children:"Reward loyal clients and boost retention"})]}),e.jsx("div",{className:"flex items-center gap-2",children:["members","settings"].map(u=>e.jsx("button",{onClick:()=>n(u),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${r===u?"bg-purple-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:u.charAt(0).toUpperCase()+u.slice(1)},u))})]}),e.jsxs("div",{className:"grid md:grid-cols-4 gap-4",children:[e.jsx(ne,{children:e.jsx(ke,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Total Members"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:a})]}),e.jsx(pr,{className:"w-8 h-8 text-purple-600"})]})})}),e.jsx(ne,{className:"bg-gradient-to-br from-yellow-50 to-yellow-100 border-yellow-200",children:e.jsx(ke,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-yellow-700",children:"Gold Members"}),e.jsx("p",{className:"text-2xl font-bold text-yellow-900",children:i})]}),e.jsx(A0,{className:"w-8 h-8 text-yellow-600"})]})})}),e.jsx(ne,{children:e.jsx(ke,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Points Issued"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:o.toLocaleString()})]}),e.jsx(Gt,{className:"w-8 h-8 text-purple-600"})]})})}),e.jsx(ne,{children:e.jsx(ke,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Avg. Points/Member"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:Math.round(o/a)})]}),e.jsx(xr,{className:"w-8 h-8 text-green-600"})]})})})]}),r==="settings"?e.jsxs("div",{className:"space-y-6",children:[e.jsx(ne,{children:e.jsxs(ke,{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Membership Tiers"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-gradient-to-r from-yellow-50 to-yellow-100 border-2 border-yellow-300 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(A0,{className:"w-6 h-6 text-yellow-600"}),e.jsx("h4",{className:"font-bold text-yellow-900",children:"Gold Tier"})]}),e.jsx("span",{className:"text-sm font-medium text-yellow-700",children:"5,000+ points"})]}),e.jsx("p",{className:"text-sm text-yellow-800 mb-2",children:"Premium benefits for VIP clients"}),e.jsxs("ul",{className:"text-sm text-yellow-700 space-y-1",children:[e.jsx("li",{children:" 15% discount on all services"}),e.jsx("li",{children:" Birthday bonus: 2x points"}),e.jsx("li",{children:" Priority booking"}),e.jsx("li",{children:" Free add-ons"})]})]}),e.jsxs("div",{className:"bg-gradient-to-r from-gray-50 to-gray-100 border-2 border-gray-300 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Gt,{className:"w-6 h-6 text-gray-600"}),e.jsx("h4",{className:"font-bold text-gray-900",children:"Silver Tier"})]}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"1,000-4,999 points"})]}),e.jsx("p",{className:"text-sm text-gray-800 mb-2",children:"Enhanced rewards for regular clients"}),e.jsxs("ul",{className:"text-sm text-gray-700 space-y-1",children:[e.jsx("li",{children:" 10% discount on all services"}),e.jsx("li",{children:" Birthday bonus: 1.5x points"}),e.jsx("li",{children:" Special offers access"})]})]}),e.jsxs("div",{className:"bg-gradient-to-r from-orange-50 to-orange-100 border-2 border-orange-300 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(dr,{className:"w-6 h-6 text-orange-600"}),e.jsx("h4",{className:"font-bold text-orange-900",children:"Bronze Tier"})]}),e.jsx("span",{className:"text-sm font-medium text-orange-700",children:"0-999 points"})]}),e.jsx("p",{className:"text-sm text-orange-800 mb-2",children:"Welcome benefits for new members"}),e.jsxs("ul",{className:"text-sm text-orange-700 space-y-1",children:[e.jsx("li",{children:" 5% discount on all services"}),e.jsx("li",{children:" Earn 1 point per AED spent"}),e.jsx("li",{children:" Welcome bonus: 100 points"})]})]})]})]})}),e.jsx(ne,{children:e.jsxs(ke,{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Points System"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 bg-purple-50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Earning Rate"}),e.jsx("p",{className:"text-sm text-gray-600",children:"1 point per AED spent"})]}),e.jsx(Q,{variant:"outline",size:"sm",children:"Edit"})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-green-50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Referral Bonus"}),e.jsx("p",{className:"text-sm text-gray-600",children:"500 points for each new client referred"})]}),e.jsx(Q,{variant:"outline",size:"sm",children:"Edit"})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-blue-50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Birthday Reward"}),e.jsx("p",{className:"text-sm text-gray-600",children:"2x points during birthday month"})]}),e.jsx(Q,{variant:"outline",size:"sm",children:"Edit"})]})]})]})})]}):e.jsx(ne,{children:e.jsxs(ke,{className:"p-0",children:[e.jsx("div",{className:"p-4 border-b border-gray-200",children:e.jsx("h3",{className:"font-bold text-gray-900",children:"Loyalty Members"})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left p-4 text-sm font-medium text-gray-600",children:"Member"}),e.jsx("th",{className:"text-left p-4 text-sm font-medium text-gray-600",children:"Tier"}),e.jsx("th",{className:"text-left p-4 text-sm font-medium text-gray-600",children:"Points"}),e.jsx("th",{className:"text-left p-4 text-sm font-medium text-gray-600",children:"Total Spent"}),e.jsx("th",{className:"text-left p-4 text-sm font-medium text-gray-600",children:"Visits"}),e.jsx("th",{className:"text-left p-4 text-sm font-medium text-gray-600",children:"Join Date"}),e.jsx("th",{className:"text-left p-4 text-sm font-medium text-gray-600",children:"Next Reward"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:s.sort((u,m)=>m.points-u.points).map(u=>{const m=l(u.tier);return e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-purple-100 to-pink-100 flex items-center justify-center",children:e.jsx("span",{className:"font-bold text-purple-600",children:u.name.split(" ").map(p=>p[0]).join("")})}),e.jsx("span",{className:"font-medium text-gray-900",children:u.name})]})}),e.jsx("td",{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${m.bg} ${m.text}`,children:[m.icon," ",u.tier]}),e.jsxs("span",{className:"text-xs text-gray-500",children:["(",c(u.tier)," off)"]})]})}),e.jsx("td",{className:"p-4",children:e.jsx("span",{className:"font-bold text-purple-600",children:u.points.toLocaleString()})}),e.jsx("td",{className:"p-4",children:e.jsx("span",{className:"text-sm text-gray-900",children:t(u.totalSpent)})}),e.jsx("td",{className:"p-4",children:e.jsx("span",{className:"text-sm text-gray-900",children:u.visits})}),e.jsx("td",{className:"p-4",children:e.jsx("span",{className:"text-sm text-gray-600",children:u.joinDate})}),e.jsx("td",{className:"p-4",children:e.jsx("span",{className:"text-xs text-gray-500",children:u.nextReward})})]},u.id)})})]})})]})})]})}function vle(){const{formatPrice:t}=Kt(),[r,n]=N.useState("month"),s={revenue:{current:45600,previous:38200,trend:19.4,forecast:52e3},bookings:{current:324,previous:298,trend:8.7,forecast:356},avgTicket:{current:140.74,previous:128.19,trend:9.8,forecast:146.07},clientRetention:{current:78.3,previous:72.1,trend:8.6,forecast:82}},a=[{month:"Jan",actual:38200,forecast:null},{month:"Feb",actual:41500,forecast:null},{month:"Mar",actual:43800,forecast:null},{month:"Apr",actual:45600,forecast:null},{month:"May",actual:null,forecast:48200},{month:"Jun",actual:null,forecast:51800},{month:"Jul",actual:null,forecast:54500}],i=[{name:"Women's Haircut",revenue:12800,bookings:142,avgPrice:90,trend:12.5,color:"bg-purple-600"},{name:"Hair Coloring",revenue:9600,bookings:64,avgPrice:150,trend:8.3,color:"bg-pink-600"},{name:"Manicure",revenue:7200,bookings:96,avgPrice:75,trend:-3.2,color:"bg-blue-600"},{name:"Pedicure",revenue:5400,bookings:72,avgPrice:75,trend:5.1,color:"bg-green-600"},{name:"Facial",revenue:4800,bookings:40,avgPrice:120,trend:15.8,color:"bg-yellow-600"}],o=[{time:"09:00",occupancy:45,revenue:2800},{time:"10:00",occupancy:68,revenue:4200},{time:"11:00",occupancy:82,revenue:5100},{time:"12:00",occupancy:91,revenue:6300},{time:"13:00",occupancy:76,revenue:4800},{time:"14:00",occupancy:84,revenue:5400},{time:"15:00",occupancy:89,revenue:5900},{time:"16:00",occupancy:95,revenue:6800},{time:"17:00",occupancy:92,revenue:6400},{time:"18:00",occupancy:88,revenue:5700},{time:"19:00",occupancy:72,revenue:4200},{time:"20:00",occupancy:54,revenue:2900}],l=[{segment:"VIP Clients",count:28,revenue:15680,avgSpend:560,visits:6.2,color:"from-yellow-400 to-yellow-600"},{segment:"Regular Clients",count:89,revenue:22400,avgSpend:251,visits:3.8,color:"from-purple-400 to-purple-600"},{segment:"New Clients",count:42,revenue:5880,avgSpend:140,visits:1,color:"from-blue-400 to-blue-600"},{segment:"At Risk",count:15,revenue:1640,avgSpend:109,visits:.5,color:"from-red-400 to-red-600"}],c=Math.max(...o.map(m=>m.occupancy)),u=m=>m>=0?e.jsxs("div",{className:"flex items-center gap-1 text-green-600",children:[e.jsx(Xf,{className:"w-4 h-4"}),e.jsxs("span",{className:"text-sm font-medium",children:["+",m.toFixed(1),"%"]})]}):e.jsxs("div",{className:"flex items-center gap-1 text-red-600",children:[e.jsx(NL,{className:"w-4 h-4"}),e.jsxs("span",{className:"text-sm font-medium",children:[m.toFixed(1),"%"]})]});return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-2",children:[e.jsx(xr,{className:"w-8 h-8 text-purple-600"}),"Advanced Analytics"]}),e.jsx("p",{className:"text-gray-500 mt-1",children:"AI-powered insights, trends, and forecasts"})]}),e.jsx("div",{className:"flex gap-2",children:["week","month","quarter","year"].map(m=>e.jsx("button",{onClick:()=>n(m),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${r===m?"bg-purple-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:m.charAt(0).toUpperCase()+m.slice(1)},m))})]}),e.jsxs("div",{className:"grid md:grid-cols-4 gap-4",children:[e.jsx(ne,{className:"border-none shadow-lg",children:e.jsxs(ke,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-green-100 flex items-center justify-center",children:e.jsx(Zt,{className:"w-6 h-6 text-green-600"})}),u(s.revenue.trend)]}),e.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Revenue"}),e.jsx("div",{className:"text-3xl font-bold text-gray-900 mb-2",children:t(s.revenue.current)}),e.jsxs("div",{className:"flex items-center justify-between text-xs",children:[e.jsxs("span",{className:"text-gray-500",children:["Previous: ",t(s.revenue.previous)]}),e.jsxs("span",{className:"text-purple-600 font-medium",children:["Forecast: ",t(s.revenue.forecast)]})]})]})}),e.jsx(ne,{className:"border-none shadow-lg",children:e.jsxs(ke,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-blue-100 flex items-center justify-center",children:e.jsx(vt,{className:"w-6 h-6 text-blue-600"})}),u(s.bookings.trend)]}),e.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Bookings"}),e.jsx("div",{className:"text-3xl font-bold text-gray-900 mb-2",children:s.bookings.current}),e.jsxs("div",{className:"flex items-center justify-between text-xs",children:[e.jsxs("span",{className:"text-gray-500",children:["Previous: ",s.bookings.previous]}),e.jsxs("span",{className:"text-purple-600 font-medium",children:["Forecast: ",s.bookings.forecast]})]})]})}),e.jsx(ne,{className:"border-none shadow-lg",children:e.jsxs(ke,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-purple-100 flex items-center justify-center",children:e.jsx($d,{className:"w-6 h-6 text-purple-600"})}),u(s.avgTicket.trend)]}),e.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Avg Ticket"}),e.jsx("div",{className:"text-3xl font-bold text-gray-900 mb-2",children:t(s.avgTicket.current)}),e.jsxs("div",{className:"flex items-center justify-between text-xs",children:[e.jsxs("span",{className:"text-gray-500",children:["Previous: ",t(s.avgTicket.previous)]}),e.jsxs("span",{className:"text-purple-600 font-medium",children:["Forecast: ",t(s.avgTicket.forecast)]})]})]})}),e.jsx(ne,{className:"border-none shadow-lg",children:e.jsxs(ke,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-pink-100 flex items-center justify-center",children:e.jsx(pr,{className:"w-6 h-6 text-pink-600"})}),u(s.clientRetention.trend)]}),e.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Retention Rate"}),e.jsxs("div",{className:"text-3xl font-bold text-gray-900 mb-2",children:[s.clientRetention.current,"%"]}),e.jsxs("div",{className:"flex items-center justify-between text-xs",children:[e.jsxs("span",{className:"text-gray-500",children:["Previous: ",s.clientRetention.previous,"%"]}),e.jsxs("span",{className:"text-purple-600 font-medium",children:["Target: ",s.clientRetention.forecast,"%"]})]})]})})]}),e.jsx(ne,{children:e.jsxs(ke,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Revenue Forecast (Next 3 Months)"}),e.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 bg-purple-600 rounded"}),e.jsx("span",{className:"text-gray-600",children:"Actual"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 bg-purple-300 rounded border-2 border-purple-600"}),e.jsx("span",{className:"text-gray-600",children:"Forecast"})]})]})]}),e.jsx("div",{className:"space-y-3",children:a.map((m,p)=>{const x=m.actual||m.forecast||0,w=x/6e4*100,y=m.forecast!==null;return e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:m.month}),e.jsxs("span",{className:`text-sm font-bold ${y?"text-purple-600":"text-gray-900"}`,children:[t(x)," ",y&&"(predicted)"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:e.jsx("div",{className:`h-3 rounded-full ${y?"bg-gradient-to-r from-purple-300 to-purple-400 border-2 border-purple-600":"bg-gradient-to-r from-purple-600 to-purple-700"}`,style:{width:`${w}%`}})})]},p)})})]})}),e.jsx(ne,{children:e.jsxs(ke,{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-6",children:"Peak Hours Analysis"}),e.jsx("div",{className:"space-y-2",children:o.map((m,p)=>{const x=m.occupancy/c*100,v=m.occupancy>=85;return e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700 w-16",children:m.time}),v&&e.jsx(An,{className:"w-4 h-4 text-red-500"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-xs text-gray-500",children:t(m.revenue)}),e.jsxs("span",{className:`text-sm font-bold ${v?"text-red-600":"text-gray-900"}`,children:[m.occupancy,"%"]})]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:`h-2 rounded-full ${v?"bg-gradient-to-r from-red-500 to-red-600":"bg-gradient-to-r from-blue-500 to-blue-600"}`,style:{width:`${x}%`}})})]},p)})}),e.jsx("div",{className:"mt-4 p-3 bg-yellow-50 rounded-lg border border-yellow-200",children:e.jsxs("p",{className:"text-sm text-yellow-800",children:[e.jsx("strong",{children:" Insight:"})," Peak demand at 12:00-17:00. Consider adding staff during these hours to maximize revenue."]})})]})}),e.jsx(ne,{children:e.jsxs(ke,{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-6",children:"Top Services Performance"}),e.jsx("div",{className:"space-y-4",children:i.map((m,p)=>{const x=i.reduce((w,y)=>w+y.revenue,0),v=m.revenue/x*100;return e.jsxs("div",{children:[e.jsx("div",{className:"flex items-center justify-between mb-2",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("span",{className:"font-medium text-gray-900",children:m.name}),u(m.trend)]}),e.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500",children:[e.jsx("span",{children:t(m.revenue)}),e.jsx("span",{children:""}),e.jsxs("span",{children:[m.bookings," bookings"]}),e.jsx("span",{children:""}),e.jsxs("span",{children:["Avg: ",t(m.avgPrice)]})]})]})}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:e.jsx("div",{className:`h-3 rounded-full ${m.color}`,style:{width:`${v}%`}})})]},p)})})]})}),e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-4",children:l.map((m,p)=>e.jsx(ne,{className:`border-none bg-gradient-to-br ${m.color} text-white`,children:e.jsxs(ke,{className:"p-6",children:[e.jsx("h3",{className:"font-bold mb-3",children:m.segment}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm opacity-90",children:"Clients"}),e.jsx("span",{className:"text-2xl font-bold",children:m.count})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm opacity-90",children:"Revenue"}),e.jsx("span",{className:"font-bold",children:t(m.revenue)})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm opacity-90",children:"Avg Spend"}),e.jsx("span",{className:"font-bold",children:t(m.avgSpend)})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm opacity-90",children:"Avg Visits/mo"}),e.jsx("span",{className:"font-bold",children:m.visits})]})]})]})},p))}),e.jsx(ne,{className:"bg-gradient-to-r from-purple-50 to-pink-50 border-purple-200",children:e.jsxs(ke,{className:"p-6",children:[e.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx(xr,{className:"w-5 h-5 text-purple-600"}),"AI-Powered Recommendations"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-start gap-3 p-3 bg-white rounded-lg",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-green-100 flex items-center justify-center flex-shrink-0",children:e.jsx(xr,{className:"w-4 h-4 text-green-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Increase Hair Coloring prices by 10%"}),e.jsx("p",{className:"text-xs text-gray-600",children:"High demand with 15.8% trend growth. Potential +AED 960/month revenue."})]})]}),e.jsxs("div",{className:"flex items-start gap-3 p-3 bg-white rounded-lg",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-100 flex items-center justify-center flex-shrink-0",children:e.jsx(pr,{className:"w-4 h-4 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Launch loyalty program for 'At Risk' clients"}),e.jsx("p",{className:"text-xs text-gray-600",children:"15 clients at risk of churning. Offer 20% discount to retain them."})]})]}),e.jsxs("div",{className:"flex items-start gap-3 p-3 bg-white rounded-lg",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-yellow-100 flex items-center justify-center flex-shrink-0",children:e.jsx($d,{className:"w-4 h-4 text-yellow-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Add evening slots (19:00-21:00)"}),e.jsx("p",{className:"text-xs text-gray-600",children:"72% occupancy at 19:00. Adding 2 extra hours could generate +AED 8,400/month."})]})]})]})]})})]})}function yle({userRole:t="owner"}){const[r,n]=N.useState(!1),[s,a]=N.useState([{id:"1",type:"booking",title:"New Booking",message:"Anna Kowalska - Women's Haircut, Dec 24 at 14:00",time:"2 min ago",read:!1,priority:"high"},{id:"2",type:"cancellation",title:"Booking Cancelled",message:'Client "Emma W." cancelled appointment for Dec 25',time:"15 min ago",read:!1,priority:"high"},{id:"3",type:"payment",title:"Payment Received",message:"AED 450 received from Client #123",time:"1 hour ago",read:!1,priority:"medium"},{id:"4",type:"low_stock",title:"Low Stock Alert",message:"Hair Dye #45 - Only 2 bottles left",time:"2 hours ago",read:!1,priority:"high"},{id:"5",type:"review",title:"New Review",message:' "Amazing service!" - Sarah M.',time:"3 hours ago",read:!0,priority:"low"},{id:"6",type:"reminder",title:"Upcoming Meeting",message:"Staff meeting in 30 minutes",time:"30 min ago",read:!0,priority:"medium"},{id:"7",type:"new_client",title:"New Client Registered",message:"Lisa Johnson joined via online booking",time:"4 hours ago",read:!0,priority:"low"},{id:"8",type:"loyalty",title:"Loyalty Milestone",message:"Emma Watson reached Gold tier (5,000 points)",time:"5 hours ago",read:!0,priority:"low"}]),i=s.filter(v=>!v.read).length,o=v=>{switch(v){case"booking":return e.jsx(vt,{className:"w-5 h-5 text-blue-600"});case"cancellation":return e.jsx(tn,{className:"w-5 h-5 text-red-600"});case"payment":return e.jsx(Zt,{className:"w-5 h-5 text-green-600"});case"low_stock":return e.jsx(bs,{className:"w-5 h-5 text-orange-600"});case"review":return e.jsx(Pa,{className:"w-5 h-5 text-purple-600"});case"reminder":return e.jsx(fr,{className:"w-5 h-5 text-yellow-600"});case"new_client":return e.jsx(fl,{className:"w-5 h-5 text-pink-600"});case"loyalty":return e.jsx(dr,{className:"w-5 h-5 text-yellow-600"});default:return e.jsx(Na,{className:"w-5 h-5 text-gray-600"})}},l=v=>{switch(v){case"high":return"border-l-red-500";case"medium":return"border-l-yellow-500";case"low":return"border-l-gray-300";default:return"border-l-gray-300"}},c=v=>{a(s.map(w=>w.id===v?{...w,read:!0}:w))},u=()=>{a(s.map(v=>({...v,read:!0})))},m=v=>{a(s.filter(w=>w.id!==v))},p=()=>{a([]),n(!1)},x=s.filter(v=>t==="admin"?v.type!=="payment":t==="master"?["booking","cancellation","review"].includes(v.type):!0);return e.jsxs("div",{className:"relative",children:[e.jsxs("button",{onClick:()=>n(!r),className:"relative p-2 hover:bg-gray-100 rounded-lg transition-colors",children:[e.jsx(Na,{className:"w-6 h-6 text-gray-600"}),i>0&&e.jsx("span",{className:"absolute top-0 right-0 w-5 h-5 bg-red-500 text-white text-xs font-bold rounded-full flex items-center justify-center",children:i>9?"9+":i})]}),r&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>n(!1)}),e.jsxs("div",{className:"absolute right-0 mt-2 w-96 max-h-[80vh] bg-white rounded-xl shadow-2xl border border-gray-200 z-50 overflow-hidden flex flex-col",children:[e.jsxs("div",{className:"p-4 border-b border-gray-200 flex items-center justify-between bg-gradient-to-r from-purple-50 to-pink-50",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"font-bold text-gray-900 flex items-center gap-2",children:[e.jsx(Na,{className:"w-5 h-5 text-purple-600"}),"Notifications"]}),e.jsxs("p",{className:"text-xs text-gray-600",children:[i," unread"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[i>0&&e.jsx("button",{onClick:u,className:"text-xs text-purple-600 hover:text-purple-700 font-medium",children:"Mark all read"}),e.jsx("button",{onClick:()=>n(!1),className:"p-1 hover:bg-white rounded",children:e.jsx(ht,{className:"w-4 h-4 text-gray-500"})})]})]}),e.jsx("div",{className:"flex-1 overflow-y-auto",children:x.length===0?e.jsxs("div",{className:"p-12 text-center",children:[e.jsx(Na,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-500",children:"No notifications"})]}):e.jsx("div",{className:"divide-y divide-gray-100",children:x.map(v=>e.jsx("div",{className:`p-4 hover:bg-gray-50 cursor-pointer transition-colors border-l-4 ${l(v.priority)} ${v.read?"":"bg-blue-50"}`,onClick:()=>c(v.id),children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 mt-1",children:o(v.type)}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-start justify-between gap-2 mb-1",children:[e.jsx("h4",{className:`text-sm font-medium ${v.read?"text-gray-700":"text-gray-900"}`,children:v.title}),e.jsx("button",{onClick:w=>{w.stopPropagation(),m(v.id)},className:"p-1 hover:bg-gray-200 rounded",children:e.jsx(ht,{className:"w-3 h-3 text-gray-400"})})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:v.message}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-xs text-gray-500",children:v.time}),!v.read&&e.jsx("span",{className:"w-2 h-2 bg-blue-500 rounded-full"})]})]})]})},v.id))})}),x.length>0&&e.jsx("div",{className:"p-3 border-t border-gray-200 bg-gray-50",children:e.jsx("button",{onClick:p,className:"w-full text-sm text-red-600 hover:text-red-700 font-medium",children:"Clear All Notifications"})})]})]})]})}function ble({userRole:t="owner"}){return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Notifications Center"}),e.jsx("p",{className:"text-gray-500 mt-1",children:"Manage all your notifications in one place"})]}),e.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 border border-purple-200 rounded-2xl p-8",children:[e.jsx("p",{className:"text-center text-gray-700 mb-4",children:" Notifications are accessible from the bell icon in the header for quick access."}),e.jsxs("p",{className:"text-sm text-center text-gray-600",children:["Click the bell icon ",e.jsx("strong",{children:"()"})," in the top navigation bar to view real-time updates."]})]}),e.jsx("div",{className:"relative",children:e.jsx("div",{className:"flex justify-center",children:e.jsx(yle,{userRole:t})})})]})}function jle({userRole:t="owner",onBookFromWaitingList:r}){const[n,s]=N.useState("all"),[a,i]=N.useState(!1),[o,l]=N.useState(!1),[c,u]=N.useState(null),[m,p]=N.useState(""),[x,v]=N.useState({clientName:"",phone:"",email:"",service:"",masterPreference:"Any available",requestedDate:"",requestedTime:"",priority:"normal",notes:""}),[w,y]=N.useState([{id:"1",clientName:"Emma Wilson",phone:"+971 50 123 4567",email:"emma.w@email.com",service:"Hair Coloring",masterPreference:"Anna Kowalska",requestedDate:"2024-12-24",requestedTime:"14:00",addedOn:"2024-12-23 10:30",status:"waiting",notes:"Prefers afternoon slots",priority:"high"},{id:"2",clientName:"Sarah Martinez",phone:"+971 50 234 5678",email:"sarah.m@email.com",service:"Manicure + Pedicure",masterPreference:"Any available",requestedDate:"2024-12-25",requestedTime:"11:00",addedOn:"2024-12-23 09:15",status:"notified",priority:"normal"},{id:"3",clientName:"Lisa Taylor",phone:"+971 50 345 6789",email:"lisa.t@email.com",service:"Women's Haircut",masterPreference:"Sarah Johnson",requestedDate:"2024-12-26",requestedTime:"16:00",addedOn:"2024-12-22 15:45",status:"booked",notes:"VIP client",priority:"high"},{id:"4",clientName:"Maria Lopez",phone:"+971 50 456 7890",email:"maria.l@email.com",service:"Facial",masterPreference:"Anna Kowalska",requestedDate:"2024-12-27",requestedTime:"10:00",addedOn:"2024-12-23 11:20",status:"waiting",priority:"normal"},{id:"5",clientName:"Jessica Brown",phone:"+971 50 567 8901",email:"jessica.b@email.com",service:"Balayage",masterPreference:"Any available",requestedDate:"2024-12-24",requestedTime:"15:00",addedOn:"2024-12-21 14:30",status:"cancelled",notes:"Client found another salon",priority:"low"}]),j=w.filter(V=>n==="all"||V.status===n),S=w.filter(V=>V.status==="waiting").length,C=w.filter(V=>V.status==="notified").length,P=w.filter(V=>V.status==="booked").length,T=V=>{switch(V){case"waiting":return{bg:"bg-yellow-100",text:"text-yellow-700",icon:pt,label:"Waiting"};case"notified":return{bg:"bg-blue-100",text:"text-blue-700",icon:ys,label:"Notified"};case"booked":return{bg:"bg-green-100",text:"text-green-700",icon:zt,label:"Booked"};case"cancelled":return{bg:"bg-red-100",text:"text-red-700",icon:tn,label:"Cancelled"};default:return{bg:"bg-gray-100",text:"text-gray-700",icon:pt,label:"Unknown"}}},_=V=>{switch(V){case"high":return e.jsx("span",{className:"px-2 py-0.5 rounded text-xs font-medium bg-red-100 text-red-700",children:"High Priority"});case"normal":return e.jsx("span",{className:"px-2 py-0.5 rounded text-xs font-medium bg-gray-100 text-gray-700",children:"Normal"});case"low":return e.jsx("span",{className:"px-2 py-0.5 rounded text-xs font-medium bg-gray-100 text-gray-500",children:"Low"});default:return null}},k=()=>{const V={id:(w.length+1).toString(),clientName:x.clientName,phone:x.phone,email:x.email,service:x.service,masterPreference:x.masterPreference,requestedDate:x.requestedDate,requestedTime:x.requestedTime,addedOn:new Date().toISOString().slice(0,16).replace("T"," "),status:"waiting",notes:x.notes,priority:x.priority};y([...w,V]),i(!1),v({clientName:"",phone:"",email:"",service:"",masterPreference:"Any available",requestedDate:"",requestedTime:"",priority:"normal",notes:""})},M=V=>{u(V),p(`Hi ${V.clientName.split(" ")[0]}, good news! A slot for ${V.service} with ${V.masterPreference} is now available on ${V.requestedDate} at ${V.requestedTime}. Would you like to book it?`),l(!0)},$=()=>{c&&(y(w.map(V=>V.id===c.id?{...V,status:"notified"}:V)),l(!1),u(null),p(""),ve.success(`Notification sent to ${c.clientName} via SMS and Email`))},B=V=>{r&&r(V),y(w.map(W=>W.id===V.id?{...W,status:"booked"}:W)),ve.success(`${V.clientName} moved to bookings`)},F=V=>{y(w.map(W=>W.id===V.id?{...W,status:"booked"}:W)),ve.success(`Booking confirmed for ${V.clientName}`)},H=V=>{y(w.map(W=>W.id===V.id?{...W,status:"cancelled"}:W)),ve.info(`${V.clientName} removed from waiting list`)},K=["Women's Haircut","Men's Haircut","Hair Coloring","Balayage","Highlights","Manicure","Pedicure","Manicure + Pedicure","Facial","Massage","Makeup"],Z=["Any available","Anna Kowalska","Sarah Johnson","Maria Garcia","Emily Davis"];return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-2",children:[e.jsx(pt,{className:"w-8 h-8 text-purple-600"}),"Waiting List"]}),e.jsx("p",{className:"text-gray-500 mt-1",children:"Manage client waiting list and notify when slots open"})]}),e.jsxs(Q,{onClick:()=>i(!0),className:"bg-purple-600 hover:bg-purple-700 text-white gap-2",children:[e.jsx(zn,{className:"w-4 h-4"}),"Add to Waiting List"]})]}),a&&e.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 p-6 flex items-center justify-between",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Add to Waiting List"}),e.jsx("button",{onClick:()=>i(!1),className:"w-8 h-8 rounded-full hover:bg-gray-100 flex items-center justify-center text-gray-500",children:e.jsx(ht,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Client Name *"}),e.jsx("input",{type:"text",value:x.clientName,onChange:V=>v({...x,clientName:V.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:"Enter client name",required:!0})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number *"}),e.jsx("input",{type:"tel",value:x.phone,onChange:V=>v({...x,phone:V.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:"+971 50 123 4567",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),e.jsx("input",{type:"email",value:x.email,onChange:V=>v({...x,email:V.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:"client@email.com"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Desired Service *"}),e.jsxs("select",{value:x.service,onChange:V=>v({...x,service:V.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",required:!0,children:[e.jsx("option",{value:"",children:"Select a service"}),K.map(V=>e.jsx("option",{value:V,children:V},V))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Master Preference"}),e.jsx("select",{value:x.masterPreference,onChange:V=>v({...x,masterPreference:V.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",children:Z.map(V=>e.jsx("option",{value:V,children:V},V))})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Preferred Date *"}),e.jsx("input",{type:"date",value:x.requestedDate,onChange:V=>v({...x,requestedDate:V.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Preferred Time *"}),e.jsx("input",{type:"time",value:x.requestedTime,onChange:V=>v({...x,requestedTime:V.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",required:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Priority Level"}),e.jsx("div",{className:"flex gap-3",children:["high","normal","low"].map(V=>e.jsx("button",{type:"button",onClick:()=>v({...x,priority:V}),className:`flex-1 px-4 py-2 rounded-lg border-2 transition-all ${x.priority===V?V==="high"?"border-red-500 bg-red-50 text-red-700":V==="normal"?"border-gray-500 bg-gray-50 text-gray-700":"border-gray-300 bg-gray-50 text-gray-500":"border-gray-200 text-gray-600 hover:border-gray-300"}`,children:V.charAt(0).toUpperCase()+V.slice(1)},V))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes"}),e.jsx("textarea",{value:x.notes,onChange:V=>v({...x,notes:V.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:"Any special requests or preferences...",rows:3})]})]}),e.jsxs("div",{className:"sticky bottom-0 bg-gray-50 border-t border-gray-200 p-6 flex items-center justify-end gap-3",children:[e.jsx(Q,{variant:"outline",onClick:()=>i(!1),children:"Cancel"}),e.jsx(Q,{onClick:k,disabled:!x.clientName||!x.phone||!x.service||!x.requestedDate||!x.requestedTime,className:"bg-purple-600 hover:bg-purple-700 text-white disabled:opacity-50 disabled:cursor-not-allowed",children:"Add to Waiting List"})]})]})}),o&&c&&e.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsxs("h2",{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:[e.jsx(Pa,{className:"w-5 h-5 text-purple-600"}),"Send Notification"]})}),e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Client"}),e.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[e.jsx("p",{className:"font-medium text-gray-900",children:c.clientName}),e.jsx("p",{className:"text-sm text-gray-600",children:c.phone}),e.jsx("p",{className:"text-sm text-gray-600",children:c.email})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Message"}),e.jsx("textarea",{value:m,onChange:V=>p(V.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",rows:6})]}),e.jsxs("div",{className:"flex items-center gap-2 p-3 bg-blue-50 rounded-lg",children:[e.jsx(An,{className:"w-4 h-4 text-blue-600 flex-shrink-0"}),e.jsxs("p",{className:"text-xs text-blue-700",children:["Notification will be sent via SMS",c.email?", Email":""," and WhatsApp"]})]})]}),e.jsxs("div",{className:"p-6 border-t border-gray-200 flex items-center justify-end gap-3",children:[e.jsx(Q,{variant:"outline",onClick:()=>{l(!1),u(null)},children:"Cancel"}),e.jsxs(Q,{onClick:$,className:"bg-blue-600 hover:bg-blue-700 text-white",children:[e.jsx(ys,{className:"w-4 h-4 mr-2"}),"Send Notification"]})]})]})}),e.jsxs("div",{className:"grid md:grid-cols-4 gap-4",children:[e.jsx(ne,{children:e.jsx(ke,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Waiting"}),e.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:S})]}),e.jsx(pt,{className:"w-8 h-8 text-yellow-600"})]})})}),e.jsx(ne,{children:e.jsx(ke,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Notified"}),e.jsx("p",{className:"text-2xl font-bold text-blue-600",children:C})]}),e.jsx(ys,{className:"w-8 h-8 text-blue-600"})]})})}),e.jsx(ne,{children:e.jsx(ke,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Converted"}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:P})]}),e.jsx(zt,{className:"w-8 h-8 text-green-600"})]})})}),e.jsx(ne,{children:e.jsx(ke,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Conversion Rate"}),e.jsxs("p",{className:"text-2xl font-bold text-purple-600",children:[(P/w.length*100).toFixed(0),"%"]})]}),e.jsx(An,{className:"w-8 h-8 text-purple-600"})]})})})]}),e.jsx("div",{className:"flex gap-2",children:["all","waiting","notified","booked","cancelled"].map(V=>e.jsxs("button",{onClick:()=>s(V),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${n===V?"bg-purple-600 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:[V.charAt(0).toUpperCase()+V.slice(1),V!=="all"&&e.jsx("span",{className:"ml-1.5 px-1.5 py-0.5 bg-white bg-opacity-20 rounded text-xs",children:w.filter(W=>W.status===V).length})]},V))}),e.jsx(ne,{children:e.jsxs(ke,{className:"p-0",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left p-4 text-sm font-medium text-gray-600",children:"Client"}),e.jsx("th",{className:"text-left p-4 text-sm font-medium text-gray-600",children:"Service"}),e.jsx("th",{className:"text-left p-4 text-sm font-medium text-gray-600",children:"Master"}),e.jsx("th",{className:"text-left p-4 text-sm font-medium text-gray-600",children:"Requested Date/Time"}),e.jsx("th",{className:"text-left p-4 text-sm font-medium text-gray-600",children:"Added On"}),e.jsx("th",{className:"text-left p-4 text-sm font-medium text-gray-600",children:"Priority"}),e.jsx("th",{className:"text-left p-4 text-sm font-medium text-gray-600",children:"Status"}),t!=="master"&&e.jsx("th",{className:"text-right p-4 text-sm font-medium text-gray-600",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:j.map(V=>{const W=T(V.status),G=W.icon;return e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"p-4",children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:V.clientName}),e.jsxs("div",{className:"text-xs text-gray-500 flex items-center gap-2 mt-1",children:[e.jsx(En,{className:"w-3 h-3"}),t==="master"?"***-***-"+V.phone.slice(-4):V.phone]}),e.jsxs("div",{className:"text-xs text-gray-500 flex items-center gap-2",children:[e.jsx(Ut,{className:"w-3 h-3"}),V.email]})]})}),e.jsx("td",{className:"p-4",children:e.jsx("span",{className:"text-sm text-gray-900",children:V.service})}),e.jsx("td",{className:"p-4",children:e.jsx("span",{className:"text-sm text-gray-600",children:V.masterPreference})}),e.jsx("td",{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[e.jsx(vt,{className:"w-4 h-4 text-purple-600"}),e.jsx("span",{className:"font-medium text-gray-900",children:V.requestedDate}),e.jsxs("span",{className:"text-gray-500",children:["at ",V.requestedTime]})]})}),e.jsx("td",{className:"p-4",children:e.jsx("span",{className:"text-xs text-gray-500",children:V.addedOn})}),e.jsx("td",{className:"p-4",children:_(V.priority)}),e.jsx("td",{className:"p-4",children:e.jsxs("div",{className:`inline-flex items-center gap-1.5 px-2 py-1 rounded-full ${W.bg}`,children:[e.jsx(G,{className:`w-3 h-3 ${W.text}`}),e.jsx("span",{className:`text-xs font-medium ${W.text}`,children:W.label})]})}),t!=="master"&&e.jsx("td",{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[V.status==="waiting"&&e.jsxs(e.Fragment,{children:[e.jsxs(Q,{size:"sm",className:"bg-blue-600 hover:bg-blue-700 text-white",onClick:()=>M(V),children:[e.jsx(ys,{className:"w-3 h-3 mr-1"}),"Notify"]}),e.jsx(Q,{size:"sm",variant:"outline",onClick:()=>B(V),children:"Book"})]}),V.status==="notified"&&e.jsxs(Q,{size:"sm",className:"bg-green-600 hover:bg-green-700 text-white",onClick:()=>F(V),children:[e.jsx(zt,{className:"w-3 h-3 mr-1"}),"Confirm Booking"]}),V.status==="waiting"||V.status==="notified"?e.jsx(Q,{size:"sm",variant:"outline",className:"text-red-600 hover:bg-red-50",onClick:()=>H(V),children:"Cancel"}):null]})})]},V.id)})})]})}),j.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(pt,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-500",children:"No entries in waiting list"})]})]})}),e.jsx(ne,{className:"bg-blue-50 border-blue-200",children:e.jsxs(ke,{className:"p-6",children:[e.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx(ys,{className:"w-5 h-5 text-blue-600"}),"Auto-Notification Settings"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 bg-white rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Notify when slot opens"}),e.jsx("p",{className:"text-xs text-gray-600",children:"Automatically send SMS/Email when requested slot becomes available"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",defaultChecked:!0,className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-white rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Priority notifications"}),e.jsx("p",{className:"text-xs text-gray-600",children:"Send high-priority entries to multiple channels (SMS + Email + WhatsApp)"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",defaultChecked:!0,className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-white rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Auto-remove after 7 days"}),e.jsx("p",{className:"text-xs text-gray-600",children:"Remove entries from waiting list if not converted within 7 days"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})]})]})})]})}function p7({onBack:t}){var K;const{masters:r,updateMaster:n}=s8(),{signOut:s}=Ma(),[a,i]=N.useState("day"),[o,l]=N.useState(new Date),[c,u]=N.useState(!1),[m,p]=N.useState(new Date),[x,v]=N.useState(!1),[w,y]=N.useState(!1),[j,S]=N.useState(null);N.useEffect(()=>{const Z=setInterval(()=>{p(new Date)},6e4);return()=>clearInterval(Z)},[]);const C=()=>{v(!x),!x&&document.documentElement.requestFullscreen?document.documentElement.requestFullscreen().catch(()=>{}):x&&document.exitFullscreen&&document.exitFullscreen().catch(()=>{})},P=r[0],T=new Date,[_]=N.useState([{id:"1",clientName:"Anna K.",service:"Manicure",date:new Date(T.getFullYear(),T.getMonth(),T.getDate()),time:"10:00",duration:60,price:50,status:"confirmed",category:"Manicure"},{id:"2",clientName:"Maria S.",service:"Pedicure",date:new Date(T.getFullYear(),T.getMonth(),T.getDate()),time:"14:30",duration:90,price:75,status:"confirmed",category:"Pedicure"},{id:"3",clientName:"Ewa P.",service:"Gel Manicure",date:new Date(T.getFullYear(),T.getMonth(),T.getDate()+1),time:"11:15",duration:75,price:65,status:"confirmed",category:"Manicure"},{id:"4",clientName:"Katarzyna W.",service:"Manicure + Design",date:new Date(T.getFullYear(),T.getMonth(),T.getDate()+1),time:"15:30",duration:90,price:85,status:"pending",category:"Manicure"},{id:"5",clientName:"Joanna M.",service:"Pedicure",date:new Date(T.getFullYear(),T.getMonth(),T.getDate()+2),time:"10:00",duration:90,price:75,status:"confirmed",category:"Pedicure"},{id:"6",clientName:"Sofia L.",service:"Manicure",date:new Date(T.getFullYear(),T.getMonth(),T.getDate()+3),time:"13:00",duration:60,price:50,status:"confirmed",category:"Manicure"},{id:"7",clientName:"Natalia B.",service:"Gel Manicure",date:new Date(T.getFullYear(),T.getMonth(),T.getDate()+5),time:"09:30",duration:75,price:65,status:"confirmed",category:"Manicure"},{id:"8",clientName:"Alina K.",service:"Pedicure",date:new Date(T.getFullYear(),T.getMonth(),T.getDate()+7),time:"16:00",duration:90,price:75,status:"pending",category:"Pedicure"},{id:"9",clientName:"Diana M.",service:"Manicure + Design",date:new Date(T.getFullYear(),T.getMonth(),T.getDate()+10),time:"12:30",duration:90,price:85,status:"confirmed",category:"Manicure"},{id:"10",clientName:"Victoria S.",service:"Manicure",date:new Date(T.getFullYear(),T.getMonth(),T.getDate()+14),time:"11:00",duration:60,price:50,status:"confirmed",category:"Manicure"}]);if(!P)return e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsx("div",{className:"text-center",children:e.jsx("p",{className:"text-gray-600",children:"Master profile not found"})})});const k=Z=>{var W;const V=(W=Z.target.files)==null?void 0:W[0];if(V){const G=new FileReader;G.onloadend=()=>{const O=G.result;n({...P,avatar:O})},G.readAsDataURL(V)}},M=()=>{const Z=new Date(o);switch(Z.setHours(0,0,0,0),a){case"day":return _.filter(G=>{const O=new Date(G.date);return O.setHours(0,0,0,0),O.getTime()===Z.getTime()});case"week":const V=new Date(Z);V.setDate(Z.getDate()-Z.getDay()+1);const W=new Date(V);return W.setDate(V.getDate()+6),_.filter(G=>{const O=new Date(G.date);return O.setHours(0,0,0,0),O>=V&&O<=W});case"month":return _.filter(G=>{const O=new Date(G.date);return O.getMonth()===Z.getMonth()&&O.getFullYear()===Z.getFullYear()});default:return _}},$=Z=>{const V=new Date(o);switch(a){case"day":V.setDate(o.getDate()+(Z==="next"?1:-1));break;case"week":V.setDate(o.getDate()+(Z==="next"?7:-7));break;case"month":V.setMonth(o.getMonth()+(Z==="next"?1:-1));break}l(V)},B=()=>{const Z={month:"long",year:"numeric",day:a==="day"?"numeric":void 0};if(a==="week"){const V=new Date(o);V.setDate(o.getDate()-o.getDay()+1);const W=new Date(V);return W.setDate(V.getDate()+6),`${V.toLocaleDateString("en-US",{month:"short",day:"numeric"})} - ${W.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}`}return o.toLocaleDateString("en-US",Z)},F=M();F.filter(Z=>Z.status==="confirmed").reduce((Z,V)=>Z+V.price,0);const H=()=>e.jsxs("div",{className:"fixed inset-0 bg-gray-50 z-50 overflow-auto",children:[e.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-pink-600 text-white sticky top-0 z-30",children:e.jsxs("div",{className:"px-2 sm:px-4 py-2 sm:py-3",children:[e.jsxs("div",{className:"flex items-center justify-between gap-2",children:[e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 flex-1 min-w-0",children:[e.jsx("div",{className:"w-7 h-7 sm:w-8 sm:h-8 rounded-full bg-white/20 flex items-center justify-center overflow-hidden shrink-0",children:P.avatar?e.jsx("img",{src:P.avatar,alt:P.firstName,className:"w-full h-full object-cover"}):e.jsxs("span",{className:"text-[10px] sm:text-xs font-bold",children:[P.firstName[0],P.lastName[0]]})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsxs("div",{className:"font-bold text-xs sm:text-sm truncate",children:[P.firstName," ",P.lastName]}),e.jsxs("div",{className:"text-[10px] sm:text-xs text-purple-100",children:[F.length," appointments"]})]})]}),e.jsxs(Q,{variant:"outline",size:"sm",className:"bg-white/10 border-white/20 text-white hover:bg-white/20 shrink-0 text-xs",onClick:C,children:[e.jsx(wC,{className:"w-3 h-3 sm:w-4 sm:h-4 sm:mr-2"}),e.jsx("span",{className:"hidden sm:inline",children:"Exit"})]})]}),e.jsxs("div",{className:"mt-3 flex items-center justify-between gap-1 sm:gap-2",children:[e.jsxs("div",{className:"flex items-center gap-1 sm:gap-2 flex-1 min-w-0",children:[e.jsx(Q,{variant:"outline",size:"sm",className:"bg-white/10 border-white/20 text-white hover:bg-white/20 h-8 w-8 p-0 shrink-0",onClick:()=>$("prev"),children:e.jsx(Bh,{className:"w-4 h-4"})}),e.jsx("div",{className:"font-bold text-[11px] sm:text-sm flex-1 text-center truncate",children:B()}),e.jsx(Q,{variant:"outline",size:"sm",className:"bg-white/10 border-white/20 text-white hover:bg-white/20 h-8 w-8 p-0 shrink-0",onClick:()=>$("next"),children:e.jsx(Gs,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex items-center gap-0.5 bg-white/10 rounded-lg p-0.5 shrink-0",children:[e.jsxs("button",{onClick:()=>i("day"),className:`px-2 sm:px-3 py-1 rounded text-[10px] sm:text-xs font-bold transition-colors ${a==="day"?"bg-white text-purple-600 shadow-sm":"text-white hover:bg-white/20"}`,children:[e.jsx("span",{className:"hidden sm:inline",children:"Day"}),e.jsx("span",{className:"sm:hidden",children:"D"})]}),e.jsxs("button",{onClick:()=>i("week"),className:`px-2 sm:px-3 py-1 rounded text-[10px] sm:text-xs font-bold transition-colors ${a==="week"?"bg-white text-purple-600 shadow-sm":"text-white hover:bg-white/20"}`,children:[e.jsx("span",{className:"hidden sm:inline",children:"Week"}),e.jsx("span",{className:"sm:hidden",children:"W"})]}),e.jsxs("button",{onClick:()=>i("month"),className:`px-2 sm:px-3 py-1 rounded text-[10px] sm:text-xs font-bold transition-colors ${a==="month"?"bg-white text-purple-600 shadow-sm":"text-white hover:bg-white/20"}`,children:[e.jsx("span",{className:"hidden sm:inline",children:"Month"}),e.jsx("span",{className:"sm:hidden",children:"M"})]})]})]})]})}),e.jsx("div",{className:"p-4",children:e.jsx(ne,{children:e.jsxs(ke,{className:"p-0",children:[a==="day"&&e.jsxs("div",{className:"overflow-auto max-h-[600px]",children:[e.jsx("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 border-b-2 border-purple-200 p-3 sticky top-0 z-20",children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-purple-100 to-pink-100 flex items-center justify-center overflow-hidden",children:P.avatar?e.jsx("img",{src:P.avatar,alt:`${P.firstName} ${P.lastName}`,className:"w-full h-full object-cover"}):e.jsxs("span",{className:"text-xs font-bold text-purple-600",children:[P.firstName[0],P.lastName[0]]})}),e.jsxs("h3",{className:"font-bold text-sm text-gray-900",children:[P.firstName," ",P.lastName]})]})}),e.jsxs("div",{className:"relative",children:[(()=>{const Z=m,V=Z.getHours(),W=Z.getMinutes();if(V>=9&&V<20){const O=((V-9)*60+W)/15*40;return e.jsx("div",{className:"absolute left-0 right-0 z-10 pointer-events-none",style:{top:`${O}px`},children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-20 flex-shrink-0 pr-2 text-right",children:e.jsxs("span",{className:"text-xs font-bold text-red-600 bg-red-50 px-2 py-0.5 rounded",children:[String(V).padStart(2,"0"),":",String(W).padStart(2,"0")]})}),e.jsx("div",{className:"flex-1 h-0.5 bg-red-500 relative",children:e.jsx("div",{className:"absolute -left-1 -top-1 w-2 h-2 bg-red-500 rounded-full animate-pulse"})})]})})}return null})(),Array.from({length:45},(Z,V)=>{const W=540+V*15,G=Math.floor(W/60),O=W%60,R=`${String(G).padStart(2,"0")}:${String(O).padStart(2,"0")}`,D=F.filter(q=>q.time===R),I=O===0||O===30;return e.jsx("div",{className:`border-b transition-colors ${O===0?"border-gray-300":"border-gray-100"} hover:bg-purple-50/20`,style:{height:"40px"},children:e.jsxs("div",{className:"flex h-full",children:[e.jsx("div",{className:`w-20 flex-shrink-0 pr-2 text-right border-r border-gray-200 ${I?"pt-1":""}`,children:I&&e.jsx("span",{className:"text-xs text-gray-500 font-medium",children:R})}),e.jsx("div",{className:"flex-1 relative",children:D.length>0?D.map(q=>{const J=q.duration/15*40;return e.jsx("div",{className:`absolute inset-x-0 mx-1 mt-0.5 rounded-lg p-2 border-l-4 shadow-sm ${q.status==="confirmed"?"bg-green-50 border-green-500":"bg-yellow-50 border-yellow-500"}`,style:{height:`${J-4}px`,minHeight:"36px"},children:e.jsxs("div",{className:"flex items-start justify-between h-full",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-1.5 mb-0.5",children:[e.jsx("div",{className:"w-6 h-6 rounded-full bg-gradient-to-br from-purple-100 to-pink-100 flex items-center justify-center flex-shrink-0",children:e.jsx("span",{className:"text-[10px] font-bold text-purple-600",children:q.clientName.split(" ").map(ie=>ie[0]).join("")})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("div",{className:"font-bold text-xs text-gray-900 truncate",children:q.clientName}),e.jsx("div",{className:"text-[10px] text-gray-600 truncate",children:q.service})]})]}),q.duration>=30&&e.jsxs("div",{className:"text-[10px] text-gray-500 ml-7 mt-1",children:[q.duration," min  ",q.time]})]}),e.jsx("div",{className:`text-[10px] font-medium px-1.5 py-0.5 rounded flex-shrink-0 ml-1 ${q.status==="confirmed"?"bg-green-200 text-green-800":"bg-yellow-200 text-yellow-800"}`,children:q.status==="confirmed"?"":""})]})},q.id)}):null})]})},R)})]}),e.jsx("div",{className:"bg-blue-50 border-t border-blue-200 p-3 text-center sticky bottom-0",children:e.jsx("p",{className:"text-xs text-blue-800",children:" View-only calendar  Contact admin to modify bookings"})})]}),a==="week"&&(()=>{const Z=new Date(o);Z.setDate(o.getDate()-o.getDay()+1);const V=Array.from({length:7},(W,G)=>{const O=new Date(Z);return O.setDate(Z.getDate()+G),O});return e.jsxs("div",{className:"overflow-auto max-h-[600px]",children:[e.jsx("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 border-b-2 border-purple-200 sticky top-0 z-20",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"w-16 flex-shrink-0"}),V.map((W,G)=>{const O=W.toDateString()===new Date().toDateString();return e.jsxs("div",{className:"flex-1 p-2 text-center border-l border-purple-200",children:[e.jsx("div",{className:`text-xs font-medium ${O?"text-purple-600":"text-gray-600"}`,children:W.toLocaleDateString("en-US",{weekday:"short"})}),e.jsx("div",{className:`text-sm font-bold ${O?"text-purple-600":"text-gray-900"}`,children:W.getDate()})]},G)})]})}),e.jsx("div",{className:"relative",children:Array.from({length:45},(W,G)=>{const O=540+G*15,R=Math.floor(O/60),D=O%60,I=`${String(R).padStart(2,"0")}:${String(D).padStart(2,"0")}`,q=D===0||D===30;return e.jsx("div",{className:`border-b ${D===0?"border-gray-300":"border-gray-100"}`,style:{height:"40px"},children:e.jsxs("div",{className:"flex h-full",children:[e.jsx("div",{className:`w-16 flex-shrink-0 pr-2 text-right border-r border-gray-200 ${q?"pt-1":""}`,children:q&&e.jsx("span",{className:"text-xs text-gray-500 font-medium",children:I})}),V.map((J,ie)=>{const ee=F.filter(ae=>new Date(ae.date).toDateString()===J.toDateString()&&ae.time===I);return e.jsx("div",{className:"flex-1 border-l border-gray-100 relative hover:bg-purple-50/20 transition-colors",children:ee.map(ae=>{const oe=ae.duration/15*40;return e.jsxs("div",{className:`absolute inset-x-0 mx-0.5 mt-0.5 rounded p-1 border-l-2 text-[9px] ${ae.status==="confirmed"?"bg-green-50 border-green-500":"bg-yellow-50 border-yellow-500"}`,style:{height:`${oe-4}px`,minHeight:"36px"},children:[e.jsx("div",{className:"font-bold text-gray-900 truncate",children:ae.clientName}),e.jsx("div",{className:"text-gray-600 truncate",children:ae.service}),e.jsx("div",{className:"text-gray-500",children:ae.time})]},ae.id)})},ie)})]})},I)})}),e.jsx("div",{className:"bg-blue-50 border-t border-blue-200 p-3 text-center sticky bottom-0",children:e.jsx("p",{className:"text-xs text-blue-800",children:" View-only calendar  Contact admin to modify bookings"})})]})})(),a==="month"&&(()=>{const Z=new Date(o.getFullYear(),o.getMonth(),1);new Date(o.getFullYear(),o.getMonth()+1,0);const V=new Date(Z);V.setDate(V.getDate()-(V.getDay()===0?6:V.getDay()-1));const W=[],G=new Date(V);for(let O=0;O<35;O++)W.push(new Date(G)),G.setDate(G.getDate()+1);return e.jsxs("div",{className:"p-2 sm:p-4",children:[e.jsx("div",{className:"grid grid-cols-7 gap-0.5 sm:gap-1 mb-1",children:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"].map(O=>e.jsx("div",{className:"p-1 sm:p-2 text-center text-[10px] sm:text-xs font-bold text-gray-600",children:O},O))}),e.jsx("div",{className:"grid grid-cols-7 gap-0.5 sm:gap-1",children:W.map((O,R)=>{const D=O.getMonth()===o.getMonth(),I=O.toDateString()===new Date().toDateString(),q=F.filter(J=>new Date(J.date).toDateString()===O.toDateString());return e.jsxs("div",{className:`min-h-[60px] sm:min-h-[100px] p-1 sm:p-2 rounded border sm:border-2 ${I?"bg-purple-50 border-purple-400":D?"bg-white border-gray-300":"bg-gray-50 border-gray-200"}`,children:[e.jsx("div",{className:`text-[11px] sm:text-sm font-bold mb-0.5 sm:mb-1 ${I?"text-purple-600":D?"text-gray-900":"text-gray-400"}`,children:O.getDate()}),e.jsxs("div",{className:"space-y-0.5 sm:space-y-1",children:[e.jsx("div",{className:"flex flex-wrap gap-0.5 sm:hidden",children:q.slice(0,4).map(J=>e.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${J.status==="confirmed"?"bg-green-500":"bg-yellow-500"}`,title:`${J.time} - ${J.clientName}`},J.id))}),e.jsx("div",{className:"hidden sm:block",children:q.slice(0,2).map(J=>e.jsxs("div",{className:`text-[9px] p-1 rounded ${J.status==="confirmed"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:[e.jsx("div",{className:"font-bold truncate",children:J.time}),e.jsx("div",{className:"truncate",children:J.clientName})]},J.id))})]}),q.length>4&&e.jsxs("div",{className:"text-[9px] sm:text-[10px] text-gray-600 font-medium mt-0.5 sm:mt-1",children:["+",q.length-4]})]},R)})}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 text-center mt-4",children:e.jsx("p",{className:"text-xs text-blue-800",children:" View-only calendar  Contact admin to modify bookings"})})]})})()]})})})]});return x?e.jsx(H,{}):e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsxs("button",{onClick:C,className:"fixed bottom-6 right-6 z-[9999] w-16 h-16 bg-gradient-to-br from-purple-600 via-purple-500 to-pink-600 text-white rounded-full shadow-2xl hover:shadow-[0_20px_50px_rgba(147,51,234,0.5)] transform hover:scale-110 transition-all duration-300 flex items-center justify-center group animate-pulse","aria-label":"Fullscreen Calendar",style:{boxShadow:"0 10px 40px rgba(147, 51, 234, 0.4)"},children:[e.jsx(jC,{className:"w-7 h-7"}),e.jsx("span",{className:"absolute -top-12 right-0 bg-gray-900 text-white text-xs px-3 py-2 rounded-lg whitespace-nowrap opacity-0 group-hover:opacity-100 transition-opacity shadow-xl",children:" Fullscreen Mode"})]}),e.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-pink-600 text-white",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[t&&e.jsxs(Q,{variant:"outline",className:"bg-white/10 border-white/20 text-white hover:bg-white/20",onClick:t,children:[e.jsx(Vi,{className:"w-4 h-4 mr-2"}),"Back"]}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Master Dashboard"}),e.jsx("p",{className:"text-purple-100 mt-1",children:"Manage your schedule and profile"})]})]}),e.jsxs(Q,{variant:"outline",className:"bg-white/10 border-white/20 text-white hover:bg-white/20",onClick:t||(()=>s()),children:[e.jsx(Qv,{className:"w-4 h-4 mr-2"}),t?"Switch Role":"Sign Out"]})]})})}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsx(ne,{children:e.jsx(ke,{className:"p-6",children:e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"relative inline-block mb-4",children:[e.jsx("div",{className:"w-32 h-32 rounded-full bg-gradient-to-br from-purple-100 to-pink-100 flex items-center justify-center overflow-hidden",children:P.avatar?e.jsx("img",{src:P.avatar,alt:`${P.firstName} ${P.lastName}`,className:"w-full h-full object-cover"}):e.jsxs("span",{className:"text-4xl font-bold text-purple-600",children:[P.firstName[0],P.lastName[0]]})}),e.jsxs("label",{className:"absolute bottom-0 right-0 w-10 h-10 bg-purple-600 rounded-full flex items-center justify-center cursor-pointer hover:bg-purple-700 transition-colors shadow-lg",children:[e.jsx(IV,{className:"w-5 h-5 text-white"}),e.jsx("input",{type:"file",accept:"image/*",onChange:k,className:"hidden"})]})]}),e.jsxs("h2",{className:"text-2xl font-bold text-gray-900 mb-1",children:[P.firstName," ",P.lastName]}),e.jsx("p",{className:"text-gray-600 mb-4",children:P.categories.join(", ")}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"bg-purple-50 rounded-lg p-3",children:[e.jsxs("div",{className:"flex items-center justify-center gap-1 text-yellow-500 mb-1",children:[e.jsx(Gt,{className:"w-4 h-4 fill-current"}),e.jsx("span",{className:"font-bold text-lg text-gray-900",children:(K=P.rating)==null?void 0:K.toFixed(1)})]}),e.jsx("div",{className:"text-xs text-gray-600",children:"Rating"})]}),e.jsxs("div",{className:"bg-blue-50 rounded-lg p-3",children:[e.jsx("div",{className:"text-lg font-bold text-gray-900 mb-1",children:P.completedBookings}),e.jsx("div",{className:"text-xs text-gray-600",children:"Bookings"})]})]}),e.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm text-gray-600 mb-1",children:[e.jsx(zn,{className:"w-4 h-4"}),e.jsx("span",{children:P.email})]})})]})})}),e.jsx(ne,{children:e.jsxs(ke,{className:"p-6",children:[e.jsx("h3",{className:"font-bold text-gray-900 mb-3",children:" Quick Information"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"bg-purple-50 rounded-lg p-3",children:[e.jsx("div",{className:"text-xs text-gray-600 mb-1",children:"Specialization"}),e.jsx("div",{className:"text-sm font-medium text-gray-900",children:P.categories.join(", ")})]}),e.jsxs("div",{className:"bg-blue-50 rounded-lg p-3",children:[e.jsx("div",{className:"text-xs text-gray-600 mb-1",children:"Services Offered"}),e.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[P.services.length," services"]})]}),e.jsxs("div",{className:"bg-green-50 rounded-lg p-3",children:[e.jsx("div",{className:"text-xs text-gray-600 mb-1",children:"Total Clients Served"}),e.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[P.completedBookings," bookings"]})]})]})]})})]}),e.jsxs("div",{className:"lg:col-span-2 space-y-0",children:[e.jsx("div",{className:"bg-white rounded-t-lg shadow-lg overflow-hidden mb-6",children:e.jsx(RL,{salonId:"demo-salon-123",products:IL,onCheckoutComplete:async Z=>{console.log(" Retail sale completed:",Z),ve.success(` Sale completed! ${Z.items.length} items sold`,{description:Z.certificateUsed?`Certificate used: ${Z.certificateUsed.code}`:`Total: AED ${Z.total}`})}})}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsx(ne,{children:e.jsx(ke,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-purple-100 flex items-center justify-center",children:e.jsx(vt,{className:"w-6 h-6 text-purple-600"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:F.length}),e.jsx("div",{className:"text-xs text-gray-600",children:"Appointments"})]})]})})}),e.jsx(ne,{children:e.jsx(ke,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-green-100 flex items-center justify-center",children:e.jsx(zt,{className:"w-6 h-6 text-green-600"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:F.filter(Z=>Z.status==="confirmed").length}),e.jsx("div",{className:"text-xs text-gray-600",children:"Confirmed"})]})]})})})]}),e.jsx(ne,{children:e.jsx(ke,{className:"p-4",children:e.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Q,{variant:"outline",size:"sm",onClick:()=>$("prev"),children:e.jsx(Bh,{className:"w-4 h-4"})}),e.jsx("div",{className:"text-lg font-bold text-gray-900 min-w-[200px] text-center",children:B()}),e.jsx(Q,{variant:"outline",size:"sm",onClick:()=>$("next"),children:e.jsx(Gs,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex items-center gap-1 sm:gap-2 bg-gray-100 rounded-lg p-1 shrink-0",children:[e.jsxs("button",{onClick:()=>i("day"),className:`px-2 sm:px-4 py-2 rounded-lg text-xs sm:text-sm font-bold transition-colors ${a==="day"?"bg-white text-purple-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:[e.jsx("span",{className:"hidden sm:inline",children:"Day"}),e.jsx("span",{className:"sm:hidden",children:"D"})]}),e.jsxs("button",{onClick:()=>i("week"),className:`px-2 sm:px-4 py-2 rounded-lg text-xs sm:text-sm font-bold transition-colors ${a==="week"?"bg-white text-purple-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:[e.jsx("span",{className:"hidden sm:inline",children:"Week"}),e.jsx("span",{className:"sm:hidden",children:"W"})]}),e.jsxs("button",{onClick:()=>i("month"),className:`px-2 sm:px-4 py-2 rounded-lg text-xs sm:text-sm font-bold transition-colors ${a==="month"?"bg-white text-purple-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:[e.jsx("span",{className:"hidden sm:inline",children:"Month"}),e.jsx("span",{className:"sm:hidden",children:"M"})]})]})]})})}),e.jsx(ne,{children:e.jsxs(ke,{className:"p-0",children:[a==="day"&&e.jsxs("div",{className:"overflow-auto max-h-[600px]",children:[e.jsx("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 border-b-2 border-purple-200 p-3 sticky top-0 z-20",children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-purple-100 to-pink-100 flex items-center justify-center overflow-hidden",children:P.avatar?e.jsx("img",{src:P.avatar,alt:`${P.firstName} ${P.lastName}`,className:"w-full h-full object-cover"}):e.jsxs("span",{className:"text-xs font-bold text-purple-600",children:[P.firstName[0],P.lastName[0]]})}),e.jsxs("h3",{className:"font-bold text-sm text-gray-900",children:[P.firstName," ",P.lastName]})]})}),e.jsxs("div",{className:"relative",children:[(()=>{const Z=m,V=Z.getHours(),W=Z.getMinutes();if(V>=9&&V<20){const O=((V-9)*60+W)/15*40;return e.jsx("div",{className:"absolute left-0 right-0 z-10 pointer-events-none",style:{top:`${O}px`},children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-20 flex-shrink-0 pr-2 text-right",children:e.jsxs("span",{className:"text-xs font-bold text-red-600 bg-red-50 px-2 py-0.5 rounded",children:[String(V).padStart(2,"0"),":",String(W).padStart(2,"0")]})}),e.jsx("div",{className:"flex-1 h-0.5 bg-red-500 relative",children:e.jsx("div",{className:"absolute -left-1 -top-1 w-2 h-2 bg-red-500 rounded-full animate-pulse"})})]})})}return null})(),Array.from({length:45},(Z,V)=>{const W=540+V*15,G=Math.floor(W/60),O=W%60,R=`${String(G).padStart(2,"0")}:${String(O).padStart(2,"0")}`,D=F.filter(q=>q.time===R),I=O===0||O===30;return e.jsx("div",{className:`border-b transition-colors ${O===0?"border-gray-300":"border-gray-100"} hover:bg-purple-50/20`,style:{height:"40px"},children:e.jsxs("div",{className:"flex h-full",children:[e.jsx("div",{className:`w-20 flex-shrink-0 pr-2 text-right border-r border-gray-200 ${I?"pt-1":""}`,children:I&&e.jsx("span",{className:"text-xs text-gray-500 font-medium",children:R})}),e.jsx("div",{className:"flex-1 relative",children:D.length>0?D.map(q=>{const J=q.duration/15*40;return e.jsx("div",{className:`absolute inset-x-0 mx-1 mt-0.5 rounded-lg p-2 border-l-4 shadow-sm ${q.status==="confirmed"?"bg-green-50 border-green-500":"bg-yellow-50 border-yellow-500"}`,style:{height:`${J-4}px`,minHeight:"36px"},children:e.jsxs("div",{className:"flex items-start justify-between h-full",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-1.5 mb-0.5",children:[e.jsx("div",{className:"w-6 h-6 rounded-full bg-gradient-to-br from-purple-100 to-pink-100 flex items-center justify-center flex-shrink-0",children:e.jsx("span",{className:"text-[10px] font-bold text-purple-600",children:q.clientName.split(" ").map(ie=>ie[0]).join("")})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("div",{className:"font-bold text-xs text-gray-900 truncate",children:q.clientName}),e.jsx("div",{className:"text-[10px] text-gray-600 truncate",children:q.service})]})]}),q.duration>=30&&e.jsxs("div",{className:"text-[10px] text-gray-500 ml-7 mt-1",children:[q.duration," min  ",q.time]})]}),e.jsx("div",{className:`text-[10px] font-medium px-1.5 py-0.5 rounded flex-shrink-0 ml-1 ${q.status==="confirmed"?"bg-green-200 text-green-800":"bg-yellow-200 text-yellow-800"}`,children:q.status==="confirmed"?"":""})]})},q.id)}):null})]})},R)})]}),e.jsx("div",{className:"bg-blue-50 border-t border-blue-200 p-3 text-center sticky bottom-0",children:e.jsx("p",{className:"text-xs text-blue-800",children:" View-only calendar  Contact admin to modify bookings"})})]}),a==="week"&&(()=>{const Z=new Date(o);Z.setDate(o.getDate()-o.getDay()+1);const V=Array.from({length:7},(W,G)=>{const O=new Date(Z);return O.setDate(Z.getDate()+G),O});return e.jsxs("div",{className:"overflow-auto max-h-[600px]",children:[e.jsx("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 border-b-2 border-purple-200 sticky top-0 z-20",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"w-16 flex-shrink-0"}),V.map((W,G)=>{const O=W.toDateString()===new Date().toDateString();return e.jsxs("div",{className:"flex-1 p-2 text-center border-l border-purple-200",children:[e.jsx("div",{className:`text-xs font-medium ${O?"text-purple-600":"text-gray-600"}`,children:W.toLocaleDateString("en-US",{weekday:"short"})}),e.jsx("div",{className:`text-sm font-bold ${O?"text-purple-600":"text-gray-900"}`,children:W.getDate()})]},G)})]})}),e.jsx("div",{className:"relative",children:Array.from({length:45},(W,G)=>{const O=540+G*15,R=Math.floor(O/60),D=O%60,I=`${String(R).padStart(2,"0")}:${String(D).padStart(2,"0")}`,q=D===0||D===30;return e.jsx("div",{className:`border-b ${D===0?"border-gray-300":"border-gray-100"}`,style:{height:"40px"},children:e.jsxs("div",{className:"flex h-full",children:[e.jsx("div",{className:`w-16 flex-shrink-0 pr-2 text-right border-r border-gray-200 ${q?"pt-1":""}`,children:q&&e.jsx("span",{className:"text-xs text-gray-500 font-medium",children:I})}),V.map((J,ie)=>{const ee=F.filter(ae=>new Date(ae.date).toDateString()===J.toDateString()&&ae.time===I);return e.jsx("div",{className:"flex-1 border-l border-gray-100 relative hover:bg-purple-50/20 transition-colors",children:ee.map(ae=>{const oe=ae.duration/15*40;return e.jsxs("div",{className:`absolute inset-x-0 mx-0.5 mt-0.5 rounded p-1 border-l-2 text-[9px] ${ae.status==="confirmed"?"bg-green-50 border-green-500":"bg-yellow-50 border-yellow-500"}`,style:{height:`${oe-4}px`,minHeight:"36px"},children:[e.jsx("div",{className:"font-bold text-gray-900 truncate",children:ae.clientName}),e.jsx("div",{className:"text-gray-600 truncate",children:ae.service}),e.jsx("div",{className:"text-gray-500",children:ae.time})]},ae.id)})},ie)})]})},I)})}),e.jsx("div",{className:"bg-blue-50 border-t border-blue-200 p-3 text-center sticky bottom-0",children:e.jsx("p",{className:"text-xs text-blue-800",children:" View-only calendar  Contact admin to modify bookings"})})]})})(),a==="month"&&(()=>{const Z=new Date(o.getFullYear(),o.getMonth(),1);new Date(o.getFullYear(),o.getMonth()+1,0);const V=new Date(Z);V.setDate(V.getDate()-(V.getDay()===0?6:V.getDay()-1));const W=[],G=new Date(V);for(let O=0;O<35;O++)W.push(new Date(G)),G.setDate(G.getDate()+1);return e.jsxs("div",{className:"p-2 sm:p-4",children:[e.jsx("div",{className:"grid grid-cols-7 gap-0.5 sm:gap-1 mb-1",children:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"].map(O=>e.jsx("div",{className:"p-1 sm:p-2 text-center text-[10px] sm:text-xs font-bold text-gray-600",children:O},O))}),e.jsx("div",{className:"grid grid-cols-7 gap-0.5 sm:gap-1",children:W.map((O,R)=>{const D=O.getMonth()===o.getMonth(),I=O.toDateString()===new Date().toDateString(),q=F.filter(J=>new Date(J.date).toDateString()===O.toDateString());return e.jsxs("div",{className:`min-h-[60px] sm:min-h-[100px] p-1 sm:p-2 rounded border sm:border-2 ${I?"bg-purple-50 border-purple-400":D?"bg-white border-gray-300":"bg-gray-50 border-gray-200"}`,children:[e.jsx("div",{className:`text-[11px] sm:text-sm font-bold mb-0.5 sm:mb-1 ${I?"text-purple-600":D?"text-gray-900":"text-gray-400"}`,children:O.getDate()}),e.jsxs("div",{className:"space-y-0.5 sm:space-y-1",children:[e.jsx("div",{className:"flex flex-wrap gap-0.5 sm:hidden",children:q.slice(0,4).map(J=>e.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${J.status==="confirmed"?"bg-green-500":"bg-yellow-500"}`,title:`${J.time} - ${J.clientName}`},J.id))}),e.jsx("div",{className:"hidden sm:block",children:q.slice(0,2).map(J=>e.jsxs("div",{className:`text-[9px] p-1 rounded ${J.status==="confirmed"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:[e.jsx("div",{className:"font-bold truncate",children:J.time}),e.jsx("div",{className:"truncate",children:J.clientName})]},J.id))})]}),q.length>4&&e.jsxs("div",{className:"text-[9px] sm:text-[10px] text-gray-600 font-medium mt-0.5 sm:mt-1",children:["+",q.length-4]})]},R)})}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 text-center mt-4",children:e.jsx("p",{className:"text-xs text-blue-800",children:" View-only calendar  Contact admin to modify bookings"})})]})})()]})}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[e.jsx("h4",{className:"font-bold text-blue-900 mb-2",children:" View-Only Calendar"}),e.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[e.jsx("li",{children:" You can view all your appointments and schedule"}),e.jsx("li",{children:" Client phone numbers are hidden for privacy"}),e.jsx("li",{children:" You cannot modify or cancel bookings"}),e.jsx("li",{children:" Contact salon administrator for any changes"})]})]})]})]})})]})}const wle="/icons/logo.svg";function Nle({isOpen:t,onClose:r}){var $;const[n,s]=N.useState("overview"),[a,i]=N.useState("owner"),[o,l]=N.useState("basic"),[c,u]=N.useState("Glamour Downtown"),[m,p]=N.useState(!1),{currency:x,setCurrency:v,formatPrice:w}=Kt();if(!t)return null;const y=[{id:"basic",name:"Basic Start",multiSalonEnabled:!1},{id:"standard",name:"Standard Growth",multiSalonEnabled:!1},{id:"business",name:"Business Pro",multiSalonEnabled:!0}],j=[{id:"1",name:"Glamour Downtown",address:"123 Main St"},{id:"2",name:"Glamour Mall",address:"Westfield Mall, L2"},{id:"3",name:"Glamour Express",address:"45 Station Rd"}],S=o==="business",C=[{id:"overview",label:"Overview"},{id:"calendar",label:"Calendar"},{id:"clients",label:"Clients"},{id:"masters",label:"Masters"},{id:"services",label:"menu/Services"},{id:"products",label:"products"},{id:"feed",label:"Beauty Feed"},{id:"marketing",label:"Marketing"},{id:"analytics",label:"Analytics"},{id:"finance",label:"Finance"},{id:"settings",label:"Salon Settings"},{id:"ai-tools",label:"AI Tools"},{id:"inventory",label:"Inventory"},{id:"attendance",label:"Attendance"},{id:"reviews",label:"Reviews"},{id:"expense",label:"Expense"},{id:"loyalty",label:"Loyalty"},{id:"advanced-analytics",label:"Advanced Analytics"},{id:"notifications",label:"Notifications"},{id:"waiting-list",label:"Waiting List"}],P=[{id:"owner",label:"Owner",icon:A0},{id:"admin",label:"Admin",icon:fl},{id:"master",label:"Master",icon:hl}],T={basic:["overview","calendar","clients","masters","services","feed","settings","attendance","reviews","notifications","waiting-list"],standard:["overview","calendar","clients","masters","services","feed","settings","marketing","products","attendance","reviews","inventory","notifications","waiting-list"],business:["overview","calendar","clients","masters","services","feed","settings","marketing","products","analytics","finance","ai-tools","inventory","attendance","reviews","expense","loyalty","advanced-analytics","notifications","waiting-list"]},_={owner:[],admin:["analytics","finance","settings","marketing","expense","loyalty","advanced-analytics"],master:[]},k=B=>{var F;return!(!T[o].includes(B)||(F=_[a])!=null&&F.includes(B))},M=B=>T.standard.includes(B)&&!T.basic.includes(B)?" Available on Standard Growth+":T.business.includes(B)&&!T.standard.includes(B)?" Available on Business Pro only":" Upgrade to unlock";return e.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4 animate-in fade-in",children:a==="master"?e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-7xl max-h-[90vh] flex flex-col overflow-hidden",children:[e.jsx("div",{className:"absolute top-4 right-4 z-10",children:e.jsx("button",{onClick:r,className:"w-10 h-10 rounded-full bg-white/90 hover:bg-white flex items-center justify-center text-gray-500 shadow-lg",children:e.jsx(ht,{className:"w-5 h-5"})})}),e.jsx("div",{className:"flex-1 overflow-y-auto",children:e.jsx(p7,{onBack:()=>i("owner")})})]}):e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-7xl max-h-[90vh] flex flex-col overflow-hidden",children:[e.jsxs("div",{className:"bg-white border-b border-gray-200 p-4 flex items-center justify-between flex-shrink-0",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("img",{src:wle,alt:"Katia Booking",className:"w-10 h-10 rounded-xl"}),e.jsxs("div",{children:[e.jsx("h2",{className:"font-bold text-gray-900",children:"Katia Booking"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Demo Environment"})]})]}),e.jsxs("div",{className:"hidden md:flex items-center gap-4 text-sm",children:[e.jsxs("button",{className:"flex items-center gap-2 text-gray-700 hover:text-purple-600",children:[e.jsx(YS,{className:"w-4 h-4"}),"Browse by Category"]}),e.jsx("button",{className:"text-purple-600 hover:text-purple-700",children:"Become a Partner"}),e.jsx("button",{className:"text-gray-700 hover:text-purple-600",children:"Feed"}),e.jsx("button",{className:"text-gray-700 hover:text-purple-600",children:"Support"})]}),e.jsx("button",{onClick:r,className:"w-8 h-8 rounded-full hover:bg-gray-100 flex items-center justify-center text-gray-500",children:e.jsx(ht,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"bg-gray-50 border-b border-gray-200 p-4 flex-shrink-0",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("div",{className:"flex items-center gap-3",children:e.jsx("button",{className:"text-sm text-gray-500 hover:text-gray-700",children:" Back"})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Q,{variant:"outline",size:"sm",className:"text-purple-600",children:"Client View Preview"}),e.jsx(Q,{size:"sm",className:"bg-green-600 hover:bg-green-700 text-white",onClick:()=>{r(),setTimeout(()=>{var B;(B=document.getElementById("pricing"))==null||B.scrollIntoView({behavior:"smooth"})},100)},children:"Subscribe Now"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-1",children:"Glamour Downtown"}),e.jsx("p",{className:"text-sm text-gray-600",children:" 123 Main St  Welcome back, Boris"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex items-center gap-2 bg-white rounded-lg border border-gray-200 p-1",children:P.map(B=>e.jsxs("button",{onClick:()=>i(B.id),className:`flex items-center gap-2 px-3 py-1.5 rounded text-sm font-medium transition-colors ${a===B.id?"bg-purple-100 text-purple-600":"text-gray-600 hover:bg-gray-50"}`,children:[e.jsx(B.icon,{className:"w-4 h-4"}),B.label]},B.id))}),e.jsxs("div",{className:"relative group",children:[e.jsxs("button",{disabled:!S,onClick:()=>S&&p(!m),className:`flex items-center gap-2 px-3 py-2 rounded-lg border transition-all ${S?"bg-white border-gray-200 hover:border-purple-300 cursor-pointer":"bg-gray-100 border-gray-200 cursor-not-allowed opacity-60"}`,children:[e.jsx(wo,{className:"w-4 h-4 text-gray-600"}),e.jsx("span",{className:"text-sm font-medium text-gray-900",children:c}),S&&e.jsx(Jv,{className:"w-4 h-4 text-gray-400"})]}),m&&S&&e.jsx("div",{className:"absolute top-full mt-2 left-0 z-50 bg-white border border-gray-200 rounded-lg shadow-lg min-w-[250px] py-2",children:j.map(B=>e.jsxs("button",{onClick:()=>{u(B.name),p(!1)},className:`w-full text-left px-4 py-3 hover:bg-purple-50 transition-colors flex items-start gap-3 ${c===B.name?"bg-purple-50":""}`,children:[e.jsx(wo,{className:`w-4 h-4 mt-0.5 flex-shrink-0 ${c===B.name?"text-purple-600":"text-gray-400"}`}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:`text-sm font-medium ${c===B.name?"text-purple-900":"text-gray-900"}`,children:B.name}),e.jsx("div",{className:"text-xs text-gray-500",children:B.address})]}),c===B.name&&e.jsx("div",{className:"w-2 h-2 rounded-full bg-purple-600 mt-1.5"})]},B.id))}),!S&&e.jsx("div",{className:"hidden group-hover:block absolute top-full mt-2 left-0 z-50 bg-gray-900 text-white text-xs px-3 py-2 rounded-lg whitespace-nowrap shadow-lg",children:" Multi-salon available on Business Pro"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-xs text-gray-500 font-medium",children:"PLAN"}),e.jsx("select",{value:o,onChange:B=>l(B.target.value),className:"px-3 py-2 border border-gray-200 rounded-lg text-sm font-medium bg-white hover:border-purple-300 focus:outline-none focus:ring-2 focus:ring-purple-500",children:y.map(B=>e.jsx("option",{value:B.id,children:B.name},B.id))})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-xs text-gray-500 font-medium",children:"CURRENCY"}),e.jsx("select",{value:x.code,onChange:B=>{const F=Xs.find(H=>H.code===B.target.value);F&&v(F)},className:"px-3 py-2 border border-gray-200 rounded-lg text-sm font-medium bg-white hover:border-purple-300 focus:outline-none focus:ring-2 focus:ring-purple-500",children:Xs.map(B=>e.jsx("option",{value:B.code,children:B.code},B.code))})]})]})]})]}),e.jsx("div",{className:"bg-white border-b border-gray-200 overflow-x-auto flex-shrink-0 shadow-sm",children:e.jsx("div",{className:"flex gap-6 px-4 min-w-max",children:C.map(B=>{const F=k(B.id);return e.jsxs("button",{onClick:()=>F&&s(B.id),disabled:!F,className:`py-3 text-sm font-medium border-b-2 transition-colors whitespace-nowrap relative group ${F?n===B.id?"border-purple-600 text-purple-600":"border-transparent text-gray-600 hover:text-gray-900":"border-transparent text-gray-300 cursor-not-allowed"}`,children:[B.label,!F&&e.jsxs(e.Fragment,{children:[e.jsx(Yt,{className:"w-3 h-3 inline-block ml-1 opacity-50"}),e.jsx("div",{className:"hidden group-hover:block absolute top-full mt-2 left-1/2 -translate-x-1/2 z-50 bg-gray-900 text-white text-xs px-3 py-2 rounded-lg whitespace-nowrap shadow-lg",children:M(B.id)})]})]},B.id)})})}),e.jsx("div",{className:"flex-1 overflow-y-auto bg-gray-50",children:e.jsxs("div",{className:"p-6",children:[a==="admin"&&e.jsx("div",{className:"mb-6 bg-yellow-50 border-l-4 border-yellow-400 p-4 rounded-lg",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-6 h-6 rounded-full bg-yellow-100 flex items-center justify-center flex-shrink-0 mt-0.5",children:e.jsx(Yt,{className:"w-4 h-4 text-yellow-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-bold text-yellow-900 mb-1",children:"Viewing as Administrator"}),e.jsx("p",{className:"text-sm text-yellow-800",children:"Admins have restricted access to financial settings and sensitive data."})]})]})}),n==="overview"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"relative h-64 rounded-2xl overflow-hidden",children:[e.jsx("img",{src:"https://images.unsplash.com/photo-1600948836101-f9ffda59d250?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxtb2Rlcm4lMjBiZWF1dHklMjBzYWxvbnxlbnwxfHx8fDE3NjYzNDk3MTR8MA&ixlib=rb-4.1.0&q=80&w=1080",alt:"Salon",className:"w-full h-full object-cover"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"}),e.jsxs("div",{className:"absolute inset-0 flex flex-col justify-end p-8 text-white",children:[e.jsxs("div",{className:"inline-flex items-center gap-2 bg-green-500 rounded-full px-3 py-1 text-xs font-medium mb-3 w-fit",children:[e.jsx("div",{className:"w-2 h-2 bg-white rounded-full animate-pulse"}),"Live Demo Active"]}),e.jsx("h2",{className:"text-3xl font-bold mb-2",children:"See how the demo salon works in real-time"}),e.jsx("p",{className:"text-white/90",children:"Experience the power of AI-driven booking and management."})]})]}),e.jsx(ne,{className:"border-none bg-gradient-to-r from-purple-600 to-purple-500 text-white",children:e.jsxs(ke,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold mb-1",children:"Salon Monthly Goal"}),e.jsx("p",{className:"text-sm text-purple-100",children:"Keep pushing! You are doing great."})]}),e.jsx(A0,{className:"w-10 h-10 text-yellow-300"})]}),e.jsxs("div",{className:"mb-2",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm mb-2",children:[e.jsx("span",{children:"Progress ($23122 / $45630)"}),e.jsx("span",{className:"font-bold",children:"62%"})]}),e.jsx("div",{className:"w-full bg-purple-400 rounded-full h-3",children:e.jsx("div",{className:"bg-white rounded-full h-3",style:{width:"62%"}})})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[a!=="admin"&&e.jsx(ne,{className:"border-none shadow-sm hover:shadow-md transition-shadow",children:e.jsxs(ke,{className:"p-6",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsx("div",{className:"w-12 h-12 rounded-xl bg-green-100 flex items-center justify-center",children:e.jsx(Zt,{className:"w-6 h-6 text-green-600"})})}),e.jsx("div",{className:"text-sm text-gray-500 mb-1",children:"Total Revenue"}),e.jsx("div",{className:"text-3xl font-bold text-gray-900",children:w(12334)}),e.jsxs("div",{className:"grid grid-cols-3 gap-2 mt-3 text-xs",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-gray-500",children:"Card"}),e.jsx("div",{className:"font-medium",children:w(6939)})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-gray-500",children:"Cash"}),e.jsx("div",{className:"font-medium",children:w(4112)})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-gray-500",children:"Tips"}),e.jsx("div",{className:"font-medium",children:w(2284)})]})]})]})}),e.jsx(ne,{className:"border-none shadow-sm hover:shadow-md transition-shadow",children:e.jsxs(ke,{className:"p-6",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsx("div",{className:"w-12 h-12 rounded-xl bg-blue-100 flex items-center justify-center",children:e.jsx(fl,{className:"w-6 h-6 text-blue-600"})})}),e.jsx("div",{className:"text-sm text-gray-500 mb-1",children:"New Clients"}),e.jsx("div",{className:"text-3xl font-bold text-gray-900",children:"42"}),e.jsx("div",{className:"text-xs text-green-600 mt-2",children:" +6% vs last month"})]})}),e.jsx(ne,{className:"border-none shadow-sm hover:shadow-md transition-shadow",children:e.jsxs(ke,{className:"p-6",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsx("div",{className:"w-12 h-12 rounded-xl bg-purple-100 flex items-center justify-center",children:e.jsx(Yt,{className:"w-6 h-6 text-purple-600"})})}),e.jsx("div",{className:"text-sm text-gray-500 mb-1",children:"AI Booking"}),e.jsx("div",{className:"text-3xl font-bold text-gray-900",children:"24"}),e.jsx("div",{className:"text-xs text-gray-500 mt-2",children:" High Offered"})]})}),e.jsx(ne,{className:"border-none shadow-sm hover:shadow-md transition-shadow",children:e.jsxs(ke,{className:"p-6",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsx("div",{className:"w-12 h-12 rounded-xl bg-pink-100 flex items-center justify-center",children:e.jsx(_o,{className:"w-6 h-6 text-pink-600"})})}),e.jsx("div",{className:"text-sm text-gray-500 mb-1",children:"Saves & Shares"}),e.jsx("div",{className:"text-3xl font-bold text-gray-900",children:"171"}),e.jsx("div",{className:"text-xs text-red-600 mt-2",children:" high interest"})]})})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:[e.jsxs("button",{onClick:()=>k("calendar")&&s("calendar"),disabled:!k("calendar"),className:`rounded-xl p-6 text-left transition-all border relative group ${k("calendar")?"bg-white hover:shadow-lg border-gray-100 cursor-pointer":"bg-gray-50 border-gray-200 cursor-not-allowed opacity-60"}`,children:[e.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center mb-3 ${k("calendar")?"bg-blue-100":"bg-gray-200"}`,children:e.jsx(vt,{className:`w-6 h-6 ${k("calendar")?"text-blue-600":"text-gray-400"}`})}),e.jsx("h3",{className:`font-bold mb-1 ${k("calendar")?"text-gray-900":"text-gray-400"}`,children:"Calendar"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Manage bookings"}),!k("calendar")&&e.jsxs(e.Fragment,{children:[e.jsx(Yt,{className:"w-4 h-4 absolute top-4 right-4 text-gray-400"}),e.jsx("div",{className:"hidden group-hover:block absolute top-full mt-2 left-1/2 -translate-x-1/2 z-50 bg-gray-900 text-white text-xs px-3 py-2 rounded-lg whitespace-nowrap shadow-lg",children:M("calendar")})]})]}),e.jsxs("button",{onClick:()=>k("masters")&&s("masters"),disabled:!k("masters"),className:`rounded-xl p-6 text-left transition-all border relative group ${k("masters")?"bg-white hover:shadow-lg border-gray-100 cursor-pointer":"bg-gray-50 border-gray-200 cursor-not-allowed opacity-60"}`,children:[e.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center mb-3 ${k("masters")?"bg-green-100":"bg-gray-200"}`,children:e.jsx(hl,{className:`w-6 h-6 ${k("masters")?"text-green-600":"text-gray-400"}`})}),e.jsx("h3",{className:`font-bold mb-1 ${k("masters")?"text-gray-900":"text-gray-400"}`,children:"Masters"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Manage staff"}),!k("masters")&&e.jsxs(e.Fragment,{children:[e.jsx(Yt,{className:"w-4 h-4 absolute top-4 right-4 text-gray-400"}),e.jsx("div",{className:"hidden group-hover:block absolute top-full mt-2 left-1/2 -translate-x-1/2 z-50 bg-gray-900 text-white text-xs px-3 py-2 rounded-lg whitespace-nowrap shadow-lg",children:M("masters")})]})]}),e.jsxs("button",{onClick:()=>k("clients")&&s("clients"),disabled:!k("clients"),className:`rounded-xl p-6 text-left transition-all border relative group ${k("clients")?"bg-white hover:shadow-lg border-gray-100 cursor-pointer":"bg-gray-50 border-gray-200 cursor-not-allowed opacity-60"}`,children:[e.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center mb-3 ${k("clients")?"bg-pink-100":"bg-gray-200"}`,children:e.jsx(Kn,{className:`w-6 h-6 ${k("clients")?"text-pink-600":"text-gray-400"}`})}),e.jsx("h3",{className:`font-bold mb-1 ${k("clients")?"text-gray-900":"text-gray-400"}`,children:"Client Database"}),e.jsx("p",{className:"text-sm text-gray-500",children:"History & Favorites"}),!k("clients")&&e.jsxs(e.Fragment,{children:[e.jsx(Yt,{className:"w-4 h-4 absolute top-4 right-4 text-gray-400"}),e.jsx("div",{className:"hidden group-hover:block absolute top-full mt-2 left-1/2 -translate-x-1/2 z-50 bg-gray-900 text-white text-xs px-3 py-2 rounded-lg whitespace-nowrap shadow-lg",children:M("clients")})]})]}),e.jsxs("button",{onClick:()=>k("services")&&s("services"),disabled:!k("services"),className:`rounded-xl p-6 text-left transition-all border relative group ${k("services")?"bg-white hover:shadow-lg border-gray-100 cursor-pointer":"bg-gray-50 border-gray-200 cursor-not-allowed opacity-60"}`,children:[e.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center mb-3 ${k("services")?"bg-purple-100":"bg-gray-200"}`,children:e.jsx(hl,{className:`w-6 h-6 ${k("services")?"text-purple-600":"text-gray-400"}`})}),e.jsx("h3",{className:`font-bold mb-1 ${k("services")?"text-gray-900":"text-gray-400"}`,children:"menu/Services"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Manage services"}),!k("services")&&e.jsxs(e.Fragment,{children:[e.jsx(Yt,{className:"w-4 h-4 absolute top-4 right-4 text-gray-400"}),e.jsx("div",{className:"hidden group-hover:block absolute top-full mt-2 left-1/2 -translate-x-1/2 z-50 bg-gray-900 text-white text-xs px-3 py-2 rounded-lg whitespace-nowrap shadow-lg",children:M("services")})]})]}),e.jsxs("button",{onClick:()=>k("feed")&&s("feed"),disabled:!k("feed"),className:`rounded-xl p-6 text-left transition-all border relative group ${k("feed")?"bg-white hover:shadow-lg border-gray-100 cursor-pointer":"bg-gray-50 border-gray-200 cursor-not-allowed opacity-60"}`,children:[e.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center mb-3 ${k("feed")?"bg-pink-100":"bg-gray-200"}`,children:e.jsx(zh,{className:`w-6 h-6 ${k("feed")?"text-pink-600":"text-gray-400"}`})}),e.jsx("h3",{className:`font-bold mb-1 ${k("feed")?"text-gray-900":"text-gray-400"}`,children:"Beauty Feed"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Showcase Work"}),!k("feed")&&e.jsxs(e.Fragment,{children:[e.jsx(Yt,{className:"w-4 h-4 absolute top-4 right-4 text-gray-400"}),e.jsx("div",{className:"hidden group-hover:block absolute top-full mt-2 left-1/2 -translate-x-1/2 z-50 bg-gray-900 text-white text-xs px-3 py-2 rounded-lg whitespace-nowrap shadow-lg",children:M("feed")})]})]}),e.jsxs("button",{onClick:()=>k("marketing")&&s("marketing"),disabled:!k("marketing"),className:`rounded-xl p-6 text-left transition-all border relative group ${k("marketing")?"bg-white hover:shadow-lg border-gray-100 cursor-pointer":"bg-gray-50 border-gray-200 cursor-not-allowed opacity-60"}`,children:[e.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center mb-3 ${k("marketing")?"bg-blue-100":"bg-gray-200"}`,children:e.jsx(Ut,{className:`w-6 h-6 ${k("marketing")?"text-blue-600":"text-gray-400"}`})}),e.jsx("h3",{className:`font-bold mb-1 ${k("marketing")?"text-gray-900":"text-gray-400"}`,children:"Marketing"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Promote salon"}),!k("marketing")&&e.jsxs(e.Fragment,{children:[e.jsx(Yt,{className:"w-4 h-4 absolute top-4 right-4 text-gray-400"}),e.jsx("div",{className:"hidden group-hover:block absolute top-full mt-2 left-1/2 -translate-x-1/2 z-50 bg-gray-900 text-white text-xs px-3 py-2 rounded-lg whitespace-nowrap shadow-lg",children:M("marketing")})]})]}),e.jsxs("button",{onClick:()=>k("analytics")&&s("analytics"),disabled:!k("analytics"),className:`rounded-xl p-6 text-left transition-all border relative group ${k("analytics")?"bg-white hover:shadow-lg border-gray-100 cursor-pointer":"bg-gray-50 border-gray-200 cursor-not-allowed opacity-60"}`,children:[e.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center mb-3 ${k("analytics")?"bg-indigo-100":"bg-gray-200"}`,children:e.jsx(Ac,{className:`w-6 h-6 ${k("analytics")?"text-indigo-600":"text-gray-400"}`})}),e.jsx("h3",{className:`font-bold mb-1 ${k("analytics")?"text-gray-900":"text-gray-400"}`,children:"Analytics"}),e.jsx("p",{className:"text-sm text-gray-500",children:"View reports"}),!k("analytics")&&e.jsxs(e.Fragment,{children:[e.jsx(Yt,{className:"w-4 h-4 absolute top-4 right-4 text-gray-400"}),e.jsx("div",{className:"hidden group-hover:block absolute top-full mt-2 left-1/2 -translate-x-1/2 z-50 bg-gray-900 text-white text-xs px-3 py-2 rounded-lg whitespace-nowrap shadow-lg",children:M("analytics")})]})]}),e.jsxs("button",{onClick:()=>k("ai-tools")&&s("ai-tools"),disabled:!k("ai-tools"),className:`rounded-xl p-6 text-left transition-all border relative group ${k("ai-tools")?"bg-white hover:shadow-lg border-gray-100 cursor-pointer":"bg-gray-50 border-gray-200 cursor-not-allowed opacity-60"}`,children:[e.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center mb-3 ${k("ai-tools")?"bg-purple-100":"bg-gray-200"}`,children:e.jsx(Mi,{className:`w-6 h-6 ${k("ai-tools")?"text-purple-600":"text-gray-400"}`})}),e.jsx("h3",{className:`font-bold mb-1 ${k("ai-tools")?"text-gray-900":"text-gray-400"}`,children:"AI Tools"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Configure AI"}),!k("ai-tools")&&e.jsxs(e.Fragment,{children:[e.jsx(Yt,{className:"w-4 h-4 absolute top-4 right-4 text-gray-400"}),e.jsx("div",{className:"hidden group-hover:block absolute top-full mt-2 left-1/2 -translate-x-1/2 z-50 bg-gray-900 text-white text-xs px-3 py-2 rounded-lg whitespace-nowrap shadow-lg",children:M("ai-tools")})]})]}),e.jsxs("button",{onClick:()=>k("finance")&&s("finance"),disabled:!k("finance"),className:`rounded-xl p-6 text-left transition-all border relative group ${k("finance")?"bg-white hover:shadow-lg border-gray-100 cursor-pointer":"bg-gray-50 border-gray-200 cursor-not-allowed opacity-60"}`,children:[e.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center mb-3 ${k("finance")?"bg-green-100":"bg-gray-200"}`,children:e.jsx(Zt,{className:`w-6 h-6 ${k("finance")?"text-green-600":"text-gray-400"}`})}),e.jsx("h3",{className:`font-bold mb-1 ${k("finance")?"text-gray-900":"text-gray-400"}`,children:"Finance"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Manage finances"}),!k("finance")&&e.jsxs(e.Fragment,{children:[e.jsx(Yt,{className:"w-4 h-4 absolute top-4 right-4 text-gray-400"}),e.jsx("div",{className:"hidden group-hover:block absolute top-full mt-2 left-1/2 -translate-x-1/2 z-50 bg-gray-900 text-white text-xs px-3 py-2 rounded-lg whitespace-nowrap shadow-lg",children:M("finance")})]})]}),e.jsxs("button",{onClick:()=>k("products")&&s("products"),disabled:!k("products"),className:`rounded-xl p-6 text-left transition-all border relative group ${k("products")?"bg-white hover:shadow-lg border-gray-100 cursor-pointer":"bg-gray-50 border-gray-200 cursor-not-allowed opacity-60"}`,children:[e.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center mb-3 ${k("products")?"bg-cyan-100":"bg-gray-200"}`,children:e.jsx(bs,{className:`w-6 h-6 ${k("products")?"text-cyan-600":"text-gray-400"}`})}),e.jsx("h3",{className:`font-bold mb-1 ${k("products")?"text-gray-900":"text-gray-400"}`,children:"products"}),e.jsx("p",{className:"text-sm text-gray-500",children:"manage/marketplace"}),!k("products")&&e.jsxs(e.Fragment,{children:[e.jsx(Yt,{className:"w-4 h-4 absolute top-4 right-4 text-gray-400"}),e.jsx("div",{className:"hidden group-hover:block absolute top-full mt-2 left-1/2 -translate-x-1/2 z-50 bg-gray-900 text-white text-xs px-3 py-2 rounded-lg whitespace-nowrap shadow-lg",children:M("products")})]})]}),e.jsxs("button",{onClick:()=>k("settings")&&s("settings"),disabled:!k("settings"),className:`rounded-xl p-6 text-left transition-all border relative group ${k("settings")?"bg-white hover:shadow-lg border-gray-100 cursor-pointer":"bg-gray-50 border-gray-200 cursor-not-allowed opacity-60"}`,children:[e.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center mb-3 ${k("settings")?"bg-slate-100":"bg-gray-200"}`,children:e.jsx(Ec,{className:`w-6 h-6 ${k("settings")?"text-slate-600":"text-gray-400"}`})}),e.jsx("h3",{className:`font-bold mb-1 ${k("settings")?"text-gray-900":"text-gray-400"}`,children:"Salon Settings"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Profile & Photos"}),!k("settings")&&e.jsxs(e.Fragment,{children:[e.jsx(Yt,{className:"w-4 h-4 absolute top-4 right-4 text-gray-400"}),e.jsx("div",{className:"hidden group-hover:block absolute top-full mt-2 left-1/2 -translate-x-1/2 z-50 bg-gray-900 text-white text-xs px-3 py-2 rounded-lg whitespace-nowrap shadow-lg",children:M("settings")})]})]}),e.jsxs("button",{onClick:()=>k("inventory")&&s("inventory"),disabled:!k("inventory"),className:`rounded-xl p-6 text-left transition-all border relative group ${k("inventory")?"bg-white hover:shadow-lg border-gray-100 cursor-pointer":"bg-gray-50 border-gray-200 cursor-not-allowed opacity-60"}`,children:[e.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center mb-3 ${k("inventory")?"bg-amber-100":"bg-gray-200"}`,children:e.jsx(bs,{className:`w-6 h-6 ${k("inventory")?"text-amber-600":"text-gray-400"}`})}),e.jsx("h3",{className:`font-bold mb-1 ${k("inventory")?"text-gray-900":"text-gray-400"}`,children:"Inventory"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Manage stock"}),!k("inventory")&&e.jsxs(e.Fragment,{children:[e.jsx(Yt,{className:"w-4 h-4 absolute top-4 right-4 text-gray-400"}),e.jsx("div",{className:"hidden group-hover:block absolute top-full mt-2 left-1/2 -translate-x-1/2 z-50 bg-gray-900 text-white text-xs px-3 py-2 rounded-lg whitespace-nowrap shadow-lg",children:M("inventory")})]})]}),e.jsxs("button",{onClick:()=>k("attendance")&&s("attendance"),disabled:!k("attendance"),className:`rounded-xl p-6 text-left transition-all border relative group ${k("attendance")?"bg-white hover:shadow-lg border-gray-100 cursor-pointer":"bg-gray-50 border-gray-200 cursor-not-allowed opacity-60"}`,children:[e.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center mb-3 ${k("attendance")?"bg-teal-100":"bg-gray-200"}`,children:e.jsx(pr,{className:`w-6 h-6 ${k("attendance")?"text-teal-600":"text-gray-400"}`})}),e.jsx("h3",{className:`font-bold mb-1 ${k("attendance")?"text-gray-900":"text-gray-400"}`,children:"Attendance"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Track staff"}),!k("attendance")&&e.jsxs(e.Fragment,{children:[e.jsx(Yt,{className:"w-4 h-4 absolute top-4 right-4 text-gray-400"}),e.jsx("div",{className:"hidden group-hover:block absolute top-full mt-2 left-1/2 -translate-x-1/2 z-50 bg-gray-900 text-white text-xs px-3 py-2 rounded-lg whitespace-nowrap shadow-lg",children:M("attendance")})]})]}),e.jsxs("button",{onClick:()=>k("reviews")&&s("reviews"),disabled:!k("reviews"),className:`rounded-xl p-6 text-left transition-all border relative group ${k("reviews")?"bg-white hover:shadow-lg border-gray-100 cursor-pointer":"bg-gray-50 border-gray-200 cursor-not-allowed opacity-60"}`,children:[e.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center mb-3 ${k("reviews")?"bg-yellow-100":"bg-gray-200"}`,children:e.jsx(Gt,{className:`w-6 h-6 ${k("reviews")?"text-yellow-600":"text-gray-400"}`})}),e.jsx("h3",{className:`font-bold mb-1 ${k("reviews")?"text-gray-900":"text-gray-400"}`,children:"Reviews"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Manage feedback"}),!k("reviews")&&e.jsxs(e.Fragment,{children:[e.jsx(Yt,{className:"w-4 h-4 absolute top-4 right-4 text-gray-400"}),e.jsx("div",{className:"hidden group-hover:block absolute top-full mt-2 left-1/2 -translate-x-1/2 z-50 bg-gray-900 text-white text-xs px-3 py-2 rounded-lg whitespace-nowrap shadow-lg",children:M("reviews")})]})]}),e.jsxs("button",{onClick:()=>k("expense")&&s("expense"),disabled:!k("expense"),className:`rounded-xl p-6 text-left transition-all border relative group ${k("expense")?"bg-white hover:shadow-lg border-gray-100 cursor-pointer":"bg-gray-50 border-gray-200 cursor-not-allowed opacity-60"}`,children:[e.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center mb-3 ${k("expense")?"bg-red-100":"bg-gray-200"}`,children:e.jsx(Zt,{className:`w-6 h-6 ${k("expense")?"text-red-600":"text-gray-400"}`})}),e.jsx("h3",{className:`font-bold mb-1 ${k("expense")?"text-gray-900":"text-gray-400"}`,children:"Expense"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Track costs"}),!k("expense")&&e.jsxs(e.Fragment,{children:[e.jsx(Yt,{className:"w-4 h-4 absolute top-4 right-4 text-gray-400"}),e.jsx("div",{className:"hidden group-hover:block absolute top-full mt-2 left-1/2 -translate-x-1/2 z-50 bg-gray-900 text-white text-xs px-3 py-2 rounded-lg whitespace-nowrap shadow-lg",children:M("expense")})]})]}),e.jsxs("button",{onClick:()=>k("loyalty")&&s("loyalty"),disabled:!k("loyalty"),className:`rounded-xl p-6 text-left transition-all border relative group ${k("loyalty")?"bg-white hover:shadow-lg border-gray-100 cursor-pointer":"bg-gray-50 border-gray-200 cursor-not-allowed opacity-60"}`,children:[e.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center mb-3 ${k("loyalty")?"bg-fuchsia-100":"bg-gray-200"}`,children:e.jsx(dr,{className:`w-6 h-6 ${k("loyalty")?"text-fuchsia-600":"text-gray-400"}`})}),e.jsx("h3",{className:`font-bold mb-1 ${k("loyalty")?"text-gray-900":"text-gray-400"}`,children:"Loyalty"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Reward clients"}),!k("loyalty")&&e.jsxs(e.Fragment,{children:[e.jsx(Yt,{className:"w-4 h-4 absolute top-4 right-4 text-gray-400"}),e.jsx("div",{className:"hidden group-hover:block absolute top-full mt-2 left-1/2 -translate-x-1/2 z-50 bg-gray-900 text-white text-xs px-3 py-2 rounded-lg whitespace-nowrap shadow-lg",children:M("loyalty")})]})]}),e.jsxs("button",{onClick:()=>k("advanced-analytics")&&s("advanced-analytics"),disabled:!k("advanced-analytics"),className:`rounded-xl p-6 text-left transition-all border relative group ${k("advanced-analytics")?"bg-white hover:shadow-lg border-gray-100 cursor-pointer":"bg-gray-50 border-gray-200 cursor-not-allowed opacity-60"}`,children:[e.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center mb-3 ${k("advanced-analytics")?"bg-emerald-100":"bg-gray-200"}`,children:e.jsx(Ac,{className:`w-6 h-6 ${k("advanced-analytics")?"text-emerald-600":"text-gray-400"}`})}),e.jsx("h3",{className:`font-bold mb-1 ${k("advanced-analytics")?"text-gray-900":"text-gray-400"}`,children:"Advanced Analytics"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Deep dive into data"}),!k("advanced-analytics")&&e.jsxs(e.Fragment,{children:[e.jsx(Yt,{className:"w-4 h-4 absolute top-4 right-4 text-gray-400"}),e.jsx("div",{className:"hidden group-hover:block absolute top-full mt-2 left-1/2 -translate-x-1/2 z-50 bg-gray-900 text-white text-xs px-3 py-2 rounded-lg whitespace-nowrap shadow-lg",children:M("advanced-analytics")})]})]}),e.jsxs("button",{onClick:()=>k("notifications")&&s("notifications"),disabled:!k("notifications"),className:`rounded-xl p-6 text-left transition-all border relative group ${k("notifications")?"bg-white hover:shadow-lg border-gray-100 cursor-pointer":"bg-gray-50 border-gray-200 cursor-not-allowed opacity-60"}`,children:[e.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center mb-3 ${k("notifications")?"bg-orange-100":"bg-gray-200"}`,children:e.jsx(Na,{className:`w-6 h-6 ${k("notifications")?"text-orange-600":"text-gray-400"}`})}),e.jsx("h3",{className:`font-bold mb-1 ${k("notifications")?"text-gray-900":"text-gray-400"}`,children:"Notifications"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Stay informed"}),!k("notifications")&&e.jsxs(e.Fragment,{children:[e.jsx(Yt,{className:"w-4 h-4 absolute top-4 right-4 text-gray-400"}),e.jsx("div",{className:"hidden group-hover:block absolute top-full mt-2 left-1/2 -translate-x-1/2 z-50 bg-gray-900 text-white text-xs px-3 py-2 rounded-lg whitespace-nowrap shadow-lg",children:M("notifications")})]})]}),e.jsxs("button",{onClick:()=>k("waiting-list")&&s("waiting-list"),disabled:!k("waiting-list"),className:`rounded-xl p-6 text-left transition-all border relative group ${k("waiting-list")?"bg-white hover:shadow-lg border-gray-100 cursor-pointer":"bg-gray-50 border-gray-200 cursor-not-allowed opacity-60"}`,children:[e.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center mb-3 ${k("waiting-list")?"bg-rose-100":"bg-gray-200"}`,children:e.jsx(pt,{className:`w-6 h-6 ${k("waiting-list")?"text-rose-600":"text-gray-400"}`})}),e.jsx("h3",{className:`font-bold mb-1 ${k("waiting-list")?"text-gray-900":"text-gray-400"}`,children:"Waiting List"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Manage reservations"}),!k("waiting-list")&&e.jsxs(e.Fragment,{children:[e.jsx(Yt,{className:"w-4 h-4 absolute top-4 right-4 text-gray-400"}),e.jsx("div",{className:"hidden group-hover:block absolute top-full mt-2 left-1/2 -translate-x-1/2 z-50 bg-gray-900 text-white text-xs px-3 py-2 rounded-lg whitespace-nowrap shadow-lg",children:M("waiting-list")})]})]})]})]}),n==="calendar"&&e.jsx(Poe,{onNewBooking:()=>console.log("New booking")}),n==="clients"&&e.jsx(zoe,{userRole:a}),n==="masters"&&e.jsx(Voe,{userRole:a}),n==="services"&&e.jsx(Joe,{}),n==="products"&&e.jsx(rle,{}),n==="feed"&&e.jsx(sle,{}),n==="marketing"&&e.jsx(ale,{}),n==="analytics"&&e.jsx(ile,{}),n==="finance"&&e.jsx(ole,{}),n==="settings"&&e.jsx(ule,{salonId:"demo-salon-id",initialIsPublished:!1}),n==="ai-tools"&&e.jsx(hle,{}),n==="inventory"&&e.jsx(mle,{userRole:a}),n==="attendance"&&e.jsx(fle,{userRole:a}),n==="reviews"&&e.jsx(ple,{userRole:a}),n==="expense"&&e.jsx(xle,{}),n==="loyalty"&&e.jsx(gle,{}),n==="advanced-analytics"&&e.jsx(vle,{}),n==="notifications"&&e.jsx(ble,{userRole:a}),n==="waiting-list"&&e.jsx(jle,{userRole:a}),n!=="overview"&&n!=="calendar"&&n!=="clients"&&n!=="masters"&&n!=="services"&&n!=="products"&&n!=="feed"&&n!=="marketing"&&n!=="analytics"&&n!=="finance"&&n!=="settings"&&n!=="ai-tools"&&n!=="inventory"&&n!=="attendance"&&n!=="reviews"&&n!=="expense"&&n!=="loyalty"&&n!=="advanced-analytics"&&n!=="notifications"&&n!=="waiting-list"&&e.jsxs("div",{className:"flex flex-col items-center justify-center py-16",children:[e.jsx("div",{className:"w-16 h-16 rounded-2xl bg-purple-100 flex items-center justify-center mb-4",children:e.jsx(Gs,{className:"w-8 h-8 text-purple-600"})}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:($=C.find(B=>B.id===n))==null?void 0:$.label}),e.jsxs("p",{className:"text-gray-600 text-center mb-6",children:["This section is interactive in the full demo.",e.jsx("br",{}),"Subscribe to explore all features!"]}),e.jsx(Q,{onClick:r,className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white",children:"Get Started"})]})]})})]})})}const Sle="/icons/logo.svg",s0=[{code:"AE",name:"United Arab Emirates",dialCode:"+971",flag:""},{code:"US",name:"United States",dialCode:"+1",flag:""},{code:"GB",name:"United Kingdom",dialCode:"+44",flag:""},{code:"RU",name:"Russia",dialCode:"+7",flag:""},{code:"DE",name:"Germany",dialCode:"+49",flag:""},{code:"FR",name:"France",dialCode:"+33",flag:""},{code:"ES",name:"Spain",dialCode:"+34",flag:""},{code:"IT",name:"Italy",dialCode:"+39",flag:""},{code:"SA",name:"Saudi Arabia",dialCode:"+966",flag:""},{code:"QA",name:"Qatar",dialCode:"+974",flag:""},{code:"KW",name:"Kuwait",dialCode:"+965",flag:""},{code:"BH",name:"Bahrain",dialCode:"+973",flag:""},{code:"OM",name:"Oman",dialCode:"+968",flag:""},{code:"EG",name:"Egypt",dialCode:"+20",flag:""},{code:"TR",name:"Turkey",dialCode:"+90",flag:""},{code:"IN",name:"India",dialCode:"+91",flag:""},{code:"PK",name:"Pakistan",dialCode:"+92",flag:""},{code:"CN",name:"China",dialCode:"+86",flag:""},{code:"JP",name:"Japan",dialCode:"+81",flag:""},{code:"KR",name:"South Korea",dialCode:"+82",flag:""},{code:"AU",name:"Australia",dialCode:"+61",flag:""},{code:"CA",name:"Canada",dialCode:"+1",flag:""},{code:"BR",name:"Brazil",dialCode:"+55",flag:""},{code:"MX",name:"Mexico",dialCode:"+52",flag:""},{code:"AR",name:"Argentina",dialCode:"+54",flag:""},{code:"ZA",name:"South Africa",dialCode:"+27",flag:""},{code:"NL",name:"Netherlands",dialCode:"+31",flag:""},{code:"BE",name:"Belgium",dialCode:"+32",flag:""},{code:"CH",name:"Switzerland",dialCode:"+41",flag:""},{code:"SE",name:"Sweden",dialCode:"+46",flag:""},{code:"NO",name:"Norway",dialCode:"+47",flag:""},{code:"DK",name:"Denmark",dialCode:"+45",flag:""},{code:"FI",name:"Finland",dialCode:"+358",flag:""},{code:"PL",name:"Poland",dialCode:"+48",flag:""},{code:"UA",name:"Ukraine",dialCode:"+380",flag:""},{code:"GR",name:"Greece",dialCode:"+30",flag:""},{code:"PT",name:"Portugal",dialCode:"+351",flag:""},{code:"AT",name:"Austria",dialCode:"+43",flag:""},{code:"CZ",name:"Czech Republic",dialCode:"+420",flag:""},{code:"IL",name:"Israel",dialCode:"+972",flag:""},{code:"SG",name:"Singapore",dialCode:"+65",flag:""},{code:"MY",name:"Malaysia",dialCode:"+60",flag:""},{code:"TH",name:"Thailand",dialCode:"+66",flag:""},{code:"PH",name:"Philippines",dialCode:"+63",flag:""},{code:"ID",name:"Indonesia",dialCode:"+62",flag:""},{code:"VN",name:"Vietnam",dialCode:"+84",flag:""},{code:"NZ",name:"New Zealand",dialCode:"+64",flag:""},{code:"IE",name:"Ireland",dialCode:"+353",flag:""},{code:"LB",name:"Lebanon",dialCode:"+961",flag:""},{code:"JO",name:"Jordan",dialCode:"+962",flag:""}];function _le({isOpen:t,onClose:r,subscription:n}){const{currency:s}=Kt(),{user:a,signUpWithEmail:i}=Ma(),[o,l]=N.useState(1),[c,u]=N.useState(!1),m=2,[p,x]=N.useState(""),[v,w]=N.useState(""),[y,j]=N.useState(""),[S,C]=N.useState(""),[P,T]=N.useState(""),[_,k]=N.useState(s0[0]),[M,$]=N.useState(!1),[B,F]=N.useState(""),[H,K]=N.useState("");if(!t)return null;const Z=()=>{const R=`${_.dialCode}${P}`;ve.success(`Verification code sent to WhatsApp: ${R}`),setTimeout(()=>{$(!0)},1e3)},V=async()=>{if(o===1){u(!0);try{const R=`${p} ${v}`,{error:D}=await i(y,S,R);if(D){ve.error(`Registration failed: ${D.message}`),u(!1);return}ve.success(" Account created successfully!"),u(!1),setTimeout(()=>{l(o+1)},500)}catch(R){console.error("Error creating account:",R),ve.error("Failed to create account. Please try again."),u(!1)}}else l(o+1)},W=async()=>{if(!a){ve.error("User not authenticated");return}u(!0);try{const R=`salon_${Date.now()}_${Math.random().toString(36).substring(2,9)}`,D=`${_.dialCode}${P}`,I={id:R,name:B,address:H,phone:D,email:a.email,logo:null,photos:[],ownerId:a.id,services:[],staff:[],subscription:{planName:n.planName,price:n.price,startedAt:new Date().toISOString()},isPublished:!1,publishedAt:null,createdAt:new Date().toISOString()},q=await fetch(`https://${nr}.supabase.co/functions/v1/make-server-3e5c72fb/salon`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${cr}`},body:JSON.stringify(I)}),J=await q.json();if(!q.ok)throw new Error(J.error||"Failed to save salon data");const ie={userId:a.id,roleData:{role:"owner",salonId:R,firstName:p,lastName:v,phone:D,createdAt:new Date().toISOString()}},ee=await fetch(`https://${nr}.supabase.co/functions/v1/make-server-3e5c72fb/salon-role`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${cr}`},body:JSON.stringify(ie)}),ae=await ee.json();if(!ee.ok)throw new Error(ae.error||"Failed to save user role");ve.success(" Salon registration complete! Welcome to Katia Booking!"),setTimeout(()=>{window.location.href="/owner-dashboard"},1500)}catch(R){console.error("Error completing salon setup:",R),ve.error("Failed to complete salon setup. Please try again."),u(!1)}},G=()=>{switch(o){case 1:return e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Owner Information"}),e.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Tell us about yourself"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"First Name"}),e.jsx("input",{type:"text",value:p,onChange:R=>x(R.target.value),className:"w-full px-4 py-3 rounded-xl border border-gray-200 focus:border-purple-600 focus:outline-none focus:ring-2 focus:ring-purple-100",placeholder:"John",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Last Name"}),e.jsx("input",{type:"text",value:v,onChange:R=>w(R.target.value),className:"w-full px-4 py-3 rounded-xl border border-gray-200 focus:border-purple-600 focus:outline-none focus:ring-2 focus:ring-purple-100",placeholder:"Doe",required:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),e.jsx("input",{type:"email",value:y,onChange:R=>j(R.target.value),className:"w-full px-4 py-3 rounded-xl border border-gray-200 focus:border-purple-600 focus:outline-none focus:ring-2 focus:ring-purple-100",placeholder:"john@example.com",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),e.jsx("input",{type:"password",value:S,onChange:R=>C(R.target.value),className:"w-full px-4 py-3 rounded-xl border border-gray-200 focus:border-purple-600 focus:outline-none focus:ring-2 focus:ring-purple-100",placeholder:"Minimum 6 characters",required:!0,minLength:6}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"At least 6 characters"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number (WhatsApp)"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(sn,{value:_.code,onValueChange:R=>k(s0.find(D=>D.code===R)||s0[0]),children:[e.jsx(an,{className:"w-[140px] px-4 py-3 rounded-xl border border-gray-200 focus:border-purple-600 focus:outline-none focus:ring-2 focus:ring-purple-100",children:e.jsx(gn,{children:e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx("span",{children:_.flag}),e.jsx("span",{children:_.dialCode})]})})}),e.jsx(on,{className:"max-h-[300px]",children:s0.map(R=>e.jsx(Ue,{value:R.code,children:e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx("span",{children:R.flag}),e.jsx("span",{children:R.dialCode}),e.jsx("span",{className:"text-gray-500",children:R.name})]})},R.code))})]}),e.jsx("input",{type:"tel",value:P,onChange:R=>T(R.target.value),className:"flex-1 px-4 py-3 rounded-xl border border-gray-200 focus:border-purple-600 focus:outline-none focus:ring-2 focus:ring-purple-100",placeholder:"50 123 4567",required:!0}),e.jsx(Q,{onClick:Z,disabled:M||!P,className:`px-6 ${M?"bg-green-600 hover:bg-green-700":"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700"}`,children:M?e.jsxs(e.Fragment,{children:[e.jsx(or,{className:"w-4 h-4 mr-1"})," Verified"]}):"Verify"})]}),M&&e.jsx("p",{className:"text-xs text-green-600 mt-2",children:" WhatsApp verified"})]})]});case 2:return e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Salon Details"}),e.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Tell us about your salon"}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Salon Name"}),e.jsx("input",{type:"text",value:B,onChange:R=>F(R.target.value),className:"w-full px-4 py-3 rounded-xl border border-gray-200 focus:border-purple-600 focus:outline-none focus:ring-2 focus:ring-purple-100",placeholder:"Luxury Beauty Salon",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Address"}),e.jsx("textarea",{value:H,onChange:R=>K(R.target.value),rows:3,className:"w-full px-4 py-3 rounded-xl border border-gray-200 focus:border-purple-600 focus:outline-none focus:ring-2 focus:ring-purple-100",placeholder:"123 Main Street, Dubai Marina, Dubai, UAE",required:!0})]})]});default:return null}},O=()=>{switch(o){case 1:return p&&v&&y&&S&&S.length>=6&&P&&M;case 2:return B&&H;default:return!1}};return e.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4 animate-in fade-in",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 p-6 flex items-center justify-between z-10",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("img",{src:Sle,alt:"Katia Booking",className:"w-10 h-10 rounded-xl"}),e.jsxs("div",{children:[e.jsx("h2",{className:"font-bold text-gray-900",children:"Salon Setup"}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Step ",o," of ",m]})]})]}),e.jsx("button",{onClick:r,className:"w-8 h-8 rounded-full hover:bg-gray-100 flex items-center justify-center text-gray-500",children:e.jsx(ht,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"px-6 pt-4",children:e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-pink-600 h-2 rounded-full transition-all duration-300",style:{width:`${o/m*100}%`}})})}),e.jsx("div",{className:"p-6",children:G()}),e.jsxs("div",{className:"sticky bottom-0 bg-white border-t border-gray-200 p-6 flex justify-between",children:[o>1?e.jsxs(Q,{onClick:()=>l(o-1),variant:"outline",className:"flex items-center gap-2",children:[e.jsx(Vi,{className:"w-4 h-4"})," Back"]}):e.jsx("div",{}),o<m?e.jsx(Q,{onClick:V,disabled:!O()||c,className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 flex items-center gap-2",children:c?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Creating Account..."]}):e.jsxs(e.Fragment,{children:["Next ",e.jsx(ul,{className:"w-4 h-4"})]})}):e.jsx(Q,{onClick:W,disabled:c,className:"bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800 flex items-center gap-2",children:c?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx(or,{className:"w-4 h-4"})," Complete Setup"]})})]})]})})}function kle(){const{formatPrice:t,currency:r}=Kt(),[n,s]=N.useState(!1),[a,i]=N.useState(!1),[o,l]=N.useState(!1),[c,u]=N.useState(null),[m,p]=N.useState("annual");vn();const x={basic:99,standard:299,business:499},v={monthly:0,"semi-annual":{basic:15,standard:15,business:20},annual:{basic:20,standard:25,business:30}},w=(P,T)=>{const _=x[P];if(T==="monthly")return _;const k=T==="semi-annual"?6:12,M=v[T][P],$=_*k*(1-M/100);return Math.round($)},y=(P,T)=>{if(T==="monthly")return 0;const M=x[P]*(T==="semi-annual"?6:12),$=w(P,T);return M-$},j=(P,T)=>{const _=w(P,T);return Math.round(_/(T==="monthly"?1:T==="semi-annual"?6:12))},S=[{id:"basic",name:"Basic Start",price:99,period:"month",description:"Perfect for independent masters",trialDays:7,features:["Up to 2 Masters","Up to 15 Services","Basic Online Booking","Client Database (basic)","Mobile App Access","Push Notifications 24/7","Basic Calendar & Scheduling","Booking Widget for Website"],unavailableFeatures:["Admin Role Management","Multiple Salon Locations","AI Receptionist","Marketing Tools (SMS/Email)","Advanced Analytics & Reports","Financial Reports","Export/Import Client Database","Inventory Management","Workplace Management System","Priority Support 24/7"]},{id:"standard",name:"Standard Growth",price:299,period:"month",description:"For growing salons",badge:"MOST POPULAR",badgeColor:"purple",isPopular:!0,trialDays:7,features:["Up to 8 Masters","1 Admin (with booking access)","Up to 50 Services","Advanced Online Booking","Client CRM System","AI Receptionist (Basic)","Marketing Tools (SMS/Email)","Workplace Management System","Basic Analytics Dashboard","Push Notifications 24/7","Mobile App Access","Booking Widget for Website","Custom Branding"],unavailableFeatures:["Multiple Salon Locations","Advanced AI Receptionist","Advanced Analytics & Custom Reports","Financial Reports & Revenue Tracking","Export/Import Client Database","Inventory Management","Priority Support 24/7"]},{id:"business",name:"Business Pro",price:499,period:"month",description:"Maximum power for large salons",badge:"BEST VALUE",badgeColor:"orange",trialDays:7,features:["Unlimited Masters","Unlimited Admins","Unlimited Services","Advanced AI Receptionist","Multiple Salon Locations","Priority Support 24/7","Advanced Analytics & Custom Reports","Financial Reports & Revenue Tracking","Export/Import Client Database","Inventory Management","Marketing Automation","Workplace Management System","Client CRM System (Advanced)","Push Notifications 24/7","Mobile App Access","Custom Branding","API Access","Dedicated Account Manager"]}],C=["VOGUE","ELLE","GLAMOUR","HARPER'S BAZAAR"];return e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-purple-50 to-white py-12 md:py-16",children:[e.jsx(lu,{}),e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsx("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-bold text-gray-900 mb-8",children:"Simple, Transparent Pricing"}),e.jsx("p",{className:"text-lg text-gray-600 mb-3",children:"Choose the perfect plan for your salon. No commitment, cancel anytime."}),e.jsx("p",{className:"text-sm text-gray-500 mb-10",children:"Select a plan that fits your needs."}),e.jsxs("div",{className:"max-w-2xl mx-auto mb-10 p-4 bg-gradient-to-r from-green-50 to-emerald-50 border-2 border-green-200 rounded-xl",children:[e.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[e.jsx(Yn,{className:"w-5 h-5 text-green-600"}),e.jsx("span",{className:"font-bold text-green-900",children:"100% Transparent Pricing"})]}),e.jsxs("p",{className:"text-sm text-green-800",children:["You only pay for your subscription plan. ",e.jsx("span",{className:"font-semibold",children:"No hidden fees, no commission on bookings, no setup charges."})," What you see is what you pay!"]})]}),e.jsxs("div",{className:"flex flex-wrap justify-center gap-6 mt-10",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-green-100 flex items-center justify-center",children:e.jsx(Sc,{className:"w-4 h-4 text-green-600"})}),e.jsx("span",{className:"text-sm text-gray-700",children:"No Hidden Fees"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-100 flex items-center justify-center",children:e.jsx(Ks,{className:"w-4 h-4 text-blue-600"})}),e.jsx("span",{className:"text-sm text-gray-700",children:"Instant Setup"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-purple-100 flex items-center justify-center",children:e.jsx(pr,{className:"w-4 h-4 text-purple-600"})}),e.jsx("span",{className:"text-sm text-gray-700",children:"Unlimited Clients"})]})]}),e.jsx("div",{className:"mt-12 mb-10 flex justify-center",children:e.jsxs("div",{className:"inline-flex items-center gap-3 p-2 bg-white rounded-full shadow-lg border border-gray-200",children:[e.jsx("button",{onClick:()=>p("monthly"),className:`px-6 py-3 rounded-full text-sm font-semibold transition-all ${m==="monthly"?"bg-gray-900 text-white shadow-md":"text-gray-700 hover:text-gray-900"}`,children:"Monthly"}),e.jsxs("button",{onClick:()=>p("semi-annual"),className:`px-6 py-3 rounded-full text-sm font-semibold transition-all relative ${m==="semi-annual"?"bg-gradient-to-r from-blue-600 to-cyan-600 text-white shadow-md":"text-gray-700 hover:text-gray-900"}`,children:["6 Months",e.jsx("span",{className:"absolute -top-2 -right-2 bg-blue-600 text-white text-xs px-2 py-0.5 rounded-full font-bold",children:"15-20%"})]}),e.jsxs("button",{onClick:()=>p("annual"),className:`px-6 py-3 rounded-full text-sm font-semibold transition-all relative ${m==="annual"?"bg-gradient-to-r from-green-600 to-emerald-600 text-white shadow-md":"text-gray-700 hover:text-gray-900"}`,children:["Annual",e.jsx("span",{className:"absolute -top-2 -right-2 bg-green-600 text-white text-xs px-2 py-0.5 rounded-full font-bold",children:"25-30%"})]})]})})]}),e.jsx("div",{className:"grid md:grid-cols-3 gap-6 lg:gap-8 max-w-7xl mx-auto mb-20 px-4 md:px-6 mt-20",children:S.map(P=>e.jsxs(ne,{className:`relative overflow-visible ${P.isPopular?"border-2 border-purple-500 shadow-2xl scale-105 md:scale-110":"border border-gray-200 shadow-lg"}`,children:[P.badge&&e.jsxs("div",{className:`absolute -top-4 left-1/2 transform -translate-x-1/2 px-4 py-1.5 rounded-full text-xs font-bold text-white ${P.badgeColor==="purple"?"bg-gradient-to-r from-purple-600 to-purple-500":"bg-gradient-to-r from-orange-500 to-orange-400"}`,children:[P.badgeColor==="purple"&&e.jsx(ii,{className:"w-3 h-3 inline mr-1"}),P.badge]}),e.jsxs(Hr,{className:"text-center pt-8 pb-6",children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:P.name}),e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:P.description}),e.jsxs("button",{className:"text-sm text-purple-600 hover:text-purple-700 flex items-center gap-1 justify-center mx-auto",onClick:()=>s(!0),children:[e.jsx(rG,{className:"w-4 h-4"}),"View Live Demo"]})]}),e.jsxs(ke,{className:"pt-0 pb-8",children:[e.jsxs("div",{className:"text-center mb-6",children:[m!=="monthly"&&e.jsx("div",{className:"mb-2",children:e.jsx("span",{className:"text-sm text-gray-500 line-through",children:t(x[P.id]*(m==="semi-annual"?6:12))})}),e.jsx("div",{className:"mb-2",children:e.jsxs("div",{className:"flex items-baseline justify-center gap-1",children:[e.jsx("span",{className:"text-3xl md:text-4xl font-bold text-gray-900",children:t(w(P.id,m))}),e.jsxs("span",{className:"text-sm text-gray-500",children:["/",m==="monthly"?"mo":m==="semi-annual"?"6mo":"yr"]})]})}),m!=="monthly"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center justify-center gap-1 mb-1",children:[e.jsx(Bd,{className:"w-3.5 h-3.5 text-green-600"}),e.jsxs("span",{className:"text-sm font-semibold text-green-600",children:["Save ",t(y(P.id,m))]})]}),e.jsxs("div",{className:"text-xs text-purple-600 font-medium",children:[t(j(P.id,m)),"/month"]})]})]}),e.jsxs("div",{className:"space-y-3 mb-6",children:[e.jsx("p",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide",children:"INCLUDES"}),P.features.map((T,_)=>e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(Sc,{className:"w-5 h-5 text-green-500 flex-shrink-0 mt-0.5"}),e.jsx("span",{className:"text-sm text-gray-700",children:T})]},_)),P.unavailableFeatures&&P.unavailableFeatures.map((T,_)=>e.jsxs("div",{className:"flex items-start gap-3 opacity-40",children:[e.jsx(ht,{className:"w-5 h-5 text-gray-400 flex-shrink-0 mt-0.5"}),e.jsx("span",{className:"text-sm text-gray-400 line-through",children:T})]},`unavailable-${_}`))]}),e.jsx(Q,{onClick:()=>{u(P),i(!0)},className:`w-full h-12 font-medium ${P.isPopular?"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white":P.badgeColor==="orange"?"bg-gray-900 hover:bg-gray-800 text-white":"bg-white hover:bg-gray-50 text-gray-900 border-2 border-gray-200"}`,children:"Get Started"})]})]},P.id))}),e.jsxs("div",{className:"text-center mt-20",children:[e.jsx("p",{className:"text-xs text-gray-400 uppercase tracking-wider mb-4",children:"TRUSTED BY"}),e.jsx("div",{className:"flex flex-wrap justify-center items-center gap-8",children:C.map((P,T)=>e.jsx("div",{className:"text-gray-300 font-serif text-sm tracking-wider",children:P},T))})]}),e.jsx("div",{className:"mt-16 max-w-4xl mx-auto",children:e.jsx(ne,{className:"border-none bg-gradient-to-r from-purple-50 to-pink-50",children:e.jsx(ke,{className:"p-8 md:p-10",children:e.jsxs("div",{className:"grid md:grid-cols-3 gap-6 text-center",children:[e.jsxs("div",{children:[e.jsx(Yn,{className:"w-10 h-10 text-purple-600 mx-auto mb-3"}),e.jsx("h4",{className:"font-bold text-gray-900 mb-2",children:"Secure & Trusted"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Bank-level security for all your data and payments"})]}),e.jsxs("div",{children:[e.jsx(pr,{className:"w-10 h-10 text-purple-600 mx-auto mb-3"}),e.jsx("h4",{className:"font-bold text-gray-900 mb-2",children:"Free Migration"}),e.jsx("p",{className:"text-sm text-gray-600",children:"We'll help you move from your current system for free"})]}),e.jsxs("div",{children:[e.jsx(tr,{className:"w-10 h-10 text-purple-600 mx-auto mb-3"}),e.jsx("h4",{className:"font-bold text-gray-900 mb-2",children:"24/7 Support"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Our team is always here to help you succeed"})]})]})})})}),e.jsxs("div",{className:"mt-16 max-w-3xl mx-auto",children:[e.jsx("h2",{className:"text-2xl font-bold text-center text-gray-900 mb-8",children:"Frequently Asked Questions"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("details",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:[e.jsx("summary",{className:"font-semibold text-gray-900 cursor-pointer",children:"Can I upgrade or downgrade my plan at any time?"}),e.jsxs("div",{className:"mt-4 text-sm text-gray-600 space-y-3",children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Yes! You can change your plan at any time with instant effect. Here's how it works:"}),e.jsxs("div",{className:"bg-blue-50 border-l-4 border-blue-500 p-4 rounded",children:[e.jsx("p",{className:"font-semibold text-blue-900 mb-2",children:" Upgrading to a Higher Plan:"}),e.jsxs("p",{className:"text-blue-800",children:["We use ",e.jsx("strong",{children:"proration"})," (proportional billing). You only pay the difference for the remaining time."]}),e.jsx("div",{className:"mt-2 p-3 bg-white rounded text-xs",children:e.jsxs("p",{className:"font-mono text-gray-700",children:[e.jsx("strong",{children:"Example:"})," You paid AED 3,000 for Standard Annual (12 months).",e.jsx("br",{}),"After 4 months, you upgrade to Business Annual (AED 4,200/year).",e.jsx("br",{}),e.jsx("br",{}),e.jsx("strong",{children:"Calculation:"}),e.jsx("br",{})," Remaining time: 8 months",e.jsx("br",{})," Standard remaining value: AED 2,000 (8/12  3,000)",e.jsx("br",{})," Business cost for 8 months: AED 2,800 (8/12  4,200)",e.jsx("br",{}),e.jsx("br",{}),e.jsx("span",{className:"text-green-600 font-bold",children:" You pay only: AED 800 difference"}),e.jsx("br",{}),e.jsx("span",{className:"text-gray-500",children:"Your plan upgrades immediately!"})]})})]}),e.jsxs("div",{className:"bg-purple-50 border-l-4 border-purple-500 p-4 rounded",children:[e.jsx("p",{className:"font-semibold text-purple-900 mb-2",children:" Downgrading to a Lower Plan:"}),e.jsx("p",{className:"text-purple-800",children:"The remaining credit is saved and applied to your new plan, extending your subscription period."}),e.jsx("div",{className:"mt-2 p-3 bg-white rounded text-xs",children:e.jsxs("p",{className:"font-mono text-gray-700",children:[e.jsx("strong",{children:"Example:"})," You paid AED 4,200 for Business Annual.",e.jsx("br",{}),"After 4 months, you downgrade to Standard Annual (AED 3,000/year).",e.jsx("br",{}),e.jsx("br",{}),e.jsx("strong",{children:"Calculation:"}),e.jsx("br",{})," Remaining value: AED 2,800 (8/12  4,200)",e.jsx("br",{})," Standard monthly cost: AED 250/month",e.jsx("br",{}),e.jsx("br",{}),e.jsx("span",{className:"text-green-600 font-bold",children:" Credit extends your Standard plan by 11.2 months"}),e.jsx("br",{}),e.jsx("span",{className:"text-gray-500",children:"No money lost, just extends your subscription!"})]})})]}),e.jsx("div",{className:"bg-green-50 border border-green-200 p-3 rounded mt-3",children:e.jsxs("p",{className:"text-green-800 font-medium text-xs",children:[" ",e.jsx("strong",{children:"100% Fair System:"})," You never lose money. We calculate everything down to the day!"]})})]})]}),e.jsxs("details",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:[e.jsx("summary",{className:"font-semibold text-gray-900 cursor-pointer",children:"What happens if I want to upgrade from monthly to annual?"}),e.jsxs("div",{className:"mt-4 text-sm text-gray-600 space-y-3",children:[e.jsx("p",{children:"Great choice! When switching from monthly to annual billing, you get immediate access to the annual discount:"}),e.jsxs("ul",{className:"list-disc pl-5 space-y-2",children:[e.jsx("li",{children:"Your current monthly subscription is cancelled"}),e.jsx("li",{children:"Unused days are credited towards your annual plan"}),e.jsx("li",{children:"You immediately benefit from 20-30% annual savings"}),e.jsx("li",{children:"No double billing - everything is prorated fairly"})]}),e.jsx("p",{className:"font-medium text-purple-600 mt-3",children:" Tip: Annual plans save you up to 30% compared to monthly billing!"})]})]}),e.jsxs("details",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:[e.jsx("summary",{className:"font-semibold text-gray-900 cursor-pointer",children:"Are there any setup or hidden fees?"}),e.jsxs("p",{className:"mt-3 text-sm text-gray-600",children:[e.jsx("strong",{children:"Absolutely not!"})," The price you see is the price you pay. No setup fees, no hidden charges, no commission on bookings, no transaction fees. We believe in complete transparency."]})]}),e.jsxs("details",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:[e.jsx("summary",{className:"font-semibold text-gray-900 cursor-pointer",children:"Can I cancel my subscription anytime?"}),e.jsxs("div",{className:"mt-4 text-sm text-gray-600 space-y-2",children:[e.jsx("p",{children:"Yes, you can cancel anytime from your dashboard. Here's what happens:"}),e.jsxs("ul",{className:"list-disc pl-5 space-y-2",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"No cancellation fees"})," - ever!"]}),e.jsx("li",{children:"Your plan remains active until the end of your billing period"}),e.jsx("li",{children:"All your data is safely stored for 30 days after cancellation"}),e.jsx("li",{children:"You can export your client database before cancelling"}),e.jsx("li",{children:"Reactivate anytime - your data will be waiting"})]})]})]}),e.jsxs("details",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:[e.jsx("summary",{className:"font-semibold text-gray-900 cursor-pointer",children:"Do you offer refunds?"}),e.jsxs("div",{className:"mt-4 text-sm text-gray-600 space-y-2",children:[e.jsxs("p",{children:["We offer a ",e.jsx("strong",{children:"7-day money-back guarantee"})," on all plans:"]}),e.jsxs("ul",{className:"list-disc pl-5 space-y-2",children:[e.jsx("li",{children:"Try the platform risk-free for 7 days"}),e.jsx("li",{children:"If you're not satisfied, get a full refund - no questions asked"}),e.jsx("li",{children:"After 7 days, unused subscription time is credited (not refunded)"}),e.jsx("li",{children:"Credits can be used for plan changes or future renewals"})]})]})]}),e.jsxs("details",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:[e.jsx("summary",{className:"font-semibold text-gray-900 cursor-pointer",children:"What payment methods do you accept?"}),e.jsxs("div",{className:"mt-4 text-sm text-gray-600",children:[e.jsx("p",{className:"mb-2",children:"We accept all major payment methods via Stripe:"}),e.jsxs("ul",{className:"list-disc pl-5 space-y-1",children:[e.jsx("li",{children:"Credit & Debit Cards (Visa, Mastercard, Amex)"}),e.jsx("li",{children:"Apple Pay & Google Pay"}),e.jsx("li",{children:"Bank transfers (for annual plans)"}),e.jsx("li",{children:"Local payment methods in your country"})]}),e.jsx("p",{className:"mt-3 text-xs text-gray-500",children:" All payments are processed securely through Stripe. We never store your card details."})]})]})]})]}),e.jsxs("div",{className:"mt-16 text-center",children:[e.jsx("p",{className:"text-gray-600 mb-4",children:"Still have questions? We're here to help!"}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[e.jsx(It,{to:"/contact",children:e.jsx(Q,{variant:"outline",size:"lg",className:"min-w-[180px]",children:"Contact Sales"})}),e.jsx(It,{to:"/become-partner",children:e.jsx(Q,{size:"lg",className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white min-w-[180px]",children:"Back to Partner Page"})})]})]})]}),e.jsx(Nle,{isOpen:n,onClose:()=>s(!1)}),c&&e.jsxs(e.Fragment,{children:[e.jsx(NC,{isOpen:a,onClose:()=>i(!1),planName:`${c.name} - ${m==="monthly"?"Monthly":m==="semi-annual"?"6 Months":"Annual"}`,price:w(c.id,m).toString(),currency:r.code.toLowerCase(),onPaymentSuccess:()=>{i(!1),l(!0)},type:"subscription"}),e.jsx(_le,{isOpen:o,onClose:()=>l(!1),subscription:{planName:c.name,price:w(c.id,m).toString(),billingPeriod:m}})]}),e.jsx(Cl,{})]})}async function Cle(t,r,n,s){const a={userId:t,salonId:r,role:n,invitedBy:s,createdAt:new Date().toISOString()},i=await fetch("https://undefined.supabase.co/functions/v1/make-server-3e5c72fb/salon-role",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer undefined"},body:JSON.stringify({userId:t,roleData:a})});if(!i.ok){const o=await i.text();throw new Error(`Failed to save user role: ${o}`)}}async function Ple(t){const r=await fetch("https://undefined.supabase.co/functions/v1/make-server-3e5c72fb/salon",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer undefined"},body:JSON.stringify(t)});if(!r.ok){const n=await r.text();throw new Error(`Failed to save salon data: ${n}`)}}function Ale(){const t=useNavigate(),[r]=useSearchParams(),{signUpWithEmail:n,signInWithEmail:s,signInWithGoogle:a,signInWithFacebook:i,user:o}=useAuth(),{currency:l,convertPrice:c,formatPrice:u}=useCurrency(),m=r.get("invite"),p=r.get("role");r.get("salon");const x=r.get("plan"),v=r.get("price"),[w,y]=useState("auth"),[j,S]=useState(p||"owner"),[C,P]=useState(!1),[T,_]=useState("professional"),k={essential:{name:"Essential",price:27,icon:Crown,features:["2 Masters","No Admins","15 Services","Basic Online Booking","24/7 Push Notifications","Client Database"]},professional:{name:"Professional",price:81,icon:Zap,features:["6 Masters","1 Admin","50 Services","AI Receptionist (Basic)","24/7 Push Notifications","Marketing Tools"]},enterprise:{name:"Enterprise",price:243,icon:Sparkles,features:["Unlimited Masters","Unlimited Admins","Unlimited Services","AI Receptionist (Advanced)","24/7 Push Notifications","Advanced Analytics"]}},[M,$]=useState(""),[B,F]=useState(""),[H,K]=useState(""),[Z,V]=useState(""),[W,G]=useState(""),[O,R]=useState(""),[D,I]=useState(""),[q,J]=useState(""),ie=[{id:"owner",icon:Building2,title:"Owner",description:"Full access to manage everything",features:["Multi-salon management","Staff management & invitations","Full analytics & reports","Export/Import client data","Payment & subscription management"],color:"from-purple-600 to-pink-600",disabled:m!==null},{id:"admin",icon:Shield,title:"Administrator",description:"Manage bookings and clients",features:["View all bookings & calendar","Manage client database","View client phone numbers","Edit services & pricing","Access marketing tools"],color:"from-blue-600 to-cyan-600",disabled:m!==null&&p!=="admin"},{id:"master",icon:Scissors,title:"Master",description:"View your own schedule",features:["View your appointments","See client names","Manage your availability","Limited permissions","No admin access"],color:"from-green-600 to-emerald-600",disabled:m!==null&&p!=="master"}],ee=de=>{S(de),y(de==="owner"?"subscription":"auth")},ae=async()=>{P(!0);const{error:de}=await a();de&&(ve.error("Failed to sign in with Google: "+de.message),P(!1))},oe=async()=>{P(!0);const{error:de}=await i();de&&(ve.error("Failed to sign in with Facebook: "+de.message),P(!1))},te=async de=>{if(de.preventDefault(),B!==H){ve.error("Passwords do not match!");return}if(B.length<8){ve.error("Password must be at least 8 characters");return}P(!0);const fe=`${Z} ${W}`,{error:ye}=await n(M,B,fe);ye?(ve.error("Failed to create account: "+ye.message),P(!1)):j==="owner"?(y("details"),P(!1)):(ve.success("Account created! Redirecting to dashboard..."),setTimeout(()=>{t("/redirect")},1500))},ue=async de=>{if(de.preventDefault(),!D||!q){ve.error("Please fill in all salon details");return}if(!(o!=null&&o.id)){ve.error("User not authenticated. Please sign in again.");return}P(!0);try{const fe=`salon_${Math.random().toString(36).substring(2)}${Date.now()}`;await Ple({id:fe,name:D,ownerId:o.id,plan:x||"professional",subscriptionStatus:"trial",trialEndsAt:new Date(Date.now()+10080*60*1e3).toISOString(),createdAt:new Date().toISOString()}),await Cle(o.id,fe,"owner"),ve.success("Salon registered successfully! "),setTimeout(()=>{t(`/salon-dashboard?salon=${fe}&role=owner`)},1500)}catch(fe){console.error("Error creating salon:",fe),ve.error("Failed to create salon. Please try again."),P(!1)}};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-pink-50 to-purple-50 flex items-center justify-center p-4",children:[e.jsxs("div",{className:"w-full max-w-4xl",children:[e.jsxs("button",{onClick:()=>{w==="auth"?y("role"):w==="details"?y("auth"):t("/")},className:"mb-6 flex items-center gap-2 text-gray-600 hover:text-gray-900 transition-colors group",children:[e.jsx(ArrowLeft,{className:"w-5 h-5 group-hover:-translate-x-1 transition-transform"}),e.jsx("span",{className:"font-medium",children:w==="role"?"Back to Home":"Back"})]}),e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent mb-2",children:m?"Accept Invitation":x?"Complete Registration":"Create Salon Account"}),e.jsx("p",{className:"text-gray-600",children:m?`You've been invited to join as ${p}`:x?"Set up your salon and start accepting bookings":"Join thousands of successful salons"})]}),x&&v&&!m&&e.jsx("div",{className:"mb-6 p-4 bg-gradient-to-r from-purple-50 to-pink-50 border border-purple-200 rounded-xl max-w-md mx-auto",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(Crown,{className:"w-5 h-5 text-purple-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsxs("h3",{className:"font-semibold text-purple-900 mb-1",children:[x.charAt(0).toUpperCase()+x.slice(1)," Plan Selected"]}),e.jsxs("p",{className:"text-sm text-purple-700",children:[u(Number(v)),"/month  Get started today"]})]})]})}),w==="role"&&!m&&e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:ie.map(de=>e.jsxs(ne,{className:`border-2 hover:border-purple-300 transition-all cursor-pointer relative overflow-hidden ${de.disabled?"opacity-50 cursor-not-allowed":""}`,onClick:()=>!de.disabled&&ee(de.id),children:[e.jsx("div",{className:`absolute top-0 left-0 right-0 h-2 bg-gradient-to-r ${de.color}`}),e.jsxs(Hr,{className:"text-center",children:[e.jsx("div",{className:`w-16 h-16 rounded-full bg-gradient-to-r ${de.color} flex items-center justify-center mx-auto mb-4`,children:e.jsx(de.icon,{className:"w-8 h-8 text-white"})}),e.jsx(wn,{children:de.title}),e.jsx(ns,{children:de.description})]}),e.jsx(ke,{children:e.jsx("ul",{className:"space-y-2",children:de.features.map((fe,ye)=>e.jsxs("li",{className:"flex items-start gap-2 text-sm text-gray-600",children:[e.jsx(Check,{className:"w-4 h-4 text-green-600 flex-shrink-0 mt-0.5"}),e.jsx("span",{children:fe})]},ye))})})]},de.id))}),m&&w==="auth"&&e.jsx("div",{className:"mb-6 p-4 bg-blue-50 border border-blue-200 rounded-xl",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(Mail,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-blue-900 mb-1",children:"You've been invited!"}),e.jsxs("p",{className:"text-sm text-blue-700",children:["Complete your registration to join the team as ",p==="admin"?"Administrator":"Master","."]})]})]})}),w==="subscription"&&e.jsx("div",{className:"space-y-6",children:e.jsxs(ne,{className:"border-0 shadow-2xl",children:[e.jsx(Hr,{children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-r from-purple-600 to-pink-600 flex items-center justify-center",children:e.jsx(Crown,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx(wn,{children:"Choose Your Plan"}),e.jsx(ns,{children:"Select the perfect subscription for your salon"})]})]})}),e.jsxs(ke,{children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:Object.keys(k).map(de=>{const fe=k[de],ye=fe.icon,he=T===de;return e.jsxs(ne,{className:`border-2 hover:border-purple-400 transition-all cursor-pointer relative overflow-hidden ${he?"border-purple-600 shadow-lg scale-105":"border-gray-200"}`,onClick:()=>_(de),children:[de==="professional"&&e.jsx("div",{className:"absolute top-0 right-0 bg-gradient-to-r from-purple-600 to-pink-600 text-white text-xs px-3 py-1 rounded-bl-lg",children:"POPULAR"}),e.jsxs(Hr,{className:"text-center pb-4",children:[e.jsx("div",{className:"w-16 h-16 rounded-full bg-gradient-to-r from-purple-600 to-pink-600 flex items-center justify-center mx-auto mb-3",children:e.jsx(ye,{className:"w-8 h-8 text-white"})}),e.jsx(wn,{className:"text-xl",children:fe.name}),e.jsxs("div",{className:"mt-3",children:[e.jsx("span",{className:"text-4xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent",children:u(fe.price)}),e.jsx("span",{className:"text-gray-500 text-sm",children:"/month"})]})]}),e.jsx(ke,{children:e.jsx("ul",{className:"space-y-3",children:fe.features.map((Ce,Se)=>e.jsxs("li",{className:"flex items-start gap-2 text-sm text-gray-600",children:[e.jsx(Check,{className:"w-4 h-4 text-green-600 flex-shrink-0 mt-0.5"}),e.jsx("span",{children:Ce})]},Se))})})]},de)})}),e.jsxs("div",{className:"mt-8 space-y-4",children:[e.jsx("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 border border-purple-200 rounded-xl p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(Check,{className:"w-5 h-5 text-purple-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:"Get Started Today"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Set up your salon and start accepting bookings instantly. Cancel anytime with no commitment."})]})]})}),e.jsx(Q,{type:"button",className:"w-full h-12 text-lg bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700",onClick:()=>{ve.success(`${k[T].name} plan selected! Proceeding to payment...`),setTimeout(()=>{ve.info("Stripe checkout would open here in production"),y("auth")},1500)},disabled:C,children:C?"Processing...":`Continue with ${k[T].name} Plan`}),e.jsx("p",{className:"text-center text-xs text-gray-500",children:"By continuing, you agree to our Terms of Service and Privacy Policy"})]})]})]})}),w==="auth"&&e.jsxs(ne,{className:"border-0 shadow-2xl max-w-md mx-auto",children:[e.jsx(Hr,{children:e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:`w-12 h-12 rounded-full bg-gradient-to-r ${j==="owner"?"from-purple-600 to-pink-600":j==="admin"?"from-blue-600 to-cyan-600":"from-green-600 to-emerald-600"} flex items-center justify-center`,children:j==="owner"?e.jsx(Building2,{className:"w-6 h-6 text-white"}):j==="admin"?e.jsx(Shield,{className:"w-6 h-6 text-white"}):e.jsx(Scissors,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx(wn,{children:"Create Account"}),e.jsxs(ns,{children:["Registering as ",j==="owner"?"Owner":j==="admin"?"Administrator":"Master"]})]})]})}),e.jsxs(ke,{children:[e.jsxs("div",{className:"space-y-3 mb-6",children:[e.jsxs(Q,{variant:"outline",className:"w-full h-11 border-gray-300 hover:bg-gray-50",onClick:ae,disabled:C,children:[e.jsxs("svg",{className:"w-5 h-5 mr-3",viewBox:"0 0 24 24",children:[e.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),e.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),e.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),e.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continue with Google"]}),e.jsxs(Q,{variant:"outline",className:"w-full h-11 border-gray-300 hover:bg-gray-50",onClick:oe,disabled:C,children:[e.jsx("svg",{className:"w-5 h-5 mr-3",fill:"#1877F2",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})}),"Continue with Facebook"]})]}),e.jsxs("div",{className:"relative mb-6",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("div",{className:"w-full border-t border-gray-300"})}),e.jsx("div",{className:"relative flex justify-center text-sm",children:e.jsx("span",{className:"bg-white px-2 text-gray-500",children:"Or continue with email"})})]}),e.jsxs("form",{onSubmit:te,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(We,{htmlFor:"firstName",children:"First Name"}),e.jsx(He,{id:"firstName",type:"text",value:Z,onChange:de=>V(de.target.value),placeholder:"John",required:!0})]}),e.jsxs("div",{children:[e.jsx(We,{htmlFor:"lastName",children:"Last Name"}),e.jsx(He,{id:"lastName",type:"text",value:W,onChange:de=>G(de.target.value),placeholder:"Doe",required:!0})]})]}),e.jsxs("div",{children:[e.jsx(We,{htmlFor:"email",children:"Email"}),e.jsx(He,{id:"email",type:"email",value:M,onChange:de=>$(de.target.value),placeholder:"your@email.com",required:!0})]}),e.jsxs("div",{children:[e.jsx(We,{htmlFor:"phone",children:"Phone"}),e.jsx(He,{id:"phone",type:"tel",value:O,onChange:de=>R(de.target.value),placeholder:"+1 (555) 000-0000",required:!0})]}),e.jsxs("div",{children:[e.jsx(We,{htmlFor:"password",children:"Password"}),e.jsx(He,{id:"password",type:"password",value:B,onChange:de=>F(de.target.value),placeholder:"",required:!0,minLength:8})]}),e.jsxs("div",{children:[e.jsx(We,{htmlFor:"confirmPassword",children:"Confirm Password"}),e.jsx(He,{id:"confirmPassword",type:"password",value:H,onChange:de=>K(de.target.value),placeholder:"",required:!0})]}),e.jsx(Q,{type:"submit",className:"w-full h-11 bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700",disabled:C,children:C?"Creating Account...":"Create Account"})]})]})]}),w==="details"&&j==="owner"&&e.jsxs(ne,{className:"border-0 shadow-2xl max-w-md mx-auto",children:[e.jsxs(Hr,{children:[e.jsx(wn,{children:"Salon Details"}),e.jsx(ns,{children:"Tell us about your salon"})]}),e.jsx(ke,{children:e.jsxs("form",{onSubmit:ue,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(We,{htmlFor:"salonName",children:"Salon Name"}),e.jsx(He,{id:"salonName",type:"text",value:D,onChange:de=>I(de.target.value),placeholder:"Beauty Studio",required:!0})]}),e.jsxs("div",{children:[e.jsx(We,{htmlFor:"salonAddress",children:"Address"}),e.jsx(He,{id:"salonAddress",type:"text",value:q,onChange:de=>J(de.target.value),placeholder:"123 Main St, City, Country",required:!0})]}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4",children:e.jsx("p",{className:"text-sm text-gray-700",children:" After registration, you can add services, team members, photos, and configure your salon settings from the dashboard."})}),e.jsx(Q,{type:"submit",className:"w-full h-11 bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700",disabled:C,children:C?"Creating Salon...":"Complete Registration"})]})})]})]}),e.jsx(Cl,{})]})}const a0=[{code:"+971-UAE",dialCode:"+971",country:"UAE",flag:""},{code:"+93-Afghanistan",dialCode:"+93",country:"Afghanistan",flag:""},{code:"+355-Albania",dialCode:"+355",country:"Albania",flag:""},{code:"+213-Algeria",dialCode:"+213",country:"Algeria",flag:""},{code:"+376-Andorra",dialCode:"+376",country:"Andorra",flag:""},{code:"+244-Angola",dialCode:"+244",country:"Angola",flag:""},{code:"+54-Argentina",dialCode:"+54",country:"Argentina",flag:""},{code:"+374-Armenia",dialCode:"+374",country:"Armenia",flag:""},{code:"+61-Australia",dialCode:"+61",country:"Australia",flag:""},{code:"+43-Austria",dialCode:"+43",country:"Austria",flag:""},{code:"+994-Azerbaijan",dialCode:"+994",country:"Azerbaijan",flag:""},{code:"+973-Bahrain",dialCode:"+973",country:"Bahrain",flag:""},{code:"+880-Bangladesh",dialCode:"+880",country:"Bangladesh",flag:""},{code:"+375-Belarus",dialCode:"+375",country:"Belarus",flag:""},{code:"+32-Belgium",dialCode:"+32",country:"Belgium",flag:""},{code:"+501-Belize",dialCode:"+501",country:"Belize",flag:""},{code:"+229-Benin",dialCode:"+229",country:"Benin",flag:""},{code:"+975-Bhutan",dialCode:"+975",country:"Bhutan",flag:""},{code:"+591-Bolivia",dialCode:"+591",country:"Bolivia",flag:""},{code:"+387-Bosnia",dialCode:"+387",country:"Bosnia",flag:""},{code:"+267-Botswana",dialCode:"+267",country:"Botswana",flag:""},{code:"+55-Brazil",dialCode:"+55",country:"Brazil",flag:""},{code:"+673-Brunei",dialCode:"+673",country:"Brunei",flag:""},{code:"+359-Bulgaria",dialCode:"+359",country:"Bulgaria",flag:""},{code:"+226-BurkinaFaso",dialCode:"+226",country:"Burkina Faso",flag:""},{code:"+257-Burundi",dialCode:"+257",country:"Burundi",flag:""},{code:"+855-Cambodia",dialCode:"+855",country:"Cambodia",flag:""},{code:"+237-Cameroon",dialCode:"+237",country:"Cameroon",flag:""},{code:"+1-Canada",dialCode:"+1",country:"Canada/USA",flag:""},{code:"+238-CapeVerde",dialCode:"+238",country:"Cape Verde",flag:""},{code:"+236-CAR",dialCode:"+236",country:"Central African Republic",flag:""},{code:"+235-Chad",dialCode:"+235",country:"Chad",flag:""},{code:"+56-Chile",dialCode:"+56",country:"Chile",flag:""},{code:"+86-China",dialCode:"+86",country:"China",flag:""},{code:"+57-Colombia",dialCode:"+57",country:"Colombia",flag:""},{code:"+269-Comoros",dialCode:"+269",country:"Comoros",flag:""},{code:"+242-Congo",dialCode:"+242",country:"Congo",flag:""},{code:"+506-CostaRica",dialCode:"+506",country:"Costa Rica",flag:""},{code:"+385-Croatia",dialCode:"+385",country:"Croatia",flag:""},{code:"+53-Cuba",dialCode:"+53",country:"Cuba",flag:""},{code:"+357-Cyprus",dialCode:"+357",country:"Cyprus",flag:""},{code:"+420-Czechia",dialCode:"+420",country:"Czech Republic",flag:""},{code:"+45-Denmark",dialCode:"+45",country:"Denmark",flag:""},{code:"+253-Djibouti",dialCode:"+253",country:"Djibouti",flag:""},{code:"+593-Ecuador",dialCode:"+593",country:"Ecuador",flag:""},{code:"+20-Egypt",dialCode:"+20",country:"Egypt",flag:""},{code:"+503-ElSalvador",dialCode:"+503",country:"El Salvador",flag:""},{code:"+240-EqGuinea",dialCode:"+240",country:"Equatorial Guinea",flag:""},{code:"+291-Eritrea",dialCode:"+291",country:"Eritrea",flag:""},{code:"+372-Estonia",dialCode:"+372",country:"Estonia",flag:""},{code:"+251-Ethiopia",dialCode:"+251",country:"Ethiopia",flag:""},{code:"+679-Fiji",dialCode:"+679",country:"Fiji",flag:""},{code:"+358-Finland",dialCode:"+358",country:"Finland",flag:""},{code:"+33-France",dialCode:"+33",country:"France",flag:""},{code:"+241-Gabon",dialCode:"+241",country:"Gabon",flag:""},{code:"+220-Gambia",dialCode:"+220",country:"Gambia",flag:""},{code:"+995-Georgia",dialCode:"+995",country:"Georgia",flag:""},{code:"+49-Germany",dialCode:"+49",country:"Germany",flag:""},{code:"+233-Ghana",dialCode:"+233",country:"Ghana",flag:""},{code:"+30-Greece",dialCode:"+30",country:"Greece",flag:""},{code:"+502-Guatemala",dialCode:"+502",country:"Guatemala",flag:""},{code:"+224-Guinea",dialCode:"+224",country:"Guinea",flag:""},{code:"+245-GuineaBissau",dialCode:"+245",country:"Guinea-Bissau",flag:""},{code:"+592-Guyana",dialCode:"+592",country:"Guyana",flag:""},{code:"+509-Haiti",dialCode:"+509",country:"Haiti",flag:""},{code:"+504-Honduras",dialCode:"+504",country:"Honduras",flag:""},{code:"+852-HongKong",dialCode:"+852",country:"Hong Kong",flag:""},{code:"+36-Hungary",dialCode:"+36",country:"Hungary",flag:""},{code:"+354-Iceland",dialCode:"+354",country:"Iceland",flag:""},{code:"+91-India",dialCode:"+91",country:"India",flag:""},{code:"+62-Indonesia",dialCode:"+62",country:"Indonesia",flag:""},{code:"+98-Iran",dialCode:"+98",country:"Iran",flag:""},{code:"+964-Iraq",dialCode:"+964",country:"Iraq",flag:""},{code:"+353-Ireland",dialCode:"+353",country:"Ireland",flag:""},{code:"+972-Israel",dialCode:"+972",country:"Israel",flag:""},{code:"+39-Italy",dialCode:"+39",country:"Italy",flag:""},{code:"+225-IvoryCoast",dialCode:"+225",country:"Ivory Coast",flag:""},{code:"+81-Japan",dialCode:"+81",country:"Japan",flag:""},{code:"+962-Jordan",dialCode:"+962",country:"Jordan",flag:""},{code:"+7-Kazakhstan",dialCode:"+7",country:"Kazakhstan",flag:""},{code:"+254-Kenya",dialCode:"+254",country:"Kenya",flag:""},{code:"+965-Kuwait",dialCode:"+965",country:"Kuwait",flag:""},{code:"+996-Kyrgyzstan",dialCode:"+996",country:"Kyrgyzstan",flag:""},{code:"+856-Laos",dialCode:"+856",country:"Laos",flag:""},{code:"+371-Latvia",dialCode:"+371",country:"Latvia",flag:""},{code:"+961-Lebanon",dialCode:"+961",country:"Lebanon",flag:""},{code:"+266-Lesotho",dialCode:"+266",country:"Lesotho",flag:""},{code:"+231-Liberia",dialCode:"+231",country:"Liberia",flag:""},{code:"+218-Libya",dialCode:"+218",country:"Libya",flag:""},{code:"+423-Liechtenstein",dialCode:"+423",country:"Liechtenstein",flag:""},{code:"+370-Lithuania",dialCode:"+370",country:"Lithuania",flag:""},{code:"+352-Luxembourg",dialCode:"+352",country:"Luxembourg",flag:""},{code:"+853-Macau",dialCode:"+853",country:"Macau",flag:""},{code:"+389-Macedonia",dialCode:"+389",country:"Macedonia",flag:""},{code:"+261-Madagascar",dialCode:"+261",country:"Madagascar",flag:""},{code:"+265-Malawi",dialCode:"+265",country:"Malawi",flag:""},{code:"+60-Malaysia",dialCode:"+60",country:"Malaysia",flag:""},{code:"+960-Maldives",dialCode:"+960",country:"Maldives",flag:""},{code:"+223-Mali",dialCode:"+223",country:"Mali",flag:""},{code:"+356-Malta",dialCode:"+356",country:"Malta",flag:""},{code:"+222-Mauritania",dialCode:"+222",country:"Mauritania",flag:""},{code:"+230-Mauritius",dialCode:"+230",country:"Mauritius",flag:""},{code:"+52-Mexico",dialCode:"+52",country:"Mexico",flag:""},{code:"+373-Moldova",dialCode:"+373",country:"Moldova",flag:""},{code:"+377-Monaco",dialCode:"+377",country:"Monaco",flag:""},{code:"+976-Mongolia",dialCode:"+976",country:"Mongolia",flag:""},{code:"+382-Montenegro",dialCode:"+382",country:"Montenegro",flag:""},{code:"+212-Morocco",dialCode:"+212",country:"Morocco",flag:""},{code:"+258-Mozambique",dialCode:"+258",country:"Mozambique",flag:""},{code:"+95-Myanmar",dialCode:"+95",country:"Myanmar",flag:""},{code:"+264-Namibia",dialCode:"+264",country:"Namibia",flag:""},{code:"+977-Nepal",dialCode:"+977",country:"Nepal",flag:""},{code:"+31-Netherlands",dialCode:"+31",country:"Netherlands",flag:""},{code:"+64-NewZealand",dialCode:"+64",country:"New Zealand",flag:""},{code:"+505-Nicaragua",dialCode:"+505",country:"Nicaragua",flag:""},{code:"+227-Niger",dialCode:"+227",country:"Niger",flag:""},{code:"+234-Nigeria",dialCode:"+234",country:"Nigeria",flag:""},{code:"+850-NorthKorea",dialCode:"+850",country:"North Korea",flag:""},{code:"+47-Norway",dialCode:"+47",country:"Norway",flag:""},{code:"+968-Oman",dialCode:"+968",country:"Oman",flag:""},{code:"+92-Pakistan",dialCode:"+92",country:"Pakistan",flag:""},{code:"+970-Palestine",dialCode:"+970",country:"Palestine",flag:""},{code:"+507-Panama",dialCode:"+507",country:"Panama",flag:""},{code:"+675-PNG",dialCode:"+675",country:"Papua New Guinea",flag:""},{code:"+595-Paraguay",dialCode:"+595",country:"Paraguay",flag:""},{code:"+51-Peru",dialCode:"+51",country:"Peru",flag:""},{code:"+63-Philippines",dialCode:"+63",country:"Philippines",flag:""},{code:"+48-Poland",dialCode:"+48",country:"Poland",flag:""},{code:"+351-Portugal",dialCode:"+351",country:"Portugal",flag:""},{code:"+974-Qatar",dialCode:"+974",country:"Qatar",flag:""},{code:"+40-Romania",dialCode:"+40",country:"Romania",flag:""},{code:"+7-Russia",dialCode:"+7",country:"Russia",flag:""},{code:"+250-Rwanda",dialCode:"+250",country:"Rwanda",flag:""},{code:"+966-SaudiArabia",dialCode:"+966",country:"Saudi Arabia",flag:""},{code:"+221-Senegal",dialCode:"+221",country:"Senegal",flag:""},{code:"+381-Serbia",dialCode:"+381",country:"Serbia",flag:""},{code:"+248-Seychelles",dialCode:"+248",country:"Seychelles",flag:""},{code:"+232-SierraLeone",dialCode:"+232",country:"Sierra Leone",flag:""},{code:"+65-Singapore",dialCode:"+65",country:"Singapore",flag:""},{code:"+421-Slovakia",dialCode:"+421",country:"Slovakia",flag:""},{code:"+386-Slovenia",dialCode:"+386",country:"Slovenia",flag:""},{code:"+252-Somalia",dialCode:"+252",country:"Somalia",flag:""},{code:"+27-SouthAfrica",dialCode:"+27",country:"South Africa",flag:""},{code:"+82-SouthKorea",dialCode:"+82",country:"South Korea",flag:""},{code:"+211-SouthSudan",dialCode:"+211",country:"South Sudan",flag:""},{code:"+34-Spain",dialCode:"+34",country:"Spain",flag:""},{code:"+94-SriLanka",dialCode:"+94",country:"Sri Lanka",flag:""},{code:"+249-Sudan",dialCode:"+249",country:"Sudan",flag:""},{code:"+597-Suriname",dialCode:"+597",country:"Suriname",flag:""},{code:"+268-Swaziland",dialCode:"+268",country:"Swaziland",flag:""},{code:"+46-Sweden",dialCode:"+46",country:"Sweden",flag:""},{code:"+41-Switzerland",dialCode:"+41",country:"Switzerland",flag:""},{code:"+963-Syria",dialCode:"+963",country:"Syria",flag:""},{code:"+886-Taiwan",dialCode:"+886",country:"Taiwan",flag:""},{code:"+992-Tajikistan",dialCode:"+992",country:"Tajikistan",flag:""},{code:"+255-Tanzania",dialCode:"+255",country:"Tanzania",flag:""},{code:"+66-Thailand",dialCode:"+66",country:"Thailand",flag:""},{code:"+228-Togo",dialCode:"+228",country:"Togo",flag:""},{code:"+676-Tonga",dialCode:"+676",country:"Tonga",flag:""},{code:"+216-Tunisia",dialCode:"+216",country:"Tunisia",flag:""},{code:"+90-Turkey",dialCode:"+90",country:"Turkey",flag:""},{code:"+993-Turkmenistan",dialCode:"+993",country:"Turkmenistan",flag:""},{code:"+256-Uganda",dialCode:"+256",country:"Uganda",flag:""},{code:"+380-Ukraine",dialCode:"+380",country:"Ukraine",flag:""},{code:"+44-UK",dialCode:"+44",country:"United Kingdom",flag:""},{code:"+598-Uruguay",dialCode:"+598",country:"Uruguay",flag:""},{code:"+998-Uzbekistan",dialCode:"+998",country:"Uzbekistan",flag:""},{code:"+58-Venezuela",dialCode:"+58",country:"Venezuela",flag:""},{code:"+84-Vietnam",dialCode:"+84",country:"Vietnam",flag:""},{code:"+967-Yemen",dialCode:"+967",country:"Yemen",flag:""},{code:"+260-Zambia",dialCode:"+260",country:"Zambia",flag:""},{code:"+263-Zimbabwe",dialCode:"+263",country:"Zimbabwe",flag:""}];function Ele(){var u,m;const t=vn(),[r,n]=N.useState({salonName:"",countryCode:"+971-UAE",phone:"",email:""}),[s,a]=N.useState(!1),[i,o]=N.useState(""),l=async p=>{var x;p.preventDefault(),a(!0),o("");try{const v=await fetch(`https://${nr}.supabase.co/functions/v1/make-server-3e5c72fb/leads`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${cr}`},body:JSON.stringify({fullName:r.salonName,businessName:r.salonName,phoneNumber:`${((x=a0.find(y=>y.code===r.countryCode))==null?void 0:x.dialCode)||""}${r.phone}`,email:r.email,city:"Dubai",businessType:"Salon"})}),w=await v.json();v.ok&&w.success?(console.log(" Lead created:",w.leadId),t("/pricing"),ve.success("Lead created successfully!")):(o("Something went wrong. Please try again."),ve.error("Failed to create lead."))}catch(v){console.error(" Error:",v),o("Failed to submit. Please try again."),ve.error("Failed to submit.")}finally{a(!1)}},c=["HARPER'S BAZAAR","COSMOPOLITAN","VANITY FAIR","MARIE CLAIRE","VOGUE","ELLE","GLAMOUR","HARPER'S BAZAAR"];return e.jsxs("div",{className:"min-h-screen bg-white",children:[e.jsx(lu,{}),e.jsx("div",{className:"bg-gradient-to-b from-purple-50 to-white py-16 md:py-20",children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsxs("button",{onClick:()=>t(-1),className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-8 transition-colors group",children:[e.jsx(Vi,{className:"w-5 h-5 group-hover:-translate-x-1 transition-transform"}),e.jsx("span",{className:"font-medium",children:"Back"})]}),e.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center max-w-7xl mx-auto",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-purple-100 rounded-full mb-6",children:[e.jsx(tr,{className:"w-4 h-4 text-purple-600"}),e.jsx("span",{className:"text-sm text-purple-600 font-medium",children:"The Future of Salon Management"})]}),e.jsxs("h1",{className:"text-4xl md:text-5xl lg:text-6xl font-bold mb-6",children:[e.jsx("span",{className:"text-gray-900",children:"Your Salon Needs an "}),e.jsx("span",{className:"bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent",children:"AI Receptionist"})]}),e.jsx("p",{className:"text-lg text-gray-600 mb-8",children:"Stop losing clients to missed calls. Katia AI answers instantly, consults clients, and books appointments directly into your calendar. 24/7."}),e.jsxs("div",{className:"grid sm:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"flex gap-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-purple-100 flex items-center justify-center flex-shrink-0",children:e.jsx(En,{className:"w-6 h-6 text-purple-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-gray-900 mb-1",children:"AI Receptionist 24/7"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Never miss a client. Our AI answers calls and messages instantly, booking appointments day and night."})]})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-blue-100 flex items-center justify-center flex-shrink-0",children:e.jsx(Pa,{className:"w-6 h-6 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-gray-900 mb-1",children:"Real-time Voice Booking"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Clients can talk naturally to our AI, and it will find the perfect slot in your calendar automatically."})]})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-green-100 flex items-center justify-center flex-shrink-0",children:e.jsx(xr,{className:"w-6 h-6 text-green-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-gray-900 mb-1",children:"Business Growth"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Access powerful analytics and marketing tools to scale your revenue."})]})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-red-100 flex items-center justify-center flex-shrink-0",children:e.jsx(Yn,{className:"w-6 h-6 text-red-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-gray-900 mb-1",children:"No Hidden Fees"}),e.jsx("p",{className:"text-sm text-gray-600",children:"One monthly price for your whole team. No per user commissions or charges."})]})]})]})]}),e.jsx("div",{children:e.jsx(ne,{className:"border-2 border-gray-200 shadow-2xl",children:e.jsxs(ke,{className:"p-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Get Your AI Assistant"}),e.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Enter your details to start automating your salon"}),e.jsxs("form",{onSubmit:l,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Salon Name"}),e.jsx(He,{type:"text",placeholder:"e.g. Bella Beauty",value:r.salonName,onChange:p=>n({...r,salonName:p.target.value}),className:"h-12",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Phone"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(sn,{value:r.countryCode,onValueChange:p=>n({...r,countryCode:p}),children:[e.jsx(an,{className:"w-32 h-12",children:e.jsxs(gn,{children:[(u=a0.find(p=>p.code===r.countryCode))==null?void 0:u.flag," ",(m=a0.find(p=>p.code===r.countryCode))==null?void 0:m.dialCode]})}),e.jsx(on,{className:"max-h-60",children:a0.map((p,x)=>e.jsx(Ue,{value:p.code,children:e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-lg",children:p.flag}),e.jsx("span",{className:"text-sm",children:p.country}),e.jsx("span",{className:"text-xs text-gray-500",children:p.dialCode})]})},`${p.code}-${x}`))})]}),e.jsx(He,{type:"tel",placeholder:"50 123 4567",value:r.phone,onChange:p=>n({...r,phone:p.target.value}),className:"flex-1 h-12",required:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Email Address"}),e.jsx(He,{type:"email",placeholder:"you@example.com",value:r.email,onChange:p=>n({...r,email:p.target.value}),className:"h-12",required:!0})]}),e.jsx(Q,{type:"submit",className:"w-full h-12 bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white font-medium",disabled:s,children:s?"Submitting...":"Get Your AI Assistant"}),e.jsx("p",{className:"text-xs text-center text-gray-500",children:"No credit card required to view our plans"}),i&&e.jsx("p",{className:"text-sm text-center text-red-500 mt-2",children:i})]})]})})})]})]})}),e.jsx("div",{className:"py-12 border-y border-gray-200 bg-gray-50",children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsx("p",{className:"text-center text-sm text-gray-500 mb-6",children:"TRUSTED BY TOP SALONS IN DUBAI, LONDON, AND NEW YORK"}),e.jsx("div",{className:"carousel-container",children:e.jsxs("div",{className:"carousel-track",children:[c.map((p,x)=>e.jsx("div",{className:"carousel-item",children:p},x)),c.map((p,x)=>e.jsx("div",{className:"carousel-item",children:p},`duplicate-${x}`))]})})]})}),e.jsx(Cl,{})]})}var h4="Tabs",[Tle]=Is(h4,[Pm]),x7=Pm(),[Ole,m4]=Tle(h4),g7=N.forwardRef((t,r)=>{const{__scopeTabs:n,value:s,onValueChange:a,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:c="automatic",...u}=t,m=Sm(l),[p,x]=Co({prop:s,onChange:a,defaultProp:i});return e.jsx(Ole,{scope:n,baseId:go(),value:p,onValueChange:x,orientation:o,dir:m,activationMode:c,children:e.jsx(mt.div,{dir:m,"data-orientation":o,...u,ref:r})})});g7.displayName=h4;var v7="TabsList",y7=N.forwardRef((t,r)=>{const{__scopeTabs:n,loop:s=!0,...a}=t,i=m4(v7,n),o=x7(n);return e.jsx(VC,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:s,children:e.jsx(mt.div,{role:"tablist","aria-orientation":i.orientation,...a,ref:r})})});y7.displayName=v7;var b7="TabsTrigger",j7=N.forwardRef((t,r)=>{const{__scopeTabs:n,value:s,disabled:a=!1,...i}=t,o=m4(b7,n),l=x7(n),c=S7(o.baseId,s),u=_7(o.baseId,s),m=s===o.value;return e.jsx(GC,{asChild:!0,...l,focusable:!a,active:m,children:e.jsx(mt.button,{type:"button",role:"tab","aria-selected":m,"aria-controls":u,"data-state":m?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...i,ref:r,onMouseDown:Ze(t.onMouseDown,p=>{!a&&p.button===0&&p.ctrlKey===!1?o.onValueChange(s):p.preventDefault()}),onKeyDown:Ze(t.onKeyDown,p=>{[" ","Enter"].includes(p.key)&&o.onValueChange(s)}),onFocus:Ze(t.onFocus,()=>{const p=o.activationMode!=="manual";!m&&!a&&p&&o.onValueChange(s)})})})});j7.displayName=b7;var w7="TabsContent",N7=N.forwardRef((t,r)=>{const{__scopeTabs:n,value:s,forceMount:a,children:i,...o}=t,l=m4(w7,n),c=S7(l.baseId,s),u=_7(l.baseId,s),m=s===l.value,p=N.useRef(m);return N.useEffect(()=>{const x=requestAnimationFrame(()=>p.current=!1);return()=>cancelAnimationFrame(x)},[]),e.jsx(Gi,{present:a||m,children:({present:x})=>e.jsx(mt.div,{"data-state":m?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!x,id:u,tabIndex:0,...o,ref:r,style:{...t.style,animationDuration:p.current?"0s":void 0},children:x&&i})})});N7.displayName=w7;function S7(t,r){return`${t}-trigger-${r}`}function _7(t,r){return`${t}-content-${r}`}var Mle=g7,Dle=y7,Rle=j7,Ile=N7;function _p({className:t,...r}){return e.jsx(Mle,{"data-slot":"tabs",className:lt("flex flex-col gap-2",t),...r})}function kp({className:t,...r}){return e.jsx(Dle,{"data-slot":"tabs-list",className:lt("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-xl p-[3px] flex",t),...r})}function rn({className:t,...r}){return e.jsx(Rle,{"data-slot":"tabs-trigger",className:lt("inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-xl border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-all focus-visible:ring-[3px] focus-visible:ring-purple-500/50 focus-visible:outline-1 focus-visible:outline-purple-500 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4","text-gray-600 hover:text-gray-900 hover:bg-gray-100","data-[state=active]:bg-gradient-to-r data-[state=active]:from-purple-600 data-[state=active]:to-pink-600 data-[state=active]:text-white data-[state=active]:shadow-md",t),...r})}function nn({className:t,...r}){return e.jsx(Ile,{"data-slot":"tabs-content",className:lt("flex-1 outline-none",t),...r})}function Lle(){const t=vn(),{signInWithEmail:r,signInWithGoogle:n,signInWithFacebook:s}=Ma(),[a,i]=N.useState(!1),[o,l]=N.useState(!1),[c,u]=N.useState(""),[m,p]=N.useState(""),[x,v]=N.useState(""),[w,y]=N.useState(""),[j,S]=N.useState(""),[C,P]=N.useState(""),[T,_]=N.useState(""),k=async()=>{l(!0);const{error:F}=await n();F&&(ve.error("Failed to sign in with Google: "+F.message),l(!1))},M=async()=>{l(!0);const{error:F}=await s();F&&(ve.error("Failed to sign in with Facebook: "+F.message),l(!1))},$=async F=>{F.preventDefault(),l(!0);const{error:H}=await r(c,m);H?(ve.error("Failed to sign in: "+H.message),l(!1)):(ve.success("Successfully signed in!"),t("/redirect"))},B=async F=>{if(F.preventDefault(),C!==T){ve.error("Passwords do not match!");return}if(C.length<8){ve.error("Password must be at least 8 characters");return}if(!j){ve.error("Phone number is required");return}l(!0);try{const K=await(await fetch(`https://${nr}.supabase.co/functions/v1/make-server-3e5c72fb/register/client`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${cr}`},body:JSON.stringify({full_name:x,email:w,phone:j,password:C})})).json();if(K.success){console.log(" Client registered:",K.data),ve.success("Welcome! Your account has been created successfully! ");const{error:Z}=await r(w,C);Z?(console.error(" Auto sign-in failed:",Z),ve.error("Account created! Please sign in manually.")):setTimeout(()=>{t("/redirect")},1e3)}else console.error(" Registration failed:",K.error),ve.error("Registration failed: "+K.error)}catch(H){console.error(" Network error during registration:",H),ve.error("Network error. Please try again.")}finally{l(!1)}};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-pink-50 to-purple-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"w-full max-w-md",children:[e.jsxs("button",{onClick:()=>t("/"),className:"mb-6 flex items-center gap-2 text-gray-600 hover:text-gray-900 transition-colors group",children:[e.jsx(Vi,{className:"w-5 h-5 group-hover:-translate-x-1 transition-transform"}),e.jsx("span",{className:"font-medium",children:"Back to Home"})]}),e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent",children:"Katia"}),e.jsx("p",{className:"text-gray-600 mt-2",children:"Beauty & Wellness Marketplace"})]}),e.jsxs(ne,{className:"border-0 shadow-2xl",children:[e.jsxs(Hr,{children:[e.jsx(wn,{className:"text-2xl text-center",children:"Welcome"}),e.jsx(ns,{className:"text-center",children:"Sign in to your account or create a new one"})]}),e.jsx(ke,{children:e.jsxs(_p,{defaultValue:"login",className:"w-full",children:[e.jsxs(kp,{className:"grid w-full grid-cols-2 mb-6",children:[e.jsx(rn,{value:"login",children:"Sign In"}),e.jsx(rn,{value:"register",children:"Sign Up"})]}),e.jsxs(nn,{value:"login",children:[e.jsxs("div",{className:"space-y-3 mb-6",children:[e.jsxs(Q,{variant:"outline",className:"w-full h-11 border-gray-300 hover:bg-gray-50",onClick:k,disabled:o,children:[e.jsxs("svg",{className:"w-5 h-5 mr-3",viewBox:"0 0 24 24",children:[e.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),e.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),e.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),e.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continue with Google"]}),e.jsxs(Q,{variant:"outline",className:"w-full h-11 border-gray-300 hover:bg-gray-50",onClick:M,disabled:o,children:[e.jsx("svg",{className:"w-5 h-5 mr-3",fill:"#1877F2",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})}),"Continue with Facebook"]})]}),e.jsxs("div",{className:"relative mb-6",children:[e.jsx(tp,{}),e.jsx("span",{className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 bg-white px-2 text-xs text-gray-500",children:"Or continue with email"})]}),e.jsxs("form",{onSubmit:$,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(We,{htmlFor:"login-email",children:"Email"}),e.jsxs("div",{className:"relative",children:[e.jsx(Ut,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx(He,{id:"login-email",type:"email",placeholder:"your@email.com",className:"pl-10 h-11",value:c,onChange:F=>u(F.target.value),required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(We,{htmlFor:"login-password",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(Yt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx(He,{id:"login-password",type:a?"text":"password",placeholder:"",className:"pl-10 pr-10 h-11",value:m,onChange:F=>p(F.target.value),required:!0}),e.jsx("button",{type:"button",onClick:()=>i(!a),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:a?e.jsx(GS,{className:"w-5 h-5"}):e.jsx(Rr,{className:"w-5 h-5"})})]})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",className:"rounded border-gray-300"}),e.jsx("span",{className:"text-gray-600",children:"Remember me"})]}),e.jsx("a",{href:"#",className:"text-purple-600 hover:text-purple-700",children:"Forgot password?"})]}),e.jsx(Q,{type:"submit",className:"w-full h-11 bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700",disabled:o,children:o?"Signing in...":"Sign In"})]})]}),e.jsxs(nn,{value:"register",children:[e.jsxs("div",{className:"space-y-3 mb-6",children:[e.jsxs(Q,{variant:"outline",className:"w-full h-11 border-gray-300 hover:bg-gray-50",onClick:k,disabled:o,children:[e.jsxs("svg",{className:"w-5 h-5 mr-3",viewBox:"0 0 24 24",children:[e.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),e.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),e.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),e.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Sign up with Google"]}),e.jsxs(Q,{variant:"outline",className:"w-full h-11 border-gray-300 hover:bg-gray-50",onClick:M,disabled:o,children:[e.jsx("svg",{className:"w-5 h-5 mr-3",fill:"#1877F2",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})}),"Sign up with Facebook"]})]}),e.jsxs("div",{className:"relative mb-6",children:[e.jsx(tp,{}),e.jsx("span",{className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 bg-white px-2 text-xs text-gray-500",children:"Or create account with email"})]}),e.jsxs("form",{onSubmit:B,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(We,{htmlFor:"register-name",children:"Full Name"}),e.jsxs("div",{className:"relative",children:[e.jsx(zn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx(He,{id:"register-name",type:"text",placeholder:"John Doe",className:"pl-10 h-11",value:x,onChange:F=>v(F.target.value),required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(We,{htmlFor:"register-email",children:"Email"}),e.jsxs("div",{className:"relative",children:[e.jsx(Ut,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx(He,{id:"register-email",type:"email",placeholder:"your@email.com",className:"pl-10 h-11",value:w,onChange:F=>y(F.target.value),required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(We,{htmlFor:"register-phone",children:"Phone Number"}),e.jsxs("div",{className:"relative",children:[e.jsx(En,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx(He,{id:"register-phone",type:"tel",placeholder:"123-456-7890",className:"pl-10 h-11",value:j,onChange:F=>S(F.target.value),required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(We,{htmlFor:"register-password",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(Yt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx(He,{id:"register-password",type:a?"text":"password",placeholder:"",className:"pl-10 pr-10 h-11",value:C,onChange:F=>P(F.target.value),required:!0,minLength:8}),e.jsx("button",{type:"button",onClick:()=>i(!a),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:a?e.jsx(GS,{className:"w-5 h-5"}):e.jsx(Rr,{className:"w-5 h-5"})})]}),e.jsx("p",{className:"text-xs text-gray-500",children:"Must be at least 8 characters"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(We,{htmlFor:"register-confirm-password",children:"Confirm Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(Yt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx(He,{id:"register-confirm-password",type:a?"text":"password",placeholder:"",className:"pl-10 h-11",value:T,onChange:F=>_(F.target.value),required:!0})]})]}),e.jsx("div",{className:"text-sm",children:e.jsxs("label",{className:"flex items-start gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",className:"mt-1 rounded border-gray-300",required:!0}),e.jsxs("span",{className:"text-gray-600",children:["I agree to the"," ",e.jsx("a",{href:"#",className:"text-purple-600 hover:text-purple-700",children:"Terms of Service"})," ","and"," ",e.jsx("a",{href:"#",className:"text-purple-600 hover:text-purple-700",children:"Privacy Policy"})]})]})}),e.jsx(Q,{type:"submit",className:"w-full h-11 bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700",disabled:o,children:o?"Creating account...":"Create Account"})]})]})]})}),e.jsx(lV,{className:"flex flex-col space-y-4",children:e.jsxs("div",{className:"text-center text-sm text-gray-600",children:[e.jsx("p",{children:"Are you a business owner?"}),e.jsx("a",{href:"#",className:"text-purple-600 hover:text-purple-700 font-medium",children:"Register your salon "})]})})]}),e.jsxs("p",{className:"text-center text-xs text-gray-500 mt-6",children:["Protected by reCAPTCHA. Google"," ",e.jsx("a",{href:"#",className:"underline",children:"Privacy Policy"})," and"," ",e.jsx("a",{href:"#",className:"underline",children:"Terms of Service"})," apply."]})]})})}function EA(){const t=vn(),[r,n]=N.useState(!1),[s,a]=N.useState({name:"",email:"",subject:"",message:""}),i=async l=>{l.preventDefault(),n(!0);try{const c=await fetch(`https://${nr}.supabase.co/functions/v1/make-server-3e5c72fb/support-messages`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${cr}`},body:JSON.stringify({name:s.name,email:s.email,subject:s.subject,message:s.message})}),u=await c.json();c.ok&&u.success?(ve.success("Message sent successfully! We'll get back to you soon."),a({name:"",email:"",subject:"",message:""})):ve.error("Failed to send message. Please try again.")}catch(c){console.error("Error sending message:",c),ve.error("Failed to send message. Please try again.")}finally{n(!1)}},o=l=>{a({...s,[l.target.name]:l.target.value})};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-pink-50 to-purple-50 py-12 px-4",children:[e.jsx(lu,{}),e.jsxs("div",{className:"container mx-auto max-w-6xl",children:[e.jsxs("button",{onClick:()=>t("/"),className:"mb-6 flex items-center gap-2 text-gray-600 hover:text-gray-900 transition-colors group",children:[e.jsx(Vi,{className:"w-5 h-5 group-hover:-translate-x-1 transition-transform"}),e.jsx("span",{className:"font-medium",children:"Back to Home"})]}),e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h1",{className:"text-4xl md:text-5xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent mb-4",children:"Get in Touch"}),e.jsx("p",{className:"text-gray-600 text-lg max-w-2xl mx-auto",children:"Have a question or need help? We're here for you. Send us a message and we'll respond as soon as possible."})]}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsx(ne,{className:"p-6 border-2 border-purple-100 bg-white",children:e.jsxs("div",{className:"flex items-start gap-4 mb-6",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-r from-purple-600 to-pink-600 flex items-center justify-center flex-shrink-0",children:e.jsx(Ut,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-lg mb-1",children:"Email Us"}),e.jsx("a",{href:"mailto:katiabookingg@gmail.com",className:"text-purple-600 hover:underline",children:"katiabookingg@gmail.com"})]})]})}),e.jsx(ne,{className:"p-6 border-2 border-purple-100 bg-white",children:e.jsxs("div",{className:"flex items-start gap-4 mb-6",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-r from-green-500 to-green-600 flex items-center justify-center flex-shrink-0",children:e.jsx(Fh,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-lg mb-1",children:"WhatsApp"}),e.jsx("a",{href:"https://wa.me/306934541170",target:"_blank",rel:"noopener noreferrer",className:"text-green-600 hover:underline font-medium",children:"Chat with us"}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Response within 1 hour"})]})]})})]}),e.jsx("div",{className:"md:col-span-2",children:e.jsxs(ne,{className:"p-8 border-2 border-gray-100 bg-white shadow-xl",children:[e.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Send us a Message"}),e.jsxs("form",{onSubmit:i,className:"space-y-6",children:[e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(We,{htmlFor:"name",children:"Full Name *"}),e.jsx(He,{id:"name",name:"name",type:"text",placeholder:"John Doe",value:s.name,onChange:o,required:!0,className:"h-11"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(We,{htmlFor:"email",children:"Email Address *"}),e.jsx(He,{id:"email",name:"email",type:"email",placeholder:"john@example.com",value:s.email,onChange:o,required:!0,className:"h-11"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(We,{htmlFor:"subject",children:"Subject *"}),e.jsx(He,{id:"subject",name:"subject",type:"text",placeholder:"How can we help you?",value:s.subject,onChange:o,required:!0,className:"h-11"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(We,{htmlFor:"message",children:"Message *"}),e.jsx(Wh,{id:"message",name:"message",placeholder:"Tell us more about your inquiry...",value:s.message,onChange:o,required:!0,rows:8,className:"resize-none"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("input",{type:"checkbox",id:"privacy",required:!0,className:"mt-1 rounded border-gray-300"}),e.jsxs("label",{htmlFor:"privacy",className:"text-sm text-gray-600",children:["I agree to the processing of my personal data in accordance with the"," ",e.jsx("a",{href:"#",className:"text-purple-600 hover:underline",children:"Privacy Policy"})]})]}),e.jsx(Q,{type:"submit",disabled:r,className:"w-full h-12 bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-lg",children:r?"Sending...":e.jsxs(e.Fragment,{children:[e.jsx(ys,{className:"w-5 h-5 mr-2"}),"Send Message"]})})]})]})})]})]}),e.jsx(Cl,{})]})}var f4="Checkbox",[$le]=Is(f4),[Ble,Fle]=$le(f4),k7=N.forwardRef((t,r)=>{const{__scopeCheckbox:n,name:s,checked:a,defaultChecked:i,required:o,disabled:l,value:c="on",onCheckedChange:u,form:m,...p}=t,[x,v]=N.useState(null),w=Xt(r,T=>v(T)),y=N.useRef(!1),j=x?m||!!x.closest("form"):!0,[S=!1,C]=Co({prop:a,defaultProp:i,onChange:u}),P=N.useRef(S);return N.useEffect(()=>{const T=x==null?void 0:x.form;if(T){const _=()=>C(P.current);return T.addEventListener("reset",_),()=>T.removeEventListener("reset",_)}},[x,C]),e.jsxs(Ble,{scope:n,state:S,disabled:l,children:[e.jsx(mt.button,{type:"button",role:"checkbox","aria-checked":kc(S)?"mixed":S,"aria-required":o,"data-state":A7(S),"data-disabled":l?"":void 0,disabled:l,value:c,...p,ref:w,onKeyDown:Ze(t.onKeyDown,T=>{T.key==="Enter"&&T.preventDefault()}),onClick:Ze(t.onClick,T=>{C(_=>kc(_)?!0:!_),j&&(y.current=T.isPropagationStopped(),y.current||T.stopPropagation())})}),j&&e.jsx(zle,{control:x,bubbles:!y.current,name:s,value:c,checked:S,required:o,disabled:l,form:m,style:{transform:"translateX(-100%)"},defaultChecked:kc(i)?!1:i})]})});k7.displayName=f4;var C7="CheckboxIndicator",P7=N.forwardRef((t,r)=>{const{__scopeCheckbox:n,forceMount:s,...a}=t,i=Fle(C7,n);return e.jsx(Gi,{present:s||kc(i.state)||i.state===!0,children:e.jsx(mt.span,{"data-state":A7(i.state),"data-disabled":i.disabled?"":void 0,...a,ref:r,style:{pointerEvents:"none",...t.style}})})});P7.displayName=C7;var zle=t=>{const{control:r,checked:n,bubbles:s=!0,defaultChecked:a,...i}=t,o=N.useRef(null),l=px(n),c=fx(r);N.useEffect(()=>{const m=o.current,p=window.HTMLInputElement.prototype,v=Object.getOwnPropertyDescriptor(p,"checked").set;if(l!==n&&v){const w=new Event("click",{bubbles:s});m.indeterminate=kc(n),v.call(m,kc(n)?!1:n),m.dispatchEvent(w)}},[l,n,s]);const u=N.useRef(kc(n)?!1:n);return e.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:a??u.current,...i,tabIndex:-1,ref:o,style:{...t.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function kc(t){return t==="indeterminate"}function A7(t){return kc(t)?"indeterminate":t?"checked":"unchecked"}var Ule=k7,Hle=P7;function mh({className:t,...r}){return e.jsx(Ule,{"data-slot":"checkbox",className:lt("peer border bg-input-background dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",t),...r,children:e.jsx(Hle,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:e.jsx(or,{className:"size-3.5"})})})}var E7=["PageUp","PageDown"],T7=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],O7={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Em="Slider",[R_,Wle,qle]=ny(Em),[M7]=Is(Em,[qle]),[Vle,Ay]=M7(Em),D7=N.forwardRef((t,r)=>{const{name:n,min:s=0,max:a=100,step:i=1,orientation:o="horizontal",disabled:l=!1,minStepsBetweenThumbs:c=0,defaultValue:u=[s],value:m,onValueChange:p=()=>{},onValueCommit:x=()=>{},inverted:v=!1,form:w,...y}=t,j=N.useRef(new Set),S=N.useRef(0),P=o==="horizontal"?Gle:Kle,[T=[],_]=Co({prop:m,defaultProp:u,onChange:H=>{var Z;(Z=[...j.current][S.current])==null||Z.focus(),p(H)}}),k=N.useRef(T);function M(H){const K=Qle(T,H);F(H,K)}function $(H){F(H,S.current)}function B(){const H=k.current[S.current];T[S.current]!==H&&x(T)}function F(H,K,{commit:Z}={commit:!1}){const V=nce(i),W=sce(Math.round((H-s)/i)*i+s,V),G=D0(W,[s,a]);_((O=[])=>{const R=Xle(O,G,K);if(rce(R,c*i)){S.current=R.indexOf(G);const D=String(R)!==String(O);return D&&Z&&x(R),D?R:O}else return O})}return e.jsx(Vle,{scope:t.__scopeSlider,name:n,disabled:l,min:s,max:a,valueIndexToChangeRef:S,thumbs:j.current,values:T,orientation:o,form:w,children:e.jsx(R_.Provider,{scope:t.__scopeSlider,children:e.jsx(R_.Slot,{scope:t.__scopeSlider,children:e.jsx(P,{"aria-disabled":l,"data-disabled":l?"":void 0,...y,ref:r,onPointerDown:Ze(y.onPointerDown,()=>{l||(k.current=T)}),min:s,max:a,inverted:v,onSlideStart:l?void 0:M,onSlideMove:l?void 0:$,onSlideEnd:l?void 0:B,onHomeKeyDown:()=>!l&&F(s,0,{commit:!0}),onEndKeyDown:()=>!l&&F(a,T.length-1,{commit:!0}),onStepKeyDown:({event:H,direction:K})=>{if(!l){const W=E7.includes(H.key)||H.shiftKey&&T7.includes(H.key)?10:1,G=S.current,O=T[G],R=i*W*K;F(O+R,G,{commit:!0})}}})})})})});D7.displayName=Em;var[R7,I7]=M7(Em,{startEdge:"left",endEdge:"right",size:"width",direction:1}),Gle=N.forwardRef((t,r)=>{const{min:n,max:s,dir:a,inverted:i,onSlideStart:o,onSlideMove:l,onSlideEnd:c,onStepKeyDown:u,...m}=t,[p,x]=N.useState(null),v=Xt(r,P=>x(P)),w=N.useRef(void 0),y=Sm(a),j=y==="ltr",S=j&&!i||!j&&i;function C(P){const T=w.current||p.getBoundingClientRect(),_=[0,T.width],M=p4(_,S?[n,s]:[s,n]);return w.current=T,M(P-T.left)}return e.jsx(R7,{scope:t.__scopeSlider,startEdge:S?"left":"right",endEdge:S?"right":"left",direction:S?1:-1,size:"width",children:e.jsx(L7,{dir:y,"data-orientation":"horizontal",...m,ref:v,style:{...m.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:P=>{const T=C(P.clientX);o==null||o(T)},onSlideMove:P=>{const T=C(P.clientX);l==null||l(T)},onSlideEnd:()=>{w.current=void 0,c==null||c()},onStepKeyDown:P=>{const _=O7[S?"from-left":"from-right"].includes(P.key);u==null||u({event:P,direction:_?-1:1})}})})}),Kle=N.forwardRef((t,r)=>{const{min:n,max:s,inverted:a,onSlideStart:i,onSlideMove:o,onSlideEnd:l,onStepKeyDown:c,...u}=t,m=N.useRef(null),p=Xt(r,m),x=N.useRef(void 0),v=!a;function w(y){const j=x.current||m.current.getBoundingClientRect(),S=[0,j.height],P=p4(S,v?[s,n]:[n,s]);return x.current=j,P(y-j.top)}return e.jsx(R7,{scope:t.__scopeSlider,startEdge:v?"bottom":"top",endEdge:v?"top":"bottom",size:"height",direction:v?1:-1,children:e.jsx(L7,{"data-orientation":"vertical",...u,ref:p,style:{...u.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:y=>{const j=w(y.clientY);i==null||i(j)},onSlideMove:y=>{const j=w(y.clientY);o==null||o(j)},onSlideEnd:()=>{x.current=void 0,l==null||l()},onStepKeyDown:y=>{const S=O7[v?"from-bottom":"from-top"].includes(y.key);c==null||c({event:y,direction:S?-1:1})}})})}),L7=N.forwardRef((t,r)=>{const{__scopeSlider:n,onSlideStart:s,onSlideMove:a,onSlideEnd:i,onHomeKeyDown:o,onEndKeyDown:l,onStepKeyDown:c,...u}=t,m=Ay(Em,n);return e.jsx(mt.span,{...u,ref:r,onKeyDown:Ze(t.onKeyDown,p=>{p.key==="Home"?(o(p),p.preventDefault()):p.key==="End"?(l(p),p.preventDefault()):E7.concat(T7).includes(p.key)&&(c(p),p.preventDefault())}),onPointerDown:Ze(t.onPointerDown,p=>{const x=p.target;x.setPointerCapture(p.pointerId),p.preventDefault(),m.thumbs.has(x)?x.focus():s(p)}),onPointerMove:Ze(t.onPointerMove,p=>{p.target.hasPointerCapture(p.pointerId)&&a(p)}),onPointerUp:Ze(t.onPointerUp,p=>{const x=p.target;x.hasPointerCapture(p.pointerId)&&(x.releasePointerCapture(p.pointerId),i(p))})})}),$7="SliderTrack",B7=N.forwardRef((t,r)=>{const{__scopeSlider:n,...s}=t,a=Ay($7,n);return e.jsx(mt.span,{"data-disabled":a.disabled?"":void 0,"data-orientation":a.orientation,...s,ref:r})});B7.displayName=$7;var I_="SliderRange",F7=N.forwardRef((t,r)=>{const{__scopeSlider:n,...s}=t,a=Ay(I_,n),i=I7(I_,n),o=N.useRef(null),l=Xt(r,o),c=a.values.length,u=a.values.map(x=>U7(x,a.min,a.max)),m=c>1?Math.min(...u):0,p=100-Math.max(...u);return e.jsx(mt.span,{"data-orientation":a.orientation,"data-disabled":a.disabled?"":void 0,...s,ref:l,style:{...t.style,[i.startEdge]:m+"%",[i.endEdge]:p+"%"}})});F7.displayName=I_;var L_="SliderThumb",z7=N.forwardRef((t,r)=>{const n=Wle(t.__scopeSlider),[s,a]=N.useState(null),i=Xt(r,l=>a(l)),o=N.useMemo(()=>s?n().findIndex(l=>l.ref.current===s):-1,[n,s]);return e.jsx(Yle,{...t,ref:i,index:o})}),Yle=N.forwardRef((t,r)=>{const{__scopeSlider:n,index:s,name:a,...i}=t,o=Ay(L_,n),l=I7(L_,n),[c,u]=N.useState(null),m=Xt(r,C=>u(C)),p=c?o.form||!!c.closest("form"):!0,x=fx(c),v=o.values[s],w=v===void 0?0:U7(v,o.min,o.max),y=Jle(s,o.values.length),j=x==null?void 0:x[l.size],S=j?ece(j,w,l.direction):0;return N.useEffect(()=>{if(c)return o.thumbs.add(c),()=>{o.thumbs.delete(c)}},[c,o.thumbs]),e.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[l.startEdge]:`calc(${w}% + ${S}px)`},children:[e.jsx(R_.ItemSlot,{scope:t.__scopeSlider,children:e.jsx(mt.span,{role:"slider","aria-label":t["aria-label"]||y,"aria-valuemin":o.min,"aria-valuenow":v,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0,...i,ref:m,style:v===void 0?{display:"none"}:t.style,onFocus:Ze(t.onFocus,()=>{o.valueIndexToChangeRef.current=s})})}),p&&e.jsx(Zle,{name:a??(o.name?o.name+(o.values.length>1?"[]":""):void 0),form:o.form,value:v},s)]})});z7.displayName=L_;var Zle=t=>{const{value:r,...n}=t,s=N.useRef(null),a=px(r);return N.useEffect(()=>{const i=s.current,o=window.HTMLInputElement.prototype,c=Object.getOwnPropertyDescriptor(o,"value").set;if(a!==r&&c){const u=new Event("input",{bubbles:!0});c.call(i,r),i.dispatchEvent(u)}},[a,r]),e.jsx("input",{style:{display:"none"},...n,ref:s,defaultValue:r})};function Xle(t=[],r,n){const s=[...t];return s[n]=r,s.sort((a,i)=>a-i)}function U7(t,r,n){const i=100/(n-r)*(t-r);return D0(i,[0,100])}function Jle(t,r){return r>2?`Value ${t+1} of ${r}`:r===2?["Minimum","Maximum"][t]:void 0}function Qle(t,r){if(t.length===1)return 0;const n=t.map(a=>Math.abs(a-r)),s=Math.min(...n);return n.indexOf(s)}function ece(t,r,n){const s=t/2,i=p4([0,50],[0,s]);return(s-i(r)*n)*n}function tce(t){return t.slice(0,-1).map((r,n)=>t[n+1]-r)}function rce(t,r){if(r>0){const n=tce(t);return Math.min(...n)>=r}return!0}function p4(t,r){return n=>{if(t[0]===t[1]||r[0]===r[1])return r[0];const s=(r[1]-r[0])/(t[1]-t[0]);return r[0]+s*(n-t[0])}}function nce(t){return(String(t).split(".")[1]||"").length}function sce(t,r){const n=Math.pow(10,r);return Math.round(t*n)/n}var ace=D7,ice=B7,oce=F7,lce=z7;function TA({className:t,defaultValue:r,value:n,min:s=0,max:a=100,...i}){const o=N.useMemo(()=>Array.isArray(n)?n:Array.isArray(r)?r:[s,a],[n,r,s,a]);return e.jsxs(ace,{"data-slot":"slider",defaultValue:r,value:n,min:s,max:a,className:lt("relative flex w-full touch-none items-center select-none data-[disabled]:opacity-50 data-[orientation=vertical]:h-full data-[orientation=vertical]:min-h-44 data-[orientation=vertical]:w-auto data-[orientation=vertical]:flex-col",t),...i,children:[e.jsx(ice,{"data-slot":"slider-track",className:lt("bg-muted relative grow overflow-hidden rounded-full data-[orientation=horizontal]:h-4 data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-1.5"),children:e.jsx(oce,{"data-slot":"slider-range",className:lt("bg-primary absolute data-[orientation=horizontal]:h-full data-[orientation=vertical]:w-full")})}),Array.from({length:o.length},(l,c)=>e.jsx(lce,{"data-slot":"slider-thumb",className:"border-primary bg-background ring-ring/50 block size-4 shrink-0 rounded-full border shadow-sm transition-[color,box-shadow] hover:ring-4 focus-visible:ring-4 focus-visible:outline-hidden disabled:pointer-events-none disabled:opacity-50"},c))]})}function cce({...t}){return e.jsx(s7,{"data-slot":"sheet",...t})}function dce({...t}){return e.jsx(Loe,{"data-slot":"sheet-trigger",...t})}function uce({...t}){return e.jsx(a7,{"data-slot":"sheet-portal",...t})}function hce({className:t,...r}){return e.jsx(i7,{"data-slot":"sheet-overlay",className:lt("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...r})}function mce({className:t,children:r,side:n="right",...s}){return e.jsxs(uce,{children:[e.jsx(hce,{}),e.jsxs(o7,{"data-slot":"sheet-content",className:lt("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500",n==="right"&&"data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm",n==="left"&&"data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm",n==="top"&&"data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b",n==="bottom"&&"data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t",t),...s,children:[r,e.jsxs(d7,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-secondary absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none",children:[e.jsx(ht,{className:"size-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function fce({className:t,...r}){return e.jsx("div",{"data-slot":"sheet-header",className:lt("flex flex-col gap-1.5 p-4",t),...r})}function pce({className:t,...r}){return e.jsx(l7,{"data-slot":"sheet-title",className:lt("text-foreground font-semibold",t),...r})}function xce({className:t,...r}){return e.jsx(c7,{"data-slot":"sheet-description",className:lt("text-muted-foreground text-sm",t),...r})}function gce(){const t=vn(),[r,n]=N.useState("recommended"),[s,a]=N.useState([0,200]),[i,o]=N.useState([]),[l,c]=N.useState(0),[u,m]=N.useState(!1),[p,x]=N.useState(!0),[v,w]=N.useState("5"),[y,j]=N.useState(!1),S=_=>{o(k=>k.includes(_)?k.filter(M=>M!==_):[...k,_])},C=()=>{o([]),a([0,200]),c(0),m(!1),w("5"),n("recommended")},T=[...ja.filter(_=>{var B,F,H;if(i.length>0&&!((B=_.services)==null?void 0:B.some(Z=>i.includes(Z.category))))return!1;const k=Math.min(...((F=_.services)==null?void 0:F.map(K=>K.price))||[0]);if(Math.max(...((H=_.services)==null?void 0:H.map(K=>K.price))||[200])<s[0]||k>s[1]||l>0&&_.rating<l||u&&!_.isOpenNow)return!1;const $=parseFloat(v);return!(_.distance>$)})].sort((_,k)=>{var M,$,B,F;switch(r){case"rating":return k.rating-_.rating;case"distance":return _.distance-k.distance;case"new":return parseInt(k.id)-parseInt(_.id);case"price-low":const H=Math.min(...((M=_.services)==null?void 0:M.map(O=>O.price))||[0]),K=Math.min(...(($=k.services)==null?void 0:$.map(O=>O.price))||[0]);return H-K;case"price-high":const Z=Math.max(...((B=_.services)==null?void 0:B.map(O=>O.price))||[0]);return Math.max(...((F=k.services)==null?void 0:F.map(O=>O.price))||[0])-Z;case"recommended":default:const W=_.rating*Math.log(_.reviewCount+1);return k.rating*Math.log(k.reviewCount+1)-W}});return e.jsxs("div",{className:"min-h-screen bg-white",children:[e.jsx(lu,{}),e.jsxs("div",{className:"container mx-auto px-4 py-4 md:py-8",children:[e.jsxs("button",{onClick:()=>t("/"),className:"flex items-center gap-2 text-gray-600 hover:text-purple-600 mb-4 md:mb-6 transition-colors",children:[e.jsx(Vi,{className:"w-5 h-5"}),e.jsx("span",{className:"font-medium",children:"Back to Home"})]}),e.jsxs("div",{className:"mb-4 md:mb-8",children:[e.jsx("h1",{className:"text-2xl md:text-4xl font-bold text-gray-900 mb-2",children:"Beauty Salons in New York"}),e.jsxs("p",{className:"text-gray-600",children:[T.length," salons found"]})]}),e.jsxs("div",{className:"md:hidden flex items-center gap-2 mb-4",children:[e.jsxs(cce,{open:y,onOpenChange:j,children:[e.jsx(dce,{asChild:!0,children:e.jsxs(Q,{variant:"outline",className:"flex-1",children:[e.jsx(OK,{className:"w-4 h-4 mr-2"}),"Filters",(i.length>0||l>0||u)&&e.jsx("span",{className:"ml-2 bg-purple-600 text-white text-xs rounded-full px-2 py-0.5",children:i.length+(l>0?1:0)+(u?1:0)})]})}),e.jsxs(mce,{side:"bottom",className:"h-[85vh] overflow-y-auto",children:[e.jsxs(fce,{children:[e.jsx(pce,{children:"Filters"}),e.jsx(xce,{className:"sr-only",children:"Filter salons by category, price, rating, and more"})]}),e.jsxs("div",{className:"mt-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("div",{className:"flex items-center justify-between mb-3",children:e.jsx("h3",{className:"font-semibold",children:"Service Category"})}),e.jsx("div",{className:"space-y-3",children:N3.map(_=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(mh,{id:`mobile-${_.id}`,checked:i.includes(_.id),onCheckedChange:()=>S(_.id)}),e.jsx(We,{htmlFor:`mobile-${_.id}`,className:"text-sm font-normal cursor-pointer",children:_.name})]},_.id))})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-3",children:"Price Range"}),e.jsx(TA,{value:s,onValueChange:a,max:200,step:10,className:"mb-2"}),e.jsxs("div",{className:"flex justify-between text-sm text-gray-600",children:[e.jsxs("span",{children:["$",s[0]]}),e.jsxs("span",{children:["$",s[1]]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-3",children:"Minimum Rating"}),e.jsx("div",{className:"space-y-2",children:[4.5,4,3.5,3].map(_=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(mh,{id:`mobile-rating-${_}`,checked:l===_,onCheckedChange:()=>c(_)}),e.jsxs(We,{htmlFor:`mobile-rating-${_}`,className:"text-sm font-normal cursor-pointer",children:[_,"+ stars"]})]},_))})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-3",children:"Availability"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(mh,{id:"mobile-today",checked:u,onCheckedChange:()=>m(!u)}),e.jsx(We,{htmlFor:"mobile-today",className:"text-sm font-normal cursor-pointer",children:"Available Today"})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-3",children:"Distance"}),e.jsxs(sn,{value:v,onValueChange:w,children:[e.jsx(an,{children:e.jsx(gn,{placeholder:"Select distance"})}),e.jsxs(on,{children:[e.jsx(Ue,{value:"1",children:"Within 1 km"}),e.jsx(Ue,{value:"3",children:"Within 3 km"}),e.jsx(Ue,{value:"5",children:"Within 5 km"}),e.jsx(Ue,{value:"10",children:"Within 10 km"})]})]})]}),e.jsxs("div",{className:"flex gap-2 pt-4 pb-safe",children:[e.jsx(Q,{variant:"outline",onClick:C,className:"flex-1",children:"Clear All"}),e.jsxs(Q,{onClick:()=>j(!1),className:"flex-1 bg-gradient-to-r from-purple-600 to-pink-600",children:["Show Results (",T.length,")"]})]})]})]})]}),e.jsxs(sn,{value:r,onValueChange:n,children:[e.jsx(an,{className:"flex-1",children:e.jsx(gn,{placeholder:"Sort"})}),e.jsxs(on,{children:[e.jsx(Ue,{value:"recommended",children:"Recommended"}),e.jsx(Ue,{value:"rating",children:"Highest Rating"}),e.jsx(Ue,{value:"distance",children:"Nearest"}),e.jsx(Ue,{value:"new",children:"Newest"}),e.jsx(Ue,{value:"price-low",children:"Price: Low to High"}),e.jsx(Ue,{value:"price-high",children:"Price: High to Low"})]})]})]}),e.jsxs("div",{className:"flex gap-8",children:[e.jsx("aside",{className:"hidden md:block w-80",children:e.jsxs(ne,{className:"p-6 sticky top-24",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-xl font-bold",children:"Filters"}),e.jsx(Q,{variant:"ghost",size:"sm",onClick:C,children:"Clear all"})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"font-semibold mb-3",children:"Service Category"}),e.jsx("div",{className:"space-y-3",children:N3.map(_=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(mh,{id:_.id,checked:i.includes(_.id),onCheckedChange:()=>S(_.id)}),e.jsx(We,{htmlFor:_.id,className:"text-sm font-normal cursor-pointer",children:_.name})]},_.id))})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"font-semibold mb-3",children:"Price Range"}),e.jsx(TA,{value:s,onValueChange:a,max:200,step:10,className:"mb-2"}),e.jsxs("div",{className:"flex justify-between text-sm text-gray-600",children:[e.jsxs("span",{children:["$",s[0]]}),e.jsxs("span",{children:["$",s[1]]})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"font-semibold mb-3",children:"Minimum Rating"}),e.jsx("div",{className:"space-y-2",children:[4.5,4,3.5,3].map(_=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(mh,{id:`rating-${_}`,checked:l===_,onCheckedChange:()=>c(_)}),e.jsxs(We,{htmlFor:`rating-${_}`,className:"text-sm font-normal cursor-pointer",children:[_,"+ stars"]})]},_))})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"font-semibold mb-3",children:"Availability"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(mh,{id:"today",checked:u,onCheckedChange:()=>m(!u)}),e.jsx(We,{htmlFor:"today",className:"text-sm font-normal cursor-pointer",children:"Available Today"})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-3",children:"Distance"}),e.jsxs(sn,{value:v,onValueChange:w,children:[e.jsx(an,{children:e.jsx(gn,{placeholder:"Select distance"})}),e.jsxs(on,{children:[e.jsx(Ue,{value:"1",children:"Within 1 km"}),e.jsx(Ue,{value:"3",children:"Within 3 km"}),e.jsx(Ue,{value:"5",children:"Within 5 km"}),e.jsx(Ue,{value:"10",children:"Within 10 km"})]})]})]})]})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"hidden md:flex items-center justify-between mb-6",children:e.jsxs("div",{className:"flex items-center gap-4 ml-auto",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Sort by:"}),e.jsxs(sn,{value:r,onValueChange:n,children:[e.jsx(an,{className:"w-48",children:e.jsx(gn,{})}),e.jsxs(on,{children:[e.jsx(Ue,{value:"recommended",children:"Recommended"}),e.jsx(Ue,{value:"rating",children:"Highest Rating"}),e.jsx(Ue,{value:"distance",children:"Nearest"}),e.jsx(Ue,{value:"new",children:"Newest"}),e.jsx(Ue,{value:"price-low",children:"Price: Low to High"}),e.jsx(Ue,{value:"price-high",children:"Price: High to Low"})]})]})]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 xl:grid-cols-3 gap-4 md:gap-6 pb-20 md:pb-0",children:T.length>0?T.map(_=>e.jsx(Es,{salon:_},_.id)):e.jsxs("div",{className:"col-span-full text-center py-16",children:[e.jsx("p",{className:"text-gray-500 text-lg mb-4",children:"No salons found matching your criteria"}),e.jsx(Q,{onClick:C,variant:"outline",children:"Clear all filters"})]})})]})]})]}),e.jsx(Cl,{})]})}function vce(){const t=vn(),r=[{id:"client",title:"Client Dashboard",description:"Manage your bookings, favorites, and rewards",icon:zn,color:"from-purple-500 to-pink-500",path:"/client?demo=true",features:["View Bookings","Track Rewards","Manage Favorites","Payment Methods"]},{id:"salon",title:"Salon Dashboard",description:"Manage your salon, bookings, and services",icon:wo,color:"from-blue-500 to-cyan-500",path:"/owner?demo=true",features:["Calendar Management","Client Management","Service Setup","Analytics"]},{id:"admin",title:"Admin Dashboard",description:"Advanced salon management and team control",icon:Yn,color:"from-orange-500 to-red-500",path:"/admin?demo=true",features:["Full Calendar Access","Staff Management","Client Database","Reports"]},{id:"superadmin",title:"Super Admin Dashboard",description:"Platform-wide control and management",icon:ii,color:"from-yellow-500 to-amber-600",path:"/superadmin?demo=true",features:["All Salons","Lead Management","Platform Analytics","Email Campaigns"]},{id:"blocked",title:"Blocked Salon View",description:" Demo: Auto-blocked salon scenarios",icon:Yt,color:"from-red-500 to-orange-500",path:"/blocked-demo",features:["Payment Failed","Refund Processed","Expired Subscription","Data Safe for 90 Days"]}];return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-pink-50 to-purple-50 py-12 px-4",children:e.jsxs("div",{className:"container mx-auto max-w-6xl",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h1",{className:"text-4xl md:text-5xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent mb-4",children:"Choose Your Dashboard"}),e.jsx("p",{className:"text-gray-600 text-lg",children:"Select the dashboard type you want to explore"})]}),e.jsx("div",{className:"grid md:grid-cols-2 gap-6 mb-8",children:r.map(n=>{const s=n.icon;return e.jsxs(ne,{className:"p-6 hover:shadow-2xl transition-all duration-300 border-2 border-gray-100 hover:border-purple-200",children:[e.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[e.jsx("div",{className:`w-14 h-14 rounded-xl bg-gradient-to-r ${n.color} flex items-center justify-center flex-shrink-0`,children:e.jsx(s,{className:"w-7 h-7 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:n.title}),e.jsx("p",{className:"text-gray-600",children:n.description})]})]}),e.jsx("div",{className:"mb-6 space-y-2",children:n.features.map((a,i)=>e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-700",children:[e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-gradient-to-r from-purple-600 to-pink-600"}),e.jsx("span",{children:a})]},i))}),e.jsxs(Q,{onClick:()=>t(n.path),className:`w-full bg-gradient-to-r ${n.color} hover:opacity-90`,children:["Open Dashboard",e.jsx(ul,{className:"w-4 h-4 ml-2"})]})]},n.id)})}),e.jsx("div",{className:"text-center",children:e.jsx(Q,{variant:"outline",onClick:()=>t("/"),className:"border-2 border-gray-300 hover:border-purple-600",children:" Back to Home"})})]})})}var Aw,OA;function ea(){if(OA)return Aw;OA=1;var t=Array.isArray;return Aw=t,Aw}var Ew,MA;function H7(){if(MA)return Ew;MA=1;var t=typeof jc=="object"&&jc&&jc.Object===Object&&jc;return Ew=t,Ew}var Tw,DA;function Oo(){if(DA)return Tw;DA=1;var t=H7(),r=typeof self=="object"&&self&&self.Object===Object&&self,n=t||r||Function("return this")();return Tw=n,Tw}var Ow,RA;function jx(){if(RA)return Ow;RA=1;var t=Oo(),r=t.Symbol;return Ow=r,Ow}var Mw,IA;function yce(){if(IA)return Mw;IA=1;var t=jx(),r=Object.prototype,n=r.hasOwnProperty,s=r.toString,a=t?t.toStringTag:void 0;function i(o){var l=n.call(o,a),c=o[a];try{o[a]=void 0;var u=!0}catch{}var m=s.call(o);return u&&(l?o[a]=c:delete o[a]),m}return Mw=i,Mw}var Dw,LA;function bce(){if(LA)return Dw;LA=1;var t=Object.prototype,r=t.toString;function n(s){return r.call(s)}return Dw=n,Dw}var Rw,$A;function Pl(){if($A)return Rw;$A=1;var t=jx(),r=yce(),n=bce(),s="[object Null]",a="[object Undefined]",i=t?t.toStringTag:void 0;function o(l){return l==null?l===void 0?a:s:i&&i in Object(l)?r(l):n(l)}return Rw=o,Rw}var Iw,BA;function Al(){if(BA)return Iw;BA=1;function t(r){return r!=null&&typeof r=="object"}return Iw=t,Iw}var Lw,FA;function Tm(){if(FA)return Lw;FA=1;var t=Pl(),r=Al(),n="[object Symbol]";function s(a){return typeof a=="symbol"||r(a)&&t(a)==n}return Lw=s,Lw}var $w,zA;function x4(){if(zA)return $w;zA=1;var t=ea(),r=Tm(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,s=/^\w*$/;function a(i,o){if(t(i))return!1;var l=typeof i;return l=="number"||l=="symbol"||l=="boolean"||i==null||r(i)?!0:s.test(i)||!n.test(i)||o!=null&&i in Object(o)}return $w=a,$w}var Bw,UA;function Ic(){if(UA)return Bw;UA=1;function t(r){var n=typeof r;return r!=null&&(n=="object"||n=="function")}return Bw=t,Bw}var Fw,HA;function g4(){if(HA)return Fw;HA=1;var t=Pl(),r=Ic(),n="[object AsyncFunction]",s="[object Function]",a="[object GeneratorFunction]",i="[object Proxy]";function o(l){if(!r(l))return!1;var c=t(l);return c==s||c==a||c==n||c==i}return Fw=o,Fw}var zw,WA;function jce(){if(WA)return zw;WA=1;var t=Oo(),r=t["__core-js_shared__"];return zw=r,zw}var Uw,qA;function wce(){if(qA)return Uw;qA=1;var t=jce(),r=(function(){var s=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return s?"Symbol(src)_1."+s:""})();function n(s){return!!r&&r in s}return Uw=n,Uw}var Hw,VA;function W7(){if(VA)return Hw;VA=1;var t=Function.prototype,r=t.toString;function n(s){if(s!=null){try{return r.call(s)}catch{}try{return s+""}catch{}}return""}return Hw=n,Hw}var Ww,GA;function Nce(){if(GA)return Ww;GA=1;var t=g4(),r=wce(),n=Ic(),s=W7(),a=/[\\^$.*+?()[\]{}|]/g,i=/^\[object .+?Constructor\]$/,o=Function.prototype,l=Object.prototype,c=o.toString,u=l.hasOwnProperty,m=RegExp("^"+c.call(u).replace(a,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function p(x){if(!n(x)||r(x))return!1;var v=t(x)?m:i;return v.test(s(x))}return Ww=p,Ww}var qw,KA;function Sce(){if(KA)return qw;KA=1;function t(r,n){return r==null?void 0:r[n]}return qw=t,qw}var Vw,YA;function cu(){if(YA)return Vw;YA=1;var t=Nce(),r=Sce();function n(s,a){var i=r(s,a);return t(i)?i:void 0}return Vw=n,Vw}var Gw,ZA;function Ey(){if(ZA)return Gw;ZA=1;var t=cu(),r=t(Object,"create");return Gw=r,Gw}var Kw,XA;function _ce(){if(XA)return Kw;XA=1;var t=Ey();function r(){this.__data__=t?t(null):{},this.size=0}return Kw=r,Kw}var Yw,JA;function kce(){if(JA)return Yw;JA=1;function t(r){var n=this.has(r)&&delete this.__data__[r];return this.size-=n?1:0,n}return Yw=t,Yw}var Zw,QA;function Cce(){if(QA)return Zw;QA=1;var t=Ey(),r="__lodash_hash_undefined__",n=Object.prototype,s=n.hasOwnProperty;function a(i){var o=this.__data__;if(t){var l=o[i];return l===r?void 0:l}return s.call(o,i)?o[i]:void 0}return Zw=a,Zw}var Xw,eE;function Pce(){if(eE)return Xw;eE=1;var t=Ey(),r=Object.prototype,n=r.hasOwnProperty;function s(a){var i=this.__data__;return t?i[a]!==void 0:n.call(i,a)}return Xw=s,Xw}var Jw,tE;function Ace(){if(tE)return Jw;tE=1;var t=Ey(),r="__lodash_hash_undefined__";function n(s,a){var i=this.__data__;return this.size+=this.has(s)?0:1,i[s]=t&&a===void 0?r:a,this}return Jw=n,Jw}var Qw,rE;function Ece(){if(rE)return Qw;rE=1;var t=_ce(),r=kce(),n=Cce(),s=Pce(),a=Ace();function i(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var u=o[l];this.set(u[0],u[1])}}return i.prototype.clear=t,i.prototype.delete=r,i.prototype.get=n,i.prototype.has=s,i.prototype.set=a,Qw=i,Qw}var eN,nE;function Tce(){if(nE)return eN;nE=1;function t(){this.__data__=[],this.size=0}return eN=t,eN}var tN,sE;function v4(){if(sE)return tN;sE=1;function t(r,n){return r===n||r!==r&&n!==n}return tN=t,tN}var rN,aE;function Ty(){if(aE)return rN;aE=1;var t=v4();function r(n,s){for(var a=n.length;a--;)if(t(n[a][0],s))return a;return-1}return rN=r,rN}var nN,iE;function Oce(){if(iE)return nN;iE=1;var t=Ty(),r=Array.prototype,n=r.splice;function s(a){var i=this.__data__,o=t(i,a);if(o<0)return!1;var l=i.length-1;return o==l?i.pop():n.call(i,o,1),--this.size,!0}return nN=s,nN}var sN,oE;function Mce(){if(oE)return sN;oE=1;var t=Ty();function r(n){var s=this.__data__,a=t(s,n);return a<0?void 0:s[a][1]}return sN=r,sN}var aN,lE;function Dce(){if(lE)return aN;lE=1;var t=Ty();function r(n){return t(this.__data__,n)>-1}return aN=r,aN}var iN,cE;function Rce(){if(cE)return iN;cE=1;var t=Ty();function r(n,s){var a=this.__data__,i=t(a,n);return i<0?(++this.size,a.push([n,s])):a[i][1]=s,this}return iN=r,iN}var oN,dE;function Oy(){if(dE)return oN;dE=1;var t=Tce(),r=Oce(),n=Mce(),s=Dce(),a=Rce();function i(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var u=o[l];this.set(u[0],u[1])}}return i.prototype.clear=t,i.prototype.delete=r,i.prototype.get=n,i.prototype.has=s,i.prototype.set=a,oN=i,oN}var lN,uE;function y4(){if(uE)return lN;uE=1;var t=cu(),r=Oo(),n=t(r,"Map");return lN=n,lN}var cN,hE;function Ice(){if(hE)return cN;hE=1;var t=Ece(),r=Oy(),n=y4();function s(){this.size=0,this.__data__={hash:new t,map:new(n||r),string:new t}}return cN=s,cN}var dN,mE;function Lce(){if(mE)return dN;mE=1;function t(r){var n=typeof r;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?r!=="__proto__":r===null}return dN=t,dN}var uN,fE;function My(){if(fE)return uN;fE=1;var t=Lce();function r(n,s){var a=n.__data__;return t(s)?a[typeof s=="string"?"string":"hash"]:a.map}return uN=r,uN}var hN,pE;function $ce(){if(pE)return hN;pE=1;var t=My();function r(n){var s=t(this,n).delete(n);return this.size-=s?1:0,s}return hN=r,hN}var mN,xE;function Bce(){if(xE)return mN;xE=1;var t=My();function r(n){return t(this,n).get(n)}return mN=r,mN}var fN,gE;function Fce(){if(gE)return fN;gE=1;var t=My();function r(n){return t(this,n).has(n)}return fN=r,fN}var pN,vE;function zce(){if(vE)return pN;vE=1;var t=My();function r(n,s){var a=t(this,n),i=a.size;return a.set(n,s),this.size+=a.size==i?0:1,this}return pN=r,pN}var xN,yE;function b4(){if(yE)return xN;yE=1;var t=Ice(),r=$ce(),n=Bce(),s=Fce(),a=zce();function i(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var u=o[l];this.set(u[0],u[1])}}return i.prototype.clear=t,i.prototype.delete=r,i.prototype.get=n,i.prototype.has=s,i.prototype.set=a,xN=i,xN}var gN,bE;function q7(){if(bE)return gN;bE=1;var t=b4(),r="Expected a function";function n(s,a){if(typeof s!="function"||a!=null&&typeof a!="function")throw new TypeError(r);var i=function(){var o=arguments,l=a?a.apply(this,o):o[0],c=i.cache;if(c.has(l))return c.get(l);var u=s.apply(this,o);return i.cache=c.set(l,u)||c,u};return i.cache=new(n.Cache||t),i}return n.Cache=t,gN=n,gN}var vN,jE;function Uce(){if(jE)return vN;jE=1;var t=q7(),r=500;function n(s){var a=t(s,function(o){return i.size===r&&i.clear(),o}),i=a.cache;return a}return vN=n,vN}var yN,wE;function Hce(){if(wE)return yN;wE=1;var t=Uce(),r=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,s=t(function(a){var i=[];return a.charCodeAt(0)===46&&i.push(""),a.replace(r,function(o,l,c,u){i.push(c?u.replace(n,"$1"):l||o)}),i});return yN=s,yN}var bN,NE;function j4(){if(NE)return bN;NE=1;function t(r,n){for(var s=-1,a=r==null?0:r.length,i=Array(a);++s<a;)i[s]=n(r[s],s,r);return i}return bN=t,bN}var jN,SE;function Wce(){if(SE)return jN;SE=1;var t=jx(),r=j4(),n=ea(),s=Tm(),a=t?t.prototype:void 0,i=a?a.toString:void 0;function o(l){if(typeof l=="string")return l;if(n(l))return r(l,o)+"";if(s(l))return i?i.call(l):"";var c=l+"";return c=="0"&&1/l==-1/0?"-0":c}return jN=o,jN}var wN,_E;function V7(){if(_E)return wN;_E=1;var t=Wce();function r(n){return n==null?"":t(n)}return wN=r,wN}var NN,kE;function G7(){if(kE)return NN;kE=1;var t=ea(),r=x4(),n=Hce(),s=V7();function a(i,o){return t(i)?i:r(i,o)?[i]:n(s(i))}return NN=a,NN}var SN,CE;function Dy(){if(CE)return SN;CE=1;var t=Tm();function r(n){if(typeof n=="string"||t(n))return n;var s=n+"";return s=="0"&&1/n==-1/0?"-0":s}return SN=r,SN}var _N,PE;function w4(){if(PE)return _N;PE=1;var t=G7(),r=Dy();function n(s,a){a=t(a,s);for(var i=0,o=a.length;s!=null&&i<o;)s=s[r(a[i++])];return i&&i==o?s:void 0}return _N=n,_N}var kN,AE;function K7(){if(AE)return kN;AE=1;var t=w4();function r(n,s,a){var i=n==null?void 0:t(n,s);return i===void 0?a:i}return kN=r,kN}var qce=K7();const _a=ar(qce);var CN,EE;function Vce(){if(EE)return CN;EE=1;function t(r){return r==null}return CN=t,CN}var Gce=Vce();const Mt=ar(Gce);var PN,TE;function Kce(){if(TE)return PN;TE=1;var t=Pl(),r=ea(),n=Al(),s="[object String]";function a(i){return typeof i=="string"||!r(i)&&n(i)&&t(i)==s}return PN=a,PN}var Yce=Kce();const wx=ar(Yce);var Zce=g4();const St=ar(Zce);var Xce=Ic();const Om=ar(Xce);var AN={exports:{}},hr={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OE;function Jce(){if(OE)return hr;OE=1;var t=Symbol.for("react.element"),r=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.server_context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),m=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),v=Symbol.for("react.offscreen"),w;w=Symbol.for("react.module.reference");function y(j){if(typeof j=="object"&&j!==null){var S=j.$$typeof;switch(S){case t:switch(j=j.type,j){case n:case a:case s:case u:case m:return j;default:switch(j=j&&j.$$typeof,j){case l:case o:case c:case x:case p:case i:return j;default:return S}}case r:return S}}}return hr.ContextConsumer=o,hr.ContextProvider=i,hr.Element=t,hr.ForwardRef=c,hr.Fragment=n,hr.Lazy=x,hr.Memo=p,hr.Portal=r,hr.Profiler=a,hr.StrictMode=s,hr.Suspense=u,hr.SuspenseList=m,hr.isAsyncMode=function(){return!1},hr.isConcurrentMode=function(){return!1},hr.isContextConsumer=function(j){return y(j)===o},hr.isContextProvider=function(j){return y(j)===i},hr.isElement=function(j){return typeof j=="object"&&j!==null&&j.$$typeof===t},hr.isForwardRef=function(j){return y(j)===c},hr.isFragment=function(j){return y(j)===n},hr.isLazy=function(j){return y(j)===x},hr.isMemo=function(j){return y(j)===p},hr.isPortal=function(j){return y(j)===r},hr.isProfiler=function(j){return y(j)===a},hr.isStrictMode=function(j){return y(j)===s},hr.isSuspense=function(j){return y(j)===u},hr.isSuspenseList=function(j){return y(j)===m},hr.isValidElementType=function(j){return typeof j=="string"||typeof j=="function"||j===n||j===a||j===s||j===u||j===m||j===v||typeof j=="object"&&j!==null&&(j.$$typeof===x||j.$$typeof===p||j.$$typeof===i||j.$$typeof===o||j.$$typeof===c||j.$$typeof===w||j.getModuleId!==void 0)},hr.typeOf=y,hr}var ME;function Qce(){return ME||(ME=1,AN.exports=Jce()),AN.exports}var ede=Qce(),EN,DE;function Y7(){if(DE)return EN;DE=1;var t=Pl(),r=Al(),n="[object Number]";function s(a){return typeof a=="number"||r(a)&&t(a)==n}return EN=s,EN}var TN,RE;function tde(){if(RE)return TN;RE=1;var t=Y7();function r(n){return t(n)&&n!=+n}return TN=r,TN}var rde=tde();const Mm=ar(rde);var nde=Y7();const sde=ar(nde);var Ms=function(r){return r===0?0:r>0?1:-1},Od=function(r){return wx(r)&&r.indexOf("%")===r.length-1},Be=function(r){return sde(r)&&!Mm(r)},Fn=function(r){return Be(r)||wx(r)},ade=0,du=function(r){var n=++ade;return"".concat(r||"").concat(n)},Ds=function(r,n){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Be(r)&&!wx(r))return s;var i;if(Od(r)){var o=r.indexOf("%");i=n*parseFloat(r.slice(0,o))/100}else i=+r;return Mm(i)&&(i=s),a&&i>n&&(i=n),i},bc=function(r){if(!r)return null;var n=Object.keys(r);return n&&n.length?r[n[0]]:null},ide=function(r){if(!Array.isArray(r))return!1;for(var n=r.length,s={},a=0;a<n;a++)if(!s[r[a]])s[r[a]]=!0;else return!0;return!1},Bn=function(r,n){return Be(r)&&Be(n)?function(s){return r+s*(n-r)}:function(){return n}};function V0(t,r,n){return!t||!t.length?null:t.find(function(s){return s&&(typeof r=="function"?r(s):_a(s,r))===n})}function Ih(t,r){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(r,n)||t[n]!==r[n]))return!1;for(var s in r)if({}.hasOwnProperty.call(r,s)&&!{}.hasOwnProperty.call(t,s))return!1;return!0}function $_(t){"@babel/helpers - typeof";return $_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},$_(t)}var ode=["viewBox","children"],lde=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],IE=["points","pathLength"],ON={svg:ode,polygon:IE,polyline:IE},N4=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],G0=function(r,n){if(!r||typeof r=="function"||typeof r=="boolean")return null;var s=r;if(N.isValidElement(r)&&(s=r.props),!Om(s))return null;var a={};return Object.keys(s).forEach(function(i){N4.includes(i)&&(a[i]=n||function(o){return s[i](s,o)})}),a},cde=function(r,n,s){return function(a){return r(n,s,a),null}},Yd=function(r,n,s){if(!Om(r)||$_(r)!=="object")return null;var a=null;return Object.keys(r).forEach(function(i){var o=r[i];N4.includes(i)&&typeof o=="function"&&(a||(a={}),a[i]=cde(o,n,s))}),a},dde=["children"],ude=["children"];function LE(t,r){if(t==null)return{};var n=hde(t,r),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)s=i[a],!(r.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(n[s]=t[s])}return n}function hde(t,r){if(t==null)return{};var n={};for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(r.indexOf(s)>=0)continue;n[s]=t[s]}return n}function B_(t){"@babel/helpers - typeof";return B_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},B_(t)}var $E={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},pl=function(r){return typeof r=="string"?r:r?r.displayName||r.name||"Component":""},BE=null,MN=null,S4=function t(r){if(r===BE&&Array.isArray(MN))return MN;var n=[];return N.Children.forEach(r,function(s){Mt(s)||(ede.isFragment(s)?n=n.concat(t(s.props.children)):n.push(s))}),MN=n,BE=r,n};function ka(t,r){var n=[],s=[];return Array.isArray(r)?s=r.map(function(a){return pl(a)}):s=[pl(r)],S4(t).forEach(function(a){var i=_a(a,"type.displayName")||_a(a,"type.name");s.indexOf(i)!==-1&&n.push(a)}),n}function ga(t,r){var n=ka(t,r);return n&&n[0]}var FE=function(r){if(!r||!r.props)return!1;var n=r.props,s=n.width,a=n.height;return!(!Be(s)||s<=0||!Be(a)||a<=0)},mde=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],fde=function(r){return r&&r.type&&wx(r.type)&&mde.indexOf(r.type)>=0},Z7=function(r){return r&&B_(r)==="object"&&"clipDot"in r},pde=function(r,n,s,a){var i,o=(i=ON==null?void 0:ON[a])!==null&&i!==void 0?i:[];return n.startsWith("data-")||!St(r)&&(a&&o.includes(n)||lde.includes(n))||s&&N4.includes(n)},ut=function(r,n,s){if(!r||typeof r=="function"||typeof r=="boolean")return null;var a=r;if(N.isValidElement(r)&&(a=r.props),!Om(a))return null;var i={};return Object.keys(a).forEach(function(o){var l;pde((l=a)===null||l===void 0?void 0:l[o],o,n,s)&&(i[o]=a[o])}),i},F_=function t(r,n){if(r===n)return!0;var s=N.Children.count(r);if(s!==N.Children.count(n))return!1;if(s===0)return!0;if(s===1)return zE(Array.isArray(r)?r[0]:r,Array.isArray(n)?n[0]:n);for(var a=0;a<s;a++){var i=r[a],o=n[a];if(Array.isArray(i)||Array.isArray(o)){if(!t(i,o))return!1}else if(!zE(i,o))return!1}return!0},zE=function(r,n){if(Mt(r)&&Mt(n))return!0;if(!Mt(r)&&!Mt(n)){var s=r.props||{},a=s.children,i=LE(s,dde),o=n.props||{},l=o.children,c=LE(o,ude);return a&&l?Ih(i,c)&&F_(a,l):!a&&!l?Ih(i,c):!1}return!1},UE=function(r,n){var s=[],a={};return S4(r).forEach(function(i,o){if(fde(i))s.push(i);else if(i){var l=pl(i.type),c=n[l]||{},u=c.handler,m=c.once;if(u&&(!m||!a[l])){var p=u(i,l,o);s.push(p),a[l]=!0}}}),s},xde=function(r){var n=r&&r.type;return n&&$E[n]?$E[n]:null},gde=function(r,n){return S4(n).indexOf(r)},vde=["children","width","height","viewBox","className","style","title","desc"];function z_(){return z_=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},z_.apply(this,arguments)}function yde(t,r){if(t==null)return{};var n=bde(t,r),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)s=i[a],!(r.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(n[s]=t[s])}return n}function bde(t,r){if(t==null)return{};var n={};for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(r.indexOf(s)>=0)continue;n[s]=t[s]}return n}function U_(t){var r=t.children,n=t.width,s=t.height,a=t.viewBox,i=t.className,o=t.style,l=t.title,c=t.desc,u=yde(t,vde),m=a||{width:n,height:s,x:0,y:0},p=Lt("recharts-surface",i);return ce.createElement("svg",z_({},ut(u,!0,"svg"),{className:p,width:n,height:s,style:o,viewBox:"".concat(m.x," ").concat(m.y," ").concat(m.width," ").concat(m.height)}),ce.createElement("title",null,l),ce.createElement("desc",null,c),r)}var jde=["children","className"];function H_(){return H_=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},H_.apply(this,arguments)}function wde(t,r){if(t==null)return{};var n=Nde(t,r),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)s=i[a],!(r.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(n[s]=t[s])}return n}function Nde(t,r){if(t==null)return{};var n={};for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(r.indexOf(s)>=0)continue;n[s]=t[s]}return n}var Vt=ce.forwardRef(function(t,r){var n=t.children,s=t.className,a=wde(t,jde),i=Lt("recharts-layer",s);return ce.createElement("g",H_({className:i},ut(a,!0),{ref:r}),n)}),Ii=function(r,n){for(var s=arguments.length,a=new Array(s>2?s-2:0),i=2;i<s;i++)a[i-2]=arguments[i]},DN,HE;function Sde(){if(HE)return DN;HE=1;function t(r,n,s){var a=-1,i=r.length;n<0&&(n=-n>i?0:i+n),s=s>i?i:s,s<0&&(s+=i),i=n>s?0:s-n>>>0,n>>>=0;for(var o=Array(i);++a<i;)o[a]=r[a+n];return o}return DN=t,DN}var RN,WE;function _de(){if(WE)return RN;WE=1;var t=Sde();function r(n,s,a){var i=n.length;return a=a===void 0?i:a,!s&&a>=i?n:t(n,s,a)}return RN=r,RN}var IN,qE;function X7(){if(qE)return IN;qE=1;var t="\\ud800-\\udfff",r="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",s="\\u20d0-\\u20ff",a=r+n+s,i="\\ufe0e\\ufe0f",o="\\u200d",l=RegExp("["+o+t+a+i+"]");function c(u){return l.test(u)}return IN=c,IN}var LN,VE;function kde(){if(VE)return LN;VE=1;function t(r){return r.split("")}return LN=t,LN}var $N,GE;function Cde(){if(GE)return $N;GE=1;var t="\\ud800-\\udfff",r="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",s="\\u20d0-\\u20ff",a=r+n+s,i="\\ufe0e\\ufe0f",o="["+t+"]",l="["+a+"]",c="\\ud83c[\\udffb-\\udfff]",u="(?:"+l+"|"+c+")",m="[^"+t+"]",p="(?:\\ud83c[\\udde6-\\uddff]){2}",x="[\\ud800-\\udbff][\\udc00-\\udfff]",v="\\u200d",w=u+"?",y="["+i+"]?",j="(?:"+v+"(?:"+[m,p,x].join("|")+")"+y+w+")*",S=y+w+j,C="(?:"+[m+l+"?",l,p,x,o].join("|")+")",P=RegExp(c+"(?="+c+")|"+C+S,"g");function T(_){return _.match(P)||[]}return $N=T,$N}var BN,KE;function Pde(){if(KE)return BN;KE=1;var t=kde(),r=X7(),n=Cde();function s(a){return r(a)?n(a):t(a)}return BN=s,BN}var FN,YE;function Ade(){if(YE)return FN;YE=1;var t=_de(),r=X7(),n=Pde(),s=V7();function a(i){return function(o){o=s(o);var l=r(o)?n(o):void 0,c=l?l[0]:o.charAt(0),u=l?t(l,1).join(""):o.slice(1);return c[i]()+u}}return FN=a,FN}var zN,ZE;function Ede(){if(ZE)return zN;ZE=1;var t=Ade(),r=t("toUpperCase");return zN=r,zN}var Tde=Ede();const Ry=ar(Tde);function Dr(t){return function(){return t}}const J7=Math.cos,K0=Math.sin,Yi=Math.sqrt,Y0=Math.PI,Iy=2*Y0,W_=Math.PI,q_=2*W_,Sd=1e-6,Ode=q_-Sd;function Q7(t){this._+=t[0];for(let r=1,n=t.length;r<n;++r)this._+=arguments[r]+t[r]}function Mde(t){let r=Math.floor(t);if(!(r>=0))throw new Error(`invalid digits: ${t}`);if(r>15)return Q7;const n=10**r;return function(s){this._+=s[0];for(let a=1,i=s.length;a<i;++a)this._+=Math.round(arguments[a]*n)/n+s[a]}}class Dde{constructor(r){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=r==null?Q7:Mde(r)}moveTo(r,n){this._append`M${this._x0=this._x1=+r},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(r,n){this._append`L${this._x1=+r},${this._y1=+n}`}quadraticCurveTo(r,n,s,a){this._append`Q${+r},${+n},${this._x1=+s},${this._y1=+a}`}bezierCurveTo(r,n,s,a,i,o){this._append`C${+r},${+n},${+s},${+a},${this._x1=+i},${this._y1=+o}`}arcTo(r,n,s,a,i){if(r=+r,n=+n,s=+s,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,c=s-r,u=a-n,m=o-r,p=l-n,x=m*m+p*p;if(this._x1===null)this._append`M${this._x1=r},${this._y1=n}`;else if(x>Sd)if(!(Math.abs(p*c-u*m)>Sd)||!i)this._append`L${this._x1=r},${this._y1=n}`;else{let v=s-o,w=a-l,y=c*c+u*u,j=v*v+w*w,S=Math.sqrt(y),C=Math.sqrt(x),P=i*Math.tan((W_-Math.acos((y+x-j)/(2*S*C)))/2),T=P/C,_=P/S;Math.abs(T-1)>Sd&&this._append`L${r+T*m},${n+T*p}`,this._append`A${i},${i},0,0,${+(p*v>m*w)},${this._x1=r+_*c},${this._y1=n+_*u}`}}arc(r,n,s,a,i,o){if(r=+r,n=+n,s=+s,o=!!o,s<0)throw new Error(`negative radius: ${s}`);let l=s*Math.cos(a),c=s*Math.sin(a),u=r+l,m=n+c,p=1^o,x=o?a-i:i-a;this._x1===null?this._append`M${u},${m}`:(Math.abs(this._x1-u)>Sd||Math.abs(this._y1-m)>Sd)&&this._append`L${u},${m}`,s&&(x<0&&(x=x%q_+q_),x>Ode?this._append`A${s},${s},0,1,${p},${r-l},${n-c}A${s},${s},0,1,${p},${this._x1=u},${this._y1=m}`:x>Sd&&this._append`A${s},${s},0,${+(x>=W_)},${p},${this._x1=r+s*Math.cos(i)},${this._y1=n+s*Math.sin(i)}`)}rect(r,n,s,a){this._append`M${this._x0=this._x1=+r},${this._y0=this._y1=+n}h${s=+s}v${+a}h${-s}Z`}toString(){return this._}}function _4(t){let r=3;return t.digits=function(n){if(!arguments.length)return r;if(n==null)r=null;else{const s=Math.floor(n);if(!(s>=0))throw new RangeError(`invalid digits: ${n}`);r=s}return t},()=>new Dde(r)}function k4(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function eB(t){this._context=t}eB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,r){switch(t=+t,r=+r,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break;case 1:this._point=2;default:this._context.lineTo(t,r);break}}};function Ly(t){return new eB(t)}function tB(t){return t[0]}function rB(t){return t[1]}function nB(t,r){var n=Dr(!0),s=null,a=Ly,i=null,o=_4(l);t=typeof t=="function"?t:t===void 0?tB:Dr(t),r=typeof r=="function"?r:r===void 0?rB:Dr(r);function l(c){var u,m=(c=k4(c)).length,p,x=!1,v;for(s==null&&(i=a(v=o())),u=0;u<=m;++u)!(u<m&&n(p=c[u],u,c))===x&&((x=!x)?i.lineStart():i.lineEnd()),x&&i.point(+t(p,u,c),+r(p,u,c));if(v)return i=null,v+""||null}return l.x=function(c){return arguments.length?(t=typeof c=="function"?c:Dr(+c),l):t},l.y=function(c){return arguments.length?(r=typeof c=="function"?c:Dr(+c),l):r},l.defined=function(c){return arguments.length?(n=typeof c=="function"?c:Dr(!!c),l):n},l.curve=function(c){return arguments.length?(a=c,s!=null&&(i=a(s)),l):a},l.context=function(c){return arguments.length?(c==null?s=i=null:i=a(s=c),l):s},l}function i0(t,r,n){var s=null,a=Dr(!0),i=null,o=Ly,l=null,c=_4(u);t=typeof t=="function"?t:t===void 0?tB:Dr(+t),r=typeof r=="function"?r:Dr(r===void 0?0:+r),n=typeof n=="function"?n:n===void 0?rB:Dr(+n);function u(p){var x,v,w,y=(p=k4(p)).length,j,S=!1,C,P=new Array(y),T=new Array(y);for(i==null&&(l=o(C=c())),x=0;x<=y;++x){if(!(x<y&&a(j=p[x],x,p))===S)if(S=!S)v=x,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),w=x-1;w>=v;--w)l.point(P[w],T[w]);l.lineEnd(),l.areaEnd()}S&&(P[x]=+t(j,x,p),T[x]=+r(j,x,p),l.point(s?+s(j,x,p):P[x],n?+n(j,x,p):T[x]))}if(C)return l=null,C+""||null}function m(){return nB().defined(a).curve(o).context(i)}return u.x=function(p){return arguments.length?(t=typeof p=="function"?p:Dr(+p),s=null,u):t},u.x0=function(p){return arguments.length?(t=typeof p=="function"?p:Dr(+p),u):t},u.x1=function(p){return arguments.length?(s=p==null?null:typeof p=="function"?p:Dr(+p),u):s},u.y=function(p){return arguments.length?(r=typeof p=="function"?p:Dr(+p),n=null,u):r},u.y0=function(p){return arguments.length?(r=typeof p=="function"?p:Dr(+p),u):r},u.y1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:Dr(+p),u):n},u.lineX0=u.lineY0=function(){return m().x(t).y(r)},u.lineY1=function(){return m().x(t).y(n)},u.lineX1=function(){return m().x(s).y(r)},u.defined=function(p){return arguments.length?(a=typeof p=="function"?p:Dr(!!p),u):a},u.curve=function(p){return arguments.length?(o=p,i!=null&&(l=o(i)),u):o},u.context=function(p){return arguments.length?(p==null?i=l=null:l=o(i=p),u):i},u}class sB{constructor(r,n){this._context=r,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(r,n){switch(r=+r,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+r)/2,this._y0,this._x0,n,r,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,r,this._y0,r,n);break}}this._x0=r,this._y0=n}}function Rde(t){return new sB(t,!0)}function Ide(t){return new sB(t,!1)}const C4={draw(t,r){const n=Yi(r/Y0);t.moveTo(n,0),t.arc(0,0,n,0,Iy)}},Lde={draw(t,r){const n=Yi(r/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},aB=Yi(1/3),$de=aB*2,Bde={draw(t,r){const n=Yi(r/$de),s=n*aB;t.moveTo(0,-n),t.lineTo(s,0),t.lineTo(0,n),t.lineTo(-s,0),t.closePath()}},Fde={draw(t,r){const n=Yi(r),s=-n/2;t.rect(s,s,n,n)}},zde=.8908130915292852,iB=K0(Y0/10)/K0(7*Y0/10),Ude=K0(Iy/10)*iB,Hde=-J7(Iy/10)*iB,Wde={draw(t,r){const n=Yi(r*zde),s=Ude*n,a=Hde*n;t.moveTo(0,-n),t.lineTo(s,a);for(let i=1;i<5;++i){const o=Iy*i/5,l=J7(o),c=K0(o);t.lineTo(c*n,-l*n),t.lineTo(l*s-c*a,c*s+l*a)}t.closePath()}},UN=Yi(3),qde={draw(t,r){const n=-Yi(r/(UN*3));t.moveTo(0,n*2),t.lineTo(-UN*n,-n),t.lineTo(UN*n,-n),t.closePath()}},Za=-.5,Xa=Yi(3)/2,V_=1/Yi(12),Vde=(V_/2+1)*3,Gde={draw(t,r){const n=Yi(r/Vde),s=n/2,a=n*V_,i=s,o=n*V_+n,l=-i,c=o;t.moveTo(s,a),t.lineTo(i,o),t.lineTo(l,c),t.lineTo(Za*s-Xa*a,Xa*s+Za*a),t.lineTo(Za*i-Xa*o,Xa*i+Za*o),t.lineTo(Za*l-Xa*c,Xa*l+Za*c),t.lineTo(Za*s+Xa*a,Za*a-Xa*s),t.lineTo(Za*i+Xa*o,Za*o-Xa*i),t.lineTo(Za*l+Xa*c,Za*c-Xa*l),t.closePath()}};function Kde(t,r){let n=null,s=_4(a);t=typeof t=="function"?t:Dr(t||C4),r=typeof r=="function"?r:Dr(r===void 0?64:+r);function a(){let i;if(n||(n=i=s()),t.apply(this,arguments).draw(n,+r.apply(this,arguments)),i)return n=null,i+""||null}return a.type=function(i){return arguments.length?(t=typeof i=="function"?i:Dr(i),a):t},a.size=function(i){return arguments.length?(r=typeof i=="function"?i:Dr(+i),a):r},a.context=function(i){return arguments.length?(n=i??null,a):n},a}function Z0(){}function X0(t,r,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+r)/6,(t._y0+4*t._y1+n)/6)}function oB(t){this._context=t}oB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:X0(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,r){switch(t=+t,r=+r,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:X0(this,t,r);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=r}};function Yde(t){return new oB(t)}function lB(t){this._context=t}lB.prototype={areaStart:Z0,areaEnd:Z0,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,r){switch(t=+t,r=+r,this._point){case 0:this._point=1,this._x2=t,this._y2=r;break;case 1:this._point=2,this._x3=t,this._y3=r;break;case 2:this._point=3,this._x4=t,this._y4=r,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+r)/6);break;default:X0(this,t,r);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=r}};function Zde(t){return new lB(t)}function cB(t){this._context=t}cB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,r){switch(t=+t,r=+r,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,s=(this._y0+4*this._y1+r)/6;this._line?this._context.lineTo(n,s):this._context.moveTo(n,s);break;case 3:this._point=4;default:X0(this,t,r);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=r}};function Xde(t){return new cB(t)}function dB(t){this._context=t}dB.prototype={areaStart:Z0,areaEnd:Z0,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,r){t=+t,r=+r,this._point?this._context.lineTo(t,r):(this._point=1,this._context.moveTo(t,r))}};function Jde(t){return new dB(t)}function XE(t){return t<0?-1:1}function JE(t,r,n){var s=t._x1-t._x0,a=r-t._x1,i=(t._y1-t._y0)/(s||a<0&&-0),o=(n-t._y1)/(a||s<0&&-0),l=(i*a+o*s)/(s+a);return(XE(i)+XE(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function QE(t,r){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-r)/2:r}function HN(t,r,n){var s=t._x0,a=t._y0,i=t._x1,o=t._y1,l=(i-s)/3;t._context.bezierCurveTo(s+l,a+l*r,i-l,o-l*n,i,o)}function J0(t){this._context=t}J0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:HN(this,this._t0,QE(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,r){var n=NaN;if(t=+t,r=+r,!(t===this._x1&&r===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break;case 1:this._point=2;break;case 2:this._point=3,HN(this,QE(this,n=JE(this,t,r)),n);break;default:HN(this,this._t0,n=JE(this,t,r));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=r,this._t0=n}}};function uB(t){this._context=new hB(t)}(uB.prototype=Object.create(J0.prototype)).point=function(t,r){J0.prototype.point.call(this,r,t)};function hB(t){this._context=t}hB.prototype={moveTo:function(t,r){this._context.moveTo(r,t)},closePath:function(){this._context.closePath()},lineTo:function(t,r){this._context.lineTo(r,t)},bezierCurveTo:function(t,r,n,s,a,i){this._context.bezierCurveTo(r,t,s,n,i,a)}};function Qde(t){return new J0(t)}function eue(t){return new uB(t)}function mB(t){this._context=t}mB.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,r=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],r[0]):this._context.moveTo(t[0],r[0]),n===2)this._context.lineTo(t[1],r[1]);else for(var s=eT(t),a=eT(r),i=0,o=1;o<n;++i,++o)this._context.bezierCurveTo(s[0][i],a[0][i],s[1][i],a[1][i],t[o],r[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,r){this._x.push(+t),this._y.push(+r)}};function eT(t){var r,n=t.length-1,s,a=new Array(n),i=new Array(n),o=new Array(n);for(a[0]=0,i[0]=2,o[0]=t[0]+2*t[1],r=1;r<n-1;++r)a[r]=1,i[r]=4,o[r]=4*t[r]+2*t[r+1];for(a[n-1]=2,i[n-1]=7,o[n-1]=8*t[n-1]+t[n],r=1;r<n;++r)s=a[r]/i[r-1],i[r]-=s,o[r]-=s*o[r-1];for(a[n-1]=o[n-1]/i[n-1],r=n-2;r>=0;--r)a[r]=(o[r]-a[r+1])/i[r];for(i[n-1]=(t[n]+a[n-1])/2,r=0;r<n-1;++r)i[r]=2*t[r+1]-a[r+1];return[a,i]}function tue(t){return new mB(t)}function $y(t,r){this._context=t,this._t=r}$y.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,r){switch(t=+t,r=+r,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,r),this._context.lineTo(t,r);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,r)}break}}this._x=t,this._y=r}};function rue(t){return new $y(t,.5)}function nue(t){return new $y(t,0)}function sue(t){return new $y(t,1)}function qh(t,r){if((o=t.length)>1)for(var n=1,s,a,i=t[r[0]],o,l=i.length;n<o;++n)for(a=i,i=t[r[n]],s=0;s<l;++s)i[s][1]+=i[s][0]=isNaN(a[s][1])?a[s][0]:a[s][1]}function G_(t){for(var r=t.length,n=new Array(r);--r>=0;)n[r]=r;return n}function aue(t,r){return t[r]}function iue(t){const r=[];return r.key=t,r}function oue(){var t=Dr([]),r=G_,n=qh,s=aue;function a(i){var o=Array.from(t.apply(this,arguments),iue),l,c=o.length,u=-1,m;for(const p of i)for(l=0,++u;l<c;++l)(o[l][u]=[0,+s(p,o[l].key,u,i)]).data=p;for(l=0,m=k4(r(o));l<c;++l)o[m[l]].index=l;return n(o,m),o}return a.keys=function(i){return arguments.length?(t=typeof i=="function"?i:Dr(Array.from(i)),a):t},a.value=function(i){return arguments.length?(s=typeof i=="function"?i:Dr(+i),a):s},a.order=function(i){return arguments.length?(r=i==null?G_:typeof i=="function"?i:Dr(Array.from(i)),a):r},a.offset=function(i){return arguments.length?(n=i??qh,a):n},a}function lue(t,r){if((s=t.length)>0){for(var n,s,a=0,i=t[0].length,o;a<i;++a){for(o=n=0;n<s;++n)o+=t[n][a][1]||0;if(o)for(n=0;n<s;++n)t[n][a][1]/=o}qh(t,r)}}function cue(t,r){if((a=t.length)>0){for(var n=0,s=t[r[0]],a,i=s.length;n<i;++n){for(var o=0,l=0;o<a;++o)l+=t[o][n][1]||0;s[n][1]+=s[n][0]=-l/2}qh(t,r)}}function due(t,r){if(!(!((o=t.length)>0)||!((i=(a=t[r[0]]).length)>0))){for(var n=0,s=1,a,i,o;s<i;++s){for(var l=0,c=0,u=0;l<o;++l){for(var m=t[r[l]],p=m[s][1]||0,x=m[s-1][1]||0,v=(p-x)/2,w=0;w<l;++w){var y=t[r[w]],j=y[s][1]||0,S=y[s-1][1]||0;v+=j-S}c+=p,u+=v*p}a[s-1][1]+=a[s-1][0]=n,c&&(n-=u/c)}a[s-1][1]+=a[s-1][0]=n,qh(t,r)}}function Cp(t){"@babel/helpers - typeof";return Cp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Cp(t)}var uue=["type","size","sizeType"];function K_(){return K_=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},K_.apply(this,arguments)}function tT(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,s)}return n}function rT(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?tT(Object(n),!0).forEach(function(s){hue(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tT(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function hue(t,r,n){return r=mue(r),r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function mue(t){var r=fue(t,"string");return Cp(r)=="symbol"?r:r+""}function fue(t,r){if(Cp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,r);if(Cp(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function pue(t,r){if(t==null)return{};var n=xue(t,r),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)s=i[a],!(r.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(n[s]=t[s])}return n}function xue(t,r){if(t==null)return{};var n={};for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(r.indexOf(s)>=0)continue;n[s]=t[s]}return n}var fB={symbolCircle:C4,symbolCross:Lde,symbolDiamond:Bde,symbolSquare:Fde,symbolStar:Wde,symbolTriangle:qde,symbolWye:Gde},gue=Math.PI/180,vue=function(r){var n="symbol".concat(Ry(r));return fB[n]||C4},yue=function(r,n,s){if(n==="area")return r;switch(s){case"cross":return 5*r*r/9;case"diamond":return .5*r*r/Math.sqrt(3);case"square":return r*r;case"star":{var a=18*gue;return 1.25*r*r*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*r*r/4;case"wye":return(21-10*Math.sqrt(3))*r*r/8;default:return Math.PI*r*r/4}},bue=function(r,n){fB["symbol".concat(Ry(r))]=n},P4=function(r){var n=r.type,s=n===void 0?"circle":n,a=r.size,i=a===void 0?64:a,o=r.sizeType,l=o===void 0?"area":o,c=pue(r,uue),u=rT(rT({},c),{},{type:s,size:i,sizeType:l}),m=function(){var j=vue(s),S=Kde().type(j).size(yue(i,l,s));return S()},p=u.className,x=u.cx,v=u.cy,w=ut(u,!0);return x===+x&&v===+v&&i===+i?ce.createElement("path",K_({},w,{className:Lt("recharts-symbols",p),transform:"translate(".concat(x,", ").concat(v,")"),d:m()})):null};P4.registerSymbol=bue;function Vh(t){"@babel/helpers - typeof";return Vh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Vh(t)}function Y_(){return Y_=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Y_.apply(this,arguments)}function nT(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,s)}return n}function jue(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?nT(Object(n),!0).forEach(function(s){Pp(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nT(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function wue(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function Nue(t,r){for(var n=0;n<r.length;n++){var s=r[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,xB(s.key),s)}}function Sue(t,r,n){return r&&Nue(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function _ue(t,r,n){return r=Q0(r),kue(t,pB()?Reflect.construct(r,n||[],Q0(t).constructor):r.apply(t,n))}function kue(t,r){if(r&&(Vh(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Cue(t)}function Cue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function pB(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pB=function(){return!!t})()}function Q0(t){return Q0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Q0(t)}function Pue(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&Z_(t,r)}function Z_(t,r){return Z_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},Z_(t,r)}function Pp(t,r,n){return r=xB(r),r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function xB(t){var r=Aue(t,"string");return Vh(r)=="symbol"?r:r+""}function Aue(t,r){if(Vh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,r);if(Vh(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ja=32,A4=(function(t){function r(){return wue(this,r),_ue(this,r,arguments)}return Pue(r,t),Sue(r,[{key:"renderIcon",value:function(s){var a=this.props.inactiveColor,i=Ja/2,o=Ja/6,l=Ja/3,c=s.inactive?a:s.color;if(s.type==="plainline")return ce.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:s.payload.strokeDasharray,x1:0,y1:i,x2:Ja,y2:i,className:"recharts-legend-icon"});if(s.type==="line")return ce.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(Ja,"M").concat(2*l,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(s.type==="rect")return ce.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Ja/8,"h").concat(Ja,"v").concat(Ja*3/4,"h").concat(-Ja,"z"),className:"recharts-legend-icon"});if(ce.isValidElement(s.legendIcon)){var u=jue({},s);return delete u.legendIcon,ce.cloneElement(s.legendIcon,u)}return ce.createElement(P4,{fill:c,cx:i,cy:i,size:Ja,sizeType:"diameter",type:s.type})}},{key:"renderItems",value:function(){var s=this,a=this.props,i=a.payload,o=a.iconSize,l=a.layout,c=a.formatter,u=a.inactiveColor,m={x:0,y:0,width:Ja,height:Ja},p={display:l==="horizontal"?"inline-block":"block",marginRight:10},x={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(v,w){var y=v.formatter||c,j=Lt(Pp(Pp({"recharts-legend-item":!0},"legend-item-".concat(w),!0),"inactive",v.inactive));if(v.type==="none")return null;var S=St(v.value)?null:v.value;Ii(!St(v.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var C=v.inactive?u:v.color;return ce.createElement("li",Y_({className:j,style:p,key:"legend-item-".concat(w)},Yd(s.props,v,w)),ce.createElement(U_,{width:o,height:o,viewBox:m,style:x},s.renderIcon(v)),ce.createElement("span",{className:"recharts-legend-item-text",style:{color:C}},y?y(S,v,w):S))})}},{key:"render",value:function(){var s=this.props,a=s.payload,i=s.layout,o=s.align;if(!a||!a.length)return null;var l={padding:0,margin:0,textAlign:i==="horizontal"?o:"left"};return ce.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])})(N.PureComponent);Pp(A4,"displayName","Legend");Pp(A4,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var WN,sT;function Eue(){if(sT)return WN;sT=1;var t=Oy();function r(){this.__data__=new t,this.size=0}return WN=r,WN}var qN,aT;function Tue(){if(aT)return qN;aT=1;function t(r){var n=this.__data__,s=n.delete(r);return this.size=n.size,s}return qN=t,qN}var VN,iT;function Oue(){if(iT)return VN;iT=1;function t(r){return this.__data__.get(r)}return VN=t,VN}var GN,oT;function Mue(){if(oT)return GN;oT=1;function t(r){return this.__data__.has(r)}return GN=t,GN}var KN,lT;function Due(){if(lT)return KN;lT=1;var t=Oy(),r=y4(),n=b4(),s=200;function a(i,o){var l=this.__data__;if(l instanceof t){var c=l.__data__;if(!r||c.length<s-1)return c.push([i,o]),this.size=++l.size,this;l=this.__data__=new n(c)}return l.set(i,o),this.size=l.size,this}return KN=a,KN}var YN,cT;function gB(){if(cT)return YN;cT=1;var t=Oy(),r=Eue(),n=Tue(),s=Oue(),a=Mue(),i=Due();function o(l){var c=this.__data__=new t(l);this.size=c.size}return o.prototype.clear=r,o.prototype.delete=n,o.prototype.get=s,o.prototype.has=a,o.prototype.set=i,YN=o,YN}var ZN,dT;function Rue(){if(dT)return ZN;dT=1;var t="__lodash_hash_undefined__";function r(n){return this.__data__.set(n,t),this}return ZN=r,ZN}var XN,uT;function Iue(){if(uT)return XN;uT=1;function t(r){return this.__data__.has(r)}return XN=t,XN}var JN,hT;function vB(){if(hT)return JN;hT=1;var t=b4(),r=Rue(),n=Iue();function s(a){var i=-1,o=a==null?0:a.length;for(this.__data__=new t;++i<o;)this.add(a[i])}return s.prototype.add=s.prototype.push=r,s.prototype.has=n,JN=s,JN}var QN,mT;function yB(){if(mT)return QN;mT=1;function t(r,n){for(var s=-1,a=r==null?0:r.length;++s<a;)if(n(r[s],s,r))return!0;return!1}return QN=t,QN}var e1,fT;function bB(){if(fT)return e1;fT=1;function t(r,n){return r.has(n)}return e1=t,e1}var t1,pT;function jB(){if(pT)return t1;pT=1;var t=vB(),r=yB(),n=bB(),s=1,a=2;function i(o,l,c,u,m,p){var x=c&s,v=o.length,w=l.length;if(v!=w&&!(x&&w>v))return!1;var y=p.get(o),j=p.get(l);if(y&&j)return y==l&&j==o;var S=-1,C=!0,P=c&a?new t:void 0;for(p.set(o,l),p.set(l,o);++S<v;){var T=o[S],_=l[S];if(u)var k=x?u(_,T,S,l,o,p):u(T,_,S,o,l,p);if(k!==void 0){if(k)continue;C=!1;break}if(P){if(!r(l,function(M,$){if(!n(P,$)&&(T===M||m(T,M,c,u,p)))return P.push($)})){C=!1;break}}else if(!(T===_||m(T,_,c,u,p))){C=!1;break}}return p.delete(o),p.delete(l),C}return t1=i,t1}var r1,xT;function Lue(){if(xT)return r1;xT=1;var t=Oo(),r=t.Uint8Array;return r1=r,r1}var n1,gT;function $ue(){if(gT)return n1;gT=1;function t(r){var n=-1,s=Array(r.size);return r.forEach(function(a,i){s[++n]=[i,a]}),s}return n1=t,n1}var s1,vT;function E4(){if(vT)return s1;vT=1;function t(r){var n=-1,s=Array(r.size);return r.forEach(function(a){s[++n]=a}),s}return s1=t,s1}var a1,yT;function Bue(){if(yT)return a1;yT=1;var t=jx(),r=Lue(),n=v4(),s=jB(),a=$ue(),i=E4(),o=1,l=2,c="[object Boolean]",u="[object Date]",m="[object Error]",p="[object Map]",x="[object Number]",v="[object RegExp]",w="[object Set]",y="[object String]",j="[object Symbol]",S="[object ArrayBuffer]",C="[object DataView]",P=t?t.prototype:void 0,T=P?P.valueOf:void 0;function _(k,M,$,B,F,H,K){switch($){case C:if(k.byteLength!=M.byteLength||k.byteOffset!=M.byteOffset)return!1;k=k.buffer,M=M.buffer;case S:return!(k.byteLength!=M.byteLength||!H(new r(k),new r(M)));case c:case u:case x:return n(+k,+M);case m:return k.name==M.name&&k.message==M.message;case v:case y:return k==M+"";case p:var Z=a;case w:var V=B&o;if(Z||(Z=i),k.size!=M.size&&!V)return!1;var W=K.get(k);if(W)return W==M;B|=l,K.set(k,M);var G=s(Z(k),Z(M),B,F,H,K);return K.delete(k),G;case j:if(T)return T.call(k)==T.call(M)}return!1}return a1=_,a1}var i1,bT;function wB(){if(bT)return i1;bT=1;function t(r,n){for(var s=-1,a=n.length,i=r.length;++s<a;)r[i+s]=n[s];return r}return i1=t,i1}var o1,jT;function Fue(){if(jT)return o1;jT=1;var t=wB(),r=ea();function n(s,a,i){var o=a(s);return r(s)?o:t(o,i(s))}return o1=n,o1}var l1,wT;function zue(){if(wT)return l1;wT=1;function t(r,n){for(var s=-1,a=r==null?0:r.length,i=0,o=[];++s<a;){var l=r[s];n(l,s,r)&&(o[i++]=l)}return o}return l1=t,l1}var c1,NT;function Uue(){if(NT)return c1;NT=1;function t(){return[]}return c1=t,c1}var d1,ST;function Hue(){if(ST)return d1;ST=1;var t=zue(),r=Uue(),n=Object.prototype,s=n.propertyIsEnumerable,a=Object.getOwnPropertySymbols,i=a?function(o){return o==null?[]:(o=Object(o),t(a(o),function(l){return s.call(o,l)}))}:r;return d1=i,d1}var u1,_T;function Wue(){if(_T)return u1;_T=1;function t(r,n){for(var s=-1,a=Array(r);++s<r;)a[s]=n(s);return a}return u1=t,u1}var h1,kT;function que(){if(kT)return h1;kT=1;var t=Pl(),r=Al(),n="[object Arguments]";function s(a){return r(a)&&t(a)==n}return h1=s,h1}var m1,CT;function T4(){if(CT)return m1;CT=1;var t=que(),r=Al(),n=Object.prototype,s=n.hasOwnProperty,a=n.propertyIsEnumerable,i=t((function(){return arguments})())?t:function(o){return r(o)&&s.call(o,"callee")&&!a.call(o,"callee")};return m1=i,m1}var Vf={exports:{}},f1,PT;function Vue(){if(PT)return f1;PT=1;function t(){return!1}return f1=t,f1}Vf.exports;var AT;function NB(){return AT||(AT=1,(function(t,r){var n=Oo(),s=Vue(),a=r&&!r.nodeType&&r,i=a&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===a,l=o?n.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||s;t.exports=u})(Vf,Vf.exports)),Vf.exports}var p1,ET;function O4(){if(ET)return p1;ET=1;var t=9007199254740991,r=/^(?:0|[1-9]\d*)$/;function n(s,a){var i=typeof s;return a=a??t,!!a&&(i=="number"||i!="symbol"&&r.test(s))&&s>-1&&s%1==0&&s<a}return p1=n,p1}var x1,TT;function M4(){if(TT)return x1;TT=1;var t=9007199254740991;function r(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=t}return x1=r,x1}var g1,OT;function Gue(){if(OT)return g1;OT=1;var t=Pl(),r=M4(),n=Al(),s="[object Arguments]",a="[object Array]",i="[object Boolean]",o="[object Date]",l="[object Error]",c="[object Function]",u="[object Map]",m="[object Number]",p="[object Object]",x="[object RegExp]",v="[object Set]",w="[object String]",y="[object WeakMap]",j="[object ArrayBuffer]",S="[object DataView]",C="[object Float32Array]",P="[object Float64Array]",T="[object Int8Array]",_="[object Int16Array]",k="[object Int32Array]",M="[object Uint8Array]",$="[object Uint8ClampedArray]",B="[object Uint16Array]",F="[object Uint32Array]",H={};H[C]=H[P]=H[T]=H[_]=H[k]=H[M]=H[$]=H[B]=H[F]=!0,H[s]=H[a]=H[j]=H[i]=H[S]=H[o]=H[l]=H[c]=H[u]=H[m]=H[p]=H[x]=H[v]=H[w]=H[y]=!1;function K(Z){return n(Z)&&r(Z.length)&&!!H[t(Z)]}return g1=K,g1}var v1,MT;function SB(){if(MT)return v1;MT=1;function t(r){return function(n){return r(n)}}return v1=t,v1}var Gf={exports:{}};Gf.exports;var DT;function Kue(){return DT||(DT=1,(function(t,r){var n=H7(),s=r&&!r.nodeType&&r,a=s&&!0&&t&&!t.nodeType&&t,i=a&&a.exports===s,o=i&&n.process,l=(function(){try{var c=a&&a.require&&a.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}})();t.exports=l})(Gf,Gf.exports)),Gf.exports}var y1,RT;function _B(){if(RT)return y1;RT=1;var t=Gue(),r=SB(),n=Kue(),s=n&&n.isTypedArray,a=s?r(s):t;return y1=a,y1}var b1,IT;function Yue(){if(IT)return b1;IT=1;var t=Wue(),r=T4(),n=ea(),s=NB(),a=O4(),i=_B(),o=Object.prototype,l=o.hasOwnProperty;function c(u,m){var p=n(u),x=!p&&r(u),v=!p&&!x&&s(u),w=!p&&!x&&!v&&i(u),y=p||x||v||w,j=y?t(u.length,String):[],S=j.length;for(var C in u)(m||l.call(u,C))&&!(y&&(C=="length"||v&&(C=="offset"||C=="parent")||w&&(C=="buffer"||C=="byteLength"||C=="byteOffset")||a(C,S)))&&j.push(C);return j}return b1=c,b1}var j1,LT;function Zue(){if(LT)return j1;LT=1;var t=Object.prototype;function r(n){var s=n&&n.constructor,a=typeof s=="function"&&s.prototype||t;return n===a}return j1=r,j1}var w1,$T;function kB(){if($T)return w1;$T=1;function t(r,n){return function(s){return r(n(s))}}return w1=t,w1}var N1,BT;function Xue(){if(BT)return N1;BT=1;var t=kB(),r=t(Object.keys,Object);return N1=r,N1}var S1,FT;function Jue(){if(FT)return S1;FT=1;var t=Zue(),r=Xue(),n=Object.prototype,s=n.hasOwnProperty;function a(i){if(!t(i))return r(i);var o=[];for(var l in Object(i))s.call(i,l)&&l!="constructor"&&o.push(l);return o}return S1=a,S1}var _1,zT;function Nx(){if(zT)return _1;zT=1;var t=g4(),r=M4();function n(s){return s!=null&&r(s.length)&&!t(s)}return _1=n,_1}var k1,UT;function By(){if(UT)return k1;UT=1;var t=Yue(),r=Jue(),n=Nx();function s(a){return n(a)?t(a):r(a)}return k1=s,k1}var C1,HT;function Que(){if(HT)return C1;HT=1;var t=Fue(),r=Hue(),n=By();function s(a){return t(a,n,r)}return C1=s,C1}var P1,WT;function ehe(){if(WT)return P1;WT=1;var t=Que(),r=1,n=Object.prototype,s=n.hasOwnProperty;function a(i,o,l,c,u,m){var p=l&r,x=t(i),v=x.length,w=t(o),y=w.length;if(v!=y&&!p)return!1;for(var j=v;j--;){var S=x[j];if(!(p?S in o:s.call(o,S)))return!1}var C=m.get(i),P=m.get(o);if(C&&P)return C==o&&P==i;var T=!0;m.set(i,o),m.set(o,i);for(var _=p;++j<v;){S=x[j];var k=i[S],M=o[S];if(c)var $=p?c(M,k,S,o,i,m):c(k,M,S,i,o,m);if(!($===void 0?k===M||u(k,M,l,c,m):$)){T=!1;break}_||(_=S=="constructor")}if(T&&!_){var B=i.constructor,F=o.constructor;B!=F&&"constructor"in i&&"constructor"in o&&!(typeof B=="function"&&B instanceof B&&typeof F=="function"&&F instanceof F)&&(T=!1)}return m.delete(i),m.delete(o),T}return P1=a,P1}var A1,qT;function the(){if(qT)return A1;qT=1;var t=cu(),r=Oo(),n=t(r,"DataView");return A1=n,A1}var E1,VT;function rhe(){if(VT)return E1;VT=1;var t=cu(),r=Oo(),n=t(r,"Promise");return E1=n,E1}var T1,GT;function CB(){if(GT)return T1;GT=1;var t=cu(),r=Oo(),n=t(r,"Set");return T1=n,T1}var O1,KT;function nhe(){if(KT)return O1;KT=1;var t=cu(),r=Oo(),n=t(r,"WeakMap");return O1=n,O1}var M1,YT;function she(){if(YT)return M1;YT=1;var t=the(),r=y4(),n=rhe(),s=CB(),a=nhe(),i=Pl(),o=W7(),l="[object Map]",c="[object Object]",u="[object Promise]",m="[object Set]",p="[object WeakMap]",x="[object DataView]",v=o(t),w=o(r),y=o(n),j=o(s),S=o(a),C=i;return(t&&C(new t(new ArrayBuffer(1)))!=x||r&&C(new r)!=l||n&&C(n.resolve())!=u||s&&C(new s)!=m||a&&C(new a)!=p)&&(C=function(P){var T=i(P),_=T==c?P.constructor:void 0,k=_?o(_):"";if(k)switch(k){case v:return x;case w:return l;case y:return u;case j:return m;case S:return p}return T}),M1=C,M1}var D1,ZT;function ahe(){if(ZT)return D1;ZT=1;var t=gB(),r=jB(),n=Bue(),s=ehe(),a=she(),i=ea(),o=NB(),l=_B(),c=1,u="[object Arguments]",m="[object Array]",p="[object Object]",x=Object.prototype,v=x.hasOwnProperty;function w(y,j,S,C,P,T){var _=i(y),k=i(j),M=_?m:a(y),$=k?m:a(j);M=M==u?p:M,$=$==u?p:$;var B=M==p,F=$==p,H=M==$;if(H&&o(y)){if(!o(j))return!1;_=!0,B=!1}if(H&&!B)return T||(T=new t),_||l(y)?r(y,j,S,C,P,T):n(y,j,M,S,C,P,T);if(!(S&c)){var K=B&&v.call(y,"__wrapped__"),Z=F&&v.call(j,"__wrapped__");if(K||Z){var V=K?y.value():y,W=Z?j.value():j;return T||(T=new t),P(V,W,S,C,T)}}return H?(T||(T=new t),s(y,j,S,C,P,T)):!1}return D1=w,D1}var R1,XT;function D4(){if(XT)return R1;XT=1;var t=ahe(),r=Al();function n(s,a,i,o,l){return s===a?!0:s==null||a==null||!r(s)&&!r(a)?s!==s&&a!==a:t(s,a,i,o,n,l)}return R1=n,R1}var I1,JT;function ihe(){if(JT)return I1;JT=1;var t=gB(),r=D4(),n=1,s=2;function a(i,o,l,c){var u=l.length,m=u,p=!c;if(i==null)return!m;for(i=Object(i);u--;){var x=l[u];if(p&&x[2]?x[1]!==i[x[0]]:!(x[0]in i))return!1}for(;++u<m;){x=l[u];var v=x[0],w=i[v],y=x[1];if(p&&x[2]){if(w===void 0&&!(v in i))return!1}else{var j=new t;if(c)var S=c(w,y,v,i,o,j);if(!(S===void 0?r(y,w,n|s,c,j):S))return!1}}return!0}return I1=a,I1}var L1,QT;function PB(){if(QT)return L1;QT=1;var t=Ic();function r(n){return n===n&&!t(n)}return L1=r,L1}var $1,eO;function ohe(){if(eO)return $1;eO=1;var t=PB(),r=By();function n(s){for(var a=r(s),i=a.length;i--;){var o=a[i],l=s[o];a[i]=[o,l,t(l)]}return a}return $1=n,$1}var B1,tO;function AB(){if(tO)return B1;tO=1;function t(r,n){return function(s){return s==null?!1:s[r]===n&&(n!==void 0||r in Object(s))}}return B1=t,B1}var F1,rO;function lhe(){if(rO)return F1;rO=1;var t=ihe(),r=ohe(),n=AB();function s(a){var i=r(a);return i.length==1&&i[0][2]?n(i[0][0],i[0][1]):function(o){return o===a||t(o,a,i)}}return F1=s,F1}var z1,nO;function che(){if(nO)return z1;nO=1;function t(r,n){return r!=null&&n in Object(r)}return z1=t,z1}var U1,sO;function dhe(){if(sO)return U1;sO=1;var t=G7(),r=T4(),n=ea(),s=O4(),a=M4(),i=Dy();function o(l,c,u){c=t(c,l);for(var m=-1,p=c.length,x=!1;++m<p;){var v=i(c[m]);if(!(x=l!=null&&u(l,v)))break;l=l[v]}return x||++m!=p?x:(p=l==null?0:l.length,!!p&&a(p)&&s(v,p)&&(n(l)||r(l)))}return U1=o,U1}var H1,aO;function uhe(){if(aO)return H1;aO=1;var t=che(),r=dhe();function n(s,a){return s!=null&&r(s,a,t)}return H1=n,H1}var W1,iO;function hhe(){if(iO)return W1;iO=1;var t=D4(),r=K7(),n=uhe(),s=x4(),a=PB(),i=AB(),o=Dy(),l=1,c=2;function u(m,p){return s(m)&&a(p)?i(o(m),p):function(x){var v=r(x,m);return v===void 0&&v===p?n(x,m):t(p,v,l|c)}}return W1=u,W1}var q1,oO;function Dm(){if(oO)return q1;oO=1;function t(r){return r}return q1=t,q1}var V1,lO;function mhe(){if(lO)return V1;lO=1;function t(r){return function(n){return n==null?void 0:n[r]}}return V1=t,V1}var G1,cO;function fhe(){if(cO)return G1;cO=1;var t=w4();function r(n){return function(s){return t(s,n)}}return G1=r,G1}var K1,dO;function phe(){if(dO)return K1;dO=1;var t=mhe(),r=fhe(),n=x4(),s=Dy();function a(i){return n(i)?t(s(i)):r(i)}return K1=a,K1}var Y1,uO;function Mo(){if(uO)return Y1;uO=1;var t=lhe(),r=hhe(),n=Dm(),s=ea(),a=phe();function i(o){return typeof o=="function"?o:o==null?n:typeof o=="object"?s(o)?r(o[0],o[1]):t(o):a(o)}return Y1=i,Y1}var Z1,hO;function EB(){if(hO)return Z1;hO=1;function t(r,n,s,a){for(var i=r.length,o=s+(a?1:-1);a?o--:++o<i;)if(n(r[o],o,r))return o;return-1}return Z1=t,Z1}var X1,mO;function xhe(){if(mO)return X1;mO=1;function t(r){return r!==r}return X1=t,X1}var J1,fO;function ghe(){if(fO)return J1;fO=1;function t(r,n,s){for(var a=s-1,i=r.length;++a<i;)if(r[a]===n)return a;return-1}return J1=t,J1}var Q1,pO;function vhe(){if(pO)return Q1;pO=1;var t=EB(),r=xhe(),n=ghe();function s(a,i,o){return i===i?n(a,i,o):t(a,r,o)}return Q1=s,Q1}var e2,xO;function yhe(){if(xO)return e2;xO=1;var t=vhe();function r(n,s){var a=n==null?0:n.length;return!!a&&t(n,s,0)>-1}return e2=r,e2}var t2,gO;function bhe(){if(gO)return t2;gO=1;function t(r,n,s){for(var a=-1,i=r==null?0:r.length;++a<i;)if(s(n,r[a]))return!0;return!1}return t2=t,t2}var r2,vO;function jhe(){if(vO)return r2;vO=1;function t(){}return r2=t,r2}var n2,yO;function whe(){if(yO)return n2;yO=1;var t=CB(),r=jhe(),n=E4(),s=1/0,a=t&&1/n(new t([,-0]))[1]==s?function(i){return new t(i)}:r;return n2=a,n2}var s2,bO;function Nhe(){if(bO)return s2;bO=1;var t=vB(),r=yhe(),n=bhe(),s=bB(),a=whe(),i=E4(),o=200;function l(c,u,m){var p=-1,x=r,v=c.length,w=!0,y=[],j=y;if(m)w=!1,x=n;else if(v>=o){var S=u?null:a(c);if(S)return i(S);w=!1,x=s,j=new t}else j=u?[]:y;e:for(;++p<v;){var C=c[p],P=u?u(C):C;if(C=m||C!==0?C:0,w&&P===P){for(var T=j.length;T--;)if(j[T]===P)continue e;u&&j.push(P),y.push(C)}else x(j,P,m)||(j!==y&&j.push(P),y.push(C))}return y}return s2=l,s2}var a2,jO;function She(){if(jO)return a2;jO=1;var t=Mo(),r=Nhe();function n(s,a){return s&&s.length?r(s,t(a,2)):[]}return a2=n,a2}var _he=She();const wO=ar(_he);function TB(t,r,n){return r===!0?wO(t,n):St(r)?wO(t,r):t}function Gh(t){"@babel/helpers - typeof";return Gh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Gh(t)}var khe=["ref"];function NO(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,s)}return n}function nl(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?NO(Object(n),!0).forEach(function(s){Fy(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NO(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function Che(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function SO(t,r){for(var n=0;n<r.length;n++){var s=r[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,MB(s.key),s)}}function Phe(t,r,n){return r&&SO(t.prototype,r),n&&SO(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ahe(t,r,n){return r=ev(r),Ehe(t,OB()?Reflect.construct(r,n||[],ev(t).constructor):r.apply(t,n))}function Ehe(t,r){if(r&&(Gh(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return The(t)}function The(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function OB(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(OB=function(){return!!t})()}function ev(t){return ev=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ev(t)}function Ohe(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&X_(t,r)}function X_(t,r){return X_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},X_(t,r)}function Fy(t,r,n){return r=MB(r),r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function MB(t){var r=Mhe(t,"string");return Gh(r)=="symbol"?r:r+""}function Mhe(t,r){if(Gh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,r);if(Gh(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Dhe(t,r){if(t==null)return{};var n=Rhe(t,r),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)s=i[a],!(r.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(n[s]=t[s])}return n}function Rhe(t,r){if(t==null)return{};var n={};for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(r.indexOf(s)>=0)continue;n[s]=t[s]}return n}function Ihe(t){return t.value}function Lhe(t,r){if(ce.isValidElement(t))return ce.cloneElement(t,r);if(typeof t=="function")return ce.createElement(t,r);r.ref;var n=Dhe(r,khe);return ce.createElement(A4,n)}var _O=1,Ca=(function(t){function r(){var n;Che(this,r);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return n=Ahe(this,r,[].concat(a)),Fy(n,"lastBoundingBox",{width:-1,height:-1}),n}return Ohe(r,t),Phe(r,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var s=this.wrapperNode.getBoundingClientRect();return s.height=this.wrapperNode.offsetHeight,s.width=this.wrapperNode.offsetWidth,s}return null}},{key:"updateBBox",value:function(){var s=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>_O||Math.abs(a.height-this.lastBoundingBox.height)>_O)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,s&&s(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,s&&s(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?nl({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(s){var a=this.props,i=a.layout,o=a.align,l=a.verticalAlign,c=a.margin,u=a.chartWidth,m=a.chartHeight,p,x;if(!s||(s.left===void 0||s.left===null)&&(s.right===void 0||s.right===null))if(o==="center"&&i==="vertical"){var v=this.getBBoxSnapshot();p={left:((u||0)-v.width)/2}}else p=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!s||(s.top===void 0||s.top===null)&&(s.bottom===void 0||s.bottom===null))if(l==="middle"){var w=this.getBBoxSnapshot();x={top:((m||0)-w.height)/2}}else x=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return nl(nl({},p),x)}},{key:"render",value:function(){var s=this,a=this.props,i=a.content,o=a.width,l=a.height,c=a.wrapperStyle,u=a.payloadUniqBy,m=a.payload,p=nl(nl({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return ce.createElement("div",{className:"recharts-legend-wrapper",style:p,ref:function(v){s.wrapperNode=v}},Lhe(i,nl(nl({},this.props),{},{payload:TB(m,u,Ihe)})))}}],[{key:"getWithHeight",value:function(s,a){var i=nl(nl({},this.defaultProps),s.props),o=i.layout;return o==="vertical"&&Be(s.props.height)?{height:s.props.height}:o==="horizontal"?{width:s.props.width||a}:null}}])})(N.PureComponent);Fy(Ca,"displayName","Legend");Fy(Ca,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var i2,kO;function $he(){if(kO)return i2;kO=1;var t=jx(),r=T4(),n=ea(),s=t?t.isConcatSpreadable:void 0;function a(i){return n(i)||r(i)||!!(s&&i&&i[s])}return i2=a,i2}var o2,CO;function DB(){if(CO)return o2;CO=1;var t=wB(),r=$he();function n(s,a,i,o,l){var c=-1,u=s.length;for(i||(i=r),l||(l=[]);++c<u;){var m=s[c];a>0&&i(m)?a>1?n(m,a-1,i,o,l):t(l,m):o||(l[l.length]=m)}return l}return o2=n,o2}var l2,PO;function Bhe(){if(PO)return l2;PO=1;function t(r){return function(n,s,a){for(var i=-1,o=Object(n),l=a(n),c=l.length;c--;){var u=l[r?c:++i];if(s(o[u],u,o)===!1)break}return n}}return l2=t,l2}var c2,AO;function Fhe(){if(AO)return c2;AO=1;var t=Bhe(),r=t();return c2=r,c2}var d2,EO;function RB(){if(EO)return d2;EO=1;var t=Fhe(),r=By();function n(s,a){return s&&t(s,a,r)}return d2=n,d2}var u2,TO;function zhe(){if(TO)return u2;TO=1;var t=Nx();function r(n,s){return function(a,i){if(a==null)return a;if(!t(a))return n(a,i);for(var o=a.length,l=s?o:-1,c=Object(a);(s?l--:++l<o)&&i(c[l],l,c)!==!1;);return a}}return u2=r,u2}var h2,OO;function R4(){if(OO)return h2;OO=1;var t=RB(),r=zhe(),n=r(t);return h2=n,h2}var m2,MO;function IB(){if(MO)return m2;MO=1;var t=R4(),r=Nx();function n(s,a){var i=-1,o=r(s)?Array(s.length):[];return t(s,function(l,c,u){o[++i]=a(l,c,u)}),o}return m2=n,m2}var f2,DO;function Uhe(){if(DO)return f2;DO=1;function t(r,n){var s=r.length;for(r.sort(n);s--;)r[s]=r[s].value;return r}return f2=t,f2}var p2,RO;function Hhe(){if(RO)return p2;RO=1;var t=Tm();function r(n,s){if(n!==s){var a=n!==void 0,i=n===null,o=n===n,l=t(n),c=s!==void 0,u=s===null,m=s===s,p=t(s);if(!u&&!p&&!l&&n>s||l&&c&&m&&!u&&!p||i&&c&&m||!a&&m||!o)return 1;if(!i&&!l&&!p&&n<s||p&&a&&o&&!i&&!l||u&&a&&o||!c&&o||!m)return-1}return 0}return p2=r,p2}var x2,IO;function Whe(){if(IO)return x2;IO=1;var t=Hhe();function r(n,s,a){for(var i=-1,o=n.criteria,l=s.criteria,c=o.length,u=a.length;++i<c;){var m=t(o[i],l[i]);if(m){if(i>=u)return m;var p=a[i];return m*(p=="desc"?-1:1)}}return n.index-s.index}return x2=r,x2}var g2,LO;function qhe(){if(LO)return g2;LO=1;var t=j4(),r=w4(),n=Mo(),s=IB(),a=Uhe(),i=SB(),o=Whe(),l=Dm(),c=ea();function u(m,p,x){p.length?p=t(p,function(y){return c(y)?function(j){return r(j,y.length===1?y[0]:y)}:y}):p=[l];var v=-1;p=t(p,i(n));var w=s(m,function(y,j,S){var C=t(p,function(P){return P(y)});return{criteria:C,index:++v,value:y}});return a(w,function(y,j){return o(y,j,x)})}return g2=u,g2}var v2,$O;function Vhe(){if($O)return v2;$O=1;function t(r,n,s){switch(s.length){case 0:return r.call(n);case 1:return r.call(n,s[0]);case 2:return r.call(n,s[0],s[1]);case 3:return r.call(n,s[0],s[1],s[2])}return r.apply(n,s)}return v2=t,v2}var y2,BO;function Ghe(){if(BO)return y2;BO=1;var t=Vhe(),r=Math.max;function n(s,a,i){return a=r(a===void 0?s.length-1:a,0),function(){for(var o=arguments,l=-1,c=r(o.length-a,0),u=Array(c);++l<c;)u[l]=o[a+l];l=-1;for(var m=Array(a+1);++l<a;)m[l]=o[l];return m[a]=i(u),t(s,this,m)}}return y2=n,y2}var b2,FO;function Khe(){if(FO)return b2;FO=1;function t(r){return function(){return r}}return b2=t,b2}var j2,zO;function LB(){if(zO)return j2;zO=1;var t=cu(),r=(function(){try{var n=t(Object,"defineProperty");return n({},"",{}),n}catch{}})();return j2=r,j2}var w2,UO;function Yhe(){if(UO)return w2;UO=1;var t=Khe(),r=LB(),n=Dm(),s=r?function(a,i){return r(a,"toString",{configurable:!0,enumerable:!1,value:t(i),writable:!0})}:n;return w2=s,w2}var N2,HO;function Zhe(){if(HO)return N2;HO=1;var t=800,r=16,n=Date.now;function s(a){var i=0,o=0;return function(){var l=n(),c=r-(l-o);if(o=l,c>0){if(++i>=t)return arguments[0]}else i=0;return a.apply(void 0,arguments)}}return N2=s,N2}var S2,WO;function Xhe(){if(WO)return S2;WO=1;var t=Yhe(),r=Zhe(),n=r(t);return S2=n,S2}var _2,qO;function Jhe(){if(qO)return _2;qO=1;var t=Dm(),r=Ghe(),n=Xhe();function s(a,i){return n(r(a,i,t),a+"")}return _2=s,_2}var k2,VO;function zy(){if(VO)return k2;VO=1;var t=v4(),r=Nx(),n=O4(),s=Ic();function a(i,o,l){if(!s(l))return!1;var c=typeof o;return(c=="number"?r(l)&&n(o,l.length):c=="string"&&o in l)?t(l[o],i):!1}return k2=a,k2}var C2,GO;function Qhe(){if(GO)return C2;GO=1;var t=DB(),r=qhe(),n=Jhe(),s=zy(),a=n(function(i,o){if(i==null)return[];var l=o.length;return l>1&&s(i,o[0],o[1])?o=[]:l>2&&s(o[0],o[1],o[2])&&(o=[o[0]]),r(i,t(o,1),[])});return C2=a,C2}var eme=Qhe();const I4=ar(eme);function Ap(t){"@babel/helpers - typeof";return Ap=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Ap(t)}function J_(){return J_=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},J_.apply(this,arguments)}function tme(t,r){return ame(t)||sme(t,r)||nme(t,r)||rme()}function rme(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nme(t,r){if(t){if(typeof t=="string")return KO(t,r);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return KO(t,r)}}function KO(t,r){(r==null||r>t.length)&&(r=t.length);for(var n=0,s=new Array(r);n<r;n++)s[n]=t[n];return s}function sme(t,r){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var s,a,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(t)).next,r!==0)for(;!(c=(s=i.call(n)).done)&&(l.push(s.value),l.length!==r);c=!0);}catch(m){u=!0,a=m}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function ame(t){if(Array.isArray(t))return t}function YO(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,s)}return n}function P2(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?YO(Object(n),!0).forEach(function(s){ime(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YO(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function ime(t,r,n){return r=ome(r),r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function ome(t){var r=lme(t,"string");return Ap(r)=="symbol"?r:r+""}function lme(t,r){if(Ap(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,r);if(Ap(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function cme(t){return Array.isArray(t)&&Fn(t[0])&&Fn(t[1])?t.join(" ~ "):t}var dme=function(r){var n=r.separator,s=n===void 0?" : ":n,a=r.contentStyle,i=a===void 0?{}:a,o=r.itemStyle,l=o===void 0?{}:o,c=r.labelStyle,u=c===void 0?{}:c,m=r.payload,p=r.formatter,x=r.itemSorter,v=r.wrapperClassName,w=r.labelClassName,y=r.label,j=r.labelFormatter,S=r.accessibilityLayer,C=S===void 0?!1:S,P=function(){if(m&&m.length){var K={padding:0,margin:0},Z=(x?I4(m,x):m).map(function(V,W){if(V.type==="none")return null;var G=P2({display:"block",paddingTop:4,paddingBottom:4,color:V.color||"#000"},l),O=V.formatter||p||cme,R=V.value,D=V.name,I=R,q=D;if(O&&I!=null&&q!=null){var J=O(R,D,V,W,m);if(Array.isArray(J)){var ie=tme(J,2);I=ie[0],q=ie[1]}else I=J}return ce.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(W),style:G},Fn(q)?ce.createElement("span",{className:"recharts-tooltip-item-name"},q):null,Fn(q)?ce.createElement("span",{className:"recharts-tooltip-item-separator"},s):null,ce.createElement("span",{className:"recharts-tooltip-item-value"},I),ce.createElement("span",{className:"recharts-tooltip-item-unit"},V.unit||""))});return ce.createElement("ul",{className:"recharts-tooltip-item-list",style:K},Z)}return null},T=P2({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),_=P2({margin:0},u),k=!Mt(y),M=k?y:"",$=Lt("recharts-default-tooltip",v),B=Lt("recharts-tooltip-label",w);k&&j&&m!==void 0&&m!==null&&(M=j(y,m));var F=C?{role:"status","aria-live":"assertive"}:{};return ce.createElement("div",J_({className:$,style:T},F),ce.createElement("p",{className:B,style:_},ce.isValidElement(M)?M:"".concat(M)),P())};function Ep(t){"@babel/helpers - typeof";return Ep=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Ep(t)}function o0(t,r,n){return r=ume(r),r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function ume(t){var r=hme(t,"string");return Ep(r)=="symbol"?r:r+""}function hme(t,r){if(Ep(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,r);if(Ep(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}var Ef="recharts-tooltip-wrapper",mme={visibility:"hidden"};function fme(t){var r=t.coordinate,n=t.translateX,s=t.translateY;return Lt(Ef,o0(o0(o0(o0({},"".concat(Ef,"-right"),Be(n)&&r&&Be(r.x)&&n>=r.x),"".concat(Ef,"-left"),Be(n)&&r&&Be(r.x)&&n<r.x),"".concat(Ef,"-bottom"),Be(s)&&r&&Be(r.y)&&s>=r.y),"".concat(Ef,"-top"),Be(s)&&r&&Be(r.y)&&s<r.y))}function ZO(t){var r=t.allowEscapeViewBox,n=t.coordinate,s=t.key,a=t.offsetTopLeft,i=t.position,o=t.reverseDirection,l=t.tooltipDimension,c=t.viewBox,u=t.viewBoxDimension;if(i&&Be(i[s]))return i[s];var m=n[s]-l-a,p=n[s]+a;if(r[s])return o[s]?m:p;if(o[s]){var x=m,v=c[s];return x<v?Math.max(p,c[s]):Math.max(m,c[s])}var w=p+l,y=c[s]+u;return w>y?Math.max(m,c[s]):Math.max(p,c[s])}function pme(t){var r=t.translateX,n=t.translateY,s=t.useTranslate3d;return{transform:s?"translate3d(".concat(r,"px, ").concat(n,"px, 0)"):"translate(".concat(r,"px, ").concat(n,"px)")}}function xme(t){var r=t.allowEscapeViewBox,n=t.coordinate,s=t.offsetTopLeft,a=t.position,i=t.reverseDirection,o=t.tooltipBox,l=t.useTranslate3d,c=t.viewBox,u,m,p;return o.height>0&&o.width>0&&n?(m=ZO({allowEscapeViewBox:r,coordinate:n,key:"x",offsetTopLeft:s,position:a,reverseDirection:i,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),p=ZO({allowEscapeViewBox:r,coordinate:n,key:"y",offsetTopLeft:s,position:a,reverseDirection:i,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=pme({translateX:m,translateY:p,useTranslate3d:l})):u=mme,{cssProperties:u,cssClasses:fme({translateX:m,translateY:p,coordinate:n})}}function Kh(t){"@babel/helpers - typeof";return Kh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Kh(t)}function XO(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,s)}return n}function JO(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?XO(Object(n),!0).forEach(function(s){ek(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XO(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function gme(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function vme(t,r){for(var n=0;n<r.length;n++){var s=r[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,BB(s.key),s)}}function yme(t,r,n){return r&&vme(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function bme(t,r,n){return r=tv(r),jme(t,$B()?Reflect.construct(r,n||[],tv(t).constructor):r.apply(t,n))}function jme(t,r){if(r&&(Kh(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wme(t)}function wme(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $B(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($B=function(){return!!t})()}function tv(t){return tv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},tv(t)}function Nme(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&Q_(t,r)}function Q_(t,r){return Q_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},Q_(t,r)}function ek(t,r,n){return r=BB(r),r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function BB(t){var r=Sme(t,"string");return Kh(r)=="symbol"?r:r+""}function Sme(t,r){if(Kh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,r);if(Kh(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var QO=1,_me=(function(t){function r(){var n;gme(this,r);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return n=bme(this,r,[].concat(a)),ek(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),ek(n,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,u,m;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=n.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(m=n.props.coordinate)===null||m===void 0?void 0:m.y)!==null&&u!==void 0?u:0}})}}),n}return Nme(r,t),yme(r,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var s=this.wrapperNode.getBoundingClientRect();(Math.abs(s.width-this.state.lastBoundingBox.width)>QO||Math.abs(s.height-this.state.lastBoundingBox.height)>QO)&&this.setState({lastBoundingBox:{width:s.width,height:s.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var s,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((s=this.props.coordinate)===null||s===void 0?void 0:s.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var s=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.children,m=a.coordinate,p=a.hasPayload,x=a.isAnimationActive,v=a.offset,w=a.position,y=a.reverseDirection,j=a.useTranslate3d,S=a.viewBox,C=a.wrapperStyle,P=xme({allowEscapeViewBox:o,coordinate:m,offsetTopLeft:v,position:w,reverseDirection:y,tooltipBox:this.state.lastBoundingBox,useTranslate3d:j,viewBox:S}),T=P.cssClasses,_=P.cssProperties,k=JO(JO({transition:x&&i?"transform ".concat(l,"ms ").concat(c):void 0},_),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&p?"visible":"hidden",position:"absolute",top:0,left:0},C);return ce.createElement("div",{tabIndex:-1,className:T,style:k,ref:function($){s.wrapperNode=$}},u)}}])})(N.PureComponent),kme=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Lc={isSsr:kme()};function Yh(t){"@babel/helpers - typeof";return Yh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Yh(t)}function eM(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,s)}return n}function tM(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?eM(Object(n),!0).forEach(function(s){L4(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eM(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function Cme(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function Pme(t,r){for(var n=0;n<r.length;n++){var s=r[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,zB(s.key),s)}}function Ame(t,r,n){return r&&Pme(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Eme(t,r,n){return r=rv(r),Tme(t,FB()?Reflect.construct(r,n||[],rv(t).constructor):r.apply(t,n))}function Tme(t,r){if(r&&(Yh(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ome(t)}function Ome(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function FB(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(FB=function(){return!!t})()}function rv(t){return rv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},rv(t)}function Mme(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&tk(t,r)}function tk(t,r){return tk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},tk(t,r)}function L4(t,r,n){return r=zB(r),r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function zB(t){var r=Dme(t,"string");return Yh(r)=="symbol"?r:r+""}function Dme(t,r){if(Yh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,r);if(Yh(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Rme(t){return t.dataKey}function Ime(t,r){return ce.isValidElement(t)?ce.cloneElement(t,r):typeof t=="function"?ce.createElement(t,r):ce.createElement(dme,r)}var xs=(function(t){function r(){return Cme(this,r),Eme(this,r,arguments)}return Mme(r,t),Ame(r,[{key:"render",value:function(){var s=this,a=this.props,i=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.content,m=a.coordinate,p=a.filterNull,x=a.isAnimationActive,v=a.offset,w=a.payload,y=a.payloadUniqBy,j=a.position,S=a.reverseDirection,C=a.useTranslate3d,P=a.viewBox,T=a.wrapperStyle,_=w??[];p&&_.length&&(_=TB(w.filter(function(M){return M.value!=null&&(M.hide!==!0||s.props.includeHidden)}),y,Rme));var k=_.length>0;return ce.createElement(_me,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:x,active:i,coordinate:m,hasPayload:k,offset:v,position:j,reverseDirection:S,useTranslate3d:C,viewBox:P,wrapperStyle:T},Ime(u,tM(tM({},this.props),{},{payload:_})))}}])})(N.PureComponent);L4(xs,"displayName","Tooltip");L4(xs,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Lc.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var A2,rM;function Lme(){if(rM)return A2;rM=1;var t=Oo(),r=function(){return t.Date.now()};return A2=r,A2}var E2,nM;function $me(){if(nM)return E2;nM=1;var t=/\s/;function r(n){for(var s=n.length;s--&&t.test(n.charAt(s)););return s}return E2=r,E2}var T2,sM;function Bme(){if(sM)return T2;sM=1;var t=$me(),r=/^\s+/;function n(s){return s&&s.slice(0,t(s)+1).replace(r,"")}return T2=n,T2}var O2,aM;function UB(){if(aM)return O2;aM=1;var t=Bme(),r=Ic(),n=Tm(),s=NaN,a=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,o=/^0o[0-7]+$/i,l=parseInt;function c(u){if(typeof u=="number")return u;if(n(u))return s;if(r(u)){var m=typeof u.valueOf=="function"?u.valueOf():u;u=r(m)?m+"":m}if(typeof u!="string")return u===0?u:+u;u=t(u);var p=i.test(u);return p||o.test(u)?l(u.slice(2),p?2:8):a.test(u)?s:+u}return O2=c,O2}var M2,iM;function Fme(){if(iM)return M2;iM=1;var t=Ic(),r=Lme(),n=UB(),s="Expected a function",a=Math.max,i=Math.min;function o(l,c,u){var m,p,x,v,w,y,j=0,S=!1,C=!1,P=!0;if(typeof l!="function")throw new TypeError(s);c=n(c)||0,t(u)&&(S=!!u.leading,C="maxWait"in u,x=C?a(n(u.maxWait)||0,c):x,P="trailing"in u?!!u.trailing:P);function T(Z){var V=m,W=p;return m=p=void 0,j=Z,v=l.apply(W,V),v}function _(Z){return j=Z,w=setTimeout($,c),S?T(Z):v}function k(Z){var V=Z-y,W=Z-j,G=c-V;return C?i(G,x-W):G}function M(Z){var V=Z-y,W=Z-j;return y===void 0||V>=c||V<0||C&&W>=x}function $(){var Z=r();if(M(Z))return B(Z);w=setTimeout($,k(Z))}function B(Z){return w=void 0,P&&m?T(Z):(m=p=void 0,v)}function F(){w!==void 0&&clearTimeout(w),j=0,m=y=p=w=void 0}function H(){return w===void 0?v:B(r())}function K(){var Z=r(),V=M(Z);if(m=arguments,p=this,y=Z,V){if(w===void 0)return _(y);if(C)return clearTimeout(w),w=setTimeout($,c),T(y)}return w===void 0&&(w=setTimeout($,c)),v}return K.cancel=F,K.flush=H,K}return M2=o,M2}var D2,oM;function zme(){if(oM)return D2;oM=1;var t=Fme(),r=Ic(),n="Expected a function";function s(a,i,o){var l=!0,c=!0;if(typeof a!="function")throw new TypeError(n);return r(o)&&(l="leading"in o?!!o.leading:l,c="trailing"in o?!!o.trailing:c),t(a,i,{leading:l,maxWait:i,trailing:c})}return D2=s,D2}var Ume=zme();const HB=ar(Ume);function Tp(t){"@babel/helpers - typeof";return Tp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Tp(t)}function lM(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,s)}return n}function l0(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?lM(Object(n),!0).forEach(function(s){Hme(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lM(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function Hme(t,r,n){return r=Wme(r),r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function Wme(t){var r=qme(t,"string");return Tp(r)=="symbol"?r:r+""}function qme(t,r){if(Tp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,r);if(Tp(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function Vme(t,r){return Zme(t)||Yme(t,r)||Kme(t,r)||Gme()}function Gme(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kme(t,r){if(t){if(typeof t=="string")return cM(t,r);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cM(t,r)}}function cM(t,r){(r==null||r>t.length)&&(r=t.length);for(var n=0,s=new Array(r);n<r;n++)s[n]=t[n];return s}function Yme(t,r){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var s,a,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(t)).next,r!==0)for(;!(c=(s=i.call(n)).done)&&(l.push(s.value),l.length!==r);c=!0);}catch(m){u=!0,a=m}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function Zme(t){if(Array.isArray(t))return t}var Zd=N.forwardRef(function(t,r){var n=t.aspect,s=t.initialDimension,a=s===void 0?{width:-1,height:-1}:s,i=t.width,o=i===void 0?"100%":i,l=t.height,c=l===void 0?"100%":l,u=t.minWidth,m=u===void 0?0:u,p=t.minHeight,x=t.maxHeight,v=t.children,w=t.debounce,y=w===void 0?0:w,j=t.id,S=t.className,C=t.onResize,P=t.style,T=P===void 0?{}:P,_=N.useRef(null),k=N.useRef();k.current=C,N.useImperativeHandle(r,function(){return Object.defineProperty(_.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),_.current},configurable:!0})});var M=N.useState({containerWidth:a.width,containerHeight:a.height}),$=Vme(M,2),B=$[0],F=$[1],H=N.useCallback(function(Z,V){F(function(W){var G=Math.round(Z),O=Math.round(V);return W.containerWidth===G&&W.containerHeight===O?W:{containerWidth:G,containerHeight:O}})},[]);N.useEffect(function(){var Z=function(D){var I,q=D[0].contentRect,J=q.width,ie=q.height;H(J,ie),(I=k.current)===null||I===void 0||I.call(k,J,ie)};y>0&&(Z=HB(Z,y,{trailing:!0,leading:!1}));var V=new ResizeObserver(Z),W=_.current.getBoundingClientRect(),G=W.width,O=W.height;return H(G,O),V.observe(_.current),function(){V.disconnect()}},[H,y]);var K=N.useMemo(function(){var Z=B.containerWidth,V=B.containerHeight;if(Z<0||V<0)return null;Ii(Od(o)||Od(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),Ii(!n||n>0,"The aspect(%s) must be greater than zero.",n);var W=Od(o)?Z:o,G=Od(c)?V:c;n&&n>0&&(W?G=W/n:G&&(W=G*n),x&&G>x&&(G=x)),Ii(W>0||G>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,W,G,o,c,m,p,n);var O=!Array.isArray(v)&&pl(v.type).endsWith("Chart");return ce.Children.map(v,function(R){return ce.isValidElement(R)?N.cloneElement(R,l0({width:W,height:G},O?{style:l0({height:"100%",width:"100%",maxHeight:G,maxWidth:W},R.props.style)}:{})):R})},[n,v,c,x,p,m,B,o]);return ce.createElement("div",{id:j?"".concat(j):void 0,className:Lt("recharts-responsive-container",S),style:l0(l0({},T),{},{width:o,height:c,minWidth:m,minHeight:p,maxHeight:x}),ref:_},K)}),Uy=function(r){return null};Uy.displayName="Cell";function Op(t){"@babel/helpers - typeof";return Op=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Op(t)}function dM(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,s)}return n}function rk(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?dM(Object(n),!0).forEach(function(s){Xme(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dM(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function Xme(t,r,n){return r=Jme(r),r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function Jme(t){var r=Qme(t,"string");return Op(r)=="symbol"?r:r+""}function Qme(t,r){if(Op(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,r);if(Op(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}var fh={widthCache:{},cacheCount:0},efe=2e3,tfe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},uM="recharts_measurement_span";function rfe(t){var r=rk({},t);return Object.keys(r).forEach(function(n){r[n]||delete r[n]}),r}var np=function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(r==null||Lc.isSsr)return{width:0,height:0};var s=rfe(n),a=JSON.stringify({text:r,copyStyle:s});if(fh.widthCache[a])return fh.widthCache[a];try{var i=document.getElementById(uM);i||(i=document.createElement("span"),i.setAttribute("id",uM),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=rk(rk({},tfe),s);Object.assign(i.style,o),i.textContent="".concat(r);var l=i.getBoundingClientRect(),c={width:l.width,height:l.height};return fh.widthCache[a]=c,++fh.cacheCount>efe&&(fh.cacheCount=0,fh.widthCache={}),c}catch{return{width:0,height:0}}},nfe=function(r){return{top:r.top+window.scrollY-document.documentElement.clientTop,left:r.left+window.scrollX-document.documentElement.clientLeft}};function Mp(t){"@babel/helpers - typeof";return Mp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Mp(t)}function nv(t,r){return ofe(t)||ife(t,r)||afe(t,r)||sfe()}function sfe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function afe(t,r){if(t){if(typeof t=="string")return hM(t,r);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hM(t,r)}}function hM(t,r){(r==null||r>t.length)&&(r=t.length);for(var n=0,s=new Array(r);n<r;n++)s[n]=t[n];return s}function ife(t,r){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var s,a,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(t)).next,r===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(s=i.call(n)).done)&&(l.push(s.value),l.length!==r);c=!0);}catch(m){u=!0,a=m}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function ofe(t){if(Array.isArray(t))return t}function lfe(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function mM(t,r){for(var n=0;n<r.length;n++){var s=r[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,dfe(s.key),s)}}function cfe(t,r,n){return r&&mM(t.prototype,r),n&&mM(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function dfe(t){var r=ufe(t,"string");return Mp(r)=="symbol"?r:r+""}function ufe(t,r){if(Mp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,r);if(Mp(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var fM=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,pM=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,hfe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,mfe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,WB={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},ffe=Object.keys(WB),Ch="NaN";function pfe(t,r){return t*WB[r]}var c0=(function(){function t(r,n){lfe(this,t),this.num=r,this.unit=n,this.num=r,this.unit=n,Number.isNaN(r)&&(this.unit=""),n!==""&&!hfe.test(n)&&(this.num=NaN,this.unit=""),ffe.includes(n)&&(this.num=pfe(r,n),this.unit="px")}return cfe(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var s,a=(s=mfe.exec(n))!==null&&s!==void 0?s:[],i=nv(a,3),o=i[1],l=i[2];return new t(parseFloat(o),l??"")}}])})();function qB(t){if(t.includes(Ch))return Ch;for(var r=t;r.includes("*")||r.includes("/");){var n,s=(n=fM.exec(r))!==null&&n!==void 0?n:[],a=nv(s,4),i=a[1],o=a[2],l=a[3],c=c0.parse(i??""),u=c0.parse(l??""),m=o==="*"?c.multiply(u):c.divide(u);if(m.isNaN())return Ch;r=r.replace(fM,m.toString())}for(;r.includes("+")||/.-\d+(?:\.\d+)?/.test(r);){var p,x=(p=pM.exec(r))!==null&&p!==void 0?p:[],v=nv(x,4),w=v[1],y=v[2],j=v[3],S=c0.parse(w??""),C=c0.parse(j??""),P=y==="+"?S.add(C):S.subtract(C);if(P.isNaN())return Ch;r=r.replace(pM,P.toString())}return r}var xM=/\(([^()]*)\)/;function xfe(t){for(var r=t;r.includes("(");){var n=xM.exec(r),s=nv(n,2),a=s[1];r=r.replace(xM,qB(a))}return r}function gfe(t){var r=t.replace(/\s+/g,"");return r=xfe(r),r=qB(r),r}function vfe(t){try{return gfe(t)}catch{return Ch}}function R2(t){var r=vfe(t.slice(5,-1));return r===Ch?"":r}var yfe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],bfe=["dx","dy","angle","className","breakAll"];function nk(){return nk=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},nk.apply(this,arguments)}function gM(t,r){if(t==null)return{};var n=jfe(t,r),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)s=i[a],!(r.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(n[s]=t[s])}return n}function jfe(t,r){if(t==null)return{};var n={};for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(r.indexOf(s)>=0)continue;n[s]=t[s]}return n}function vM(t,r){return _fe(t)||Sfe(t,r)||Nfe(t,r)||wfe()}function wfe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nfe(t,r){if(t){if(typeof t=="string")return yM(t,r);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yM(t,r)}}function yM(t,r){(r==null||r>t.length)&&(r=t.length);for(var n=0,s=new Array(r);n<r;n++)s[n]=t[n];return s}function Sfe(t,r){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var s,a,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(t)).next,r===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(s=i.call(n)).done)&&(l.push(s.value),l.length!==r);c=!0);}catch(m){u=!0,a=m}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function _fe(t){if(Array.isArray(t))return t}var VB=/[ \f\n\r\t\v\u2028\u2029]+/,GB=function(r){var n=r.children,s=r.breakAll,a=r.style;try{var i=[];Mt(n)||(s?i=n.toString().split(""):i=n.toString().split(VB));var o=i.map(function(c){return{word:c,width:np(c,a).width}}),l=s?0:np("",a).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},kfe=function(r,n,s,a,i){var o=r.maxLines,l=r.children,c=r.style,u=r.breakAll,m=Be(o),p=l,x=function(){var W=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return W.reduce(function(G,O){var R=O.word,D=O.width,I=G[G.length-1];if(I&&(a==null||i||I.width+D+s<Number(a)))I.words.push(R),I.width+=D+s;else{var q={words:[R],width:D};G.push(q)}return G},[])},v=x(n),w=function(W){return W.reduce(function(G,O){return G.width>O.width?G:O})};if(!m)return v;for(var y="",j=function(W){var G=p.slice(0,W),O=GB({breakAll:u,style:c,children:G+y}).wordsWithComputedWidth,R=x(O),D=R.length>o||w(R).width>Number(a);return[D,R]},S=0,C=p.length-1,P=0,T;S<=C&&P<=p.length-1;){var _=Math.floor((S+C)/2),k=_-1,M=j(k),$=vM(M,2),B=$[0],F=$[1],H=j(_),K=vM(H,1),Z=K[0];if(!B&&!Z&&(S=_+1),B&&Z&&(C=_-1),!B&&Z){T=F;break}P++}return T||v},bM=function(r){var n=Mt(r)?[]:r.toString().split(VB);return[{words:n}]},Cfe=function(r){var n=r.width,s=r.scaleToFit,a=r.children,i=r.style,o=r.breakAll,l=r.maxLines;if((n||s)&&!Lc.isSsr){var c,u,m=GB({breakAll:o,children:a,style:i});if(m){var p=m.wordsWithComputedWidth,x=m.spaceWidth;c=p,u=x}else return bM(a);return kfe({breakAll:o,children:a,maxLines:l,style:i},c,u,n,s)}return bM(a)},jM="#808080",Xd=function(r){var n=r.x,s=n===void 0?0:n,a=r.y,i=a===void 0?0:a,o=r.lineHeight,l=o===void 0?"1em":o,c=r.capHeight,u=c===void 0?"0.71em":c,m=r.scaleToFit,p=m===void 0?!1:m,x=r.textAnchor,v=x===void 0?"start":x,w=r.verticalAnchor,y=w===void 0?"end":w,j=r.fill,S=j===void 0?jM:j,C=gM(r,yfe),P=N.useMemo(function(){return Cfe({breakAll:C.breakAll,children:C.children,maxLines:C.maxLines,scaleToFit:p,style:C.style,width:C.width})},[C.breakAll,C.children,C.maxLines,p,C.style,C.width]),T=C.dx,_=C.dy,k=C.angle,M=C.className,$=C.breakAll,B=gM(C,bfe);if(!Fn(s)||!Fn(i))return null;var F=s+(Be(T)?T:0),H=i+(Be(_)?_:0),K;switch(y){case"start":K=R2("calc(".concat(u,")"));break;case"middle":K=R2("calc(".concat((P.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:K=R2("calc(".concat(P.length-1," * -").concat(l,")"));break}var Z=[];if(p){var V=P[0].width,W=C.width;Z.push("scale(".concat((Be(W)?W/V:1)/V,")"))}return k&&Z.push("rotate(".concat(k,", ").concat(F,", ").concat(H,")")),Z.length&&(B.transform=Z.join(" ")),ce.createElement("text",nk({},ut(B,!0),{x:F,y:H,className:Lt("recharts-text",M),textAnchor:v,fill:S.includes("url")?jM:S}),P.map(function(G,O){var R=G.words.join($?"":" ");return ce.createElement("tspan",{x:F,dy:O===0?K:l,key:"".concat(R,"-").concat(O)},R)}))};function Cc(t,r){return t==null||r==null?NaN:t<r?-1:t>r?1:t>=r?0:NaN}function Pfe(t,r){return t==null||r==null?NaN:r<t?-1:r>t?1:r>=t?0:NaN}function $4(t){let r,n,s;t.length!==2?(r=Cc,n=(l,c)=>Cc(t(l),c),s=(l,c)=>t(l)-c):(r=t===Cc||t===Pfe?t:Afe,n=t,s=t);function a(l,c,u=0,m=l.length){if(u<m){if(r(c,c)!==0)return m;do{const p=u+m>>>1;n(l[p],c)<0?u=p+1:m=p}while(u<m)}return u}function i(l,c,u=0,m=l.length){if(u<m){if(r(c,c)!==0)return m;do{const p=u+m>>>1;n(l[p],c)<=0?u=p+1:m=p}while(u<m)}return u}function o(l,c,u=0,m=l.length){const p=a(l,c,u,m-1);return p>u&&s(l[p-1],c)>-s(l[p],c)?p-1:p}return{left:a,center:o,right:i}}function Afe(){return 0}function KB(t){return t===null?NaN:+t}function*Efe(t,r){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const Tfe=$4(Cc),Sx=Tfe.right;$4(KB).center;class wM extends Map{constructor(r,n=Dfe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),r!=null)for(const[s,a]of r)this.set(s,a)}get(r){return super.get(NM(this,r))}has(r){return super.has(NM(this,r))}set(r,n){return super.set(Ofe(this,r),n)}delete(r){return super.delete(Mfe(this,r))}}function NM({_intern:t,_key:r},n){const s=r(n);return t.has(s)?t.get(s):n}function Ofe({_intern:t,_key:r},n){const s=r(n);return t.has(s)?t.get(s):(t.set(s,n),n)}function Mfe({_intern:t,_key:r},n){const s=r(n);return t.has(s)&&(n=t.get(s),t.delete(s)),n}function Dfe(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Rfe(t=Cc){if(t===Cc)return YB;if(typeof t!="function")throw new TypeError("compare is not a function");return(r,n)=>{const s=t(r,n);return s||s===0?s:(t(n,n)===0)-(t(r,r)===0)}}function YB(t,r){return(t==null||!(t>=t))-(r==null||!(r>=r))||(t<r?-1:t>r?1:0)}const Ife=Math.sqrt(50),Lfe=Math.sqrt(10),$fe=Math.sqrt(2);function sv(t,r,n){const s=(r-t)/Math.max(0,n),a=Math.floor(Math.log10(s)),i=s/Math.pow(10,a),o=i>=Ife?10:i>=Lfe?5:i>=$fe?2:1;let l,c,u;return a<0?(u=Math.pow(10,-a)/o,l=Math.round(t*u),c=Math.round(r*u),l/u<t&&++l,c/u>r&&--c,u=-u):(u=Math.pow(10,a)*o,l=Math.round(t/u),c=Math.round(r/u),l*u<t&&++l,c*u>r&&--c),c<l&&.5<=n&&n<2?sv(t,r,n*2):[l,c,u]}function sk(t,r,n){if(r=+r,t=+t,n=+n,!(n>0))return[];if(t===r)return[t];const s=r<t,[a,i,o]=s?sv(r,t,n):sv(t,r,n);if(!(i>=a))return[];const l=i-a+1,c=new Array(l);if(s)if(o<0)for(let u=0;u<l;++u)c[u]=(i-u)/-o;else for(let u=0;u<l;++u)c[u]=(i-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(a+u)/-o;else for(let u=0;u<l;++u)c[u]=(a+u)*o;return c}function ak(t,r,n){return r=+r,t=+t,n=+n,sv(t,r,n)[2]}function ik(t,r,n){r=+r,t=+t,n=+n;const s=r<t,a=s?ak(r,t,n):ak(t,r,n);return(s?-1:1)*(a<0?1/-a:a)}function SM(t,r){let n;for(const s of t)s!=null&&(n<s||n===void 0&&s>=s)&&(n=s);return n}function _M(t,r){let n;for(const s of t)s!=null&&(n>s||n===void 0&&s>=s)&&(n=s);return n}function ZB(t,r,n=0,s=1/0,a){if(r=Math.floor(r),n=Math.floor(Math.max(0,n)),s=Math.floor(Math.min(t.length-1,s)),!(n<=r&&r<=s))return t;for(a=a===void 0?YB:Rfe(a);s>n;){if(s-n>600){const c=s-n+1,u=r-n+1,m=Math.log(c),p=.5*Math.exp(2*m/3),x=.5*Math.sqrt(m*p*(c-p)/c)*(u-c/2<0?-1:1),v=Math.max(n,Math.floor(r-u*p/c+x)),w=Math.min(s,Math.floor(r+(c-u)*p/c+x));ZB(t,r,v,w,a)}const i=t[r];let o=n,l=s;for(Tf(t,n,r),a(t[s],i)>0&&Tf(t,n,s);o<l;){for(Tf(t,o,l),++o,--l;a(t[o],i)<0;)++o;for(;a(t[l],i)>0;)--l}a(t[n],i)===0?Tf(t,n,l):(++l,Tf(t,l,s)),l<=r&&(n=l+1),r<=l&&(s=l-1)}return t}function Tf(t,r,n){const s=t[r];t[r]=t[n],t[n]=s}function Bfe(t,r,n){if(t=Float64Array.from(Efe(t)),!(!(s=t.length)||isNaN(r=+r))){if(r<=0||s<2)return _M(t);if(r>=1)return SM(t);var s,a=(s-1)*r,i=Math.floor(a),o=SM(ZB(t,i).subarray(0,i+1)),l=_M(t.subarray(i+1));return o+(l-o)*(a-i)}}function Ffe(t,r,n=KB){if(!(!(s=t.length)||isNaN(r=+r))){if(r<=0||s<2)return+n(t[0],0,t);if(r>=1)return+n(t[s-1],s-1,t);var s,a=(s-1)*r,i=Math.floor(a),o=+n(t[i],i,t),l=+n(t[i+1],i+1,t);return o+(l-o)*(a-i)}}function zfe(t,r,n){t=+t,r=+r,n=(a=arguments.length)<2?(r=t,t=0,1):a<3?1:+n;for(var s=-1,a=Math.max(0,Math.ceil((r-t)/n))|0,i=new Array(a);++s<a;)i[s]=t+s*n;return i}function ui(t,r){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(r).domain(t);break}return this}function El(t,r){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof r=="function"?this.interpolator(r):this.range(r);break}}return this}const ok=Symbol("implicit");function B4(){var t=new wM,r=[],n=[],s=ok;function a(i){let o=t.get(i);if(o===void 0){if(s!==ok)return s;t.set(i,o=r.push(i)-1)}return n[o%n.length]}return a.domain=function(i){if(!arguments.length)return r.slice();r=[],t=new wM;for(const o of i)t.has(o)||t.set(o,r.push(o)-1);return a},a.range=function(i){return arguments.length?(n=Array.from(i),a):n.slice()},a.unknown=function(i){return arguments.length?(s=i,a):s},a.copy=function(){return B4(r,n).unknown(s)},ui.apply(a,arguments),a}function Dp(){var t=B4().unknown(void 0),r=t.domain,n=t.range,s=0,a=1,i,o,l=!1,c=0,u=0,m=.5;delete t.unknown;function p(){var x=r().length,v=a<s,w=v?a:s,y=v?s:a;i=(y-w)/Math.max(1,x-c+u*2),l&&(i=Math.floor(i)),w+=(y-w-i*(x-c))*m,o=i*(1-c),l&&(w=Math.round(w),o=Math.round(o));var j=zfe(x).map(function(S){return w+i*S});return n(v?j.reverse():j)}return t.domain=function(x){return arguments.length?(r(x),p()):r()},t.range=function(x){return arguments.length?([s,a]=x,s=+s,a=+a,p()):[s,a]},t.rangeRound=function(x){return[s,a]=x,s=+s,a=+a,l=!0,p()},t.bandwidth=function(){return o},t.step=function(){return i},t.round=function(x){return arguments.length?(l=!!x,p()):l},t.padding=function(x){return arguments.length?(c=Math.min(1,u=+x),p()):c},t.paddingInner=function(x){return arguments.length?(c=Math.min(1,x),p()):c},t.paddingOuter=function(x){return arguments.length?(u=+x,p()):u},t.align=function(x){return arguments.length?(m=Math.max(0,Math.min(1,x)),p()):m},t.copy=function(){return Dp(r(),[s,a]).round(l).paddingInner(c).paddingOuter(u).align(m)},ui.apply(p(),arguments)}function XB(t){var r=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return XB(r())},t}function sp(){return XB(Dp.apply(null,arguments).paddingInner(1))}function F4(t,r,n){t.prototype=r.prototype=n,n.constructor=t}function JB(t,r){var n=Object.create(t.prototype);for(var s in r)n[s]=r[s];return n}function _x(){}var Rp=.7,av=1/Rp,Lh="\\s*([+-]?\\d+)\\s*",Ip="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",yo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Ufe=/^#([0-9a-f]{3,8})$/,Hfe=new RegExp(`^rgb\\(${Lh},${Lh},${Lh}\\)$`),Wfe=new RegExp(`^rgb\\(${yo},${yo},${yo}\\)$`),qfe=new RegExp(`^rgba\\(${Lh},${Lh},${Lh},${Ip}\\)$`),Vfe=new RegExp(`^rgba\\(${yo},${yo},${yo},${Ip}\\)$`),Gfe=new RegExp(`^hsl\\(${Ip},${yo},${yo}\\)$`),Kfe=new RegExp(`^hsla\\(${Ip},${yo},${yo},${Ip}\\)$`),kM={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};F4(_x,Lp,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:CM,formatHex:CM,formatHex8:Yfe,formatHsl:Zfe,formatRgb:PM,toString:PM});function CM(){return this.rgb().formatHex()}function Yfe(){return this.rgb().formatHex8()}function Zfe(){return QB(this).formatHsl()}function PM(){return this.rgb().formatRgb()}function Lp(t){var r,n;return t=(t+"").trim().toLowerCase(),(r=Ufe.exec(t))?(n=r[1].length,r=parseInt(r[1],16),n===6?AM(r):n===3?new Ys(r>>8&15|r>>4&240,r>>4&15|r&240,(r&15)<<4|r&15,1):n===8?d0(r>>24&255,r>>16&255,r>>8&255,(r&255)/255):n===4?d0(r>>12&15|r>>8&240,r>>8&15|r>>4&240,r>>4&15|r&240,((r&15)<<4|r&15)/255):null):(r=Hfe.exec(t))?new Ys(r[1],r[2],r[3],1):(r=Wfe.exec(t))?new Ys(r[1]*255/100,r[2]*255/100,r[3]*255/100,1):(r=qfe.exec(t))?d0(r[1],r[2],r[3],r[4]):(r=Vfe.exec(t))?d0(r[1]*255/100,r[2]*255/100,r[3]*255/100,r[4]):(r=Gfe.exec(t))?OM(r[1],r[2]/100,r[3]/100,1):(r=Kfe.exec(t))?OM(r[1],r[2]/100,r[3]/100,r[4]):kM.hasOwnProperty(t)?AM(kM[t]):t==="transparent"?new Ys(NaN,NaN,NaN,0):null}function AM(t){return new Ys(t>>16&255,t>>8&255,t&255,1)}function d0(t,r,n,s){return s<=0&&(t=r=n=NaN),new Ys(t,r,n,s)}function Xfe(t){return t instanceof _x||(t=Lp(t)),t?(t=t.rgb(),new Ys(t.r,t.g,t.b,t.opacity)):new Ys}function lk(t,r,n,s){return arguments.length===1?Xfe(t):new Ys(t,r,n,s??1)}function Ys(t,r,n,s){this.r=+t,this.g=+r,this.b=+n,this.opacity=+s}F4(Ys,lk,JB(_x,{brighter(t){return t=t==null?av:Math.pow(av,t),new Ys(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Rp:Math.pow(Rp,t),new Ys(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Ys(Fd(this.r),Fd(this.g),Fd(this.b),iv(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:EM,formatHex:EM,formatHex8:Jfe,formatRgb:TM,toString:TM}));function EM(){return`#${Md(this.r)}${Md(this.g)}${Md(this.b)}`}function Jfe(){return`#${Md(this.r)}${Md(this.g)}${Md(this.b)}${Md((isNaN(this.opacity)?1:this.opacity)*255)}`}function TM(){const t=iv(this.opacity);return`${t===1?"rgb(":"rgba("}${Fd(this.r)}, ${Fd(this.g)}, ${Fd(this.b)}${t===1?")":`, ${t})`}`}function iv(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Fd(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Md(t){return t=Fd(t),(t<16?"0":"")+t.toString(16)}function OM(t,r,n,s){return s<=0?t=r=n=NaN:n<=0||n>=1?t=r=NaN:r<=0&&(t=NaN),new Oi(t,r,n,s)}function QB(t){if(t instanceof Oi)return new Oi(t.h,t.s,t.l,t.opacity);if(t instanceof _x||(t=Lp(t)),!t)return new Oi;if(t instanceof Oi)return t;t=t.rgb();var r=t.r/255,n=t.g/255,s=t.b/255,a=Math.min(r,n,s),i=Math.max(r,n,s),o=NaN,l=i-a,c=(i+a)/2;return l?(r===i?o=(n-s)/l+(n<s)*6:n===i?o=(s-r)/l+2:o=(r-n)/l+4,l/=c<.5?i+a:2-i-a,o*=60):l=c>0&&c<1?0:o,new Oi(o,l,c,t.opacity)}function Qfe(t,r,n,s){return arguments.length===1?QB(t):new Oi(t,r,n,s??1)}function Oi(t,r,n,s){this.h=+t,this.s=+r,this.l=+n,this.opacity=+s}F4(Oi,Qfe,JB(_x,{brighter(t){return t=t==null?av:Math.pow(av,t),new Oi(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Rp:Math.pow(Rp,t),new Oi(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,r=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,s=n+(n<.5?n:1-n)*r,a=2*n-s;return new Ys(I2(t>=240?t-240:t+120,a,s),I2(t,a,s),I2(t<120?t+240:t-120,a,s),this.opacity)},clamp(){return new Oi(MM(this.h),u0(this.s),u0(this.l),iv(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=iv(this.opacity);return`${t===1?"hsl(":"hsla("}${MM(this.h)}, ${u0(this.s)*100}%, ${u0(this.l)*100}%${t===1?")":`, ${t})`}`}}));function MM(t){return t=(t||0)%360,t<0?t+360:t}function u0(t){return Math.max(0,Math.min(1,t||0))}function I2(t,r,n){return(t<60?r+(n-r)*t/60:t<180?n:t<240?r+(n-r)*(240-t)/60:r)*255}const z4=t=>()=>t;function epe(t,r){return function(n){return t+n*r}}function tpe(t,r,n){return t=Math.pow(t,n),r=Math.pow(r,n)-t,n=1/n,function(s){return Math.pow(t+s*r,n)}}function rpe(t){return(t=+t)==1?eF:function(r,n){return n-r?tpe(r,n,t):z4(isNaN(r)?n:r)}}function eF(t,r){var n=r-t;return n?epe(t,n):z4(isNaN(t)?r:t)}const DM=(function t(r){var n=rpe(r);function s(a,i){var o=n((a=lk(a)).r,(i=lk(i)).r),l=n(a.g,i.g),c=n(a.b,i.b),u=eF(a.opacity,i.opacity);return function(m){return a.r=o(m),a.g=l(m),a.b=c(m),a.opacity=u(m),a+""}}return s.gamma=t,s})(1);function npe(t,r){r||(r=[]);var n=t?Math.min(r.length,t.length):0,s=r.slice(),a;return function(i){for(a=0;a<n;++a)s[a]=t[a]*(1-i)+r[a]*i;return s}}function spe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function ape(t,r){var n=r?r.length:0,s=t?Math.min(n,t.length):0,a=new Array(s),i=new Array(n),o;for(o=0;o<s;++o)a[o]=Rm(t[o],r[o]);for(;o<n;++o)i[o]=r[o];return function(l){for(o=0;o<s;++o)i[o]=a[o](l);return i}}function ipe(t,r){var n=new Date;return t=+t,r=+r,function(s){return n.setTime(t*(1-s)+r*s),n}}function ov(t,r){return t=+t,r=+r,function(n){return t*(1-n)+r*n}}function ope(t,r){var n={},s={},a;(t===null||typeof t!="object")&&(t={}),(r===null||typeof r!="object")&&(r={});for(a in r)a in t?n[a]=Rm(t[a],r[a]):s[a]=r[a];return function(i){for(a in n)s[a]=n[a](i);return s}}var ck=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,L2=new RegExp(ck.source,"g");function lpe(t){return function(){return t}}function cpe(t){return function(r){return t(r)+""}}function dpe(t,r){var n=ck.lastIndex=L2.lastIndex=0,s,a,i,o=-1,l=[],c=[];for(t=t+"",r=r+"";(s=ck.exec(t))&&(a=L2.exec(r));)(i=a.index)>n&&(i=r.slice(n,i),l[o]?l[o]+=i:l[++o]=i),(s=s[0])===(a=a[0])?l[o]?l[o]+=a:l[++o]=a:(l[++o]=null,c.push({i:o,x:ov(s,a)})),n=L2.lastIndex;return n<r.length&&(i=r.slice(n),l[o]?l[o]+=i:l[++o]=i),l.length<2?c[0]?cpe(c[0].x):lpe(r):(r=c.length,function(u){for(var m=0,p;m<r;++m)l[(p=c[m]).i]=p.x(u);return l.join("")})}function Rm(t,r){var n=typeof r,s;return r==null||n==="boolean"?z4(r):(n==="number"?ov:n==="string"?(s=Lp(r))?(r=s,DM):dpe:r instanceof Lp?DM:r instanceof Date?ipe:spe(r)?npe:Array.isArray(r)?ape:typeof r.valueOf!="function"&&typeof r.toString!="function"||isNaN(r)?ope:ov)(t,r)}function U4(t,r){return t=+t,r=+r,function(n){return Math.round(t*(1-n)+r*n)}}function upe(t,r){r===void 0&&(r=t,t=Rm);for(var n=0,s=r.length-1,a=r[0],i=new Array(s<0?0:s);n<s;)i[n]=t(a,a=r[++n]);return function(o){var l=Math.max(0,Math.min(s-1,Math.floor(o*=s)));return i[l](o-l)}}function hpe(t){return function(){return t}}function lv(t){return+t}var RM=[0,1];function Rs(t){return t}function dk(t,r){return(r-=t=+t)?function(n){return(n-t)/r}:hpe(isNaN(r)?NaN:.5)}function mpe(t,r){var n;return t>r&&(n=t,t=r,r=n),function(s){return Math.max(t,Math.min(r,s))}}function fpe(t,r,n){var s=t[0],a=t[1],i=r[0],o=r[1];return a<s?(s=dk(a,s),i=n(o,i)):(s=dk(s,a),i=n(i,o)),function(l){return i(s(l))}}function ppe(t,r,n){var s=Math.min(t.length,r.length)-1,a=new Array(s),i=new Array(s),o=-1;for(t[s]<t[0]&&(t=t.slice().reverse(),r=r.slice().reverse());++o<s;)a[o]=dk(t[o],t[o+1]),i[o]=n(r[o],r[o+1]);return function(l){var c=Sx(t,l,1,s)-1;return i[c](a[c](l))}}function kx(t,r){return r.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Hy(){var t=RM,r=RM,n=Rm,s,a,i,o=Rs,l,c,u;function m(){var x=Math.min(t.length,r.length);return o!==Rs&&(o=mpe(t[0],t[x-1])),l=x>2?ppe:fpe,c=u=null,p}function p(x){return x==null||isNaN(x=+x)?i:(c||(c=l(t.map(s),r,n)))(s(o(x)))}return p.invert=function(x){return o(a((u||(u=l(r,t.map(s),ov)))(x)))},p.domain=function(x){return arguments.length?(t=Array.from(x,lv),m()):t.slice()},p.range=function(x){return arguments.length?(r=Array.from(x),m()):r.slice()},p.rangeRound=function(x){return r=Array.from(x),n=U4,m()},p.clamp=function(x){return arguments.length?(o=x?!0:Rs,m()):o!==Rs},p.interpolate=function(x){return arguments.length?(n=x,m()):n},p.unknown=function(x){return arguments.length?(i=x,p):i},function(x,v){return s=x,a=v,m()}}function H4(){return Hy()(Rs,Rs)}function xpe(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function cv(t,r){if((n=(t=r?t.toExponential(r-1):t.toExponential()).indexOf("e"))<0)return null;var n,s=t.slice(0,n);return[s.length>1?s[0]+s.slice(2):s,+t.slice(n+1)]}function Zh(t){return t=cv(Math.abs(t)),t?t[1]:NaN}function gpe(t,r){return function(n,s){for(var a=n.length,i=[],o=0,l=t[0],c=0;a>0&&l>0&&(c+l+1>s&&(l=Math.max(1,s-c)),i.push(n.substring(a-=l,a+l)),!((c+=l+1)>s));)l=t[o=(o+1)%t.length];return i.reverse().join(r)}}function vpe(t){return function(r){return r.replace(/[0-9]/g,function(n){return t[+n]})}}var ype=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function $p(t){if(!(r=ype.exec(t)))throw new Error("invalid format: "+t);var r;return new W4({fill:r[1],align:r[2],sign:r[3],symbol:r[4],zero:r[5],width:r[6],comma:r[7],precision:r[8]&&r[8].slice(1),trim:r[9],type:r[10]})}$p.prototype=W4.prototype;function W4(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}W4.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function bpe(t){e:for(var r=t.length,n=1,s=-1,a;n<r;++n)switch(t[n]){case".":s=a=n;break;case"0":s===0&&(s=n),a=n;break;default:if(!+t[n])break e;s>0&&(s=0);break}return s>0?t.slice(0,s)+t.slice(a+1):t}var tF;function jpe(t,r){var n=cv(t,r);if(!n)return t+"";var s=n[0],a=n[1],i=a-(tF=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=s.length;return i===o?s:i>o?s+new Array(i-o+1).join("0"):i>0?s.slice(0,i)+"."+s.slice(i):"0."+new Array(1-i).join("0")+cv(t,Math.max(0,r+i-1))[0]}function IM(t,r){var n=cv(t,r);if(!n)return t+"";var s=n[0],a=n[1];return a<0?"0."+new Array(-a).join("0")+s:s.length>a+1?s.slice(0,a+1)+"."+s.slice(a+1):s+new Array(a-s.length+2).join("0")}const LM={"%":(t,r)=>(t*100).toFixed(r),b:t=>Math.round(t).toString(2),c:t=>t+"",d:xpe,e:(t,r)=>t.toExponential(r),f:(t,r)=>t.toFixed(r),g:(t,r)=>t.toPrecision(r),o:t=>Math.round(t).toString(8),p:(t,r)=>IM(t*100,r),r:IM,s:jpe,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function $M(t){return t}var BM=Array.prototype.map,FM=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function wpe(t){var r=t.grouping===void 0||t.thousands===void 0?$M:gpe(BM.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",s=t.currency===void 0?"":t.currency[1]+"",a=t.decimal===void 0?".":t.decimal+"",i=t.numerals===void 0?$M:vpe(BM.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function u(p){p=$p(p);var x=p.fill,v=p.align,w=p.sign,y=p.symbol,j=p.zero,S=p.width,C=p.comma,P=p.precision,T=p.trim,_=p.type;_==="n"?(C=!0,_="g"):LM[_]||(P===void 0&&(P=12),T=!0,_="g"),(j||x==="0"&&v==="=")&&(j=!0,x="0",v="=");var k=y==="$"?n:y==="#"&&/[boxX]/.test(_)?"0"+_.toLowerCase():"",M=y==="$"?s:/[%p]/.test(_)?o:"",$=LM[_],B=/[defgprs%]/.test(_);P=P===void 0?6:/[gprs]/.test(_)?Math.max(1,Math.min(21,P)):Math.max(0,Math.min(20,P));function F(H){var K=k,Z=M,V,W,G;if(_==="c")Z=$(H)+Z,H="";else{H=+H;var O=H<0||1/H<0;if(H=isNaN(H)?c:$(Math.abs(H),P),T&&(H=bpe(H)),O&&+H==0&&w!=="+"&&(O=!1),K=(O?w==="("?w:l:w==="-"||w==="("?"":w)+K,Z=(_==="s"?FM[8+tF/3]:"")+Z+(O&&w==="("?")":""),B){for(V=-1,W=H.length;++V<W;)if(G=H.charCodeAt(V),48>G||G>57){Z=(G===46?a+H.slice(V+1):H.slice(V))+Z,H=H.slice(0,V);break}}}C&&!j&&(H=r(H,1/0));var R=K.length+H.length+Z.length,D=R<S?new Array(S-R+1).join(x):"";switch(C&&j&&(H=r(D+H,D.length?S-Z.length:1/0),D=""),v){case"<":H=K+H+Z+D;break;case"=":H=K+D+H+Z;break;case"^":H=D.slice(0,R=D.length>>1)+K+H+Z+D.slice(R);break;default:H=D+K+H+Z;break}return i(H)}return F.toString=function(){return p+""},F}function m(p,x){var v=u((p=$p(p),p.type="f",p)),w=Math.max(-8,Math.min(8,Math.floor(Zh(x)/3)))*3,y=Math.pow(10,-w),j=FM[8+w/3];return function(S){return v(y*S)+j}}return{format:u,formatPrefix:m}}var h0,q4,rF;Npe({thousands:",",grouping:[3],currency:["$",""]});function Npe(t){return h0=wpe(t),q4=h0.format,rF=h0.formatPrefix,h0}function Spe(t){return Math.max(0,-Zh(Math.abs(t)))}function _pe(t,r){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Zh(r)/3)))*3-Zh(Math.abs(t)))}function kpe(t,r){return t=Math.abs(t),r=Math.abs(r)-t,Math.max(0,Zh(r)-Zh(t))+1}function nF(t,r,n,s){var a=ik(t,r,n),i;switch(s=$p(s??",f"),s.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(r));return s.precision==null&&!isNaN(i=_pe(a,o))&&(s.precision=i),rF(s,o)}case"":case"e":case"g":case"p":case"r":{s.precision==null&&!isNaN(i=kpe(a,Math.max(Math.abs(t),Math.abs(r))))&&(s.precision=i-(s.type==="e"));break}case"f":case"%":{s.precision==null&&!isNaN(i=Spe(a))&&(s.precision=i-(s.type==="%")*2);break}}return q4(s)}function $c(t){var r=t.domain;return t.ticks=function(n){var s=r();return sk(s[0],s[s.length-1],n??10)},t.tickFormat=function(n,s){var a=r();return nF(a[0],a[a.length-1],n??10,s)},t.nice=function(n){n==null&&(n=10);var s=r(),a=0,i=s.length-1,o=s[a],l=s[i],c,u,m=10;for(l<o&&(u=o,o=l,l=u,u=a,a=i,i=u);m-- >0;){if(u=ak(o,l,n),u===c)return s[a]=o,s[i]=l,r(s);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return t},t}function dv(){var t=H4();return t.copy=function(){return kx(t,dv())},ui.apply(t,arguments),$c(t)}function sF(t){var r;function n(s){return s==null||isNaN(s=+s)?r:s}return n.invert=n,n.domain=n.range=function(s){return arguments.length?(t=Array.from(s,lv),n):t.slice()},n.unknown=function(s){return arguments.length?(r=s,n):r},n.copy=function(){return sF(t).unknown(r)},t=arguments.length?Array.from(t,lv):[0,1],$c(n)}function aF(t,r){t=t.slice();var n=0,s=t.length-1,a=t[n],i=t[s],o;return i<a&&(o=n,n=s,s=o,o=a,a=i,i=o),t[n]=r.floor(a),t[s]=r.ceil(i),t}function zM(t){return Math.log(t)}function UM(t){return Math.exp(t)}function Cpe(t){return-Math.log(-t)}function Ppe(t){return-Math.exp(-t)}function Ape(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Epe(t){return t===10?Ape:t===Math.E?Math.exp:r=>Math.pow(t,r)}function Tpe(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),r=>Math.log(r)/t)}function HM(t){return(r,n)=>-t(-r,n)}function V4(t){const r=t(zM,UM),n=r.domain;let s=10,a,i;function o(){return a=Tpe(s),i=Epe(s),n()[0]<0?(a=HM(a),i=HM(i),t(Cpe,Ppe)):t(zM,UM),r}return r.base=function(l){return arguments.length?(s=+l,o()):s},r.domain=function(l){return arguments.length?(n(l),o()):n()},r.ticks=l=>{const c=n();let u=c[0],m=c[c.length-1];const p=m<u;p&&([u,m]=[m,u]);let x=a(u),v=a(m),w,y;const j=l==null?10:+l;let S=[];if(!(s%1)&&v-x<j){if(x=Math.floor(x),v=Math.ceil(v),u>0){for(;x<=v;++x)for(w=1;w<s;++w)if(y=x<0?w/i(-x):w*i(x),!(y<u)){if(y>m)break;S.push(y)}}else for(;x<=v;++x)for(w=s-1;w>=1;--w)if(y=x>0?w/i(-x):w*i(x),!(y<u)){if(y>m)break;S.push(y)}S.length*2<j&&(S=sk(u,m,j))}else S=sk(x,v,Math.min(v-x,j)).map(i);return p?S.reverse():S},r.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=s===10?"s":","),typeof c!="function"&&(!(s%1)&&(c=$p(c)).precision==null&&(c.trim=!0),c=q4(c)),l===1/0)return c;const u=Math.max(1,s*l/r.ticks().length);return m=>{let p=m/i(Math.round(a(m)));return p*s<s-.5&&(p*=s),p<=u?c(m):""}},r.nice=()=>n(aF(n(),{floor:l=>i(Math.floor(a(l))),ceil:l=>i(Math.ceil(a(l)))})),r}function iF(){const t=V4(Hy()).domain([1,10]);return t.copy=()=>kx(t,iF()).base(t.base()),ui.apply(t,arguments),t}function WM(t){return function(r){return Math.sign(r)*Math.log1p(Math.abs(r/t))}}function qM(t){return function(r){return Math.sign(r)*Math.expm1(Math.abs(r))*t}}function G4(t){var r=1,n=t(WM(r),qM(r));return n.constant=function(s){return arguments.length?t(WM(r=+s),qM(r)):r},$c(n)}function oF(){var t=G4(Hy());return t.copy=function(){return kx(t,oF()).constant(t.constant())},ui.apply(t,arguments)}function VM(t){return function(r){return r<0?-Math.pow(-r,t):Math.pow(r,t)}}function Ope(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Mpe(t){return t<0?-t*t:t*t}function K4(t){var r=t(Rs,Rs),n=1;function s(){return n===1?t(Rs,Rs):n===.5?t(Ope,Mpe):t(VM(n),VM(1/n))}return r.exponent=function(a){return arguments.length?(n=+a,s()):n},$c(r)}function Y4(){var t=K4(Hy());return t.copy=function(){return kx(t,Y4()).exponent(t.exponent())},ui.apply(t,arguments),t}function Dpe(){return Y4.apply(null,arguments).exponent(.5)}function GM(t){return Math.sign(t)*t*t}function Rpe(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function lF(){var t=H4(),r=[0,1],n=!1,s;function a(i){var o=Rpe(t(i));return isNaN(o)?s:n?Math.round(o):o}return a.invert=function(i){return t.invert(GM(i))},a.domain=function(i){return arguments.length?(t.domain(i),a):t.domain()},a.range=function(i){return arguments.length?(t.range((r=Array.from(i,lv)).map(GM)),a):r.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(n=!!i,a):n},a.clamp=function(i){return arguments.length?(t.clamp(i),a):t.clamp()},a.unknown=function(i){return arguments.length?(s=i,a):s},a.copy=function(){return lF(t.domain(),r).round(n).clamp(t.clamp()).unknown(s)},ui.apply(a,arguments),$c(a)}function cF(){var t=[],r=[],n=[],s;function a(){var o=0,l=Math.max(1,r.length);for(n=new Array(l-1);++o<l;)n[o-1]=Ffe(t,o/l);return i}function i(o){return o==null||isNaN(o=+o)?s:r[Sx(n,o)]}return i.invertExtent=function(o){var l=r.indexOf(o);return l<0?[NaN,NaN]:[l>0?n[l-1]:t[0],l<n.length?n[l]:t[t.length-1]]},i.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let l of o)l!=null&&!isNaN(l=+l)&&t.push(l);return t.sort(Cc),a()},i.range=function(o){return arguments.length?(r=Array.from(o),a()):r.slice()},i.unknown=function(o){return arguments.length?(s=o,i):s},i.quantiles=function(){return n.slice()},i.copy=function(){return cF().domain(t).range(r).unknown(s)},ui.apply(i,arguments)}function dF(){var t=0,r=1,n=1,s=[.5],a=[0,1],i;function o(c){return c!=null&&c<=c?a[Sx(s,c,0,n)]:i}function l(){var c=-1;for(s=new Array(n);++c<n;)s[c]=((c+1)*r-(c-n)*t)/(n+1);return o}return o.domain=function(c){return arguments.length?([t,r]=c,t=+t,r=+r,l()):[t,r]},o.range=function(c){return arguments.length?(n=(a=Array.from(c)).length-1,l()):a.slice()},o.invertExtent=function(c){var u=a.indexOf(c);return u<0?[NaN,NaN]:u<1?[t,s[0]]:u>=n?[s[n-1],r]:[s[u-1],s[u]]},o.unknown=function(c){return arguments.length&&(i=c),o},o.thresholds=function(){return s.slice()},o.copy=function(){return dF().domain([t,r]).range(a).unknown(i)},ui.apply($c(o),arguments)}function uF(){var t=[.5],r=[0,1],n,s=1;function a(i){return i!=null&&i<=i?r[Sx(t,i,0,s)]:n}return a.domain=function(i){return arguments.length?(t=Array.from(i),s=Math.min(t.length,r.length-1),a):t.slice()},a.range=function(i){return arguments.length?(r=Array.from(i),s=Math.min(t.length,r.length-1),a):r.slice()},a.invertExtent=function(i){var o=r.indexOf(i);return[t[o-1],t[o]]},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return uF().domain(t).range(r).unknown(n)},ui.apply(a,arguments)}const $2=new Date,B2=new Date;function Un(t,r,n,s){function a(i){return t(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(t(i=new Date(+i)),i),a.ceil=i=>(t(i=new Date(i-1)),r(i,1),t(i),i),a.round=i=>{const o=a(i),l=a.ceil(i);return i-o<l-i?o:l},a.offset=(i,o)=>(r(i=new Date(+i),o==null?1:Math.floor(o)),i),a.range=(i,o,l)=>{const c=[];if(i=a.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return c;let u;do c.push(u=new Date(+i)),r(i,l),t(i);while(u<i&&i<o);return c},a.filter=i=>Un(o=>{if(o>=o)for(;t(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;r(o,-1),!i(o););else for(;--l>=0;)for(;r(o,1),!i(o););}),n&&(a.count=(i,o)=>($2.setTime(+i),B2.setTime(+o),t($2),t(B2),Math.floor(n($2,B2))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(s?o=>s(o)%i===0:o=>a.count(0,o)%i===0):a)),a}const uv=Un(()=>{},(t,r)=>{t.setTime(+t+r)},(t,r)=>r-t);uv.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Un(r=>{r.setTime(Math.floor(r/t)*t)},(r,n)=>{r.setTime(+r+n*t)},(r,n)=>(n-r)/t):uv);uv.range;const ol=1e3,li=ol*60,ll=li*60,Nl=ll*24,Z4=Nl*7,KM=Nl*30,F2=Nl*365,Dd=Un(t=>{t.setTime(t-t.getMilliseconds())},(t,r)=>{t.setTime(+t+r*ol)},(t,r)=>(r-t)/ol,t=>t.getUTCSeconds());Dd.range;const X4=Un(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*ol)},(t,r)=>{t.setTime(+t+r*li)},(t,r)=>(r-t)/li,t=>t.getMinutes());X4.range;const J4=Un(t=>{t.setUTCSeconds(0,0)},(t,r)=>{t.setTime(+t+r*li)},(t,r)=>(r-t)/li,t=>t.getUTCMinutes());J4.range;const Q4=Un(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*ol-t.getMinutes()*li)},(t,r)=>{t.setTime(+t+r*ll)},(t,r)=>(r-t)/ll,t=>t.getHours());Q4.range;const e6=Un(t=>{t.setUTCMinutes(0,0,0)},(t,r)=>{t.setTime(+t+r*ll)},(t,r)=>(r-t)/ll,t=>t.getUTCHours());e6.range;const Cx=Un(t=>t.setHours(0,0,0,0),(t,r)=>t.setDate(t.getDate()+r),(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*li)/Nl,t=>t.getDate()-1);Cx.range;const Wy=Un(t=>{t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r)},(t,r)=>(r-t)/Nl,t=>t.getUTCDate()-1);Wy.range;const hF=Un(t=>{t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r)},(t,r)=>(r-t)/Nl,t=>Math.floor(t/Nl));hF.range;function uu(t){return Un(r=>{r.setDate(r.getDate()-(r.getDay()+7-t)%7),r.setHours(0,0,0,0)},(r,n)=>{r.setDate(r.getDate()+n*7)},(r,n)=>(n-r-(n.getTimezoneOffset()-r.getTimezoneOffset())*li)/Z4)}const qy=uu(0),hv=uu(1),Ipe=uu(2),Lpe=uu(3),Xh=uu(4),$pe=uu(5),Bpe=uu(6);qy.range;hv.range;Ipe.range;Lpe.range;Xh.range;$pe.range;Bpe.range;function hu(t){return Un(r=>{r.setUTCDate(r.getUTCDate()-(r.getUTCDay()+7-t)%7),r.setUTCHours(0,0,0,0)},(r,n)=>{r.setUTCDate(r.getUTCDate()+n*7)},(r,n)=>(n-r)/Z4)}const Vy=hu(0),mv=hu(1),Fpe=hu(2),zpe=hu(3),Jh=hu(4),Upe=hu(5),Hpe=hu(6);Vy.range;mv.range;Fpe.range;zpe.range;Jh.range;Upe.range;Hpe.range;const t6=Un(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,r)=>{t.setMonth(t.getMonth()+r)},(t,r)=>r.getMonth()-t.getMonth()+(r.getFullYear()-t.getFullYear())*12,t=>t.getMonth());t6.range;const r6=Un(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCMonth(t.getUTCMonth()+r)},(t,r)=>r.getUTCMonth()-t.getUTCMonth()+(r.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());r6.range;const Sl=Un(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r)},(t,r)=>r.getFullYear()-t.getFullYear(),t=>t.getFullYear());Sl.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Un(r=>{r.setFullYear(Math.floor(r.getFullYear()/t)*t),r.setMonth(0,1),r.setHours(0,0,0,0)},(r,n)=>{r.setFullYear(r.getFullYear()+n*t)});Sl.range;const _l=Un(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r)},(t,r)=>r.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());_l.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Un(r=>{r.setUTCFullYear(Math.floor(r.getUTCFullYear()/t)*t),r.setUTCMonth(0,1),r.setUTCHours(0,0,0,0)},(r,n)=>{r.setUTCFullYear(r.getUTCFullYear()+n*t)});_l.range;function mF(t,r,n,s,a,i){const o=[[Dd,1,ol],[Dd,5,5*ol],[Dd,15,15*ol],[Dd,30,30*ol],[i,1,li],[i,5,5*li],[i,15,15*li],[i,30,30*li],[a,1,ll],[a,3,3*ll],[a,6,6*ll],[a,12,12*ll],[s,1,Nl],[s,2,2*Nl],[n,1,Z4],[r,1,KM],[r,3,3*KM],[t,1,F2]];function l(u,m,p){const x=m<u;x&&([u,m]=[m,u]);const v=p&&typeof p.range=="function"?p:c(u,m,p),w=v?v.range(u,+m+1):[];return x?w.reverse():w}function c(u,m,p){const x=Math.abs(m-u)/p,v=$4(([,,j])=>j).right(o,x);if(v===o.length)return t.every(ik(u/F2,m/F2,p));if(v===0)return uv.every(Math.max(ik(u,m,p),1));const[w,y]=o[x/o[v-1][2]<o[v][2]/x?v-1:v];return w.every(y)}return[l,c]}const[Wpe,qpe]=mF(_l,r6,Vy,hF,e6,J4),[Vpe,Gpe]=mF(Sl,t6,qy,Cx,Q4,X4);function z2(t){if(0<=t.y&&t.y<100){var r=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return r.setFullYear(t.y),r}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function U2(t){if(0<=t.y&&t.y<100){var r=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return r.setUTCFullYear(t.y),r}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Of(t,r,n){return{y:t,m:r,d:n,H:0,M:0,S:0,L:0}}function Kpe(t){var r=t.dateTime,n=t.date,s=t.time,a=t.periods,i=t.days,o=t.shortDays,l=t.months,c=t.shortMonths,u=Mf(a),m=Df(a),p=Mf(i),x=Df(i),v=Mf(o),w=Df(o),y=Mf(l),j=Df(l),S=Mf(c),C=Df(c),P={a:O,A:R,b:D,B:I,c:null,d:eD,e:eD,f:gxe,g:Cxe,G:Axe,H:fxe,I:pxe,j:xxe,L:fF,m:vxe,M:yxe,p:q,q:J,Q:nD,s:sD,S:bxe,u:jxe,U:wxe,V:Nxe,w:Sxe,W:_xe,x:null,X:null,y:kxe,Y:Pxe,Z:Exe,"%":rD},T={a:ie,A:ee,b:ae,B:oe,c:null,d:tD,e:tD,f:Dxe,g:Wxe,G:Vxe,H:Txe,I:Oxe,j:Mxe,L:xF,m:Rxe,M:Ixe,p:te,q:ue,Q:nD,s:sD,S:Lxe,u:$xe,U:Bxe,V:Fxe,w:zxe,W:Uxe,x:null,X:null,y:Hxe,Y:qxe,Z:Gxe,"%":rD},_={a:F,A:H,b:K,B:Z,c:V,d:JM,e:JM,f:dxe,g:XM,G:ZM,H:QM,I:QM,j:ixe,L:cxe,m:axe,M:oxe,p:B,q:sxe,Q:hxe,s:mxe,S:lxe,u:Qpe,U:exe,V:txe,w:Jpe,W:rxe,x:W,X:G,y:XM,Y:ZM,Z:nxe,"%":uxe};P.x=k(n,P),P.X=k(s,P),P.c=k(r,P),T.x=k(n,T),T.X=k(s,T),T.c=k(r,T);function k(de,fe){return function(ye){var he=[],Ce=-1,Se=0,$e=de.length,qe,Fe,it;for(ye instanceof Date||(ye=new Date(+ye));++Ce<$e;)de.charCodeAt(Ce)===37&&(he.push(de.slice(Se,Ce)),(Fe=YM[qe=de.charAt(++Ce)])!=null?qe=de.charAt(++Ce):Fe=qe==="e"?" ":"0",(it=fe[qe])&&(qe=it(ye,Fe)),he.push(qe),Se=Ce+1);return he.push(de.slice(Se,Ce)),he.join("")}}function M(de,fe){return function(ye){var he=Of(1900,void 0,1),Ce=$(he,de,ye+="",0),Se,$e;if(Ce!=ye.length)return null;if("Q"in he)return new Date(he.Q);if("s"in he)return new Date(he.s*1e3+("L"in he?he.L:0));if(fe&&!("Z"in he)&&(he.Z=0),"p"in he&&(he.H=he.H%12+he.p*12),he.m===void 0&&(he.m="q"in he?he.q:0),"V"in he){if(he.V<1||he.V>53)return null;"w"in he||(he.w=1),"Z"in he?(Se=U2(Of(he.y,0,1)),$e=Se.getUTCDay(),Se=$e>4||$e===0?mv.ceil(Se):mv(Se),Se=Wy.offset(Se,(he.V-1)*7),he.y=Se.getUTCFullYear(),he.m=Se.getUTCMonth(),he.d=Se.getUTCDate()+(he.w+6)%7):(Se=z2(Of(he.y,0,1)),$e=Se.getDay(),Se=$e>4||$e===0?hv.ceil(Se):hv(Se),Se=Cx.offset(Se,(he.V-1)*7),he.y=Se.getFullYear(),he.m=Se.getMonth(),he.d=Se.getDate()+(he.w+6)%7)}else("W"in he||"U"in he)&&("w"in he||(he.w="u"in he?he.u%7:"W"in he?1:0),$e="Z"in he?U2(Of(he.y,0,1)).getUTCDay():z2(Of(he.y,0,1)).getDay(),he.m=0,he.d="W"in he?(he.w+6)%7+he.W*7-($e+5)%7:he.w+he.U*7-($e+6)%7);return"Z"in he?(he.H+=he.Z/100|0,he.M+=he.Z%100,U2(he)):z2(he)}}function $(de,fe,ye,he){for(var Ce=0,Se=fe.length,$e=ye.length,qe,Fe;Ce<Se;){if(he>=$e)return-1;if(qe=fe.charCodeAt(Ce++),qe===37){if(qe=fe.charAt(Ce++),Fe=_[qe in YM?fe.charAt(Ce++):qe],!Fe||(he=Fe(de,ye,he))<0)return-1}else if(qe!=ye.charCodeAt(he++))return-1}return he}function B(de,fe,ye){var he=u.exec(fe.slice(ye));return he?(de.p=m.get(he[0].toLowerCase()),ye+he[0].length):-1}function F(de,fe,ye){var he=v.exec(fe.slice(ye));return he?(de.w=w.get(he[0].toLowerCase()),ye+he[0].length):-1}function H(de,fe,ye){var he=p.exec(fe.slice(ye));return he?(de.w=x.get(he[0].toLowerCase()),ye+he[0].length):-1}function K(de,fe,ye){var he=S.exec(fe.slice(ye));return he?(de.m=C.get(he[0].toLowerCase()),ye+he[0].length):-1}function Z(de,fe,ye){var he=y.exec(fe.slice(ye));return he?(de.m=j.get(he[0].toLowerCase()),ye+he[0].length):-1}function V(de,fe,ye){return $(de,r,fe,ye)}function W(de,fe,ye){return $(de,n,fe,ye)}function G(de,fe,ye){return $(de,s,fe,ye)}function O(de){return o[de.getDay()]}function R(de){return i[de.getDay()]}function D(de){return c[de.getMonth()]}function I(de){return l[de.getMonth()]}function q(de){return a[+(de.getHours()>=12)]}function J(de){return 1+~~(de.getMonth()/3)}function ie(de){return o[de.getUTCDay()]}function ee(de){return i[de.getUTCDay()]}function ae(de){return c[de.getUTCMonth()]}function oe(de){return l[de.getUTCMonth()]}function te(de){return a[+(de.getUTCHours()>=12)]}function ue(de){return 1+~~(de.getUTCMonth()/3)}return{format:function(de){var fe=k(de+="",P);return fe.toString=function(){return de},fe},parse:function(de){var fe=M(de+="",!1);return fe.toString=function(){return de},fe},utcFormat:function(de){var fe=k(de+="",T);return fe.toString=function(){return de},fe},utcParse:function(de){var fe=M(de+="",!0);return fe.toString=function(){return de},fe}}}var YM={"-":"",_:" ",0:"0"},Zn=/^\s*\d+/,Ype=/^%/,Zpe=/[\\^$*+?|[\]().{}]/g;function lr(t,r,n){var s=t<0?"-":"",a=(s?-t:t)+"",i=a.length;return s+(i<n?new Array(n-i+1).join(r)+a:a)}function Xpe(t){return t.replace(Zpe,"\\$&")}function Mf(t){return new RegExp("^(?:"+t.map(Xpe).join("|")+")","i")}function Df(t){return new Map(t.map((r,n)=>[r.toLowerCase(),n]))}function Jpe(t,r,n){var s=Zn.exec(r.slice(n,n+1));return s?(t.w=+s[0],n+s[0].length):-1}function Qpe(t,r,n){var s=Zn.exec(r.slice(n,n+1));return s?(t.u=+s[0],n+s[0].length):-1}function exe(t,r,n){var s=Zn.exec(r.slice(n,n+2));return s?(t.U=+s[0],n+s[0].length):-1}function txe(t,r,n){var s=Zn.exec(r.slice(n,n+2));return s?(t.V=+s[0],n+s[0].length):-1}function rxe(t,r,n){var s=Zn.exec(r.slice(n,n+2));return s?(t.W=+s[0],n+s[0].length):-1}function ZM(t,r,n){var s=Zn.exec(r.slice(n,n+4));return s?(t.y=+s[0],n+s[0].length):-1}function XM(t,r,n){var s=Zn.exec(r.slice(n,n+2));return s?(t.y=+s[0]+(+s[0]>68?1900:2e3),n+s[0].length):-1}function nxe(t,r,n){var s=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(r.slice(n,n+6));return s?(t.Z=s[1]?0:-(s[2]+(s[3]||"00")),n+s[0].length):-1}function sxe(t,r,n){var s=Zn.exec(r.slice(n,n+1));return s?(t.q=s[0]*3-3,n+s[0].length):-1}function axe(t,r,n){var s=Zn.exec(r.slice(n,n+2));return s?(t.m=s[0]-1,n+s[0].length):-1}function JM(t,r,n){var s=Zn.exec(r.slice(n,n+2));return s?(t.d=+s[0],n+s[0].length):-1}function ixe(t,r,n){var s=Zn.exec(r.slice(n,n+3));return s?(t.m=0,t.d=+s[0],n+s[0].length):-1}function QM(t,r,n){var s=Zn.exec(r.slice(n,n+2));return s?(t.H=+s[0],n+s[0].length):-1}function oxe(t,r,n){var s=Zn.exec(r.slice(n,n+2));return s?(t.M=+s[0],n+s[0].length):-1}function lxe(t,r,n){var s=Zn.exec(r.slice(n,n+2));return s?(t.S=+s[0],n+s[0].length):-1}function cxe(t,r,n){var s=Zn.exec(r.slice(n,n+3));return s?(t.L=+s[0],n+s[0].length):-1}function dxe(t,r,n){var s=Zn.exec(r.slice(n,n+6));return s?(t.L=Math.floor(s[0]/1e3),n+s[0].length):-1}function uxe(t,r,n){var s=Ype.exec(r.slice(n,n+1));return s?n+s[0].length:-1}function hxe(t,r,n){var s=Zn.exec(r.slice(n));return s?(t.Q=+s[0],n+s[0].length):-1}function mxe(t,r,n){var s=Zn.exec(r.slice(n));return s?(t.s=+s[0],n+s[0].length):-1}function eD(t,r){return lr(t.getDate(),r,2)}function fxe(t,r){return lr(t.getHours(),r,2)}function pxe(t,r){return lr(t.getHours()%12||12,r,2)}function xxe(t,r){return lr(1+Cx.count(Sl(t),t),r,3)}function fF(t,r){return lr(t.getMilliseconds(),r,3)}function gxe(t,r){return fF(t,r)+"000"}function vxe(t,r){return lr(t.getMonth()+1,r,2)}function yxe(t,r){return lr(t.getMinutes(),r,2)}function bxe(t,r){return lr(t.getSeconds(),r,2)}function jxe(t){var r=t.getDay();return r===0?7:r}function wxe(t,r){return lr(qy.count(Sl(t)-1,t),r,2)}function pF(t){var r=t.getDay();return r>=4||r===0?Xh(t):Xh.ceil(t)}function Nxe(t,r){return t=pF(t),lr(Xh.count(Sl(t),t)+(Sl(t).getDay()===4),r,2)}function Sxe(t){return t.getDay()}function _xe(t,r){return lr(hv.count(Sl(t)-1,t),r,2)}function kxe(t,r){return lr(t.getFullYear()%100,r,2)}function Cxe(t,r){return t=pF(t),lr(t.getFullYear()%100,r,2)}function Pxe(t,r){return lr(t.getFullYear()%1e4,r,4)}function Axe(t,r){var n=t.getDay();return t=n>=4||n===0?Xh(t):Xh.ceil(t),lr(t.getFullYear()%1e4,r,4)}function Exe(t){var r=t.getTimezoneOffset();return(r>0?"-":(r*=-1,"+"))+lr(r/60|0,"0",2)+lr(r%60,"0",2)}function tD(t,r){return lr(t.getUTCDate(),r,2)}function Txe(t,r){return lr(t.getUTCHours(),r,2)}function Oxe(t,r){return lr(t.getUTCHours()%12||12,r,2)}function Mxe(t,r){return lr(1+Wy.count(_l(t),t),r,3)}function xF(t,r){return lr(t.getUTCMilliseconds(),r,3)}function Dxe(t,r){return xF(t,r)+"000"}function Rxe(t,r){return lr(t.getUTCMonth()+1,r,2)}function Ixe(t,r){return lr(t.getUTCMinutes(),r,2)}function Lxe(t,r){return lr(t.getUTCSeconds(),r,2)}function $xe(t){var r=t.getUTCDay();return r===0?7:r}function Bxe(t,r){return lr(Vy.count(_l(t)-1,t),r,2)}function gF(t){var r=t.getUTCDay();return r>=4||r===0?Jh(t):Jh.ceil(t)}function Fxe(t,r){return t=gF(t),lr(Jh.count(_l(t),t)+(_l(t).getUTCDay()===4),r,2)}function zxe(t){return t.getUTCDay()}function Uxe(t,r){return lr(mv.count(_l(t)-1,t),r,2)}function Hxe(t,r){return lr(t.getUTCFullYear()%100,r,2)}function Wxe(t,r){return t=gF(t),lr(t.getUTCFullYear()%100,r,2)}function qxe(t,r){return lr(t.getUTCFullYear()%1e4,r,4)}function Vxe(t,r){var n=t.getUTCDay();return t=n>=4||n===0?Jh(t):Jh.ceil(t),lr(t.getUTCFullYear()%1e4,r,4)}function Gxe(){return"+0000"}function rD(){return"%"}function nD(t){return+t}function sD(t){return Math.floor(+t/1e3)}var ph,vF,yF;Kxe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Kxe(t){return ph=Kpe(t),vF=ph.format,ph.parse,yF=ph.utcFormat,ph.utcParse,ph}function Yxe(t){return new Date(t)}function Zxe(t){return t instanceof Date?+t:+new Date(+t)}function n6(t,r,n,s,a,i,o,l,c,u){var m=H4(),p=m.invert,x=m.domain,v=u(".%L"),w=u(":%S"),y=u("%I:%M"),j=u("%I %p"),S=u("%a %d"),C=u("%b %d"),P=u("%B"),T=u("%Y");function _(k){return(c(k)<k?v:l(k)<k?w:o(k)<k?y:i(k)<k?j:s(k)<k?a(k)<k?S:C:n(k)<k?P:T)(k)}return m.invert=function(k){return new Date(p(k))},m.domain=function(k){return arguments.length?x(Array.from(k,Zxe)):x().map(Yxe)},m.ticks=function(k){var M=x();return t(M[0],M[M.length-1],k??10)},m.tickFormat=function(k,M){return M==null?_:u(M)},m.nice=function(k){var M=x();return(!k||typeof k.range!="function")&&(k=r(M[0],M[M.length-1],k??10)),k?x(aF(M,k)):m},m.copy=function(){return kx(m,n6(t,r,n,s,a,i,o,l,c,u))},m}function Xxe(){return ui.apply(n6(Vpe,Gpe,Sl,t6,qy,Cx,Q4,X4,Dd,vF).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Jxe(){return ui.apply(n6(Wpe,qpe,_l,r6,Vy,Wy,e6,J4,Dd,yF).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Gy(){var t=0,r=1,n,s,a,i,o=Rs,l=!1,c;function u(p){return p==null||isNaN(p=+p)?c:o(a===0?.5:(p=(i(p)-n)*a,l?Math.max(0,Math.min(1,p)):p))}u.domain=function(p){return arguments.length?([t,r]=p,n=i(t=+t),s=i(r=+r),a=n===s?0:1/(s-n),u):[t,r]},u.clamp=function(p){return arguments.length?(l=!!p,u):l},u.interpolator=function(p){return arguments.length?(o=p,u):o};function m(p){return function(x){var v,w;return arguments.length?([v,w]=x,o=p(v,w),u):[o(0),o(1)]}}return u.range=m(Rm),u.rangeRound=m(U4),u.unknown=function(p){return arguments.length?(c=p,u):c},function(p){return i=p,n=p(t),s=p(r),a=n===s?0:1/(s-n),u}}function Bc(t,r){return r.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function bF(){var t=$c(Gy()(Rs));return t.copy=function(){return Bc(t,bF())},El.apply(t,arguments)}function jF(){var t=V4(Gy()).domain([1,10]);return t.copy=function(){return Bc(t,jF()).base(t.base())},El.apply(t,arguments)}function wF(){var t=G4(Gy());return t.copy=function(){return Bc(t,wF()).constant(t.constant())},El.apply(t,arguments)}function s6(){var t=K4(Gy());return t.copy=function(){return Bc(t,s6()).exponent(t.exponent())},El.apply(t,arguments)}function Qxe(){return s6.apply(null,arguments).exponent(.5)}function NF(){var t=[],r=Rs;function n(s){if(s!=null&&!isNaN(s=+s))return r((Sx(t,s,1)-1)/(t.length-1))}return n.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let a of s)a!=null&&!isNaN(a=+a)&&t.push(a);return t.sort(Cc),n},n.interpolator=function(s){return arguments.length?(r=s,n):r},n.range=function(){return t.map((s,a)=>r(a/(t.length-1)))},n.quantiles=function(s){return Array.from({length:s+1},(a,i)=>Bfe(t,i/s))},n.copy=function(){return NF(r).domain(t)},El.apply(n,arguments)}function Ky(){var t=0,r=.5,n=1,s=1,a,i,o,l,c,u=Rs,m,p=!1,x;function v(y){return isNaN(y=+y)?x:(y=.5+((y=+m(y))-i)*(s*y<s*i?l:c),u(p?Math.max(0,Math.min(1,y)):y))}v.domain=function(y){return arguments.length?([t,r,n]=y,a=m(t=+t),i=m(r=+r),o=m(n=+n),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),s=i<a?-1:1,v):[t,r,n]},v.clamp=function(y){return arguments.length?(p=!!y,v):p},v.interpolator=function(y){return arguments.length?(u=y,v):u};function w(y){return function(j){var S,C,P;return arguments.length?([S,C,P]=j,u=upe(y,[S,C,P]),v):[u(0),u(.5),u(1)]}}return v.range=w(Rm),v.rangeRound=w(U4),v.unknown=function(y){return arguments.length?(x=y,v):x},function(y){return m=y,a=y(t),i=y(r),o=y(n),l=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),s=i<a?-1:1,v}}function SF(){var t=$c(Ky()(Rs));return t.copy=function(){return Bc(t,SF())},El.apply(t,arguments)}function _F(){var t=V4(Ky()).domain([.1,1,10]);return t.copy=function(){return Bc(t,_F()).base(t.base())},El.apply(t,arguments)}function kF(){var t=G4(Ky());return t.copy=function(){return Bc(t,kF()).constant(t.constant())},El.apply(t,arguments)}function a6(){var t=K4(Ky());return t.copy=function(){return Bc(t,a6()).exponent(t.exponent())},El.apply(t,arguments)}function ege(){return a6.apply(null,arguments).exponent(.5)}const aD=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Dp,scaleDiverging:SF,scaleDivergingLog:_F,scaleDivergingPow:a6,scaleDivergingSqrt:ege,scaleDivergingSymlog:kF,scaleIdentity:sF,scaleImplicit:ok,scaleLinear:dv,scaleLog:iF,scaleOrdinal:B4,scalePoint:sp,scalePow:Y4,scaleQuantile:cF,scaleQuantize:dF,scaleRadial:lF,scaleSequential:bF,scaleSequentialLog:jF,scaleSequentialPow:s6,scaleSequentialQuantile:NF,scaleSequentialSqrt:Qxe,scaleSequentialSymlog:wF,scaleSqrt:Dpe,scaleSymlog:oF,scaleThreshold:uF,scaleTime:Xxe,scaleUtc:Jxe,tickFormat:nF},Symbol.toStringTag,{value:"Module"}));var H2,iD;function Yy(){if(iD)return H2;iD=1;var t=Tm();function r(n,s,a){for(var i=-1,o=n.length;++i<o;){var l=n[i],c=s(l);if(c!=null&&(u===void 0?c===c&&!t(c):a(c,u)))var u=c,m=l}return m}return H2=r,H2}var W2,oD;function CF(){if(oD)return W2;oD=1;function t(r,n){return r>n}return W2=t,W2}var q2,lD;function tge(){if(lD)return q2;lD=1;var t=Yy(),r=CF(),n=Dm();function s(a){return a&&a.length?t(a,n,r):void 0}return q2=s,q2}var rge=tge();const wc=ar(rge);var V2,cD;function PF(){if(cD)return V2;cD=1;function t(r,n){return r<n}return V2=t,V2}var G2,dD;function nge(){if(dD)return G2;dD=1;var t=Yy(),r=PF(),n=Dm();function s(a){return a&&a.length?t(a,n,r):void 0}return G2=s,G2}var sge=nge();const Zy=ar(sge);var K2,uD;function age(){if(uD)return K2;uD=1;var t=j4(),r=Mo(),n=IB(),s=ea();function a(i,o){var l=s(i)?t:n;return l(i,r(o,3))}return K2=a,K2}var Y2,hD;function ige(){if(hD)return Y2;hD=1;var t=DB(),r=age();function n(s,a){return t(r(s,a),1)}return Y2=n,Y2}var oge=ige();const lge=ar(oge);var Z2,mD;function cge(){if(mD)return Z2;mD=1;var t=D4();function r(n,s){return t(n,s)}return Z2=r,Z2}var dge=cge();const Jd=ar(dge);var Im=1e9,uge={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},o6,Kr=!0,di="[DecimalError] ",zd=di+"Invalid argument: ",i6=di+"Exponent out of range: ",Lm=Math.floor,_d=Math.pow,hge=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,wa,Vn=1e7,Ur=7,AF=9007199254740991,fv=Lm(AF/Ur),tt={};tt.absoluteValue=tt.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};tt.comparedTo=tt.cmp=function(t){var r,n,s,a,i=this;if(t=new i.constructor(t),i.s!==t.s)return i.s||-t.s;if(i.e!==t.e)return i.e>t.e^i.s<0?1:-1;for(s=i.d.length,a=t.d.length,r=0,n=s<a?s:a;r<n;++r)if(i.d[r]!==t.d[r])return i.d[r]>t.d[r]^i.s<0?1:-1;return s===a?0:s>a^i.s<0?1:-1};tt.decimalPlaces=tt.dp=function(){var t=this,r=t.d.length-1,n=(r-t.e)*Ur;if(r=t.d[r],r)for(;r%10==0;r/=10)n--;return n<0?0:n};tt.dividedBy=tt.div=function(t){return xl(this,new this.constructor(t))};tt.dividedToIntegerBy=tt.idiv=function(t){var r=this,n=r.constructor;return _r(xl(r,new n(t),0,1),n.precision)};tt.equals=tt.eq=function(t){return!this.cmp(t)};tt.exponent=function(){return Tn(this)};tt.greaterThan=tt.gt=function(t){return this.cmp(t)>0};tt.greaterThanOrEqualTo=tt.gte=function(t){return this.cmp(t)>=0};tt.isInteger=tt.isint=function(){return this.e>this.d.length-2};tt.isNegative=tt.isneg=function(){return this.s<0};tt.isPositive=tt.ispos=function(){return this.s>0};tt.isZero=function(){return this.s===0};tt.lessThan=tt.lt=function(t){return this.cmp(t)<0};tt.lessThanOrEqualTo=tt.lte=function(t){return this.cmp(t)<1};tt.logarithm=tt.log=function(t){var r,n=this,s=n.constructor,a=s.precision,i=a+5;if(t===void 0)t=new s(10);else if(t=new s(t),t.s<1||t.eq(wa))throw Error(di+"NaN");if(n.s<1)throw Error(di+(n.s?"NaN":"-Infinity"));return n.eq(wa)?new s(0):(Kr=!1,r=xl(Bp(n,i),Bp(t,i),i),Kr=!0,_r(r,a))};tt.minus=tt.sub=function(t){var r=this;return t=new r.constructor(t),r.s==t.s?OF(r,t):EF(r,(t.s=-t.s,t))};tt.modulo=tt.mod=function(t){var r,n=this,s=n.constructor,a=s.precision;if(t=new s(t),!t.s)throw Error(di+"NaN");return n.s?(Kr=!1,r=xl(n,t,0,1).times(t),Kr=!0,n.minus(r)):_r(new s(n),a)};tt.naturalExponential=tt.exp=function(){return TF(this)};tt.naturalLogarithm=tt.ln=function(){return Bp(this)};tt.negated=tt.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};tt.plus=tt.add=function(t){var r=this;return t=new r.constructor(t),r.s==t.s?EF(r,t):OF(r,(t.s=-t.s,t))};tt.precision=tt.sd=function(t){var r,n,s,a=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(zd+t);if(r=Tn(a)+1,s=a.d.length-1,n=s*Ur+1,s=a.d[s],s){for(;s%10==0;s/=10)n--;for(s=a.d[0];s>=10;s/=10)n++}return t&&r>n?r:n};tt.squareRoot=tt.sqrt=function(){var t,r,n,s,a,i,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(di+"NaN")}for(t=Tn(l),Kr=!1,a=Math.sqrt(+l),a==0||a==1/0?(r=fo(l.d),(r.length+t)%2==0&&(r+="0"),a=Math.sqrt(r),t=Lm((t+1)/2)-(t<0||t%2),a==1/0?r="5e"+t:(r=a.toExponential(),r=r.slice(0,r.indexOf("e")+1)+t),s=new c(r)):s=new c(a.toString()),n=c.precision,a=o=n+3;;)if(i=s,s=i.plus(xl(l,i,o+2)).times(.5),fo(i.d).slice(0,o)===(r=fo(s.d)).slice(0,o)){if(r=r.slice(o-3,o+1),a==o&&r=="4999"){if(_r(i,n+1,0),i.times(i).eq(l)){s=i;break}}else if(r!="9999")break;o+=4}return Kr=!0,_r(s,n)};tt.times=tt.mul=function(t){var r,n,s,a,i,o,l,c,u,m=this,p=m.constructor,x=m.d,v=(t=new p(t)).d;if(!m.s||!t.s)return new p(0);for(t.s*=m.s,n=m.e+t.e,c=x.length,u=v.length,c<u&&(i=x,x=v,v=i,o=c,c=u,u=o),i=[],o=c+u,s=o;s--;)i.push(0);for(s=u;--s>=0;){for(r=0,a=c+s;a>s;)l=i[a]+v[s]*x[a-s-1]+r,i[a--]=l%Vn|0,r=l/Vn|0;i[a]=(i[a]+r)%Vn|0}for(;!i[--o];)i.pop();return r?++n:i.shift(),t.d=i,t.e=n,Kr?_r(t,p.precision):t};tt.toDecimalPlaces=tt.todp=function(t,r){var n=this,s=n.constructor;return n=new s(n),t===void 0?n:(Po(t,0,Im),r===void 0?r=s.rounding:Po(r,0,8),_r(n,t+Tn(n)+1,r))};tt.toExponential=function(t,r){var n,s=this,a=s.constructor;return t===void 0?n=Qd(s,!0):(Po(t,0,Im),r===void 0?r=a.rounding:Po(r,0,8),s=_r(new a(s),t+1,r),n=Qd(s,!0,t+1)),n};tt.toFixed=function(t,r){var n,s,a=this,i=a.constructor;return t===void 0?Qd(a):(Po(t,0,Im),r===void 0?r=i.rounding:Po(r,0,8),s=_r(new i(a),t+Tn(a)+1,r),n=Qd(s.abs(),!1,t+Tn(s)+1),a.isneg()&&!a.isZero()?"-"+n:n)};tt.toInteger=tt.toint=function(){var t=this,r=t.constructor;return _r(new r(t),Tn(t)+1,r.rounding)};tt.toNumber=function(){return+this};tt.toPower=tt.pow=function(t){var r,n,s,a,i,o,l=this,c=l.constructor,u=12,m=+(t=new c(t));if(!t.s)return new c(wa);if(l=new c(l),!l.s){if(t.s<1)throw Error(di+"Infinity");return l}if(l.eq(wa))return l;if(s=c.precision,t.eq(wa))return _r(l,s);if(r=t.e,n=t.d.length-1,o=r>=n,i=l.s,o){if((n=m<0?-m:m)<=AF){for(a=new c(wa),r=Math.ceil(s/Ur+4),Kr=!1;n%2&&(a=a.times(l),pD(a.d,r)),n=Lm(n/2),n!==0;)l=l.times(l),pD(l.d,r);return Kr=!0,t.s<0?new c(wa).div(a):_r(a,s)}}else if(i<0)throw Error(di+"NaN");return i=i<0&&t.d[Math.max(r,n)]&1?-1:1,l.s=1,Kr=!1,a=t.times(Bp(l,s+u)),Kr=!0,a=TF(a),a.s=i,a};tt.toPrecision=function(t,r){var n,s,a=this,i=a.constructor;return t===void 0?(n=Tn(a),s=Qd(a,n<=i.toExpNeg||n>=i.toExpPos)):(Po(t,1,Im),r===void 0?r=i.rounding:Po(r,0,8),a=_r(new i(a),t,r),n=Tn(a),s=Qd(a,t<=n||n<=i.toExpNeg,t)),s};tt.toSignificantDigits=tt.tosd=function(t,r){var n=this,s=n.constructor;return t===void 0?(t=s.precision,r=s.rounding):(Po(t,1,Im),r===void 0?r=s.rounding:Po(r,0,8)),_r(new s(n),t,r)};tt.toString=tt.valueOf=tt.val=tt.toJSON=tt[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,r=Tn(t),n=t.constructor;return Qd(t,r<=n.toExpNeg||r>=n.toExpPos)};function EF(t,r){var n,s,a,i,o,l,c,u,m=t.constructor,p=m.precision;if(!t.s||!r.s)return r.s||(r=new m(t)),Kr?_r(r,p):r;if(c=t.d,u=r.d,o=t.e,a=r.e,c=c.slice(),i=o-a,i){for(i<0?(s=c,i=-i,l=u.length):(s=u,a=o,l=c.length),o=Math.ceil(p/Ur),l=o>l?o+1:l+1,i>l&&(i=l,s.length=1),s.reverse();i--;)s.push(0);s.reverse()}for(l=c.length,i=u.length,l-i<0&&(i=l,s=u,u=c,c=s),n=0;i;)n=(c[--i]=c[i]+u[i]+n)/Vn|0,c[i]%=Vn;for(n&&(c.unshift(n),++a),l=c.length;c[--l]==0;)c.pop();return r.d=c,r.e=a,Kr?_r(r,p):r}function Po(t,r,n){if(t!==~~t||t<r||t>n)throw Error(zd+t)}function fo(t){var r,n,s,a=t.length-1,i="",o=t[0];if(a>0){for(i+=o,r=1;r<a;r++)s=t[r]+"",n=Ur-s.length,n&&(i+=vc(n)),i+=s;o=t[r],s=o+"",n=Ur-s.length,n&&(i+=vc(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var xl=(function(){function t(s,a){var i,o=0,l=s.length;for(s=s.slice();l--;)i=s[l]*a+o,s[l]=i%Vn|0,o=i/Vn|0;return o&&s.unshift(o),s}function r(s,a,i,o){var l,c;if(i!=o)c=i>o?1:-1;else for(l=c=0;l<i;l++)if(s[l]!=a[l]){c=s[l]>a[l]?1:-1;break}return c}function n(s,a,i){for(var o=0;i--;)s[i]-=o,o=s[i]<a[i]?1:0,s[i]=o*Vn+s[i]-a[i];for(;!s[0]&&s.length>1;)s.shift()}return function(s,a,i,o){var l,c,u,m,p,x,v,w,y,j,S,C,P,T,_,k,M,$,B=s.constructor,F=s.s==a.s?1:-1,H=s.d,K=a.d;if(!s.s)return new B(s);if(!a.s)throw Error(di+"Division by zero");for(c=s.e-a.e,M=K.length,_=H.length,v=new B(F),w=v.d=[],u=0;K[u]==(H[u]||0);)++u;if(K[u]>(H[u]||0)&&--c,i==null?C=i=B.precision:o?C=i+(Tn(s)-Tn(a))+1:C=i,C<0)return new B(0);if(C=C/Ur+2|0,u=0,M==1)for(m=0,K=K[0],C++;(u<_||m)&&C--;u++)P=m*Vn+(H[u]||0),w[u]=P/K|0,m=P%K|0;else{for(m=Vn/(K[0]+1)|0,m>1&&(K=t(K,m),H=t(H,m),M=K.length,_=H.length),T=M,y=H.slice(0,M),j=y.length;j<M;)y[j++]=0;$=K.slice(),$.unshift(0),k=K[0],K[1]>=Vn/2&&++k;do m=0,l=r(K,y,M,j),l<0?(S=y[0],M!=j&&(S=S*Vn+(y[1]||0)),m=S/k|0,m>1?(m>=Vn&&(m=Vn-1),p=t(K,m),x=p.length,j=y.length,l=r(p,y,x,j),l==1&&(m--,n(p,M<x?$:K,x))):(m==0&&(l=m=1),p=K.slice()),x=p.length,x<j&&p.unshift(0),n(y,p,j),l==-1&&(j=y.length,l=r(K,y,M,j),l<1&&(m++,n(y,M<j?$:K,j))),j=y.length):l===0&&(m++,y=[0]),w[u++]=m,l&&y[0]?y[j++]=H[T]||0:(y=[H[T]],j=1);while((T++<_||y[0]!==void 0)&&C--)}return w[0]||w.shift(),v.e=c,_r(v,o?i+Tn(v)+1:i)}})();function TF(t,r){var n,s,a,i,o,l,c=0,u=0,m=t.constructor,p=m.precision;if(Tn(t)>16)throw Error(i6+Tn(t));if(!t.s)return new m(wa);for(Kr=!1,l=p,o=new m(.03125);t.abs().gte(.1);)t=t.times(o),u+=5;for(s=Math.log(_d(2,u))/Math.LN10*2+5|0,l+=s,n=a=i=new m(wa),m.precision=l;;){if(a=_r(a.times(t),l),n=n.times(++c),o=i.plus(xl(a,n,l)),fo(o.d).slice(0,l)===fo(i.d).slice(0,l)){for(;u--;)i=_r(i.times(i),l);return m.precision=p,r==null?(Kr=!0,_r(i,p)):i}i=o}}function Tn(t){for(var r=t.e*Ur,n=t.d[0];n>=10;n/=10)r++;return r}function X2(t,r,n){if(r>t.LN10.sd())throw Kr=!0,n&&(t.precision=n),Error(di+"LN10 precision limit exceeded");return _r(new t(t.LN10),r)}function vc(t){for(var r="";t--;)r+="0";return r}function Bp(t,r){var n,s,a,i,o,l,c,u,m,p=1,x=10,v=t,w=v.d,y=v.constructor,j=y.precision;if(v.s<1)throw Error(di+(v.s?"NaN":"-Infinity"));if(v.eq(wa))return new y(0);if(r==null?(Kr=!1,u=j):u=r,v.eq(10))return r==null&&(Kr=!0),X2(y,u);if(u+=x,y.precision=u,n=fo(w),s=n.charAt(0),i=Tn(v),Math.abs(i)<15e14){for(;s<7&&s!=1||s==1&&n.charAt(1)>3;)v=v.times(t),n=fo(v.d),s=n.charAt(0),p++;i=Tn(v),s>1?(v=new y("0."+n),i++):v=new y(s+"."+n.slice(1))}else return c=X2(y,u+2,j).times(i+""),v=Bp(new y(s+"."+n.slice(1)),u-x).plus(c),y.precision=j,r==null?(Kr=!0,_r(v,j)):v;for(l=o=v=xl(v.minus(wa),v.plus(wa),u),m=_r(v.times(v),u),a=3;;){if(o=_r(o.times(m),u),c=l.plus(xl(o,new y(a),u)),fo(c.d).slice(0,u)===fo(l.d).slice(0,u))return l=l.times(2),i!==0&&(l=l.plus(X2(y,u+2,j).times(i+""))),l=xl(l,new y(p),u),y.precision=j,r==null?(Kr=!0,_r(l,j)):l;l=c,a+=2}}function fD(t,r){var n,s,a;for((n=r.indexOf("."))>-1&&(r=r.replace(".","")),(s=r.search(/e/i))>0?(n<0&&(n=s),n+=+r.slice(s+1),r=r.substring(0,s)):n<0&&(n=r.length),s=0;r.charCodeAt(s)===48;)++s;for(a=r.length;r.charCodeAt(a-1)===48;)--a;if(r=r.slice(s,a),r){if(a-=s,n=n-s-1,t.e=Lm(n/Ur),t.d=[],s=(n+1)%Ur,n<0&&(s+=Ur),s<a){for(s&&t.d.push(+r.slice(0,s)),a-=Ur;s<a;)t.d.push(+r.slice(s,s+=Ur));r=r.slice(s),s=Ur-r.length}else s-=a;for(;s--;)r+="0";if(t.d.push(+r),Kr&&(t.e>fv||t.e<-fv))throw Error(i6+n)}else t.s=0,t.e=0,t.d=[0];return t}function _r(t,r,n){var s,a,i,o,l,c,u,m,p=t.d;for(o=1,i=p[0];i>=10;i/=10)o++;if(s=r-o,s<0)s+=Ur,a=r,u=p[m=0];else{if(m=Math.ceil((s+1)/Ur),i=p.length,m>=i)return t;for(u=i=p[m],o=1;i>=10;i/=10)o++;s%=Ur,a=s-Ur+o}if(n!==void 0&&(i=_d(10,o-a-1),l=u/i%10|0,c=r<0||p[m+1]!==void 0||u%i,c=n<4?(l||c)&&(n==0||n==(t.s<0?3:2)):l>5||l==5&&(n==4||c||n==6&&(s>0?a>0?u/_d(10,o-a):0:p[m-1])%10&1||n==(t.s<0?8:7))),r<1||!p[0])return c?(i=Tn(t),p.length=1,r=r-i-1,p[0]=_d(10,(Ur-r%Ur)%Ur),t.e=Lm(-r/Ur)||0):(p.length=1,p[0]=t.e=t.s=0),t;if(s==0?(p.length=m,i=1,m--):(p.length=m+1,i=_d(10,Ur-s),p[m]=a>0?(u/_d(10,o-a)%_d(10,a)|0)*i:0),c)for(;;)if(m==0){(p[0]+=i)==Vn&&(p[0]=1,++t.e);break}else{if(p[m]+=i,p[m]!=Vn)break;p[m--]=0,i=1}for(s=p.length;p[--s]===0;)p.pop();if(Kr&&(t.e>fv||t.e<-fv))throw Error(i6+Tn(t));return t}function OF(t,r){var n,s,a,i,o,l,c,u,m,p,x=t.constructor,v=x.precision;if(!t.s||!r.s)return r.s?r.s=-r.s:r=new x(t),Kr?_r(r,v):r;if(c=t.d,p=r.d,s=r.e,u=t.e,c=c.slice(),o=u-s,o){for(m=o<0,m?(n=c,o=-o,l=p.length):(n=p,s=u,l=c.length),a=Math.max(Math.ceil(v/Ur),l)+2,o>a&&(o=a,n.length=1),n.reverse(),a=o;a--;)n.push(0);n.reverse()}else{for(a=c.length,l=p.length,m=a<l,m&&(l=a),a=0;a<l;a++)if(c[a]!=p[a]){m=c[a]<p[a];break}o=0}for(m&&(n=c,c=p,p=n,r.s=-r.s),l=c.length,a=p.length-l;a>0;--a)c[l++]=0;for(a=p.length;a>o;){if(c[--a]<p[a]){for(i=a;i&&c[--i]===0;)c[i]=Vn-1;--c[i],c[a]+=Vn}c[a]-=p[a]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--s;return c[0]?(r.d=c,r.e=s,Kr?_r(r,v):r):new x(0)}function Qd(t,r,n){var s,a=Tn(t),i=fo(t.d),o=i.length;return r?(n&&(s=n-o)>0?i=i.charAt(0)+"."+i.slice(1)+vc(s):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+vc(-a-1)+i,n&&(s=n-o)>0&&(i+=vc(s))):a>=o?(i+=vc(a+1-o),n&&(s=n-a-1)>0&&(i=i+"."+vc(s))):((s=a+1)<o&&(i=i.slice(0,s)+"."+i.slice(s)),n&&(s=n-o)>0&&(a+1===o&&(i+="."),i+=vc(s))),t.s<0?"-"+i:i}function pD(t,r){if(t.length>r)return t.length=r,!0}function MF(t){var r,n,s;function a(i){var o=this;if(!(o instanceof a))return new a(i);if(o.constructor=a,i instanceof a){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(zd+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return fD(o,i.toString())}else if(typeof i!="string")throw Error(zd+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,hge.test(i))fD(o,i);else throw Error(zd+i)}if(a.prototype=tt,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=MF,a.config=a.set=mge,t===void 0&&(t={}),t)for(s=["precision","rounding","toExpNeg","toExpPos","LN10"],r=0;r<s.length;)t.hasOwnProperty(n=s[r++])||(t[n]=this[n]);return a.config(t),a}function mge(t){if(!t||typeof t!="object")throw Error(di+"Object expected");var r,n,s,a=["precision",1,Im,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(r=0;r<a.length;r+=3)if((s=t[n=a[r]])!==void 0)if(Lm(s)===s&&s>=a[r+1]&&s<=a[r+2])this[n]=s;else throw Error(zd+n+": "+s);if((s=t[n="LN10"])!==void 0)if(s==Math.LN10)this[n]=new this(s);else throw Error(zd+n+": "+s);return this}var o6=MF(uge);wa=new o6(1);const Sr=o6;function fge(t){return vge(t)||gge(t)||xge(t)||pge()}function pge(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xge(t,r){if(t){if(typeof t=="string")return uk(t,r);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return uk(t,r)}}function gge(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function vge(t){if(Array.isArray(t))return uk(t)}function uk(t,r){(r==null||r>t.length)&&(r=t.length);for(var n=0,s=new Array(r);n<r;n++)s[n]=t[n];return s}var yge=function(r){return r},DF={},RF=function(r){return r===DF},xD=function(r){return function n(){return arguments.length===0||arguments.length===1&&RF(arguments.length<=0?void 0:arguments[0])?n:r.apply(void 0,arguments)}},bge=function t(r,n){return r===1?n:xD(function(){for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];var o=a.filter(function(l){return l!==DF}).length;return o>=r?n.apply(void 0,a):t(r-o,xD(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var m=a.map(function(p){return RF(p)?c.shift():p});return n.apply(void 0,fge(m).concat(c))}))})},Xy=function(r){return bge(r.length,r)},hk=function(r,n){for(var s=[],a=r;a<n;++a)s[a-r]=a;return s},jge=Xy(function(t,r){return Array.isArray(r)?r.map(t):Object.keys(r).map(function(n){return r[n]}).map(t)}),wge=function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];if(!n.length)return yge;var a=n.reverse(),i=a[0],o=a.slice(1);return function(){return o.reduce(function(l,c){return c(l)},i.apply(void 0,arguments))}},mk=function(r){return Array.isArray(r)?r.reverse():r.split("").reverse.join("")},IF=function(r){var n=null,s=null;return function(){for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return n&&i.every(function(l,c){return l===n[c]})||(n=i,s=r.apply(void 0,i)),s}};function Nge(t){var r;return t===0?r=1:r=Math.floor(new Sr(t).abs().log(10).toNumber())+1,r}function Sge(t,r,n){for(var s=new Sr(t),a=0,i=[];s.lt(r)&&a<1e5;)i.push(s.toNumber()),s=s.add(n),a++;return i}var _ge=Xy(function(t,r,n){var s=+t,a=+r;return s+n*(a-s)}),kge=Xy(function(t,r,n){var s=r-+t;return s=s||1/0,(n-t)/s}),Cge=Xy(function(t,r,n){var s=r-+t;return s=s||1/0,Math.max(0,Math.min(1,(n-t)/s))});const Jy={rangeStep:Sge,getDigitCount:Nge,interpolateNumber:_ge,uninterpolateNumber:kge,uninterpolateTruncation:Cge};function fk(t){return Ege(t)||Age(t)||LF(t)||Pge()}function Pge(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Age(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Ege(t){if(Array.isArray(t))return pk(t)}function Fp(t,r){return Mge(t)||Oge(t,r)||LF(t,r)||Tge()}function Tge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LF(t,r){if(t){if(typeof t=="string")return pk(t,r);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pk(t,r)}}function pk(t,r){(r==null||r>t.length)&&(r=t.length);for(var n=0,s=new Array(r);n<r;n++)s[n]=t[n];return s}function Oge(t,r){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],s=!0,a=!1,i=void 0;try{for(var o=t[Symbol.iterator](),l;!(s=(l=o.next()).done)&&(n.push(l.value),!(r&&n.length===r));s=!0);}catch(c){a=!0,i=c}finally{try{!s&&o.return!=null&&o.return()}finally{if(a)throw i}}return n}}function Mge(t){if(Array.isArray(t))return t}function $F(t){var r=Fp(t,2),n=r[0],s=r[1],a=n,i=s;return n>s&&(a=s,i=n),[a,i]}function BF(t,r,n){if(t.lte(0))return new Sr(0);var s=Jy.getDigitCount(t.toNumber()),a=new Sr(10).pow(s),i=t.div(a),o=s!==1?.05:.1,l=new Sr(Math.ceil(i.div(o).toNumber())).add(n).mul(o),c=l.mul(a);return r?c:new Sr(Math.ceil(c))}function Dge(t,r,n){var s=1,a=new Sr(t);if(!a.isint()&&n){var i=Math.abs(t);i<1?(s=new Sr(10).pow(Jy.getDigitCount(t)-1),a=new Sr(Math.floor(a.div(s).toNumber())).mul(s)):i>1&&(a=new Sr(Math.floor(t)))}else t===0?a=new Sr(Math.floor((r-1)/2)):n||(a=new Sr(Math.floor(t)));var o=Math.floor((r-1)/2),l=wge(jge(function(c){return a.add(new Sr(c-o).mul(s)).toNumber()}),hk);return l(0,r)}function FF(t,r,n,s){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new Sr(0),tickMin:new Sr(0),tickMax:new Sr(0)};var i=BF(new Sr(r).sub(t).div(n-1),s,a),o;t<=0&&r>=0?o=new Sr(0):(o=new Sr(t).add(r).div(2),o=o.sub(new Sr(o).mod(i)));var l=Math.ceil(o.sub(t).div(i).toNumber()),c=Math.ceil(new Sr(r).sub(o).div(i).toNumber()),u=l+c+1;return u>n?FF(t,r,n,s,a+1):(u<n&&(c=r>0?c+(n-u):c,l=r>0?l:l+(n-u)),{step:i,tickMin:o.sub(new Sr(l).mul(i)),tickMax:o.add(new Sr(c).mul(i))})}function Rge(t){var r=Fp(t,2),n=r[0],s=r[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(a,2),l=$F([n,s]),c=Fp(l,2),u=c[0],m=c[1];if(u===-1/0||m===1/0){var p=m===1/0?[u].concat(fk(hk(0,a-1).map(function(){return 1/0}))):[].concat(fk(hk(0,a-1).map(function(){return-1/0})),[m]);return n>s?mk(p):p}if(u===m)return Dge(u,a,i);var x=FF(u,m,o,i),v=x.step,w=x.tickMin,y=x.tickMax,j=Jy.rangeStep(w,y.add(new Sr(.1).mul(v)),v);return n>s?mk(j):j}function Ige(t,r){var n=Fp(t,2),s=n[0],a=n[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=$F([s,a]),l=Fp(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[s,a];if(c===u)return[c];var m=Math.max(r,2),p=BF(new Sr(u).sub(c).div(m-1),i,0),x=[].concat(fk(Jy.rangeStep(new Sr(c),new Sr(u).sub(new Sr(.99).mul(p)),p)),[u]);return s>a?mk(x):x}var Lge=IF(Rge),$ge=IF(Ige),Bge="Invariant failed";function eu(t,r){throw new Error(Bge)}var Fge=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Qh(t){"@babel/helpers - typeof";return Qh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Qh(t)}function pv(){return pv=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},pv.apply(this,arguments)}function zge(t,r){return qge(t)||Wge(t,r)||Hge(t,r)||Uge()}function Uge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hge(t,r){if(t){if(typeof t=="string")return gD(t,r);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gD(t,r)}}function gD(t,r){(r==null||r>t.length)&&(r=t.length);for(var n=0,s=new Array(r);n<r;n++)s[n]=t[n];return s}function Wge(t,r){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var s,a,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(t)).next,r!==0)for(;!(c=(s=i.call(n)).done)&&(l.push(s.value),l.length!==r);c=!0);}catch(m){u=!0,a=m}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function qge(t){if(Array.isArray(t))return t}function Vge(t,r){if(t==null)return{};var n=Gge(t,r),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)s=i[a],!(r.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(n[s]=t[s])}return n}function Gge(t,r){if(t==null)return{};var n={};for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(r.indexOf(s)>=0)continue;n[s]=t[s]}return n}function Kge(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function Yge(t,r){for(var n=0;n<r.length;n++){var s=r[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,HF(s.key),s)}}function Zge(t,r,n){return r&&Yge(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Xge(t,r,n){return r=xv(r),Jge(t,zF()?Reflect.construct(r,n||[],xv(t).constructor):r.apply(t,n))}function Jge(t,r){if(r&&(Qh(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qge(t)}function Qge(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function zF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zF=function(){return!!t})()}function xv(t){return xv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},xv(t)}function e0e(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&xk(t,r)}function xk(t,r){return xk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},xk(t,r)}function UF(t,r,n){return r=HF(r),r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function HF(t){var r=t0e(t,"string");return Qh(r)=="symbol"?r:r+""}function t0e(t,r){if(Qh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,r);if(Qh(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Px=(function(t){function r(){return Kge(this,r),Xge(this,r,arguments)}return e0e(r,t),Zge(r,[{key:"render",value:function(){var s=this.props,a=s.offset,i=s.layout,o=s.width,l=s.dataKey,c=s.data,u=s.dataPointFormatter,m=s.xAxis,p=s.yAxis,x=Vge(s,Fge),v=ut(x,!1);this.props.direction==="x"&&m.type!=="number"&&eu();var w=c.map(function(y){var j=u(y,l),S=j.x,C=j.y,P=j.value,T=j.errorVal;if(!T)return null;var _=[],k,M;if(Array.isArray(T)){var $=zge(T,2);k=$[0],M=$[1]}else k=M=T;if(i==="vertical"){var B=m.scale,F=C+a,H=F+o,K=F-o,Z=B(P-k),V=B(P+M);_.push({x1:V,y1:H,x2:V,y2:K}),_.push({x1:Z,y1:F,x2:V,y2:F}),_.push({x1:Z,y1:H,x2:Z,y2:K})}else if(i==="horizontal"){var W=p.scale,G=S+a,O=G-o,R=G+o,D=W(P-k),I=W(P+M);_.push({x1:O,y1:I,x2:R,y2:I}),_.push({x1:G,y1:D,x2:G,y2:I}),_.push({x1:O,y1:D,x2:R,y2:D})}return ce.createElement(Vt,pv({className:"recharts-errorBar",key:"bar-".concat(_.map(function(q){return"".concat(q.x1,"-").concat(q.x2,"-").concat(q.y1,"-").concat(q.y2)}))},v),_.map(function(q){return ce.createElement("line",pv({},q,{key:"line-".concat(q.x1,"-").concat(q.x2,"-").concat(q.y1,"-").concat(q.y2)}))}))});return ce.createElement(Vt,{className:"recharts-errorBars"},w)}}])})(ce.Component);UF(Px,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});UF(Px,"displayName","ErrorBar");function zp(t){"@babel/helpers - typeof";return zp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},zp(t)}function vD(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,s)}return n}function bd(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?vD(Object(n),!0).forEach(function(s){r0e(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vD(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function r0e(t,r,n){return r=n0e(r),r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function n0e(t){var r=s0e(t,"string");return zp(r)=="symbol"?r:r+""}function s0e(t,r){if(zp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,r);if(zp(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}var WF=function(r){var n=r.children,s=r.formattedGraphicalItems,a=r.legendWidth,i=r.legendContent,o=ga(n,Ca);if(!o)return null;var l=Ca.defaultProps,c=l!==void 0?bd(bd({},l),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:i==="children"?u=(s||[]).reduce(function(m,p){var x=p.item,v=p.props,w=v.sectors||v.data||[];return m.concat(w.map(function(y){return{type:o.props.iconType||x.props.legendType,value:y.name,color:y.fill,payload:y}}))},[]):u=(s||[]).map(function(m){var p=m.item,x=p.type.defaultProps,v=x!==void 0?bd(bd({},x),p.props):{},w=v.dataKey,y=v.name,j=v.legendType,S=v.hide;return{inactive:S,dataKey:w,type:c.iconType||j||"square",color:l6(p),value:y||w,payload:v}}),bd(bd(bd({},c),Ca.getWithHeight(o,a)),{},{payload:u,item:o})};function Up(t){"@babel/helpers - typeof";return Up=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Up(t)}function yD(t){return l0e(t)||o0e(t)||i0e(t)||a0e()}function a0e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function i0e(t,r){if(t){if(typeof t=="string")return gk(t,r);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gk(t,r)}}function o0e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function l0e(t){if(Array.isArray(t))return gk(t)}function gk(t,r){(r==null||r>t.length)&&(r=t.length);for(var n=0,s=new Array(r);n<r;n++)s[n]=t[n];return s}function bD(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,s)}return n}function pn(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?bD(Object(n),!0).forEach(function(s){$h(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bD(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function $h(t,r,n){return r=c0e(r),r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function c0e(t){var r=d0e(t,"string");return Up(r)=="symbol"?r:r+""}function d0e(t,r){if(Up(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,r);if(Up(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function Nn(t,r,n){return Mt(t)||Mt(r)?n:Fn(r)?_a(t,r,n):St(r)?r(t):n}function ap(t,r,n,s){var a=lge(t,function(l){return Nn(l,r)});if(n==="number"){var i=a.filter(function(l){return Be(l)||parseFloat(l)});return i.length?[Zy(i),wc(i)]:[1/0,-1/0]}var o=s?a.filter(function(l){return!Mt(l)}):a;return o.map(function(l){return Fn(l)||l instanceof Date?l:""})}var u0e=function(r){var n,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,l=(n=s==null?void 0:s.length)!==null&&n!==void 0?n:0;if(l<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var c=i.range,u=0;u<l;u++){var m=u>0?a[u-1].coordinate:a[l-1].coordinate,p=a[u].coordinate,x=u>=l-1?a[0].coordinate:a[u+1].coordinate,v=void 0;if(Ms(p-m)!==Ms(x-p)){var w=[];if(Ms(x-p)===Ms(c[1]-c[0])){v=x;var y=p+c[1]-c[0];w[0]=Math.min(y,(y+m)/2),w[1]=Math.max(y,(y+m)/2)}else{v=m;var j=x+c[1]-c[0];w[0]=Math.min(p,(j+p)/2),w[1]=Math.max(p,(j+p)/2)}var S=[Math.min(p,(v+p)/2),Math.max(p,(v+p)/2)];if(r>S[0]&&r<=S[1]||r>=w[0]&&r<=w[1]){o=a[u].index;break}}else{var C=Math.min(m,x),P=Math.max(m,x);if(r>(C+p)/2&&r<=(P+p)/2){o=a[u].index;break}}}else for(var T=0;T<l;T++)if(T===0&&r<=(s[T].coordinate+s[T+1].coordinate)/2||T>0&&T<l-1&&r>(s[T].coordinate+s[T-1].coordinate)/2&&r<=(s[T].coordinate+s[T+1].coordinate)/2||T===l-1&&r>(s[T].coordinate+s[T-1].coordinate)/2){o=s[T].index;break}return o},l6=function(r){var n,s=r,a=s.type.displayName,i=(n=r.type)!==null&&n!==void 0&&n.defaultProps?pn(pn({},r.type.defaultProps),r.props):r.props,o=i.stroke,l=i.fill,c;switch(a){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},h0e=function(r){var n=r.barSize,s=r.totalSize,a=r.stackGroups,i=a===void 0?{}:a;if(!i)return{};for(var o={},l=Object.keys(i),c=0,u=l.length;c<u;c++)for(var m=i[l[c]].stackGroups,p=Object.keys(m),x=0,v=p.length;x<v;x++){var w=m[p[x]],y=w.items,j=w.cateAxisId,S=y.filter(function(M){return pl(M.type).indexOf("Bar")>=0});if(S&&S.length){var C=S[0].type.defaultProps,P=C!==void 0?pn(pn({},C),S[0].props):S[0].props,T=P.barSize,_=P[j];o[_]||(o[_]=[]);var k=Mt(T)?n:T;o[_].push({item:S[0],stackList:S.slice(1),barSize:Mt(k)?void 0:Ds(k,s,0)})}}return o},m0e=function(r){var n=r.barGap,s=r.barCategoryGap,a=r.bandSize,i=r.sizeList,o=i===void 0?[]:i,l=r.maxBarSize,c=o.length;if(c<1)return null;var u=Ds(n,a,0,!0),m,p=[];if(o[0].barSize===+o[0].barSize){var x=!1,v=a/c,w=o.reduce(function(T,_){return T+_.barSize||0},0);w+=(c-1)*u,w>=a&&(w-=(c-1)*u,u=0),w>=a&&v>0&&(x=!0,v*=.9,w=c*v);var y=(a-w)/2>>0,j={offset:y-u,size:0};m=o.reduce(function(T,_){var k={item:_.item,position:{offset:j.offset+j.size+u,size:x?v:_.barSize}},M=[].concat(yD(T),[k]);return j=M[M.length-1].position,_.stackList&&_.stackList.length&&_.stackList.forEach(function($){M.push({item:$,position:j})}),M},p)}else{var S=Ds(s,a,0,!0);a-2*S-(c-1)*u<=0&&(u=0);var C=(a-2*S-(c-1)*u)/c;C>1&&(C>>=0);var P=l===+l?Math.min(C,l):C;m=o.reduce(function(T,_,k){var M=[].concat(yD(T),[{item:_.item,position:{offset:S+(C+u)*k+(C-P)/2,size:P}}]);return _.stackList&&_.stackList.length&&_.stackList.forEach(function($){M.push({item:$,position:M[M.length-1].position})}),M},p)}return m},f0e=function(r,n,s,a){var i=s.children,o=s.width,l=s.margin,c=o-(l.left||0)-(l.right||0),u=WF({children:i,legendWidth:c});if(u){var m=a||{},p=m.width,x=m.height,v=u.align,w=u.verticalAlign,y=u.layout;if((y==="vertical"||y==="horizontal"&&w==="middle")&&v!=="center"&&Be(r[v]))return pn(pn({},r),{},$h({},v,r[v]+(p||0)));if((y==="horizontal"||y==="vertical"&&v==="center")&&w!=="middle"&&Be(r[w]))return pn(pn({},r),{},$h({},w,r[w]+(x||0)))}return r},p0e=function(r,n,s){return Mt(n)?!0:r==="horizontal"?n==="yAxis":r==="vertical"||s==="x"?n==="xAxis":s==="y"?n==="yAxis":!0},qF=function(r,n,s,a,i){var o=n.props.children,l=ka(o,Px).filter(function(u){return p0e(a,i,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return r.reduce(function(u,m){var p=Nn(m,s);if(Mt(p))return u;var x=Array.isArray(p)?[Zy(p),wc(p)]:[p,p],v=c.reduce(function(w,y){var j=Nn(m,y,0),S=x[0]-Math.abs(Array.isArray(j)?j[0]:j),C=x[1]+Math.abs(Array.isArray(j)?j[1]:j);return[Math.min(S,w[0]),Math.max(C,w[1])]},[1/0,-1/0]);return[Math.min(v[0],u[0]),Math.max(v[1],u[1])]},[1/0,-1/0])}return null},x0e=function(r,n,s,a,i){var o=n.map(function(l){return qF(r,l,s,i,a)}).filter(function(l){return!Mt(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},VF=function(r,n,s,a,i){var o=n.map(function(c){var u=c.props.dataKey;return s==="number"&&u&&qF(r,c,u,a)||ap(r,u,s,i)});if(s==="number")return o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,u){for(var m=0,p=u.length;m<p;m++)l[u[m]]||(l[u[m]]=!0,c.push(u[m]));return c},[])},GF=function(r,n){return r==="horizontal"&&n==="xAxis"||r==="vertical"&&n==="yAxis"||r==="centric"&&n==="angleAxis"||r==="radial"&&n==="radiusAxis"},KF=function(r,n,s,a){if(a)return r.map(function(c){return c.coordinate});var i,o,l=r.map(function(c){return c.coordinate===n&&(i=!0),c.coordinate===s&&(o=!0),c.coordinate});return i||l.push(n),o||l.push(s),l},cl=function(r,n,s){if(!r)return null;var a=r.scale,i=r.duplicateDomain,o=r.type,l=r.range,c=r.realScaleType==="scaleBand"?a.bandwidth()/2:2,u=(n||s)&&o==="category"&&a.bandwidth?a.bandwidth()/c:0;if(u=r.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?Ms(l[0]-l[1])*2*u:u,n&&(r.ticks||r.niceTicks)){var m=(r.ticks||r.niceTicks).map(function(p){var x=i?i.indexOf(p):p;return{coordinate:a(x)+u,value:p,offset:u}});return m.filter(function(p){return!Mm(p.coordinate)})}return r.isCategorical&&r.categoricalDomain?r.categoricalDomain.map(function(p,x){return{coordinate:a(p)+u,value:p,index:x,offset:u}}):a.ticks&&!s?a.ticks(r.tickCount).map(function(p){return{coordinate:a(p)+u,value:p,offset:u}}):a.domain().map(function(p,x){return{coordinate:a(p)+u,value:i?i[p]:p,index:x,offset:u}})},J2=new WeakMap,m0=function(r,n){if(typeof n!="function")return r;J2.has(r)||J2.set(r,new WeakMap);var s=J2.get(r);if(s.has(n))return s.get(n);var a=function(){r.apply(void 0,arguments),n.apply(void 0,arguments)};return s.set(n,a),a},YF=function(r,n,s){var a=r.scale,i=r.type,o=r.layout,l=r.axisType;if(a==="auto")return o==="radial"&&l==="radiusAxis"?{scale:Dp(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:dv(),realScaleType:"linear"}:i==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!s)?{scale:sp(),realScaleType:"point"}:i==="category"?{scale:Dp(),realScaleType:"band"}:{scale:dv(),realScaleType:"linear"};if(wx(a)){var c="scale".concat(Ry(a));return{scale:(aD[c]||sp)(),realScaleType:aD[c]?c:"point"}}return St(a)?{scale:a}:{scale:sp(),realScaleType:"point"}},jD=1e-4,ZF=function(r){var n=r.domain();if(!(!n||n.length<=2)){var s=n.length,a=r.range(),i=Math.min(a[0],a[1])-jD,o=Math.max(a[0],a[1])+jD,l=r(n[0]),c=r(n[s-1]);(l<i||l>o||c<i||c>o)&&r.domain([n[0],n[s-1]])}},g0e=function(r,n){if(!r)return null;for(var s=0,a=r.length;s<a;s++)if(r[s].item===n)return r[s].position;return null},v0e=function(r,n){if(!n||n.length!==2||!Be(n[0])||!Be(n[1]))return r;var s=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]),i=[r[0],r[1]];return(!Be(r[0])||r[0]<s)&&(i[0]=s),(!Be(r[1])||r[1]>a)&&(i[1]=a),i[0]>a&&(i[0]=a),i[1]<s&&(i[1]=s),i},y0e=function(r){var n=r.length;if(!(n<=0))for(var s=0,a=r[0].length;s<a;++s)for(var i=0,o=0,l=0;l<n;++l){var c=Mm(r[l][s][1])?r[l][s][0]:r[l][s][1];c>=0?(r[l][s][0]=i,r[l][s][1]=i+c,i=r[l][s][1]):(r[l][s][0]=o,r[l][s][1]=o+c,o=r[l][s][1])}},b0e=function(r){var n=r.length;if(!(n<=0))for(var s=0,a=r[0].length;s<a;++s)for(var i=0,o=0;o<n;++o){var l=Mm(r[o][s][1])?r[o][s][0]:r[o][s][1];l>=0?(r[o][s][0]=i,r[o][s][1]=i+l,i=r[o][s][1]):(r[o][s][0]=0,r[o][s][1]=0)}},j0e={sign:y0e,expand:lue,none:qh,silhouette:cue,wiggle:due,positive:b0e},w0e=function(r,n,s){var a=n.map(function(l){return l.props.dataKey}),i=j0e[s],o=oue().keys(a).value(function(l,c){return+Nn(l,c,0)}).order(G_).offset(i);return o(r)},N0e=function(r,n,s,a,i,o){if(!r)return null;var l=o?n.reverse():n,c={},u=l.reduce(function(p,x){var v,w=(v=x.type)!==null&&v!==void 0&&v.defaultProps?pn(pn({},x.type.defaultProps),x.props):x.props,y=w.stackId,j=w.hide;if(j)return p;var S=w[s],C=p[S]||{hasStack:!1,stackGroups:{}};if(Fn(y)){var P=C.stackGroups[y]||{numericAxisId:s,cateAxisId:a,items:[]};P.items.push(x),C.hasStack=!0,C.stackGroups[y]=P}else C.stackGroups[du("_stackId_")]={numericAxisId:s,cateAxisId:a,items:[x]};return pn(pn({},p),{},$h({},S,C))},c),m={};return Object.keys(u).reduce(function(p,x){var v=u[x];if(v.hasStack){var w={};v.stackGroups=Object.keys(v.stackGroups).reduce(function(y,j){var S=v.stackGroups[j];return pn(pn({},y),{},$h({},j,{numericAxisId:s,cateAxisId:a,items:S.items,stackedData:w0e(r,S.items,i)}))},w)}return pn(pn({},p),{},$h({},x,v))},m)},XF=function(r,n){var s=n.realScaleType,a=n.type,i=n.tickCount,o=n.originalDomain,l=n.allowDecimals,c=s||n.scale;if(c!=="auto"&&c!=="linear")return null;if(i&&a==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=r.domain();if(!u.length)return null;var m=Lge(u,i,l);return r.domain([Zy(m),wc(m)]),{niceTicks:m}}if(i&&a==="number"){var p=r.domain(),x=$ge(p,i,l);return{niceTicks:x}}return null};function gv(t){var r=t.axis,n=t.ticks,s=t.bandSize,a=t.entry,i=t.index,o=t.dataKey;if(r.type==="category"){if(!r.allowDuplicatedCategory&&r.dataKey&&!Mt(a[r.dataKey])){var l=V0(n,"value",a[r.dataKey]);if(l)return l.coordinate+s/2}return n[i]?n[i].coordinate+s/2:null}var c=Nn(a,Mt(o)?r.dataKey:o);return Mt(c)?null:r.scale(c)}var wD=function(r){var n=r.axis,s=r.ticks,a=r.offset,i=r.bandSize,o=r.entry,l=r.index;if(n.type==="category")return s[l]?s[l].coordinate+a:null;var c=Nn(o,n.dataKey,n.domain[l]);return Mt(c)?null:n.scale(c)-i/2+a},S0e=function(r){var n=r.numericAxis,s=n.scale.domain();if(n.type==="number"){var a=Math.min(s[0],s[1]),i=Math.max(s[0],s[1]);return a<=0&&i>=0?0:i<0?i:a}return s[0]},_0e=function(r,n){var s,a=(s=r.type)!==null&&s!==void 0&&s.defaultProps?pn(pn({},r.type.defaultProps),r.props):r.props,i=a.stackId;if(Fn(i)){var o=n[i];if(o){var l=o.items.indexOf(r);return l>=0?o.stackedData[l]:null}}return null},k0e=function(r){return r.reduce(function(n,s){return[Zy(s.concat([n[0]]).filter(Be)),wc(s.concat([n[1]]).filter(Be))]},[1/0,-1/0])},JF=function(r,n,s){return Object.keys(r).reduce(function(a,i){var o=r[i],l=o.stackedData,c=l.reduce(function(u,m){var p=k0e(m.slice(n,s+1));return[Math.min(u[0],p[0]),Math.max(u[1],p[1])]},[1/0,-1/0]);return[Math.min(c[0],a[0]),Math.max(c[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},ND=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,SD=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,vk=function(r,n,s){if(St(r))return r(n,s);if(!Array.isArray(r))return n;var a=[];if(Be(r[0]))a[0]=s?r[0]:Math.min(r[0],n[0]);else if(ND.test(r[0])){var i=+ND.exec(r[0])[1];a[0]=n[0]-i}else St(r[0])?a[0]=r[0](n[0]):a[0]=n[0];if(Be(r[1]))a[1]=s?r[1]:Math.max(r[1],n[1]);else if(SD.test(r[1])){var o=+SD.exec(r[1])[1];a[1]=n[1]+o}else St(r[1])?a[1]=r[1](n[1]):a[1]=n[1];return a},vv=function(r,n,s){if(r&&r.scale&&r.scale.bandwidth){var a=r.scale.bandwidth();if(!s||a>0)return a}if(r&&n&&n.length>=2){for(var i=I4(n,function(p){return p.coordinate}),o=1/0,l=1,c=i.length;l<c;l++){var u=i[l],m=i[l-1];o=Math.min((u.coordinate||0)-(m.coordinate||0),o)}return o===1/0?0:o}return s?void 0:0},_D=function(r,n,s){return!r||!r.length||Jd(r,_a(s,"type.defaultProps.domain"))?n:r},QF=function(r,n){var s=r.type.defaultProps?pn(pn({},r.type.defaultProps),r.props):r.props,a=s.dataKey,i=s.name,o=s.unit,l=s.formatter,c=s.tooltipType,u=s.chartType,m=s.hide;return pn(pn({},ut(r,!1)),{},{dataKey:a,unit:o,formatter:l,name:i||a,color:l6(r),value:Nn(n,a),type:c,payload:n,chartType:u,hide:m})};function Hp(t){"@babel/helpers - typeof";return Hp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Hp(t)}function kD(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,s)}return n}function il(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?kD(Object(n),!0).forEach(function(s){ez(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kD(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function ez(t,r,n){return r=C0e(r),r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function C0e(t){var r=P0e(t,"string");return Hp(r)=="symbol"?r:r+""}function P0e(t,r){if(Hp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,r);if(Hp(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function A0e(t,r){return M0e(t)||O0e(t,r)||T0e(t,r)||E0e()}function E0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function T0e(t,r){if(t){if(typeof t=="string")return CD(t,r);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return CD(t,r)}}function CD(t,r){(r==null||r>t.length)&&(r=t.length);for(var n=0,s=new Array(r);n<r;n++)s[n]=t[n];return s}function O0e(t,r){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var s,a,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(t)).next,r!==0)for(;!(c=(s=i.call(n)).done)&&(l.push(s.value),l.length!==r);c=!0);}catch(m){u=!0,a=m}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function M0e(t){if(Array.isArray(t))return t}var yv=Math.PI/180,D0e=function(r){return r*180/Math.PI},Ir=function(r,n,s,a){return{x:r+Math.cos(-yv*a)*s,y:n+Math.sin(-yv*a)*s}},tz=function(r,n){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(r-(s.left||0)-(s.right||0)),Math.abs(n-(s.top||0)-(s.bottom||0)))/2},R0e=function(r,n,s,a,i){var o=r.width,l=r.height,c=r.startAngle,u=r.endAngle,m=Ds(r.cx,o,o/2),p=Ds(r.cy,l,l/2),x=tz(o,l,s),v=Ds(r.innerRadius,x,0),w=Ds(r.outerRadius,x,x*.8),y=Object.keys(n);return y.reduce(function(j,S){var C=n[S],P=C.domain,T=C.reversed,_;if(Mt(C.range))a==="angleAxis"?_=[c,u]:a==="radiusAxis"&&(_=[v,w]),T&&(_=[_[1],_[0]]);else{_=C.range;var k=_,M=A0e(k,2);c=M[0],u=M[1]}var $=YF(C,i),B=$.realScaleType,F=$.scale;F.domain(P).range(_),ZF(F);var H=XF(F,il(il({},C),{},{realScaleType:B})),K=il(il(il({},C),H),{},{range:_,radius:w,realScaleType:B,scale:F,cx:m,cy:p,innerRadius:v,outerRadius:w,startAngle:c,endAngle:u});return il(il({},j),{},ez({},S,K))},{})},I0e=function(r,n){var s=r.x,a=r.y,i=n.x,o=n.y;return Math.sqrt(Math.pow(s-i,2)+Math.pow(a-o,2))},L0e=function(r,n){var s=r.x,a=r.y,i=n.cx,o=n.cy,l=I0e({x:s,y:a},{x:i,y:o});if(l<=0)return{radius:l};var c=(s-i)/l,u=Math.acos(c);return a>o&&(u=2*Math.PI-u),{radius:l,angle:D0e(u),angleInRadian:u}},$0e=function(r){var n=r.startAngle,s=r.endAngle,a=Math.floor(n/360),i=Math.floor(s/360),o=Math.min(a,i);return{startAngle:n-o*360,endAngle:s-o*360}},B0e=function(r,n){var s=n.startAngle,a=n.endAngle,i=Math.floor(s/360),o=Math.floor(a/360),l=Math.min(i,o);return r+l*360},PD=function(r,n){var s=r.x,a=r.y,i=L0e({x:s,y:a},n),o=i.radius,l=i.angle,c=n.innerRadius,u=n.outerRadius;if(o<c||o>u)return!1;if(o===0)return!0;var m=$0e(n),p=m.startAngle,x=m.endAngle,v=l,w;if(p<=x){for(;v>x;)v-=360;for(;v<p;)v+=360;w=v>=p&&v<=x}else{for(;v>p;)v-=360;for(;v<x;)v+=360;w=v>=x&&v<=p}return w?il(il({},n),{},{radius:o,angle:B0e(v,n)}):null},rz=function(r){return!N.isValidElement(r)&&!St(r)&&typeof r!="boolean"?r.className:""};function Wp(t){"@babel/helpers - typeof";return Wp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Wp(t)}var F0e=["offset"];function z0e(t){return q0e(t)||W0e(t)||H0e(t)||U0e()}function U0e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function H0e(t,r){if(t){if(typeof t=="string")return yk(t,r);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yk(t,r)}}function W0e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function q0e(t){if(Array.isArray(t))return yk(t)}function yk(t,r){(r==null||r>t.length)&&(r=t.length);for(var n=0,s=new Array(r);n<r;n++)s[n]=t[n];return s}function V0e(t,r){if(t==null)return{};var n=G0e(t,r),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)s=i[a],!(r.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(n[s]=t[s])}return n}function G0e(t,r){if(t==null)return{};var n={};for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(r.indexOf(s)>=0)continue;n[s]=t[s]}return n}function AD(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,s)}return n}function Ln(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?AD(Object(n),!0).forEach(function(s){K0e(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AD(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function K0e(t,r,n){return r=Y0e(r),r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function Y0e(t){var r=Z0e(t,"string");return Wp(r)=="symbol"?r:r+""}function Z0e(t,r){if(Wp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,r);if(Wp(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function qp(){return qp=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},qp.apply(this,arguments)}var X0e=function(r){var n=r.value,s=r.formatter,a=Mt(r.children)?n:r.children;return St(s)?s(a):a},J0e=function(r,n){var s=Ms(n-r),a=Math.min(Math.abs(n-r),360);return s*a},Q0e=function(r,n,s){var a=r.position,i=r.viewBox,o=r.offset,l=r.className,c=i,u=c.cx,m=c.cy,p=c.innerRadius,x=c.outerRadius,v=c.startAngle,w=c.endAngle,y=c.clockWise,j=(p+x)/2,S=J0e(v,w),C=S>=0?1:-1,P,T;a==="insideStart"?(P=v+C*o,T=y):a==="insideEnd"?(P=w-C*o,T=!y):a==="end"&&(P=w+C*o,T=y),T=S<=0?T:!T;var _=Ir(u,m,j,P),k=Ir(u,m,j,P+(T?1:-1)*359),M="M".concat(_.x,",").concat(_.y,`
    A`).concat(j,",").concat(j,",0,1,").concat(T?0:1,`,
    `).concat(k.x,",").concat(k.y),$=Mt(r.id)?du("recharts-radial-line-"):r.id;return ce.createElement("text",qp({},s,{dominantBaseline:"central",className:Lt("recharts-radial-bar-label",l)}),ce.createElement("defs",null,ce.createElement("path",{id:$,d:M})),ce.createElement("textPath",{xlinkHref:"#".concat($)},n))},eve=function(r){var n=r.viewBox,s=r.offset,a=r.position,i=n,o=i.cx,l=i.cy,c=i.innerRadius,u=i.outerRadius,m=i.startAngle,p=i.endAngle,x=(m+p)/2;if(a==="outside"){var v=Ir(o,l,u+s,x),w=v.x,y=v.y;return{x:w,y,textAnchor:w>=o?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var j=(c+u)/2,S=Ir(o,l,j,x),C=S.x,P=S.y;return{x:C,y:P,textAnchor:"middle",verticalAnchor:"middle"}},tve=function(r){var n=r.viewBox,s=r.parentViewBox,a=r.offset,i=r.position,o=n,l=o.x,c=o.y,u=o.width,m=o.height,p=m>=0?1:-1,x=p*a,v=p>0?"end":"start",w=p>0?"start":"end",y=u>=0?1:-1,j=y*a,S=y>0?"end":"start",C=y>0?"start":"end";if(i==="top"){var P={x:l+u/2,y:c-p*a,textAnchor:"middle",verticalAnchor:v};return Ln(Ln({},P),s?{height:Math.max(c-s.y,0),width:u}:{})}if(i==="bottom"){var T={x:l+u/2,y:c+m+x,textAnchor:"middle",verticalAnchor:w};return Ln(Ln({},T),s?{height:Math.max(s.y+s.height-(c+m),0),width:u}:{})}if(i==="left"){var _={x:l-j,y:c+m/2,textAnchor:S,verticalAnchor:"middle"};return Ln(Ln({},_),s?{width:Math.max(_.x-s.x,0),height:m}:{})}if(i==="right"){var k={x:l+u+j,y:c+m/2,textAnchor:C,verticalAnchor:"middle"};return Ln(Ln({},k),s?{width:Math.max(s.x+s.width-k.x,0),height:m}:{})}var M=s?{width:u,height:m}:{};return i==="insideLeft"?Ln({x:l+j,y:c+m/2,textAnchor:C,verticalAnchor:"middle"},M):i==="insideRight"?Ln({x:l+u-j,y:c+m/2,textAnchor:S,verticalAnchor:"middle"},M):i==="insideTop"?Ln({x:l+u/2,y:c+x,textAnchor:"middle",verticalAnchor:w},M):i==="insideBottom"?Ln({x:l+u/2,y:c+m-x,textAnchor:"middle",verticalAnchor:v},M):i==="insideTopLeft"?Ln({x:l+j,y:c+x,textAnchor:C,verticalAnchor:w},M):i==="insideTopRight"?Ln({x:l+u-j,y:c+x,textAnchor:S,verticalAnchor:w},M):i==="insideBottomLeft"?Ln({x:l+j,y:c+m-x,textAnchor:C,verticalAnchor:v},M):i==="insideBottomRight"?Ln({x:l+u-j,y:c+m-x,textAnchor:S,verticalAnchor:v},M):Om(i)&&(Be(i.x)||Od(i.x))&&(Be(i.y)||Od(i.y))?Ln({x:l+Ds(i.x,u),y:c+Ds(i.y,m),textAnchor:"end",verticalAnchor:"end"},M):Ln({x:l+u/2,y:c+m/2,textAnchor:"middle",verticalAnchor:"middle"},M)},rve=function(r){return"cx"in r&&Be(r.cx)};function Gn(t){var r=t.offset,n=r===void 0?5:r,s=V0e(t,F0e),a=Ln({offset:n},s),i=a.viewBox,o=a.position,l=a.value,c=a.children,u=a.content,m=a.className,p=m===void 0?"":m,x=a.textBreakAll;if(!i||Mt(l)&&Mt(c)&&!N.isValidElement(u)&&!St(u))return null;if(N.isValidElement(u))return N.cloneElement(u,a);var v;if(St(u)){if(v=N.createElement(u,a),N.isValidElement(v))return v}else v=X0e(a);var w=rve(i),y=ut(a,!0);if(w&&(o==="insideStart"||o==="insideEnd"||o==="end"))return Q0e(a,v,y);var j=w?eve(a):tve(a);return ce.createElement(Xd,qp({className:Lt("recharts-label",p)},y,j,{breakAll:x}),v)}Gn.displayName="Label";var nz=function(r){var n=r.cx,s=r.cy,a=r.angle,i=r.startAngle,o=r.endAngle,l=r.r,c=r.radius,u=r.innerRadius,m=r.outerRadius,p=r.x,x=r.y,v=r.top,w=r.left,y=r.width,j=r.height,S=r.clockWise,C=r.labelViewBox;if(C)return C;if(Be(y)&&Be(j)){if(Be(p)&&Be(x))return{x:p,y:x,width:y,height:j};if(Be(v)&&Be(w))return{x:v,y:w,width:y,height:j}}return Be(p)&&Be(x)?{x:p,y:x,width:0,height:0}:Be(n)&&Be(s)?{cx:n,cy:s,startAngle:i||a||0,endAngle:o||a||0,innerRadius:u||0,outerRadius:m||c||l||0,clockWise:S}:r.viewBox?r.viewBox:{}},nve=function(r,n){return r?r===!0?ce.createElement(Gn,{key:"label-implicit",viewBox:n}):Fn(r)?ce.createElement(Gn,{key:"label-implicit",viewBox:n,value:r}):N.isValidElement(r)?r.type===Gn?N.cloneElement(r,{key:"label-implicit",viewBox:n}):ce.createElement(Gn,{key:"label-implicit",content:r,viewBox:n}):St(r)?ce.createElement(Gn,{key:"label-implicit",content:r,viewBox:n}):Om(r)?ce.createElement(Gn,qp({viewBox:n},r,{key:"label-implicit"})):null:null},sve=function(r,n){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!r||!r.children&&s&&!r.label)return null;var a=r.children,i=nz(r),o=ka(a,Gn).map(function(c,u){return N.cloneElement(c,{viewBox:n||i,key:"label-".concat(u)})});if(!s)return o;var l=nve(r.label,n||i);return[l].concat(z0e(o))};Gn.parseViewBox=nz;Gn.renderCallByParent=sve;var Q2,ED;function ave(){if(ED)return Q2;ED=1;function t(r){var n=r==null?0:r.length;return n?r[n-1]:void 0}return Q2=t,Q2}var ive=ave();const ove=ar(ive);function Vp(t){"@babel/helpers - typeof";return Vp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Vp(t)}var lve=["valueAccessor"],cve=["data","dataKey","clockWise","id","textBreakAll"];function dve(t){return fve(t)||mve(t)||hve(t)||uve()}function uve(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hve(t,r){if(t){if(typeof t=="string")return bk(t,r);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bk(t,r)}}function mve(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function fve(t){if(Array.isArray(t))return bk(t)}function bk(t,r){(r==null||r>t.length)&&(r=t.length);for(var n=0,s=new Array(r);n<r;n++)s[n]=t[n];return s}function bv(){return bv=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},bv.apply(this,arguments)}function TD(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,s)}return n}function OD(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?TD(Object(n),!0).forEach(function(s){pve(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TD(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function pve(t,r,n){return r=xve(r),r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function xve(t){var r=gve(t,"string");return Vp(r)=="symbol"?r:r+""}function gve(t,r){if(Vp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,r);if(Vp(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function MD(t,r){if(t==null)return{};var n=vve(t,r),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)s=i[a],!(r.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(n[s]=t[s])}return n}function vve(t,r){if(t==null)return{};var n={};for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(r.indexOf(s)>=0)continue;n[s]=t[s]}return n}var yve=function(r){return Array.isArray(r.value)?ove(r.value):r.value};function bo(t){var r=t.valueAccessor,n=r===void 0?yve:r,s=MD(t,lve),a=s.data,i=s.dataKey,o=s.clockWise,l=s.id,c=s.textBreakAll,u=MD(s,cve);return!a||!a.length?null:ce.createElement(Vt,{className:"recharts-label-list"},a.map(function(m,p){var x=Mt(i)?n(m,p):Nn(m&&m.payload,i),v=Mt(l)?{}:{id:"".concat(l,"-").concat(p)};return ce.createElement(Gn,bv({},ut(m,!0),u,v,{parentViewBox:m.parentViewBox,value:x,textBreakAll:c,viewBox:Gn.parseViewBox(Mt(o)?m:OD(OD({},m),{},{clockWise:o})),key:"label-".concat(p),index:p}))}))}bo.displayName="LabelList";function bve(t,r){return t?t===!0?ce.createElement(bo,{key:"labelList-implicit",data:r}):ce.isValidElement(t)||St(t)?ce.createElement(bo,{key:"labelList-implicit",data:r,content:t}):Om(t)?ce.createElement(bo,bv({data:r},t,{key:"labelList-implicit"})):null:null}function jve(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var s=t.children,a=ka(s,bo).map(function(o,l){return N.cloneElement(o,{data:r,key:"labelList-".concat(l)})});if(!n)return a;var i=bve(t.label,r);return[i].concat(dve(a))}bo.renderCallByParent=jve;function Gp(t){"@babel/helpers - typeof";return Gp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Gp(t)}function jk(){return jk=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},jk.apply(this,arguments)}function DD(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,s)}return n}function RD(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?DD(Object(n),!0).forEach(function(s){wve(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DD(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function wve(t,r,n){return r=Nve(r),r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function Nve(t){var r=Sve(t,"string");return Gp(r)=="symbol"?r:r+""}function Sve(t,r){if(Gp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,r);if(Gp(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}var _ve=function(r,n){var s=Ms(n-r),a=Math.min(Math.abs(n-r),359.999);return s*a},f0=function(r){var n=r.cx,s=r.cy,a=r.radius,i=r.angle,o=r.sign,l=r.isExternal,c=r.cornerRadius,u=r.cornerIsExternal,m=c*(l?1:-1)+a,p=Math.asin(c/m)/yv,x=u?i:i+o*p,v=Ir(n,s,m,x),w=Ir(n,s,a,x),y=u?i-o*p:i,j=Ir(n,s,m*Math.cos(p*yv),y);return{center:v,circleTangency:w,lineTangency:j,theta:p}},sz=function(r){var n=r.cx,s=r.cy,a=r.innerRadius,i=r.outerRadius,o=r.startAngle,l=r.endAngle,c=_ve(o,l),u=o+c,m=Ir(n,s,i,o),p=Ir(n,s,i,u),x="M ".concat(m.x,",").concat(m.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>u),`,
    `).concat(p.x,",").concat(p.y,`
  `);if(a>0){var v=Ir(n,s,a,o),w=Ir(n,s,a,u);x+="L ".concat(w.x,",").concat(w.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=u),`,
            `).concat(v.x,",").concat(v.y," Z")}else x+="L ".concat(n,",").concat(s," Z");return x},kve=function(r){var n=r.cx,s=r.cy,a=r.innerRadius,i=r.outerRadius,o=r.cornerRadius,l=r.forceCornerRadius,c=r.cornerIsExternal,u=r.startAngle,m=r.endAngle,p=Ms(m-u),x=f0({cx:n,cy:s,radius:i,angle:u,sign:p,cornerRadius:o,cornerIsExternal:c}),v=x.circleTangency,w=x.lineTangency,y=x.theta,j=f0({cx:n,cy:s,radius:i,angle:m,sign:-p,cornerRadius:o,cornerIsExternal:c}),S=j.circleTangency,C=j.lineTangency,P=j.theta,T=c?Math.abs(u-m):Math.abs(u-m)-y-P;if(T<0)return l?"M ".concat(w.x,",").concat(w.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):sz({cx:n,cy:s,innerRadius:a,outerRadius:i,startAngle:u,endAngle:m});var _="M ".concat(w.x,",").concat(w.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(p<0),",").concat(v.x,",").concat(v.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(T>180),",").concat(+(p<0),",").concat(S.x,",").concat(S.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(p<0),",").concat(C.x,",").concat(C.y,`
  `);if(a>0){var k=f0({cx:n,cy:s,radius:a,angle:u,sign:p,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),M=k.circleTangency,$=k.lineTangency,B=k.theta,F=f0({cx:n,cy:s,radius:a,angle:m,sign:-p,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),H=F.circleTangency,K=F.lineTangency,Z=F.theta,V=c?Math.abs(u-m):Math.abs(u-m)-B-Z;if(V<0&&o===0)return"".concat(_,"L").concat(n,",").concat(s,"Z");_+="L".concat(K.x,",").concat(K.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(p<0),",").concat(H.x,",").concat(H.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(V>180),",").concat(+(p>0),",").concat(M.x,",").concat(M.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(p<0),",").concat($.x,",").concat($.y,"Z")}else _+="L".concat(n,",").concat(s,"Z");return _},Cve={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},az=function(r){var n=RD(RD({},Cve),r),s=n.cx,a=n.cy,i=n.innerRadius,o=n.outerRadius,l=n.cornerRadius,c=n.forceCornerRadius,u=n.cornerIsExternal,m=n.startAngle,p=n.endAngle,x=n.className;if(o<i||m===p)return null;var v=Lt("recharts-sector",x),w=o-i,y=Ds(l,w,0,!0),j;return y>0&&Math.abs(m-p)<360?j=kve({cx:s,cy:a,innerRadius:i,outerRadius:o,cornerRadius:Math.min(y,w/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:m,endAngle:p}):j=sz({cx:s,cy:a,innerRadius:i,outerRadius:o,startAngle:m,endAngle:p}),ce.createElement("path",jk({},ut(n,!0),{className:v,d:j,role:"img"}))};function Kp(t){"@babel/helpers - typeof";return Kp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Kp(t)}function wk(){return wk=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},wk.apply(this,arguments)}function ID(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,s)}return n}function LD(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?ID(Object(n),!0).forEach(function(s){Pve(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ID(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function Pve(t,r,n){return r=Ave(r),r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function Ave(t){var r=Eve(t,"string");return Kp(r)=="symbol"?r:r+""}function Eve(t,r){if(Kp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,r);if(Kp(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}var $D={curveBasisClosed:Zde,curveBasisOpen:Xde,curveBasis:Yde,curveBumpX:Rde,curveBumpY:Ide,curveLinearClosed:Jde,curveLinear:Ly,curveMonotoneX:Qde,curveMonotoneY:eue,curveNatural:tue,curveStep:rue,curveStepAfter:sue,curveStepBefore:nue},p0=function(r){return r.x===+r.x&&r.y===+r.y},Rf=function(r){return r.x},If=function(r){return r.y},Tve=function(r,n){if(St(r))return r;var s="curve".concat(Ry(r));return(s==="curveMonotone"||s==="curveBump")&&n?$D["".concat(s).concat(n==="vertical"?"Y":"X")]:$D[s]||Ly},Ove=function(r){var n=r.type,s=n===void 0?"linear":n,a=r.points,i=a===void 0?[]:a,o=r.baseLine,l=r.layout,c=r.connectNulls,u=c===void 0?!1:c,m=Tve(s,l),p=u?i.filter(function(y){return p0(y)}):i,x;if(Array.isArray(o)){var v=u?o.filter(function(y){return p0(y)}):o,w=p.map(function(y,j){return LD(LD({},y),{},{base:v[j]})});return l==="vertical"?x=i0().y(If).x1(Rf).x0(function(y){return y.base.x}):x=i0().x(Rf).y1(If).y0(function(y){return y.base.y}),x.defined(p0).curve(m),x(w)}return l==="vertical"&&Be(o)?x=i0().y(If).x1(Rf).x0(o):Be(o)?x=i0().x(Rf).y1(If).y0(o):x=nB().x(Rf).y(If),x.defined(p0).curve(m),x(p)},Ud=function(r){var n=r.className,s=r.points,a=r.path,i=r.pathRef;if((!s||!s.length)&&!a)return null;var o=s&&s.length?Ove(r):a;return ce.createElement("path",wk({},ut(r,!1),G0(r),{className:Lt("recharts-curve",n),d:o,ref:i}))},eS={exports:{}},tS,BD;function Mve(){if(BD)return tS;BD=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return tS=t,tS}var rS,FD;function Dve(){if(FD)return rS;FD=1;var t=Mve();function r(){}function n(){}return n.resetWarningCache=r,rS=function(){function s(o,l,c,u,m,p){if(p!==t){var x=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw x.name="Invariant Violation",x}}s.isRequired=s;function a(){return s}var i={array:s,bigint:s,bool:s,func:s,number:s,object:s,string:s,symbol:s,any:s,arrayOf:a,element:s,elementType:s,instanceOf:a,node:s,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:n,resetWarningCache:r};return i.PropTypes=i,i},rS}var zD;function Rve(){return zD||(zD=1,eS.exports=Dve()()),eS.exports}var Ive=Rve();const mr=ar(Ive),{getOwnPropertyNames:Lve,getOwnPropertySymbols:$ve}=Object,{hasOwnProperty:Bve}=Object.prototype;function nS(t,r){return function(s,a,i){return t(s,a,i)&&r(s,a,i)}}function x0(t){return function(n,s,a){if(!n||!s||typeof n!="object"||typeof s!="object")return t(n,s,a);const{cache:i}=a,o=i.get(n),l=i.get(s);if(o&&l)return o===s&&l===n;i.set(n,s),i.set(s,n);const c=t(n,s,a);return i.delete(n),i.delete(s),c}}function Fve(t){return t!=null?t[Symbol.toStringTag]:void 0}function UD(t){return Lve(t).concat($ve(t))}const zve=Object.hasOwn||((t,r)=>Bve.call(t,r));function mu(t,r){return t===r||!t&&!r&&t!==t&&r!==r}const Uve="__v",Hve="__o",Wve="_owner",{getOwnPropertyDescriptor:HD,keys:WD}=Object;function qve(t,r){return t.byteLength===r.byteLength&&jv(new Uint8Array(t),new Uint8Array(r))}function Vve(t,r,n){let s=t.length;if(r.length!==s)return!1;for(;s-- >0;)if(!n.equals(t[s],r[s],s,s,t,r,n))return!1;return!0}function Gve(t,r){return t.byteLength===r.byteLength&&jv(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(r.buffer,r.byteOffset,r.byteLength))}function Kve(t,r){return mu(t.getTime(),r.getTime())}function Yve(t,r){return t.name===r.name&&t.message===r.message&&t.cause===r.cause&&t.stack===r.stack}function Zve(t,r){return t===r}function qD(t,r,n){const s=t.size;if(s!==r.size)return!1;if(!s)return!0;const a=new Array(s),i=t.entries();let o,l,c=0;for(;(o=i.next())&&!o.done;){const u=r.entries();let m=!1,p=0;for(;(l=u.next())&&!l.done;){if(a[p]){p++;continue}const x=o.value,v=l.value;if(n.equals(x[0],v[0],c,p,t,r,n)&&n.equals(x[1],v[1],x[0],v[0],t,r,n)){m=a[p]=!0;break}p++}if(!m)return!1;c++}return!0}const Xve=mu;function Jve(t,r,n){const s=WD(t);let a=s.length;if(WD(r).length!==a)return!1;for(;a-- >0;)if(!iz(t,r,n,s[a]))return!1;return!0}function Lf(t,r,n){const s=UD(t);let a=s.length;if(UD(r).length!==a)return!1;let i,o,l;for(;a-- >0;)if(i=s[a],!iz(t,r,n,i)||(o=HD(t,i),l=HD(r,i),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function Qve(t,r){return mu(t.valueOf(),r.valueOf())}function eye(t,r){return t.source===r.source&&t.flags===r.flags}function VD(t,r,n){const s=t.size;if(s!==r.size)return!1;if(!s)return!0;const a=new Array(s),i=t.values();let o,l;for(;(o=i.next())&&!o.done;){const c=r.values();let u=!1,m=0;for(;(l=c.next())&&!l.done;){if(!a[m]&&n.equals(o.value,l.value,o.value,l.value,t,r,n)){u=a[m]=!0;break}m++}if(!u)return!1}return!0}function jv(t,r){let n=t.byteLength;if(r.byteLength!==n||t.byteOffset!==r.byteOffset)return!1;for(;n-- >0;)if(t[n]!==r[n])return!1;return!0}function tye(t,r){return t.hostname===r.hostname&&t.pathname===r.pathname&&t.protocol===r.protocol&&t.port===r.port&&t.hash===r.hash&&t.username===r.username&&t.password===r.password}function iz(t,r,n,s){return(s===Wve||s===Hve||s===Uve)&&(t.$$typeof||r.$$typeof)?!0:zve(r,s)&&n.equals(t[s],r[s],s,s,t,r,n)}const rye="[object ArrayBuffer]",nye="[object Arguments]",sye="[object Boolean]",aye="[object DataView]",iye="[object Date]",oye="[object Error]",lye="[object Map]",cye="[object Number]",dye="[object Object]",uye="[object RegExp]",hye="[object Set]",mye="[object String]",fye={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},pye="[object URL]",xye=Object.prototype.toString;function gye({areArrayBuffersEqual:t,areArraysEqual:r,areDataViewsEqual:n,areDatesEqual:s,areErrorsEqual:a,areFunctionsEqual:i,areMapsEqual:o,areNumbersEqual:l,areObjectsEqual:c,arePrimitiveWrappersEqual:u,areRegExpsEqual:m,areSetsEqual:p,areTypedArraysEqual:x,areUrlsEqual:v,unknownTagComparators:w}){return function(j,S,C){if(j===S)return!0;if(j==null||S==null)return!1;const P=typeof j;if(P!==typeof S)return!1;if(P!=="object")return P==="number"?l(j,S,C):P==="function"?i(j,S,C):!1;const T=j.constructor;if(T!==S.constructor)return!1;if(T===Object)return c(j,S,C);if(Array.isArray(j))return r(j,S,C);if(T===Date)return s(j,S,C);if(T===RegExp)return m(j,S,C);if(T===Map)return o(j,S,C);if(T===Set)return p(j,S,C);const _=xye.call(j);if(_===iye)return s(j,S,C);if(_===uye)return m(j,S,C);if(_===lye)return o(j,S,C);if(_===hye)return p(j,S,C);if(_===dye)return typeof j.then!="function"&&typeof S.then!="function"&&c(j,S,C);if(_===pye)return v(j,S,C);if(_===oye)return a(j,S,C);if(_===nye)return c(j,S,C);if(fye[_])return x(j,S,C);if(_===rye)return t(j,S,C);if(_===aye)return n(j,S,C);if(_===sye||_===cye||_===mye)return u(j,S,C);if(w){let k=w[_];if(!k){const M=Fve(j);M&&(k=w[M])}if(k)return k(j,S,C)}return!1}}function vye({circular:t,createCustomConfig:r,strict:n}){let s={areArrayBuffersEqual:qve,areArraysEqual:n?Lf:Vve,areDataViewsEqual:Gve,areDatesEqual:Kve,areErrorsEqual:Yve,areFunctionsEqual:Zve,areMapsEqual:n?nS(qD,Lf):qD,areNumbersEqual:Xve,areObjectsEqual:n?Lf:Jve,arePrimitiveWrappersEqual:Qve,areRegExpsEqual:eye,areSetsEqual:n?nS(VD,Lf):VD,areTypedArraysEqual:n?nS(jv,Lf):jv,areUrlsEqual:tye,unknownTagComparators:void 0};if(r&&(s=Object.assign({},s,r(s))),t){const a=x0(s.areArraysEqual),i=x0(s.areMapsEqual),o=x0(s.areObjectsEqual),l=x0(s.areSetsEqual);s=Object.assign({},s,{areArraysEqual:a,areMapsEqual:i,areObjectsEqual:o,areSetsEqual:l})}return s}function yye(t){return function(r,n,s,a,i,o,l){return t(r,n,l)}}function bye({circular:t,comparator:r,createState:n,equals:s,strict:a}){if(n)return function(l,c){const{cache:u=t?new WeakMap:void 0,meta:m}=n();return r(l,c,{cache:u,equals:s,meta:m,strict:a})};if(t)return function(l,c){return r(l,c,{cache:new WeakMap,equals:s,meta:void 0,strict:a})};const i={cache:void 0,equals:s,meta:void 0,strict:a};return function(l,c){return r(l,c,i)}}const jye=Fc();Fc({strict:!0});Fc({circular:!0});Fc({circular:!0,strict:!0});Fc({createInternalComparator:()=>mu});Fc({strict:!0,createInternalComparator:()=>mu});Fc({circular:!0,createInternalComparator:()=>mu});Fc({circular:!0,createInternalComparator:()=>mu,strict:!0});function Fc(t={}){const{circular:r=!1,createInternalComparator:n,createState:s,strict:a=!1}=t,i=vye(t),o=gye(i),l=n?n(o):yye(o);return bye({circular:r,comparator:o,createState:s,equals:l,strict:a})}function wye(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function GD(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,s=function a(i){n<0&&(n=i),i-n>r?(t(i),n=-1):wye(a)};requestAnimationFrame(s)}function Nk(t){"@babel/helpers - typeof";return Nk=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Nk(t)}function Nye(t){return Cye(t)||kye(t)||_ye(t)||Sye()}function Sye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _ye(t,r){if(t){if(typeof t=="string")return KD(t,r);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return KD(t,r)}}function KD(t,r){(r==null||r>t.length)&&(r=t.length);for(var n=0,s=new Array(r);n<r;n++)s[n]=t[n];return s}function kye(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Cye(t){if(Array.isArray(t))return t}function Pye(){var t={},r=function(){return null},n=!1,s=function a(i){if(!n){if(Array.isArray(i)){if(!i.length)return;var o=i,l=Nye(o),c=l[0],u=l.slice(1);if(typeof c=="number"){GD(a.bind(null,u),c);return}a(c),GD(a.bind(null,u));return}Nk(i)==="object"&&(t=i,r(t)),typeof i=="function"&&i()}};return{stop:function(){n=!0},start:function(i){n=!1,s(i)},subscribe:function(i){return r=i,function(){r=function(){return null}}}}}function Yp(t){"@babel/helpers - typeof";return Yp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Yp(t)}function YD(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,s)}return n}function ZD(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?YD(Object(n),!0).forEach(function(s){oz(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YD(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function oz(t,r,n){return r=Aye(r),r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function Aye(t){var r=Eye(t,"string");return Yp(r)==="symbol"?r:String(r)}function Eye(t,r){if(Yp(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,r);if(Yp(s)!=="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}var Tye=function(r,n){return[Object.keys(r),Object.keys(n)].reduce(function(s,a){return s.filter(function(i){return a.includes(i)})})},Oye=function(r){return r},Mye=function(r){return r.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},ip=function(r,n){return Object.keys(n).reduce(function(s,a){return ZD(ZD({},s),{},oz({},a,r(a,n[a])))},{})},XD=function(r,n,s){return r.map(function(a){return"".concat(Mye(a)," ").concat(n,"ms ").concat(s)}).join(",")};function Dye(t,r){return Lye(t)||Iye(t,r)||lz(t,r)||Rye()}function Rye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Iye(t,r){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var s,a,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(t)).next,r!==0)for(;!(c=(s=i.call(n)).done)&&(l.push(s.value),l.length!==r);c=!0);}catch(m){u=!0,a=m}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function Lye(t){if(Array.isArray(t))return t}function $ye(t){return zye(t)||Fye(t)||lz(t)||Bye()}function Bye(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lz(t,r){if(t){if(typeof t=="string")return Sk(t,r);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Sk(t,r)}}function Fye(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function zye(t){if(Array.isArray(t))return Sk(t)}function Sk(t,r){(r==null||r>t.length)&&(r=t.length);for(var n=0,s=new Array(r);n<r;n++)s[n]=t[n];return s}var wv=1e-4,cz=function(r,n){return[0,3*r,3*n-6*r,3*r-3*n+1]},dz=function(r,n){return r.map(function(s,a){return s*Math.pow(n,a)}).reduce(function(s,a){return s+a})},JD=function(r,n){return function(s){var a=cz(r,n);return dz(a,s)}},Uye=function(r,n){return function(s){var a=cz(r,n),i=[].concat($ye(a.map(function(o,l){return o*l}).slice(1)),[0]);return dz(i,s)}},QD=function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];var a=n[0],i=n[1],o=n[2],l=n[3];if(n.length===1)switch(n[0]){case"linear":a=0,i=0,o=1,l=1;break;case"ease":a=.25,i=.1,o=.25,l=1;break;case"ease-in":a=.42,i=0,o=1,l=1;break;case"ease-out":a=.42,i=0,o=.58,l=1;break;case"ease-in-out":a=0,i=0,o=.58,l=1;break;default:{var c=n[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(j){return parseFloat(j)}),m=Dye(u,4);a=m[0],i=m[1],o=m[2],l=m[3]}}}var p=JD(a,o),x=JD(i,l),v=Uye(a,o),w=function(S){return S>1?1:S<0?0:S},y=function(S){for(var C=S>1?1:S,P=C,T=0;T<8;++T){var _=p(P)-C,k=v(P);if(Math.abs(_-C)<wv||k<wv)return x(P);P=w(P-_/k)}return x(P)};return y.isStepper=!1,y},Hye=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=r.stiff,s=n===void 0?100:n,a=r.damping,i=a===void 0?8:a,o=r.dt,l=o===void 0?17:o,c=function(m,p,x){var v=-(m-p)*s,w=x*i,y=x+(v-w)*l/1e3,j=x*l/1e3+m;return Math.abs(j-p)<wv&&Math.abs(y)<wv?[p,0]:[j,y]};return c.isStepper=!0,c.dt=l,c},Wye=function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];var a=n[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return QD(a);case"spring":return Hye();default:if(a.split("(")[0]==="cubic-bezier")return QD(a)}return typeof a=="function"?a:null};function Zp(t){"@babel/helpers - typeof";return Zp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Zp(t)}function eR(t){return Gye(t)||Vye(t)||uz(t)||qye()}function qye(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vye(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Gye(t){if(Array.isArray(t))return kk(t)}function tR(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,s)}return n}function rs(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?tR(Object(n),!0).forEach(function(s){_k(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tR(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function _k(t,r,n){return r=Kye(r),r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function Kye(t){var r=Yye(t,"string");return Zp(r)==="symbol"?r:String(r)}function Yye(t,r){if(Zp(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,r);if(Zp(s)!=="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function Zye(t,r){return Qye(t)||Jye(t,r)||uz(t,r)||Xye()}function Xye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uz(t,r){if(t){if(typeof t=="string")return kk(t,r);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kk(t,r)}}function kk(t,r){(r==null||r>t.length)&&(r=t.length);for(var n=0,s=new Array(r);n<r;n++)s[n]=t[n];return s}function Jye(t,r){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var s,a,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(t)).next,r!==0)for(;!(c=(s=i.call(n)).done)&&(l.push(s.value),l.length!==r);c=!0);}catch(m){u=!0,a=m}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function Qye(t){if(Array.isArray(t))return t}var Nv=function(r,n,s){return r+(n-r)*s},Ck=function(r){var n=r.from,s=r.to;return n!==s},ebe=function t(r,n,s){var a=ip(function(i,o){if(Ck(o)){var l=r(o.from,o.to,o.velocity),c=Zye(l,2),u=c[0],m=c[1];return rs(rs({},o),{},{from:u,velocity:m})}return o},n);return s<1?ip(function(i,o){return Ck(o)?rs(rs({},o),{},{velocity:Nv(o.velocity,a[i].velocity,s),from:Nv(o.from,a[i].from,s)}):o},n):t(r,a,s-1)};const tbe=(function(t,r,n,s,a){var i=Tye(t,r),o=i.reduce(function(j,S){return rs(rs({},j),{},_k({},S,[t[S],r[S]]))},{}),l=i.reduce(function(j,S){return rs(rs({},j),{},_k({},S,{from:t[S],velocity:0,to:r[S]}))},{}),c=-1,u,m,p=function(){return null},x=function(){return ip(function(S,C){return C.from},l)},v=function(){return!Object.values(l).filter(Ck).length},w=function(S){u||(u=S);var C=S-u,P=C/n.dt;l=ebe(n,l,P),a(rs(rs(rs({},t),r),x())),u=S,v()||(c=requestAnimationFrame(p))},y=function(S){m||(m=S);var C=(S-m)/s,P=ip(function(_,k){return Nv.apply(void 0,eR(k).concat([n(C)]))},o);if(a(rs(rs(rs({},t),r),P)),C<1)c=requestAnimationFrame(p);else{var T=ip(function(_,k){return Nv.apply(void 0,eR(k).concat([n(1)]))},o);a(rs(rs(rs({},t),r),T))}};return p=n.isStepper?w:y,function(){return requestAnimationFrame(p),function(){cancelAnimationFrame(c)}}});function em(t){"@babel/helpers - typeof";return em=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},em(t)}var rbe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function nbe(t,r){if(t==null)return{};var n=sbe(t,r),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)s=i[a],!(r.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(n[s]=t[s])}return n}function sbe(t,r){if(t==null)return{};var n={},s=Object.keys(t),a,i;for(i=0;i<s.length;i++)a=s[i],!(r.indexOf(a)>=0)&&(n[a]=t[a]);return n}function sS(t){return lbe(t)||obe(t)||ibe(t)||abe()}function abe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ibe(t,r){if(t){if(typeof t=="string")return Pk(t,r);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Pk(t,r)}}function obe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function lbe(t){if(Array.isArray(t))return Pk(t)}function Pk(t,r){(r==null||r>t.length)&&(r=t.length);for(var n=0,s=new Array(r);n<r;n++)s[n]=t[n];return s}function rR(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,s)}return n}function Si(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?rR(Object(n),!0).forEach(function(s){Kf(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rR(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function Kf(t,r,n){return r=hz(r),r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function cbe(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function dbe(t,r){for(var n=0;n<r.length;n++){var s=r[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,hz(s.key),s)}}function ube(t,r,n){return r&&dbe(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function hz(t){var r=hbe(t,"string");return em(r)==="symbol"?r:String(r)}function hbe(t,r){if(em(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,r);if(em(s)!=="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function mbe(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&Ak(t,r)}function Ak(t,r){return Ak=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},Ak(t,r)}function fbe(t){var r=pbe();return function(){var s=Sv(t),a;if(r){var i=Sv(this).constructor;a=Reflect.construct(s,arguments,i)}else a=s.apply(this,arguments);return Ek(this,a)}}function Ek(t,r){if(r&&(em(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Tk(t)}function Tk(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function pbe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Sv(t){return Sv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Sv(t)}var Fi=(function(t){mbe(n,t);var r=fbe(n);function n(s,a){var i;cbe(this,n),i=r.call(this,s,a);var o=i.props,l=o.isActive,c=o.attributeName,u=o.from,m=o.to,p=o.steps,x=o.children,v=o.duration;if(i.handleStyleChange=i.handleStyleChange.bind(Tk(i)),i.changeStyle=i.changeStyle.bind(Tk(i)),!l||v<=0)return i.state={style:{}},typeof x=="function"&&(i.state={style:m}),Ek(i);if(p&&p.length)i.state={style:p[0].style};else if(u){if(typeof x=="function")return i.state={style:u},Ek(i);i.state={style:c?Kf({},c,u):u}}else i.state={style:{}};return i}return ube(n,[{key:"componentDidMount",value:function(){var a=this.props,i=a.isActive,o=a.canBegin;this.mounted=!0,!(!i||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var i=this.props,o=i.isActive,l=i.canBegin,c=i.attributeName,u=i.shouldReAnimate,m=i.to,p=i.from,x=this.state.style;if(l){if(!o){var v={style:c?Kf({},c,m):m};this.state&&x&&(c&&x[c]!==m||!c&&x!==m)&&this.setState(v);return}if(!(jye(a.to,m)&&a.canBegin&&a.isActive)){var w=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var y=w||u?p:a.to;if(this.state&&x){var j={style:c?Kf({},c,y):y};(c&&x[c]!==y||!c&&x!==y)&&this.setState(j)}this.runAnimation(Si(Si({},this.props),{},{from:y,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var i=this,o=a.from,l=a.to,c=a.duration,u=a.easing,m=a.begin,p=a.onAnimationEnd,x=a.onAnimationStart,v=tbe(o,l,Wye(u),c,this.changeStyle),w=function(){i.stopJSAnimation=v()};this.manager.start([x,m,w,c,p])}},{key:"runStepAnimation",value:function(a){var i=this,o=a.steps,l=a.begin,c=a.onAnimationStart,u=o[0],m=u.style,p=u.duration,x=p===void 0?0:p,v=function(y,j,S){if(S===0)return y;var C=j.duration,P=j.easing,T=P===void 0?"ease":P,_=j.style,k=j.properties,M=j.onAnimationEnd,$=S>0?o[S-1]:j,B=k||Object.keys(_);if(typeof T=="function"||T==="spring")return[].concat(sS(y),[i.runJSAnimation.bind(i,{from:$.style,to:_,duration:C,easing:T}),C]);var F=XD(B,C,T),H=Si(Si(Si({},$.style),_),{},{transition:F});return[].concat(sS(y),[H,C,M]).filter(Oye)};return this.manager.start([c].concat(sS(o.reduce(v,[m,Math.max(x,l)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=Pye());var i=a.begin,o=a.duration,l=a.attributeName,c=a.to,u=a.easing,m=a.onAnimationStart,p=a.onAnimationEnd,x=a.steps,v=a.children,w=this.manager;if(this.unSubscribe=w.subscribe(this.handleStyleChange),typeof u=="function"||typeof v=="function"||u==="spring"){this.runJSAnimation(a);return}if(x.length>1){this.runStepAnimation(a);return}var y=l?Kf({},l,c):c,j=XD(Object.keys(y),o,u);w.start([m,i,Si(Si({},y),{},{transition:j}),o,p])}},{key:"render",value:function(){var a=this.props,i=a.children;a.begin;var o=a.duration;a.attributeName,a.easing;var l=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var c=nbe(a,rbe),u=N.Children.count(i),m=this.state.style;if(typeof i=="function")return i(m);if(!l||u===0||o<=0)return i;var p=function(v){var w=v.props,y=w.style,j=y===void 0?{}:y,S=w.className,C=N.cloneElement(v,Si(Si({},c),{},{style:Si(Si({},j),m),className:S}));return C};return u===1?p(N.Children.only(i)):ce.createElement("div",null,N.Children.map(i,function(x){return p(x)}))}}]),n})(N.PureComponent);Fi.displayName="Animate";Fi.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Fi.propTypes={from:mr.oneOfType([mr.object,mr.string]),to:mr.oneOfType([mr.object,mr.string]),attributeName:mr.string,duration:mr.number,begin:mr.number,easing:mr.oneOfType([mr.string,mr.func]),steps:mr.arrayOf(mr.shape({duration:mr.number.isRequired,style:mr.object.isRequired,easing:mr.oneOfType([mr.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),mr.func]),properties:mr.arrayOf("string"),onAnimationEnd:mr.func})),children:mr.oneOfType([mr.node,mr.func]),isActive:mr.bool,canBegin:mr.bool,onAnimationEnd:mr.func,shouldReAnimate:mr.bool,onAnimationStart:mr.func,onAnimationReStart:mr.func};function Xp(t){"@babel/helpers - typeof";return Xp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Xp(t)}function _v(){return _v=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},_v.apply(this,arguments)}function xbe(t,r){return bbe(t)||ybe(t,r)||vbe(t,r)||gbe()}function gbe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vbe(t,r){if(t){if(typeof t=="string")return nR(t,r);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nR(t,r)}}function nR(t,r){(r==null||r>t.length)&&(r=t.length);for(var n=0,s=new Array(r);n<r;n++)s[n]=t[n];return s}function ybe(t,r){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var s,a,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(t)).next,r!==0)for(;!(c=(s=i.call(n)).done)&&(l.push(s.value),l.length!==r);c=!0);}catch(m){u=!0,a=m}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function bbe(t){if(Array.isArray(t))return t}function sR(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,s)}return n}function aR(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?sR(Object(n),!0).forEach(function(s){jbe(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sR(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function jbe(t,r,n){return r=wbe(r),r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function wbe(t){var r=Nbe(t,"string");return Xp(r)=="symbol"?r:r+""}function Nbe(t,r){if(Xp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,r);if(Xp(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}var iR=function(r,n,s,a,i){var o=Math.min(Math.abs(s)/2,Math.abs(a)/2),l=a>=0?1:-1,c=s>=0?1:-1,u=a>=0&&s>=0||a<0&&s<0?1:0,m;if(o>0&&i instanceof Array){for(var p=[0,0,0,0],x=0,v=4;x<v;x++)p[x]=i[x]>o?o:i[x];m="M".concat(r,",").concat(n+l*p[0]),p[0]>0&&(m+="A ".concat(p[0],",").concat(p[0],",0,0,").concat(u,",").concat(r+c*p[0],",").concat(n)),m+="L ".concat(r+s-c*p[1],",").concat(n),p[1]>0&&(m+="A ".concat(p[1],",").concat(p[1],",0,0,").concat(u,`,
        `).concat(r+s,",").concat(n+l*p[1])),m+="L ".concat(r+s,",").concat(n+a-l*p[2]),p[2]>0&&(m+="A ".concat(p[2],",").concat(p[2],",0,0,").concat(u,`,
        `).concat(r+s-c*p[2],",").concat(n+a)),m+="L ".concat(r+c*p[3],",").concat(n+a),p[3]>0&&(m+="A ".concat(p[3],",").concat(p[3],",0,0,").concat(u,`,
        `).concat(r,",").concat(n+a-l*p[3])),m+="Z"}else if(o>0&&i===+i&&i>0){var w=Math.min(o,i);m="M ".concat(r,",").concat(n+l*w,`
            A `).concat(w,",").concat(w,",0,0,").concat(u,",").concat(r+c*w,",").concat(n,`
            L `).concat(r+s-c*w,",").concat(n,`
            A `).concat(w,",").concat(w,",0,0,").concat(u,",").concat(r+s,",").concat(n+l*w,`
            L `).concat(r+s,",").concat(n+a-l*w,`
            A `).concat(w,",").concat(w,",0,0,").concat(u,",").concat(r+s-c*w,",").concat(n+a,`
            L `).concat(r+c*w,",").concat(n+a,`
            A `).concat(w,",").concat(w,",0,0,").concat(u,",").concat(r,",").concat(n+a-l*w," Z")}else m="M ".concat(r,",").concat(n," h ").concat(s," v ").concat(a," h ").concat(-s," Z");return m},Sbe=function(r,n){if(!r||!n)return!1;var s=r.x,a=r.y,i=n.x,o=n.y,l=n.width,c=n.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(i,i+l),m=Math.max(i,i+l),p=Math.min(o,o+c),x=Math.max(o,o+c);return s>=u&&s<=m&&a>=p&&a<=x}return!1},_be={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},c6=function(r){var n=aR(aR({},_be),r),s=N.useRef(),a=N.useState(-1),i=xbe(a,2),o=i[0],l=i[1];N.useEffect(function(){if(s.current&&s.current.getTotalLength)try{var T=s.current.getTotalLength();T&&l(T)}catch{}},[]);var c=n.x,u=n.y,m=n.width,p=n.height,x=n.radius,v=n.className,w=n.animationEasing,y=n.animationDuration,j=n.animationBegin,S=n.isAnimationActive,C=n.isUpdateAnimationActive;if(c!==+c||u!==+u||m!==+m||p!==+p||m===0||p===0)return null;var P=Lt("recharts-rectangle",v);return C?ce.createElement(Fi,{canBegin:o>0,from:{width:m,height:p,x:c,y:u},to:{width:m,height:p,x:c,y:u},duration:y,animationEasing:w,isActive:C},function(T){var _=T.width,k=T.height,M=T.x,$=T.y;return ce.createElement(Fi,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:j,duration:y,isActive:S,easing:w},ce.createElement("path",_v({},ut(n,!0),{className:P,d:iR(M,$,_,k,x),ref:s})))}):ce.createElement("path",_v({},ut(n,!0),{className:P,d:iR(c,u,m,p,x)}))},kbe=["points","className","baseLinePoints","connectNulls"];function Ph(){return Ph=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Ph.apply(this,arguments)}function Cbe(t,r){if(t==null)return{};var n=Pbe(t,r),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)s=i[a],!(r.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(n[s]=t[s])}return n}function Pbe(t,r){if(t==null)return{};var n={};for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(r.indexOf(s)>=0)continue;n[s]=t[s]}return n}function oR(t){return Obe(t)||Tbe(t)||Ebe(t)||Abe()}function Abe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ebe(t,r){if(t){if(typeof t=="string")return Ok(t,r);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ok(t,r)}}function Tbe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Obe(t){if(Array.isArray(t))return Ok(t)}function Ok(t,r){(r==null||r>t.length)&&(r=t.length);for(var n=0,s=new Array(r);n<r;n++)s[n]=t[n];return s}var lR=function(r){return r&&r.x===+r.x&&r.y===+r.y},Mbe=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return r.forEach(function(s){lR(s)?n[n.length-1].push(s):n[n.length-1].length>0&&n.push([])}),lR(r[0])&&n[n.length-1].push(r[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},op=function(r,n){var s=Mbe(r);n&&(s=[s.reduce(function(i,o){return[].concat(oR(i),oR(o))},[])]);var a=s.map(function(i){return i.reduce(function(o,l,c){return"".concat(o).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return s.length===1?"".concat(a,"Z"):a},Dbe=function(r,n,s){var a=op(r,s);return"".concat(a.slice(-1)==="Z"?a.slice(0,-1):a,"L").concat(op(n.reverse(),s).slice(1))},Rbe=function(r){var n=r.points,s=r.className,a=r.baseLinePoints,i=r.connectNulls,o=Cbe(r,kbe);if(!n||!n.length)return null;var l=Lt("recharts-polygon",s);if(a&&a.length){var c=o.stroke&&o.stroke!=="none",u=Dbe(n,a,i);return ce.createElement("g",{className:l},ce.createElement("path",Ph({},ut(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:u})),c?ce.createElement("path",Ph({},ut(o,!0),{fill:"none",d:op(n,i)})):null,c?ce.createElement("path",Ph({},ut(o,!0),{fill:"none",d:op(a,i)})):null)}var m=op(n,i);return ce.createElement("path",Ph({},ut(o,!0),{fill:m.slice(-1)==="Z"?o.fill:"none",className:l,d:m}))};function Mk(){return Mk=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Mk.apply(this,arguments)}var Ax=function(r){var n=r.cx,s=r.cy,a=r.r,i=r.className,o=Lt("recharts-dot",i);return n===+n&&s===+s&&a===+a?ce.createElement("circle",Mk({},ut(r,!1),G0(r),{className:o,cx:n,cy:s,r:a})):null};function Jp(t){"@babel/helpers - typeof";return Jp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Jp(t)}var Ibe=["x","y","top","left","width","height","className"];function Dk(){return Dk=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Dk.apply(this,arguments)}function cR(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,s)}return n}function Lbe(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?cR(Object(n),!0).forEach(function(s){$be(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cR(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function $be(t,r,n){return r=Bbe(r),r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function Bbe(t){var r=Fbe(t,"string");return Jp(r)=="symbol"?r:r+""}function Fbe(t,r){if(Jp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,r);if(Jp(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function zbe(t,r){if(t==null)return{};var n=Ube(t,r),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)s=i[a],!(r.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(n[s]=t[s])}return n}function Ube(t,r){if(t==null)return{};var n={};for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(r.indexOf(s)>=0)continue;n[s]=t[s]}return n}var Hbe=function(r,n,s,a,i,o){return"M".concat(r,",").concat(i,"v").concat(a,"M").concat(o,",").concat(n,"h").concat(s)},Wbe=function(r){var n=r.x,s=n===void 0?0:n,a=r.y,i=a===void 0?0:a,o=r.top,l=o===void 0?0:o,c=r.left,u=c===void 0?0:c,m=r.width,p=m===void 0?0:m,x=r.height,v=x===void 0?0:x,w=r.className,y=zbe(r,Ibe),j=Lbe({x:s,y:i,top:l,left:u,width:p,height:v},y);return!Be(s)||!Be(i)||!Be(p)||!Be(v)||!Be(l)||!Be(u)?null:ce.createElement("path",Dk({},ut(j,!0),{className:Lt("recharts-cross",w),d:Hbe(s,i,p,v,l,u)}))},aS,dR;function qbe(){if(dR)return aS;dR=1;var t=Yy(),r=CF(),n=Mo();function s(a,i){return a&&a.length?t(a,n(i,2),r):void 0}return aS=s,aS}var Vbe=qbe();const Gbe=ar(Vbe);var iS,uR;function Kbe(){if(uR)return iS;uR=1;var t=Yy(),r=Mo(),n=PF();function s(a,i){return a&&a.length?t(a,r(i,2),n):void 0}return iS=s,iS}var Ybe=Kbe();const Zbe=ar(Ybe);var Xbe=["cx","cy","angle","ticks","axisLine"],Jbe=["ticks","tick","angle","tickFormatter","stroke"];function tm(t){"@babel/helpers - typeof";return tm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},tm(t)}function lp(){return lp=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},lp.apply(this,arguments)}function hR(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,s)}return n}function jd(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?hR(Object(n),!0).forEach(function(s){Qy(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hR(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function mR(t,r){if(t==null)return{};var n=Qbe(t,r),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)s=i[a],!(r.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(n[s]=t[s])}return n}function Qbe(t,r){if(t==null)return{};var n={};for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(r.indexOf(s)>=0)continue;n[s]=t[s]}return n}function eje(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function fR(t,r){for(var n=0;n<r.length;n++){var s=r[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,fz(s.key),s)}}function tje(t,r,n){return r&&fR(t.prototype,r),n&&fR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function rje(t,r,n){return r=kv(r),nje(t,mz()?Reflect.construct(r,n||[],kv(t).constructor):r.apply(t,n))}function nje(t,r){if(r&&(tm(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sje(t)}function sje(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function mz(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mz=function(){return!!t})()}function kv(t){return kv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},kv(t)}function aje(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&Rk(t,r)}function Rk(t,r){return Rk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},Rk(t,r)}function Qy(t,r,n){return r=fz(r),r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function fz(t){var r=ije(t,"string");return tm(r)=="symbol"?r:r+""}function ije(t,r){if(tm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,r);if(tm(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var eb=(function(t){function r(){return eje(this,r),rje(this,r,arguments)}return aje(r,t),tje(r,[{key:"getTickValueCoord",value:function(s){var a=s.coordinate,i=this.props,o=i.angle,l=i.cx,c=i.cy;return Ir(l,c,a,o)}},{key:"getTickTextAnchor",value:function(){var s=this.props.orientation,a;switch(s){case"left":a="end";break;case"right":a="start";break;default:a="middle";break}return a}},{key:"getViewBox",value:function(){var s=this.props,a=s.cx,i=s.cy,o=s.angle,l=s.ticks,c=Gbe(l,function(m){return m.coordinate||0}),u=Zbe(l,function(m){return m.coordinate||0});return{cx:a,cy:i,startAngle:o,endAngle:o,innerRadius:u.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var s=this.props,a=s.cx,i=s.cy,o=s.angle,l=s.ticks,c=s.axisLine,u=mR(s,Xbe),m=l.reduce(function(w,y){return[Math.min(w[0],y.coordinate),Math.max(w[1],y.coordinate)]},[1/0,-1/0]),p=Ir(a,i,m[0],o),x=Ir(a,i,m[1],o),v=jd(jd(jd({},ut(u,!1)),{},{fill:"none"},ut(c,!1)),{},{x1:p.x,y1:p.y,x2:x.x,y2:x.y});return ce.createElement("line",lp({className:"recharts-polar-radius-axis-line"},v))}},{key:"renderTicks",value:function(){var s=this,a=this.props,i=a.ticks,o=a.tick,l=a.angle,c=a.tickFormatter,u=a.stroke,m=mR(a,Jbe),p=this.getTickTextAnchor(),x=ut(m,!1),v=ut(o,!1),w=i.map(function(y,j){var S=s.getTickValueCoord(y),C=jd(jd(jd(jd({textAnchor:p,transform:"rotate(".concat(90-l,", ").concat(S.x,", ").concat(S.y,")")},x),{},{stroke:"none",fill:u},v),{},{index:j},S),{},{payload:y});return ce.createElement(Vt,lp({className:Lt("recharts-polar-radius-axis-tick",rz(o)),key:"tick-".concat(y.coordinate)},Yd(s.props,y,j)),r.renderTickItem(o,C,c?c(y.value,j):y.value))});return ce.createElement(Vt,{className:"recharts-polar-radius-axis-ticks"},w)}},{key:"render",value:function(){var s=this.props,a=s.ticks,i=s.axisLine,o=s.tick;return!a||!a.length?null:ce.createElement(Vt,{className:Lt("recharts-polar-radius-axis",this.props.className)},i&&this.renderAxisLine(),o&&this.renderTicks(),Gn.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(s,a,i){var o;return ce.isValidElement(s)?o=ce.cloneElement(s,a):St(s)?o=s(a):o=ce.createElement(Xd,lp({},a,{className:"recharts-polar-radius-axis-tick-value"}),i),o}}])})(N.PureComponent);Qy(eb,"displayName","PolarRadiusAxis");Qy(eb,"axisType","radiusAxis");Qy(eb,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function rm(t){"@babel/helpers - typeof";return rm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},rm(t)}function Ad(){return Ad=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Ad.apply(this,arguments)}function pR(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,s)}return n}function wd(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?pR(Object(n),!0).forEach(function(s){tb(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pR(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function oje(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function xR(t,r){for(var n=0;n<r.length;n++){var s=r[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,xz(s.key),s)}}function lje(t,r,n){return r&&xR(t.prototype,r),n&&xR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function cje(t,r,n){return r=Cv(r),dje(t,pz()?Reflect.construct(r,n||[],Cv(t).constructor):r.apply(t,n))}function dje(t,r){if(r&&(rm(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uje(t)}function uje(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function pz(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pz=function(){return!!t})()}function Cv(t){return Cv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Cv(t)}function hje(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&Ik(t,r)}function Ik(t,r){return Ik=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},Ik(t,r)}function tb(t,r,n){return r=xz(r),r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function xz(t){var r=mje(t,"string");return rm(r)=="symbol"?r:r+""}function mje(t,r){if(rm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,r);if(rm(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var fje=Math.PI/180,gR=1e-5,rb=(function(t){function r(){return oje(this,r),cje(this,r,arguments)}return hje(r,t),lje(r,[{key:"getTickLineCoord",value:function(s){var a=this.props,i=a.cx,o=a.cy,l=a.radius,c=a.orientation,u=a.tickSize,m=u||8,p=Ir(i,o,l,s.coordinate),x=Ir(i,o,l+(c==="inner"?-1:1)*m,s.coordinate);return{x1:p.x,y1:p.y,x2:x.x,y2:x.y}}},{key:"getTickTextAnchor",value:function(s){var a=this.props.orientation,i=Math.cos(-s.coordinate*fje),o;return i>gR?o=a==="outer"?"start":"end":i<-gR?o=a==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var s=this.props,a=s.cx,i=s.cy,o=s.radius,l=s.axisLine,c=s.axisLineType,u=wd(wd({},ut(this.props,!1)),{},{fill:"none"},ut(l,!1));if(c==="circle")return ce.createElement(Ax,Ad({className:"recharts-polar-angle-axis-line"},u,{cx:a,cy:i,r:o}));var m=this.props.ticks,p=m.map(function(x){return Ir(a,i,o,x.coordinate)});return ce.createElement(Rbe,Ad({className:"recharts-polar-angle-axis-line"},u,{points:p}))}},{key:"renderTicks",value:function(){var s=this,a=this.props,i=a.ticks,o=a.tick,l=a.tickLine,c=a.tickFormatter,u=a.stroke,m=ut(this.props,!1),p=ut(o,!1),x=wd(wd({},m),{},{fill:"none"},ut(l,!1)),v=i.map(function(w,y){var j=s.getTickLineCoord(w),S=s.getTickTextAnchor(w),C=wd(wd(wd({textAnchor:S},m),{},{stroke:"none",fill:u},p),{},{index:y,payload:w,x:j.x2,y:j.y2});return ce.createElement(Vt,Ad({className:Lt("recharts-polar-angle-axis-tick",rz(o)),key:"tick-".concat(w.coordinate)},Yd(s.props,w,y)),l&&ce.createElement("line",Ad({className:"recharts-polar-angle-axis-tick-line"},x,j)),o&&r.renderTickItem(o,C,c?c(w.value,y):w.value))});return ce.createElement(Vt,{className:"recharts-polar-angle-axis-ticks"},v)}},{key:"render",value:function(){var s=this.props,a=s.ticks,i=s.radius,o=s.axisLine;return i<=0||!a||!a.length?null:ce.createElement(Vt,{className:Lt("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(s,a,i){var o;return ce.isValidElement(s)?o=ce.cloneElement(s,a):St(s)?o=s(a):o=ce.createElement(Xd,Ad({},a,{className:"recharts-polar-angle-axis-tick-value"}),i),o}}])})(N.PureComponent);tb(rb,"displayName","PolarAngleAxis");tb(rb,"axisType","angleAxis");tb(rb,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var oS,vR;function pje(){if(vR)return oS;vR=1;var t=kB(),r=t(Object.getPrototypeOf,Object);return oS=r,oS}var lS,yR;function xje(){if(yR)return lS;yR=1;var t=Pl(),r=pje(),n=Al(),s="[object Object]",a=Function.prototype,i=Object.prototype,o=a.toString,l=i.hasOwnProperty,c=o.call(Object);function u(m){if(!n(m)||t(m)!=s)return!1;var p=r(m);if(p===null)return!0;var x=l.call(p,"constructor")&&p.constructor;return typeof x=="function"&&x instanceof x&&o.call(x)==c}return lS=u,lS}var gje=xje();const vje=ar(gje);var cS,bR;function yje(){if(bR)return cS;bR=1;var t=Pl(),r=Al(),n="[object Boolean]";function s(a){return a===!0||a===!1||r(a)&&t(a)==n}return cS=s,cS}var bje=yje();const jje=ar(bje);function Qp(t){"@babel/helpers - typeof";return Qp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Qp(t)}function Pv(){return Pv=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Pv.apply(this,arguments)}function wje(t,r){return kje(t)||_je(t,r)||Sje(t,r)||Nje()}function Nje(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Sje(t,r){if(t){if(typeof t=="string")return jR(t,r);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jR(t,r)}}function jR(t,r){(r==null||r>t.length)&&(r=t.length);for(var n=0,s=new Array(r);n<r;n++)s[n]=t[n];return s}function _je(t,r){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var s,a,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(t)).next,r!==0)for(;!(c=(s=i.call(n)).done)&&(l.push(s.value),l.length!==r);c=!0);}catch(m){u=!0,a=m}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function kje(t){if(Array.isArray(t))return t}function wR(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,s)}return n}function NR(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?wR(Object(n),!0).forEach(function(s){Cje(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wR(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function Cje(t,r,n){return r=Pje(r),r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function Pje(t){var r=Aje(t,"string");return Qp(r)=="symbol"?r:r+""}function Aje(t,r){if(Qp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,r);if(Qp(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}var SR=function(r,n,s,a,i){var o=s-a,l;return l="M ".concat(r,",").concat(n),l+="L ".concat(r+s,",").concat(n),l+="L ".concat(r+s-o/2,",").concat(n+i),l+="L ".concat(r+s-o/2-a,",").concat(n+i),l+="L ".concat(r,",").concat(n," Z"),l},Eje={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Tje=function(r){var n=NR(NR({},Eje),r),s=N.useRef(),a=N.useState(-1),i=wje(a,2),o=i[0],l=i[1];N.useEffect(function(){if(s.current&&s.current.getTotalLength)try{var P=s.current.getTotalLength();P&&l(P)}catch{}},[]);var c=n.x,u=n.y,m=n.upperWidth,p=n.lowerWidth,x=n.height,v=n.className,w=n.animationEasing,y=n.animationDuration,j=n.animationBegin,S=n.isUpdateAnimationActive;if(c!==+c||u!==+u||m!==+m||p!==+p||x!==+x||m===0&&p===0||x===0)return null;var C=Lt("recharts-trapezoid",v);return S?ce.createElement(Fi,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:x,x:c,y:u},to:{upperWidth:m,lowerWidth:p,height:x,x:c,y:u},duration:y,animationEasing:w,isActive:S},function(P){var T=P.upperWidth,_=P.lowerWidth,k=P.height,M=P.x,$=P.y;return ce.createElement(Fi,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:j,duration:y,easing:w},ce.createElement("path",Pv({},ut(n,!0),{className:C,d:SR(M,$,T,_,k),ref:s})))}):ce.createElement("g",null,ce.createElement("path",Pv({},ut(n,!0),{className:C,d:SR(c,u,m,p,x)})))},Oje=["option","shapeType","propTransformer","activeClassName","isActive"];function ex(t){"@babel/helpers - typeof";return ex=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},ex(t)}function Mje(t,r){if(t==null)return{};var n=Dje(t,r),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)s=i[a],!(r.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(n[s]=t[s])}return n}function Dje(t,r){if(t==null)return{};var n={};for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(r.indexOf(s)>=0)continue;n[s]=t[s]}return n}function _R(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,s)}return n}function Av(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?_R(Object(n),!0).forEach(function(s){Rje(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_R(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function Rje(t,r,n){return r=Ije(r),r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function Ije(t){var r=Lje(t,"string");return ex(r)=="symbol"?r:r+""}function Lje(t,r){if(ex(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,r);if(ex(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function $je(t,r){return Av(Av({},r),t)}function Bje(t,r){return t==="symbols"}function kR(t){var r=t.shapeType,n=t.elementProps;switch(r){case"rectangle":return ce.createElement(c6,n);case"trapezoid":return ce.createElement(Tje,n);case"sector":return ce.createElement(az,n);case"symbols":if(Bje(r))return ce.createElement(P4,n);break;default:return null}}function Fje(t){return N.isValidElement(t)?t.props:t}function gz(t){var r=t.option,n=t.shapeType,s=t.propTransformer,a=s===void 0?$je:s,i=t.activeClassName,o=i===void 0?"recharts-active-shape":i,l=t.isActive,c=Mje(t,Oje),u;if(N.isValidElement(r))u=N.cloneElement(r,Av(Av({},c),Fje(r)));else if(St(r))u=r(c);else if(vje(r)&&!jje(r)){var m=a(r,c);u=ce.createElement(kR,{shapeType:n,elementProps:m})}else{var p=c;u=ce.createElement(kR,{shapeType:n,elementProps:p})}return l?ce.createElement(Vt,{className:o},u):u}function nb(t,r){return r!=null&&"trapezoids"in t.props}function sb(t,r){return r!=null&&"sectors"in t.props}function tx(t,r){return r!=null&&"points"in t.props}function zje(t,r){var n,s,a=t.x===(r==null||(n=r.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===r.x,i=t.y===(r==null||(s=r.labelViewBox)===null||s===void 0?void 0:s.y)||t.y===r.y;return a&&i}function Uje(t,r){var n=t.endAngle===r.endAngle,s=t.startAngle===r.startAngle;return n&&s}function Hje(t,r){var n=t.x===r.x,s=t.y===r.y,a=t.z===r.z;return n&&s&&a}function Wje(t,r){var n;return nb(t,r)?n=zje:sb(t,r)?n=Uje:tx(t,r)&&(n=Hje),n}function qje(t,r){var n;return nb(t,r)?n="trapezoids":sb(t,r)?n="sectors":tx(t,r)&&(n="points"),n}function Vje(t,r){if(nb(t,r)){var n;return(n=r.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(sb(t,r)){var s;return(s=r.tooltipPayload)===null||s===void 0||(s=s[0])===null||s===void 0||(s=s.payload)===null||s===void 0?void 0:s.payload}return tx(t,r)?r.payload:{}}function Gje(t){var r=t.activeTooltipItem,n=t.graphicalItem,s=t.itemData,a=qje(n,r),i=Vje(n,r),o=s.filter(function(c,u){var m=Jd(i,c),p=n.props[a].filter(function(w){var y=Wje(n,r);return y(w,r)}),x=n.props[a].indexOf(p[p.length-1]),v=u===x;return m&&v}),l=s.indexOf(o[o.length-1]);return l}var k0;function nm(t){"@babel/helpers - typeof";return nm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},nm(t)}function Ah(){return Ah=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Ah.apply(this,arguments)}function CR(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,s)}return n}function Mr(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?CR(Object(n),!0).forEach(function(s){ai(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CR(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function Kje(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function PR(t,r){for(var n=0;n<r.length;n++){var s=r[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,yz(s.key),s)}}function Yje(t,r,n){return r&&PR(t.prototype,r),n&&PR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Zje(t,r,n){return r=Ev(r),Xje(t,vz()?Reflect.construct(r,n||[],Ev(t).constructor):r.apply(t,n))}function Xje(t,r){if(r&&(nm(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Jje(t)}function Jje(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function vz(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vz=function(){return!!t})()}function Ev(t){return Ev=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ev(t)}function Qje(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&Lk(t,r)}function Lk(t,r){return Lk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},Lk(t,r)}function ai(t,r,n){return r=yz(r),r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function yz(t){var r=ewe(t,"string");return nm(r)=="symbol"?r:r+""}function ewe(t,r){if(nm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,r);if(nm(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Tl=(function(t){function r(n){var s;return Kje(this,r),s=Zje(this,r,[n]),ai(s,"pieRef",null),ai(s,"sectorRefs",[]),ai(s,"id",du("recharts-pie-")),ai(s,"handleAnimationEnd",function(){var a=s.props.onAnimationEnd;s.setState({isAnimationFinished:!0}),St(a)&&a()}),ai(s,"handleAnimationStart",function(){var a=s.props.onAnimationStart;s.setState({isAnimationFinished:!1}),St(a)&&a()}),s.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},s}return Qje(r,t),Yje(r,[{key:"isActiveIndex",value:function(s){var a=this.props.activeIndex;return Array.isArray(a)?a.indexOf(s)!==-1:s===a}},{key:"hasActiveIndex",value:function(){var s=this.props.activeIndex;return Array.isArray(s)?s.length!==0:s||s===0}},{key:"renderLabels",value:function(s){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.label,l=i.labelLine,c=i.dataKey,u=i.valueKey,m=ut(this.props,!1),p=ut(o,!1),x=ut(l,!1),v=o&&o.offsetRadius||20,w=s.map(function(y,j){var S=(y.startAngle+y.endAngle)/2,C=Ir(y.cx,y.cy,y.outerRadius+v,S),P=Mr(Mr(Mr(Mr({},m),y),{},{stroke:"none"},p),{},{index:j,textAnchor:r.getTextAnchor(C.x,y.cx)},C),T=Mr(Mr(Mr(Mr({},m),y),{},{fill:"none",stroke:y.fill},x),{},{index:j,points:[Ir(y.cx,y.cy,y.outerRadius,S),C]}),_=c;return Mt(c)&&Mt(u)?_="value":Mt(c)&&(_=u),ce.createElement(Vt,{key:"label-".concat(y.startAngle,"-").concat(y.endAngle,"-").concat(y.midAngle,"-").concat(j)},l&&r.renderLabelLineItem(l,T,"line"),r.renderLabelItem(o,P,Nn(y,_)))});return ce.createElement(Vt,{className:"recharts-pie-labels"},w)}},{key:"renderSectorsStatically",value:function(s){var a=this,i=this.props,o=i.activeShape,l=i.blendStroke,c=i.inactiveShape;return s.map(function(u,m){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&s.length!==1)return null;var p=a.isActiveIndex(m),x=c&&a.hasActiveIndex()?c:null,v=p?o:x,w=Mr(Mr({},u),{},{stroke:l?u.fill:u.stroke,tabIndex:-1});return ce.createElement(Vt,Ah({ref:function(j){j&&!a.sectorRefs.includes(j)&&a.sectorRefs.push(j)},tabIndex:-1,className:"recharts-pie-sector"},Yd(a.props,u,m),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(m)}),ce.createElement(gz,Ah({option:v,isActive:p,shapeType:"sector"},w)))})}},{key:"renderSectorsWithAnimation",value:function(){var s=this,a=this.props,i=a.sectors,o=a.isAnimationActive,l=a.animationBegin,c=a.animationDuration,u=a.animationEasing,m=a.animationId,p=this.state,x=p.prevSectors,v=p.prevIsAnimationActive;return ce.createElement(Fi,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(m,"-").concat(v),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(w){var y=w.t,j=[],S=i&&i[0],C=S.startAngle;return i.forEach(function(P,T){var _=x&&x[T],k=T>0?_a(P,"paddingAngle",0):0;if(_){var M=Bn(_.endAngle-_.startAngle,P.endAngle-P.startAngle),$=Mr(Mr({},P),{},{startAngle:C+k,endAngle:C+M(y)+k});j.push($),C=$.endAngle}else{var B=P.endAngle,F=P.startAngle,H=Bn(0,B-F),K=H(y),Z=Mr(Mr({},P),{},{startAngle:C+k,endAngle:C+K+k});j.push(Z),C=Z.endAngle}}),ce.createElement(Vt,null,s.renderSectorsStatically(j))})}},{key:"attachKeyboardHandlers",value:function(s){var a=this;s.onkeydown=function(i){if(!i.altKey)switch(i.key){case"ArrowLeft":{var o=++a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[o].focus(),a.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--a.state.sectorToFocus<0?a.sectorRefs.length-1:a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[l].focus(),a.setState({sectorToFocus:l});break}case"Escape":{a.sectorRefs[a.state.sectorToFocus].blur(),a.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var s=this.props,a=s.sectors,i=s.isAnimationActive,o=this.state.prevSectors;return i&&a&&a.length&&(!o||!Jd(o,a))?this.renderSectorsWithAnimation():this.renderSectorsStatically(a)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var s=this,a=this.props,i=a.hide,o=a.sectors,l=a.className,c=a.label,u=a.cx,m=a.cy,p=a.innerRadius,x=a.outerRadius,v=a.isAnimationActive,w=this.state.isAnimationFinished;if(i||!o||!o.length||!Be(u)||!Be(m)||!Be(p)||!Be(x))return null;var y=Lt("recharts-pie",l);return ce.createElement(Vt,{tabIndex:this.props.rootTabIndex,className:y,ref:function(S){s.pieRef=S}},this.renderSectors(),c&&this.renderLabels(o),Gn.renderCallByParent(this.props,null,!1),(!v||w)&&bo.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(s,a){return a.prevIsAnimationActive!==s.isAnimationActive?{prevIsAnimationActive:s.isAnimationActive,prevAnimationId:s.animationId,curSectors:s.sectors,prevSectors:[],isAnimationFinished:!0}:s.isAnimationActive&&s.animationId!==a.prevAnimationId?{prevAnimationId:s.animationId,curSectors:s.sectors,prevSectors:a.curSectors,isAnimationFinished:!0}:s.sectors!==a.curSectors?{curSectors:s.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(s,a){return s>a?"start":s<a?"end":"middle"}},{key:"renderLabelLineItem",value:function(s,a,i){if(ce.isValidElement(s))return ce.cloneElement(s,a);if(St(s))return s(a);var o=Lt("recharts-pie-label-line",typeof s!="boolean"?s.className:"");return ce.createElement(Ud,Ah({},a,{key:i,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(s,a,i){if(ce.isValidElement(s))return ce.cloneElement(s,a);var o=i;if(St(s)&&(o=s(a),ce.isValidElement(o)))return o;var l=Lt("recharts-pie-label-text",typeof s!="boolean"&&!St(s)?s.className:"");return ce.createElement(Xd,Ah({},a,{alignmentBaseline:"middle",className:l}),o)}}])})(N.PureComponent);k0=Tl;ai(Tl,"displayName","Pie");ai(Tl,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Lc.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});ai(Tl,"parseDeltaAngle",function(t,r){var n=Ms(r-t),s=Math.min(Math.abs(r-t),360);return n*s});ai(Tl,"getRealPieData",function(t){var r=t.data,n=t.children,s=ut(t,!1),a=ka(n,Uy);return r&&r.length?r.map(function(i,o){return Mr(Mr(Mr({payload:i},s),i),a&&a[o]&&a[o].props)}):a&&a.length?a.map(function(i){return Mr(Mr({},s),i.props)}):[]});ai(Tl,"parseCoordinateOfPie",function(t,r){var n=r.top,s=r.left,a=r.width,i=r.height,o=tz(a,i),l=s+Ds(t.cx,a,a/2),c=n+Ds(t.cy,i,i/2),u=Ds(t.innerRadius,o,0),m=Ds(t.outerRadius,o,o*.8),p=t.maxRadius||Math.sqrt(a*a+i*i)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:m,maxRadius:p}});ai(Tl,"getComposedData",function(t){var r=t.item,n=t.offset,s=r.type.defaultProps!==void 0?Mr(Mr({},r.type.defaultProps),r.props):r.props,a=k0.getRealPieData(s);if(!a||!a.length)return null;var i=s.cornerRadius,o=s.startAngle,l=s.endAngle,c=s.paddingAngle,u=s.dataKey,m=s.nameKey,p=s.valueKey,x=s.tooltipType,v=Math.abs(s.minAngle),w=k0.parseCoordinateOfPie(s,n),y=k0.parseDeltaAngle(o,l),j=Math.abs(y),S=u;Mt(u)&&Mt(p)?(Ii(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),S="value"):Mt(u)&&(Ii(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),S=p);var C=a.filter(function($){return Nn($,S,0)!==0}).length,P=(j>=360?C:C-1)*c,T=j-C*v-P,_=a.reduce(function($,B){var F=Nn(B,S,0);return $+(Be(F)?F:0)},0),k;if(_>0){var M;k=a.map(function($,B){var F=Nn($,S,0),H=Nn($,m,B),K=(Be(F)?F:0)/_,Z;B?Z=M.endAngle+Ms(y)*c*(F!==0?1:0):Z=o;var V=Z+Ms(y)*((F!==0?v:0)+K*T),W=(Z+V)/2,G=(w.innerRadius+w.outerRadius)/2,O=[{name:H,value:F,payload:$,dataKey:S,type:x}],R=Ir(w.cx,w.cy,G,W);return M=Mr(Mr(Mr({percent:K,cornerRadius:i,name:H,tooltipPayload:O,midAngle:W,middleRadius:G,tooltipPosition:R},$),w),{},{value:Nn($,S),startAngle:Z,endAngle:V,payload:$,paddingAngle:Ms(y)*c}),M})}return Mr(Mr({},w),{},{sectors:k,data:a})});var dS,AR;function twe(){if(AR)return dS;AR=1;var t=Math.ceil,r=Math.max;function n(s,a,i,o){for(var l=-1,c=r(t((a-s)/(i||1)),0),u=Array(c);c--;)u[o?c:++l]=s,s+=i;return u}return dS=n,dS}var uS,ER;function bz(){if(ER)return uS;ER=1;var t=UB(),r=1/0,n=17976931348623157e292;function s(a){if(!a)return a===0?a:0;if(a=t(a),a===r||a===-r){var i=a<0?-1:1;return i*n}return a===a?a:0}return uS=s,uS}var hS,TR;function rwe(){if(TR)return hS;TR=1;var t=twe(),r=zy(),n=bz();function s(a){return function(i,o,l){return l&&typeof l!="number"&&r(i,o,l)&&(o=l=void 0),i=n(i),o===void 0?(o=i,i=0):o=n(o),l=l===void 0?i<o?1:-1:n(l),t(i,o,l,a)}}return hS=s,hS}var mS,OR;function nwe(){if(OR)return mS;OR=1;var t=rwe(),r=t();return mS=r,mS}var swe=nwe();const Tv=ar(swe);function rx(t){"@babel/helpers - typeof";return rx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},rx(t)}function MR(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,s)}return n}function DR(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?MR(Object(n),!0).forEach(function(s){jz(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MR(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function jz(t,r,n){return r=awe(r),r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function awe(t){var r=iwe(t,"string");return rx(r)=="symbol"?r:r+""}function iwe(t,r){if(rx(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,r);if(rx(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}var owe=["Webkit","Moz","O","ms"],lwe=function(r,n){var s=r.replace(/(\w)/,function(i){return i.toUpperCase()}),a=owe.reduce(function(i,o){return DR(DR({},i),{},jz({},o+s,n))},{});return a[r]=n,a};function sm(t){"@babel/helpers - typeof";return sm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},sm(t)}function Ov(){return Ov=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Ov.apply(this,arguments)}function RR(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,s)}return n}function fS(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?RR(Object(n),!0).forEach(function(s){xa(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RR(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function cwe(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function IR(t,r){for(var n=0;n<r.length;n++){var s=r[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,Nz(s.key),s)}}function dwe(t,r,n){return r&&IR(t.prototype,r),n&&IR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function uwe(t,r,n){return r=Mv(r),hwe(t,wz()?Reflect.construct(r,n||[],Mv(t).constructor):r.apply(t,n))}function hwe(t,r){if(r&&(sm(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mwe(t)}function mwe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wz(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wz=function(){return!!t})()}function Mv(t){return Mv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Mv(t)}function fwe(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&$k(t,r)}function $k(t,r){return $k=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},$k(t,r)}function xa(t,r,n){return r=Nz(r),r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function Nz(t){var r=pwe(t,"string");return sm(r)=="symbol"?r:r+""}function pwe(t,r){if(sm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,r);if(sm(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var xwe=function(r){var n=r.data,s=r.startIndex,a=r.endIndex,i=r.x,o=r.width,l=r.travellerWidth;if(!n||!n.length)return{};var c=n.length,u=sp().domain(Tv(0,c)).range([i,i+o-l]),m=u.domain().map(function(p){return u(p)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(s),endX:u(a),scale:u,scaleValues:m}},LR=function(r){return r.changedTouches&&!!r.changedTouches.length},am=(function(t){function r(n){var s;return cwe(this,r),s=uwe(this,r,[n]),xa(s,"handleDrag",function(a){s.leaveTimer&&(clearTimeout(s.leaveTimer),s.leaveTimer=null),s.state.isTravellerMoving?s.handleTravellerMove(a):s.state.isSlideMoving&&s.handleSlideDrag(a)}),xa(s,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&s.handleDrag(a.changedTouches[0])}),xa(s,"handleDragEnd",function(){s.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=s.props,i=a.endIndex,o=a.onDragEnd,l=a.startIndex;o==null||o({endIndex:i,startIndex:l})}),s.detachDragEndListener()}),xa(s,"handleLeaveWrapper",function(){(s.state.isTravellerMoving||s.state.isSlideMoving)&&(s.leaveTimer=window.setTimeout(s.handleDragEnd,s.props.leaveTimeOut))}),xa(s,"handleEnterSlideOrTraveller",function(){s.setState({isTextActive:!0})}),xa(s,"handleLeaveSlideOrTraveller",function(){s.setState({isTextActive:!1})}),xa(s,"handleSlideDragStart",function(a){var i=LR(a)?a.changedTouches[0]:a;s.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),s.attachDragEndListener()}),s.travellerDragStartHandlers={startX:s.handleTravellerDragStart.bind(s,"startX"),endX:s.handleTravellerDragStart.bind(s,"endX")},s.state={},s}return fwe(r,t),dwe(r,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(s){var a=s.startX,i=s.endX,o=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,m=u.length-1,p=Math.min(a,i),x=Math.max(a,i),v=r.getIndexInRange(o,p),w=r.getIndexInRange(o,x);return{startIndex:v-v%c,endIndex:w===m?m:w-w%c}}},{key:"getTextOfTick",value:function(s){var a=this.props,i=a.data,o=a.tickFormatter,l=a.dataKey,c=Nn(i[s],l,s);return St(o)?o(c,s):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(s){var a=this.state,i=a.slideMoveStartX,o=a.startX,l=a.endX,c=this.props,u=c.x,m=c.width,p=c.travellerWidth,x=c.startIndex,v=c.endIndex,w=c.onChange,y=s.pageX-i;y>0?y=Math.min(y,u+m-p-l,u+m-p-o):y<0&&(y=Math.max(y,u-o,u-l));var j=this.getIndex({startX:o+y,endX:l+y});(j.startIndex!==x||j.endIndex!==v)&&w&&w(j),this.setState({startX:o+y,endX:l+y,slideMoveStartX:s.pageX})}},{key:"handleTravellerDragStart",value:function(s,a){var i=LR(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:s,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(s){var a=this.state,i=a.brushMoveStartX,o=a.movingTravellerId,l=a.endX,c=a.startX,u=this.state[o],m=this.props,p=m.x,x=m.width,v=m.travellerWidth,w=m.onChange,y=m.gap,j=m.data,S={startX:this.state.startX,endX:this.state.endX},C=s.pageX-i;C>0?C=Math.min(C,p+x-v-u):C<0&&(C=Math.max(C,p-u)),S[o]=u+C;var P=this.getIndex(S),T=P.startIndex,_=P.endIndex,k=function(){var $=j.length-1;return o==="startX"&&(l>c?T%y===0:_%y===0)||l<c&&_===$||o==="endX"&&(l>c?_%y===0:T%y===0)||l>c&&_===$};this.setState(xa(xa({},o,u+C),"brushMoveStartX",s.pageX),function(){w&&k()&&w(P)})}},{key:"handleTravellerMoveKeyboard",value:function(s,a){var i=this,o=this.state,l=o.scaleValues,c=o.startX,u=o.endX,m=this.state[a],p=l.indexOf(m);if(p!==-1){var x=p+s;if(!(x===-1||x>=l.length)){var v=l[x];a==="startX"&&v>=u||a==="endX"&&v<=c||this.setState(xa({},a,v),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var s=this.props,a=s.x,i=s.y,o=s.width,l=s.height,c=s.fill,u=s.stroke;return ce.createElement("rect",{stroke:u,fill:c,x:a,y:i,width:o,height:l})}},{key:"renderPanorama",value:function(){var s=this.props,a=s.x,i=s.y,o=s.width,l=s.height,c=s.data,u=s.children,m=s.padding,p=N.Children.only(u);return p?ce.cloneElement(p,{x:a,y:i,width:o,height:l,margin:m,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(s,a){var i,o,l=this,c=this.props,u=c.y,m=c.travellerWidth,p=c.height,x=c.traveller,v=c.ariaLabel,w=c.data,y=c.startIndex,j=c.endIndex,S=Math.max(s,this.props.x),C=fS(fS({},ut(this.props,!1)),{},{x:S,y:u,width:m,height:p}),P=v||"Min value: ".concat((i=w[y])===null||i===void 0?void 0:i.name,", Max value: ").concat((o=w[j])===null||o===void 0?void 0:o.name);return ce.createElement(Vt,{tabIndex:0,role:"slider","aria-label":P,"aria-valuenow":s,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(_){["ArrowLeft","ArrowRight"].includes(_.key)&&(_.preventDefault(),_.stopPropagation(),l.handleTravellerMoveKeyboard(_.key==="ArrowRight"?1:-1,a))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},r.renderTraveller(x,C))}},{key:"renderSlide",value:function(s,a){var i=this.props,o=i.y,l=i.height,c=i.stroke,u=i.travellerWidth,m=Math.min(s,a)+u,p=Math.max(Math.abs(a-s)-u,0);return ce.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:m,y:o,width:p,height:l})}},{key:"renderText",value:function(){var s=this.props,a=s.startIndex,i=s.endIndex,o=s.y,l=s.height,c=s.travellerWidth,u=s.stroke,m=this.state,p=m.startX,x=m.endX,v=5,w={pointerEvents:"none",fill:u};return ce.createElement(Vt,{className:"recharts-brush-texts"},ce.createElement(Xd,Ov({textAnchor:"end",verticalAnchor:"middle",x:Math.min(p,x)-v,y:o+l/2},w),this.getTextOfTick(a)),ce.createElement(Xd,Ov({textAnchor:"start",verticalAnchor:"middle",x:Math.max(p,x)+c+v,y:o+l/2},w),this.getTextOfTick(i)))}},{key:"render",value:function(){var s=this.props,a=s.data,i=s.className,o=s.children,l=s.x,c=s.y,u=s.width,m=s.height,p=s.alwaysShowText,x=this.state,v=x.startX,w=x.endX,y=x.isTextActive,j=x.isSlideMoving,S=x.isTravellerMoving,C=x.isTravellerFocused;if(!a||!a.length||!Be(l)||!Be(c)||!Be(u)||!Be(m)||u<=0||m<=0)return null;var P=Lt("recharts-brush",i),T=ce.Children.count(o)===1,_=lwe("userSelect","none");return ce.createElement(Vt,{className:P,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:_},this.renderBackground(),T&&this.renderPanorama(),this.renderSlide(v,w),this.renderTravellerLayer(v,"startX"),this.renderTravellerLayer(w,"endX"),(y||j||S||C||p)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(s){var a=s.x,i=s.y,o=s.width,l=s.height,c=s.stroke,u=Math.floor(i+l/2)-1;return ce.createElement(ce.Fragment,null,ce.createElement("rect",{x:a,y:i,width:o,height:l,fill:c,stroke:"none"}),ce.createElement("line",{x1:a+1,y1:u,x2:a+o-1,y2:u,fill:"none",stroke:"#fff"}),ce.createElement("line",{x1:a+1,y1:u+2,x2:a+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(s,a){var i;return ce.isValidElement(s)?i=ce.cloneElement(s,a):St(s)?i=s(a):i=r.renderDefaultTraveller(a),i}},{key:"getDerivedStateFromProps",value:function(s,a){var i=s.data,o=s.width,l=s.x,c=s.travellerWidth,u=s.updateId,m=s.startIndex,p=s.endIndex;if(i!==a.prevData||u!==a.prevUpdateId)return fS({prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o},i&&i.length?xwe({data:i,width:o,x:l,travellerWidth:c,startIndex:m,endIndex:p}):{scale:null,scaleValues:null});if(a.scale&&(o!==a.prevWidth||l!==a.prevX||c!==a.prevTravellerWidth)){a.scale.range([l,l+o-c]);var x=a.scale.domain().map(function(v){return a.scale(v)});return{prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o,startX:a.scale(s.startIndex),endX:a.scale(s.endIndex),scaleValues:x}}return null}},{key:"getIndexInRange",value:function(s,a){for(var i=s.length,o=0,l=i-1;l-o>1;){var c=Math.floor((o+l)/2);s[c]>a?l=c:o=c}return a>=s[l]?l:o}}])})(N.PureComponent);xa(am,"displayName","Brush");xa(am,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var pS,$R;function gwe(){if($R)return pS;$R=1;var t=R4();function r(n,s){var a;return t(n,function(i,o,l){return a=s(i,o,l),!a}),!!a}return pS=r,pS}var xS,BR;function vwe(){if(BR)return xS;BR=1;var t=yB(),r=Mo(),n=gwe(),s=ea(),a=zy();function i(o,l,c){var u=s(o)?t:n;return c&&a(o,l,c)&&(l=void 0),u(o,r(l,3))}return xS=i,xS}var ywe=vwe();const bwe=ar(ywe);var jo=function(r,n){var s=r.alwaysShow,a=r.ifOverflow;return s&&(a="extendDomain"),a===n},gS,FR;function jwe(){if(FR)return gS;FR=1;var t=LB();function r(n,s,a){s=="__proto__"&&t?t(n,s,{configurable:!0,enumerable:!0,value:a,writable:!0}):n[s]=a}return gS=r,gS}var vS,zR;function wwe(){if(zR)return vS;zR=1;var t=jwe(),r=RB(),n=Mo();function s(a,i){var o={};return i=n(i,3),r(a,function(l,c,u){t(o,c,i(l,c,u))}),o}return vS=s,vS}var Nwe=wwe();const Swe=ar(Nwe);var yS,UR;function _we(){if(UR)return yS;UR=1;function t(r,n){for(var s=-1,a=r==null?0:r.length;++s<a;)if(!n(r[s],s,r))return!1;return!0}return yS=t,yS}var bS,HR;function kwe(){if(HR)return bS;HR=1;var t=R4();function r(n,s){var a=!0;return t(n,function(i,o,l){return a=!!s(i,o,l),a}),a}return bS=r,bS}var jS,WR;function Cwe(){if(WR)return jS;WR=1;var t=_we(),r=kwe(),n=Mo(),s=ea(),a=zy();function i(o,l,c){var u=s(o)?t:r;return c&&a(o,l,c)&&(l=void 0),u(o,n(l,3))}return jS=i,jS}var Pwe=Cwe();const Sz=ar(Pwe);var Awe=["x","y"];function nx(t){"@babel/helpers - typeof";return nx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},nx(t)}function Bk(){return Bk=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Bk.apply(this,arguments)}function qR(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,s)}return n}function $f(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?qR(Object(n),!0).forEach(function(s){Ewe(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qR(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function Ewe(t,r,n){return r=Twe(r),r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function Twe(t){var r=Owe(t,"string");return nx(r)=="symbol"?r:r+""}function Owe(t,r){if(nx(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,r);if(nx(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function Mwe(t,r){if(t==null)return{};var n=Dwe(t,r),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)s=i[a],!(r.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(n[s]=t[s])}return n}function Dwe(t,r){if(t==null)return{};var n={};for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(r.indexOf(s)>=0)continue;n[s]=t[s]}return n}function Rwe(t,r){var n=t.x,s=t.y,a=Mwe(t,Awe),i="".concat(n),o=parseInt(i,10),l="".concat(s),c=parseInt(l,10),u="".concat(r.height||a.height),m=parseInt(u,10),p="".concat(r.width||a.width),x=parseInt(p,10);return $f($f($f($f($f({},r),a),o?{x:o}:{}),c?{y:c}:{}),{},{height:m,width:x,name:r.name,radius:r.radius})}function VR(t){return ce.createElement(gz,Bk({shapeType:"rectangle",propTransformer:Rwe,activeClassName:"recharts-active-bar"},t))}var Iwe=function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(s,a){if(typeof r=="number")return r;var i=typeof s=="number";return i?r(s,a):(i||eu(),n)}},Lwe=["value","background"],_z;function im(t){"@babel/helpers - typeof";return im=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},im(t)}function $we(t,r){if(t==null)return{};var n=Bwe(t,r),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)s=i[a],!(r.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(n[s]=t[s])}return n}function Bwe(t,r){if(t==null)return{};var n={};for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(r.indexOf(s)>=0)continue;n[s]=t[s]}return n}function Dv(){return Dv=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Dv.apply(this,arguments)}function GR(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,s)}return n}function Cn(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?GR(Object(n),!0).forEach(function(s){Nc(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GR(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function Fwe(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function KR(t,r){for(var n=0;n<r.length;n++){var s=r[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,Cz(s.key),s)}}function zwe(t,r,n){return r&&KR(t.prototype,r),n&&KR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Uwe(t,r,n){return r=Rv(r),Hwe(t,kz()?Reflect.construct(r,n||[],Rv(t).constructor):r.apply(t,n))}function Hwe(t,r){if(r&&(im(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Wwe(t)}function Wwe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function kz(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kz=function(){return!!t})()}function Rv(t){return Rv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Rv(t)}function qwe(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&Fk(t,r)}function Fk(t,r){return Fk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},Fk(t,r)}function Nc(t,r,n){return r=Cz(r),r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function Cz(t){var r=Vwe(t,"string");return im(r)=="symbol"?r:r+""}function Vwe(t,r){if(im(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,r);if(im(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Mc=(function(t){function r(){var n;Fwe(this,r);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return n=Uwe(this,r,[].concat(a)),Nc(n,"state",{isAnimationFinished:!1}),Nc(n,"id",du("recharts-bar-")),Nc(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),o&&o()}),Nc(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),o&&o()}),n}return qwe(r,t),zwe(r,[{key:"renderRectanglesStatically",value:function(s){var a=this,i=this.props,o=i.shape,l=i.dataKey,c=i.activeIndex,u=i.activeBar,m=ut(this.props,!1);return s&&s.map(function(p,x){var v=x===c,w=v?u:o,y=Cn(Cn(Cn({},m),p),{},{isActive:v,option:w,index:x,dataKey:l,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return ce.createElement(Vt,Dv({className:"recharts-bar-rectangle"},Yd(a.props,p,x),{key:"rectangle-".concat(p==null?void 0:p.x,"-").concat(p==null?void 0:p.y,"-").concat(p==null?void 0:p.value,"-").concat(x)}),ce.createElement(VR,y))})}},{key:"renderRectanglesWithAnimation",value:function(){var s=this,a=this.props,i=a.data,o=a.layout,l=a.isAnimationActive,c=a.animationBegin,u=a.animationDuration,m=a.animationEasing,p=a.animationId,x=this.state.prevData;return ce.createElement(Fi,{begin:c,duration:u,isActive:l,easing:m,from:{t:0},to:{t:1},key:"bar-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(v){var w=v.t,y=i.map(function(j,S){var C=x&&x[S];if(C){var P=Bn(C.x,j.x),T=Bn(C.y,j.y),_=Bn(C.width,j.width),k=Bn(C.height,j.height);return Cn(Cn({},j),{},{x:P(w),y:T(w),width:_(w),height:k(w)})}if(o==="horizontal"){var M=Bn(0,j.height),$=M(w);return Cn(Cn({},j),{},{y:j.y+j.height-$,height:$})}var B=Bn(0,j.width),F=B(w);return Cn(Cn({},j),{},{width:F})});return ce.createElement(Vt,null,s.renderRectanglesStatically(y))})}},{key:"renderRectangles",value:function(){var s=this.props,a=s.data,i=s.isAnimationActive,o=this.state.prevData;return i&&a&&a.length&&(!o||!Jd(o,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var s=this,a=this.props,i=a.data,o=a.dataKey,l=a.activeIndex,c=ut(this.props.background,!1);return i.map(function(u,m){u.value;var p=u.background,x=$we(u,Lwe);if(!p)return null;var v=Cn(Cn(Cn(Cn(Cn({},x),{},{fill:"#eee"},p),c),Yd(s.props,u,m)),{},{onAnimationStart:s.handleAnimationStart,onAnimationEnd:s.handleAnimationEnd,dataKey:o,index:m,className:"recharts-bar-background-rectangle"});return ce.createElement(VR,Dv({key:"background-bar-".concat(m),option:s.props.background,isActive:m===l},v))})}},{key:"renderErrorBar",value:function(s,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.data,l=i.xAxis,c=i.yAxis,u=i.layout,m=i.children,p=ka(m,Px);if(!p)return null;var x=u==="vertical"?o[0].height/2:o[0].width/2,v=function(j,S){var C=Array.isArray(j.value)?j.value[1]:j.value;return{x:j.x,y:j.y,value:C,errorVal:Nn(j,S)}},w={clipPath:s?"url(#clipPath-".concat(a,")"):null};return ce.createElement(Vt,w,p.map(function(y){return ce.cloneElement(y,{key:"error-bar-".concat(a,"-").concat(y.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,offset:x,dataPointFormatter:v})}))}},{key:"render",value:function(){var s=this.props,a=s.hide,i=s.data,o=s.className,l=s.xAxis,c=s.yAxis,u=s.left,m=s.top,p=s.width,x=s.height,v=s.isAnimationActive,w=s.background,y=s.id;if(a||!i||!i.length)return null;var j=this.state.isAnimationFinished,S=Lt("recharts-bar",o),C=l&&l.allowDataOverflow,P=c&&c.allowDataOverflow,T=C||P,_=Mt(y)?this.id:y;return ce.createElement(Vt,{className:S},C||P?ce.createElement("defs",null,ce.createElement("clipPath",{id:"clipPath-".concat(_)},ce.createElement("rect",{x:C?u:u-p/2,y:P?m:m-x/2,width:C?p:p*2,height:P?x:x*2}))):null,ce.createElement(Vt,{className:"recharts-bar-rectangles",clipPath:T?"url(#clipPath-".concat(_,")"):null},w?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(T,_),(!v||j)&&bo.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(s,a){return s.animationId!==a.prevAnimationId?{prevAnimationId:s.animationId,curData:s.data,prevData:a.curData}:s.data!==a.curData?{curData:s.data}:null}}])})(N.PureComponent);_z=Mc;Nc(Mc,"displayName","Bar");Nc(Mc,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Lc.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Nc(Mc,"getComposedData",function(t){var r=t.props,n=t.item,s=t.barPosition,a=t.bandSize,i=t.xAxis,o=t.yAxis,l=t.xAxisTicks,c=t.yAxisTicks,u=t.stackedData,m=t.dataStartIndex,p=t.displayedData,x=t.offset,v=g0e(s,n);if(!v)return null;var w=r.layout,y=n.type.defaultProps,j=y!==void 0?Cn(Cn({},y),n.props):n.props,S=j.dataKey,C=j.children,P=j.minPointSize,T=w==="horizontal"?o:i,_=u?T.scale.domain():null,k=S0e({numericAxis:T}),M=ka(C,Uy),$=p.map(function(B,F){var H,K,Z,V,W,G;u?H=v0e(u[m+F],_):(H=Nn(B,S),Array.isArray(H)||(H=[k,H]));var O=Iwe(P,_z.defaultProps.minPointSize)(H[1],F);if(w==="horizontal"){var R,D=[o.scale(H[0]),o.scale(H[1])],I=D[0],q=D[1];K=wD({axis:i,ticks:l,bandSize:a,offset:v.offset,entry:B,index:F}),Z=(R=q??I)!==null&&R!==void 0?R:void 0,V=v.size;var J=I-q;if(W=Number.isNaN(J)?0:J,G={x:K,y:o.y,width:V,height:o.height},Math.abs(O)>0&&Math.abs(W)<Math.abs(O)){var ie=Ms(W||O)*(Math.abs(O)-Math.abs(W));Z-=ie,W+=ie}}else{var ee=[i.scale(H[0]),i.scale(H[1])],ae=ee[0],oe=ee[1];if(K=ae,Z=wD({axis:o,ticks:c,bandSize:a,offset:v.offset,entry:B,index:F}),V=oe-ae,W=v.size,G={x:i.x,y:Z,width:i.width,height:W},Math.abs(O)>0&&Math.abs(V)<Math.abs(O)){var te=Ms(V||O)*(Math.abs(O)-Math.abs(V));V+=te}}return Cn(Cn(Cn({},B),{},{x:K,y:Z,width:V,height:W,value:u?H:H[1],payload:B,background:G},M&&M[F]&&M[F].props),{},{tooltipPayload:[QF(n,B)],tooltipPosition:{x:K+V/2,y:Z+W/2}})});return Cn({data:$,layout:w},x)});function sx(t){"@babel/helpers - typeof";return sx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},sx(t)}function Gwe(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function YR(t,r){for(var n=0;n<r.length;n++){var s=r[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,Pz(s.key),s)}}function Kwe(t,r,n){return r&&YR(t.prototype,r),n&&YR(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function ZR(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,s)}return n}function Ai(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?ZR(Object(n),!0).forEach(function(s){ab(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZR(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function ab(t,r,n){return r=Pz(r),r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function Pz(t){var r=Ywe(t,"string");return sx(r)=="symbol"?r:r+""}function Ywe(t,r){if(sx(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,r);if(sx(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}var d6=function(r,n,s,a,i){var o=r.width,l=r.height,c=r.layout,u=r.children,m=Object.keys(n),p={left:s.left,leftMirror:s.left,right:o-s.right,rightMirror:o-s.right,top:s.top,topMirror:s.top,bottom:l-s.bottom,bottomMirror:l-s.bottom},x=!!ga(u,Mc);return m.reduce(function(v,w){var y=n[w],j=y.orientation,S=y.domain,C=y.padding,P=C===void 0?{}:C,T=y.mirror,_=y.reversed,k="".concat(j).concat(T?"Mirror":""),M,$,B,F,H;if(y.type==="number"&&(y.padding==="gap"||y.padding==="no-gap")){var K=S[1]-S[0],Z=1/0,V=y.categoricalDomain.sort();if(V.forEach(function(ee,ae){ae>0&&(Z=Math.min((ee||0)-(V[ae-1]||0),Z))}),Number.isFinite(Z)){var W=Z/K,G=y.layout==="vertical"?s.height:s.width;if(y.padding==="gap"&&(M=W*G/2),y.padding==="no-gap"){var O=Ds(r.barCategoryGap,W*G),R=W*G/2;M=R-O-(R-O)/G*O}}}a==="xAxis"?$=[s.left+(P.left||0)+(M||0),s.left+s.width-(P.right||0)-(M||0)]:a==="yAxis"?$=c==="horizontal"?[s.top+s.height-(P.bottom||0),s.top+(P.top||0)]:[s.top+(P.top||0)+(M||0),s.top+s.height-(P.bottom||0)-(M||0)]:$=y.range,_&&($=[$[1],$[0]]);var D=YF(y,i,x),I=D.scale,q=D.realScaleType;I.domain(S).range($),ZF(I);var J=XF(I,Ai(Ai({},y),{},{realScaleType:q}));a==="xAxis"?(H=j==="top"&&!T||j==="bottom"&&T,B=s.left,F=p[k]-H*y.height):a==="yAxis"&&(H=j==="left"&&!T||j==="right"&&T,B=p[k]-H*y.width,F=s.top);var ie=Ai(Ai(Ai({},y),J),{},{realScaleType:q,x:B,y:F,scale:I,width:a==="xAxis"?s.width:y.width,height:a==="yAxis"?s.height:y.height});return ie.bandSize=vv(ie,J),!y.hide&&a==="xAxis"?p[k]+=(H?-1:1)*ie.height:y.hide||(p[k]+=(H?-1:1)*ie.width),Ai(Ai({},v),{},ab({},w,ie))},{})},Az=function(r,n){var s=r.x,a=r.y,i=n.x,o=n.y;return{x:Math.min(s,i),y:Math.min(a,o),width:Math.abs(i-s),height:Math.abs(o-a)}},Zwe=function(r){var n=r.x1,s=r.y1,a=r.x2,i=r.y2;return Az({x:n,y:s},{x:a,y:i})},Ez=(function(){function t(r){Gwe(this,t),this.scale=r}return Kwe(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=s.bandAware,i=s.position;if(n!==void 0){if(i)switch(i){case"start":return this.scale(n);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(n)+l}default:return this.scale(n)}if(a){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+c}return this.scale(n)}}},{key:"isInRange",value:function(n){var s=this.range(),a=s[0],i=s[s.length-1];return a<=i?n>=a&&n<=i:n>=i&&n<=a}}],[{key:"create",value:function(n){return new t(n)}}])})();ab(Ez,"EPS",1e-4);var u6=function(r){var n=Object.keys(r).reduce(function(s,a){return Ai(Ai({},s),{},ab({},a,Ez.create(r[a])))},{});return Ai(Ai({},n),{},{apply:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.bandAware,l=i.position;return Swe(a,function(c,u){return n[u].apply(c,{bandAware:o,position:l})})},isInRange:function(a){return Sz(a,function(i,o){return n[o].isInRange(i)})}})};function Xwe(t){return(t%180+180)%180}var Jwe=function(r){var n=r.width,s=r.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=Xwe(a),o=i*Math.PI/180,l=Math.atan(s/n),c=o>l&&o<Math.PI-l?s/Math.sin(o):n/Math.cos(o);return Math.abs(c)},wS,XR;function Qwe(){if(XR)return wS;XR=1;var t=Mo(),r=Nx(),n=By();function s(a){return function(i,o,l){var c=Object(i);if(!r(i)){var u=t(o,3);i=n(i),o=function(p){return u(c[p],p,c)}}var m=a(i,o,l);return m>-1?c[u?i[m]:m]:void 0}}return wS=s,wS}var NS,JR;function eNe(){if(JR)return NS;JR=1;var t=bz();function r(n){var s=t(n),a=s%1;return s===s?a?s-a:s:0}return NS=r,NS}var SS,QR;function tNe(){if(QR)return SS;QR=1;var t=EB(),r=Mo(),n=eNe(),s=Math.max;function a(i,o,l){var c=i==null?0:i.length;if(!c)return-1;var u=l==null?0:n(l);return u<0&&(u=s(c+u,0)),t(i,r(o,3),u)}return SS=a,SS}var _S,eI;function rNe(){if(eI)return _S;eI=1;var t=Qwe(),r=tNe(),n=t(r);return _S=n,_S}var nNe=rNe();const sNe=ar(nNe);var aNe=q7();const iNe=ar(aNe);var oNe=iNe(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),h6=N.createContext(void 0),m6=N.createContext(void 0),Tz=N.createContext(void 0),Oz=N.createContext({}),Mz=N.createContext(void 0),Dz=N.createContext(0),Rz=N.createContext(0),tI=function(r){var n=r.state,s=n.xAxisMap,a=n.yAxisMap,i=n.offset,o=r.clipPathId,l=r.children,c=r.width,u=r.height,m=oNe(i);return ce.createElement(h6.Provider,{value:s},ce.createElement(m6.Provider,{value:a},ce.createElement(Oz.Provider,{value:i},ce.createElement(Tz.Provider,{value:m},ce.createElement(Mz.Provider,{value:o},ce.createElement(Dz.Provider,{value:u},ce.createElement(Rz.Provider,{value:c},l)))))))},lNe=function(){return N.useContext(Mz)},Iz=function(r){var n=N.useContext(h6);n==null&&eu();var s=n[r];return s==null&&eu(),s},cNe=function(){var r=N.useContext(h6);return bc(r)},dNe=function(){var r=N.useContext(m6),n=sNe(r,function(s){return Sz(s.domain,Number.isFinite)});return n||bc(r)},Lz=function(r){var n=N.useContext(m6);n==null&&eu();var s=n[r];return s==null&&eu(),s},uNe=function(){var r=N.useContext(Tz);return r},hNe=function(){return N.useContext(Oz)},f6=function(){return N.useContext(Rz)},p6=function(){return N.useContext(Dz)};function om(t){"@babel/helpers - typeof";return om=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},om(t)}function mNe(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function fNe(t,r){for(var n=0;n<r.length;n++){var s=r[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,Bz(s.key),s)}}function pNe(t,r,n){return r&&fNe(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function xNe(t,r,n){return r=Iv(r),gNe(t,$z()?Reflect.construct(r,n||[],Iv(t).constructor):r.apply(t,n))}function gNe(t,r){if(r&&(om(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vNe(t)}function vNe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $z(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($z=function(){return!!t})()}function Iv(t){return Iv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Iv(t)}function yNe(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&zk(t,r)}function zk(t,r){return zk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},zk(t,r)}function rI(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,s)}return n}function nI(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?rI(Object(n),!0).forEach(function(s){x6(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rI(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function x6(t,r,n){return r=Bz(r),r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function Bz(t){var r=bNe(t,"string");return om(r)=="symbol"?r:r+""}function bNe(t,r){if(om(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,r);if(om(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function jNe(t,r){return _Ne(t)||SNe(t,r)||NNe(t,r)||wNe()}function wNe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NNe(t,r){if(t){if(typeof t=="string")return sI(t,r);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sI(t,r)}}function sI(t,r){(r==null||r>t.length)&&(r=t.length);for(var n=0,s=new Array(r);n<r;n++)s[n]=t[n];return s}function SNe(t,r){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var s,a,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(t)).next,r!==0)for(;!(c=(s=i.call(n)).done)&&(l.push(s.value),l.length!==r);c=!0);}catch(m){u=!0,a=m}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function _Ne(t){if(Array.isArray(t))return t}function Uk(){return Uk=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Uk.apply(this,arguments)}var kNe=function(r,n){var s;return ce.isValidElement(r)?s=ce.cloneElement(r,n):St(r)?s=r(n):s=ce.createElement("line",Uk({},n,{className:"recharts-reference-line-line"})),s},CNe=function(r,n,s,a,i,o,l,c,u){var m=i.x,p=i.y,x=i.width,v=i.height;if(s){var w=u.y,y=r.y.apply(w,{position:o});if(jo(u,"discard")&&!r.y.isInRange(y))return null;var j=[{x:m+x,y},{x:m,y}];return c==="left"?j.reverse():j}if(n){var S=u.x,C=r.x.apply(S,{position:o});if(jo(u,"discard")&&!r.x.isInRange(C))return null;var P=[{x:C,y:p+v},{x:C,y:p}];return l==="top"?P.reverse():P}if(a){var T=u.segment,_=T.map(function(k){return r.apply(k,{position:o})});return jo(u,"discard")&&bwe(_,function(k){return!r.isInRange(k)})?null:_}return null};function PNe(t){var r=t.x,n=t.y,s=t.segment,a=t.xAxisId,i=t.yAxisId,o=t.shape,l=t.className,c=t.alwaysShow,u=lNe(),m=Iz(a),p=Lz(i),x=uNe();if(!u||!x)return null;Ii(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var v=u6({x:m.scale,y:p.scale}),w=Fn(r),y=Fn(n),j=s&&s.length===2,S=CNe(v,w,y,j,x,t.position,m.orientation,p.orientation,t);if(!S)return null;var C=jNe(S,2),P=C[0],T=P.x,_=P.y,k=C[1],M=k.x,$=k.y,B=jo(t,"hidden")?"url(#".concat(u,")"):void 0,F=nI(nI({clipPath:B},ut(t,!0)),{},{x1:T,y1:_,x2:M,y2:$});return ce.createElement(Vt,{className:Lt("recharts-reference-line",l)},kNe(o,F),Gn.renderCallByParent(t,Zwe({x1:T,y1:_,x2:M,y2:$})))}var g6=(function(t){function r(){return mNe(this,r),xNe(this,r,arguments)}return yNe(r,t),pNe(r,[{key:"render",value:function(){return ce.createElement(PNe,this.props)}}])})(ce.Component);x6(g6,"displayName","ReferenceLine");x6(g6,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function Hk(){return Hk=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Hk.apply(this,arguments)}function lm(t){"@babel/helpers - typeof";return lm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},lm(t)}function aI(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,s)}return n}function iI(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?aI(Object(n),!0).forEach(function(s){ib(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aI(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function ANe(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function ENe(t,r){for(var n=0;n<r.length;n++){var s=r[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,zz(s.key),s)}}function TNe(t,r,n){return r&&ENe(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function ONe(t,r,n){return r=Lv(r),MNe(t,Fz()?Reflect.construct(r,n||[],Lv(t).constructor):r.apply(t,n))}function MNe(t,r){if(r&&(lm(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return DNe(t)}function DNe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Fz(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Fz=function(){return!!t})()}function Lv(t){return Lv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Lv(t)}function RNe(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&Wk(t,r)}function Wk(t,r){return Wk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},Wk(t,r)}function ib(t,r,n){return r=zz(r),r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function zz(t){var r=INe(t,"string");return lm(r)=="symbol"?r:r+""}function INe(t,r){if(lm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,r);if(lm(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var LNe=function(r){var n=r.x,s=r.y,a=r.xAxis,i=r.yAxis,o=u6({x:a.scale,y:i.scale}),l=o.apply({x:n,y:s},{bandAware:!0});return jo(r,"discard")&&!o.isInRange(l)?null:l},ob=(function(t){function r(){return ANe(this,r),ONe(this,r,arguments)}return RNe(r,t),TNe(r,[{key:"render",value:function(){var s=this.props,a=s.x,i=s.y,o=s.r,l=s.alwaysShow,c=s.clipPathId,u=Fn(a),m=Fn(i);if(Ii(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!m)return null;var p=LNe(this.props);if(!p)return null;var x=p.x,v=p.y,w=this.props,y=w.shape,j=w.className,S=jo(this.props,"hidden")?"url(#".concat(c,")"):void 0,C=iI(iI({clipPath:S},ut(this.props,!0)),{},{cx:x,cy:v});return ce.createElement(Vt,{className:Lt("recharts-reference-dot",j)},r.renderDot(y,C),Gn.renderCallByParent(this.props,{x:x-o,y:v-o,width:2*o,height:2*o}))}}])})(ce.Component);ib(ob,"displayName","ReferenceDot");ib(ob,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});ib(ob,"renderDot",function(t,r){var n;return ce.isValidElement(t)?n=ce.cloneElement(t,r):St(t)?n=t(r):n=ce.createElement(Ax,Hk({},r,{cx:r.cx,cy:r.cy,className:"recharts-reference-dot-dot"})),n});function qk(){return qk=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},qk.apply(this,arguments)}function cm(t){"@babel/helpers - typeof";return cm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},cm(t)}function oI(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,s)}return n}function lI(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?oI(Object(n),!0).forEach(function(s){lb(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oI(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function $Ne(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function BNe(t,r){for(var n=0;n<r.length;n++){var s=r[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,Hz(s.key),s)}}function FNe(t,r,n){return r&&BNe(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function zNe(t,r,n){return r=$v(r),UNe(t,Uz()?Reflect.construct(r,n||[],$v(t).constructor):r.apply(t,n))}function UNe(t,r){if(r&&(cm(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return HNe(t)}function HNe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Uz(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Uz=function(){return!!t})()}function $v(t){return $v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},$v(t)}function WNe(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&Vk(t,r)}function Vk(t,r){return Vk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},Vk(t,r)}function lb(t,r,n){return r=Hz(r),r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function Hz(t){var r=qNe(t,"string");return cm(r)=="symbol"?r:r+""}function qNe(t,r){if(cm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,r);if(cm(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var VNe=function(r,n,s,a,i){var o=i.x1,l=i.x2,c=i.y1,u=i.y2,m=i.xAxis,p=i.yAxis;if(!m||!p)return null;var x=u6({x:m.scale,y:p.scale}),v={x:r?x.x.apply(o,{position:"start"}):x.x.rangeMin,y:s?x.y.apply(c,{position:"start"}):x.y.rangeMin},w={x:n?x.x.apply(l,{position:"end"}):x.x.rangeMax,y:a?x.y.apply(u,{position:"end"}):x.y.rangeMax};return jo(i,"discard")&&(!x.isInRange(v)||!x.isInRange(w))?null:Az(v,w)},cb=(function(t){function r(){return $Ne(this,r),zNe(this,r,arguments)}return WNe(r,t),FNe(r,[{key:"render",value:function(){var s=this.props,a=s.x1,i=s.x2,o=s.y1,l=s.y2,c=s.className,u=s.alwaysShow,m=s.clipPathId;Ii(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=Fn(a),x=Fn(i),v=Fn(o),w=Fn(l),y=this.props.shape;if(!p&&!x&&!v&&!w&&!y)return null;var j=VNe(p,x,v,w,this.props);if(!j&&!y)return null;var S=jo(this.props,"hidden")?"url(#".concat(m,")"):void 0;return ce.createElement(Vt,{className:Lt("recharts-reference-area",c)},r.renderRect(y,lI(lI({clipPath:S},ut(this.props,!0)),j)),Gn.renderCallByParent(this.props,j))}}])})(ce.Component);lb(cb,"displayName","ReferenceArea");lb(cb,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});lb(cb,"renderRect",function(t,r){var n;return ce.isValidElement(t)?n=ce.cloneElement(t,r):St(t)?n=t(r):n=ce.createElement(c6,qk({},r,{className:"recharts-reference-area-rect"})),n});function Wz(t,r,n){if(r<1)return[];if(r===1&&n===void 0)return t;for(var s=[],a=0;a<t.length;a+=r)s.push(t[a]);return s}function GNe(t,r,n){var s={width:t.width+r.width,height:t.height+r.height};return Jwe(s,n)}function KNe(t,r,n){var s=n==="width",a=t.x,i=t.y,o=t.width,l=t.height;return r===1?{start:s?a:i,end:s?a+o:i+l}:{start:s?a+o:i+l,end:s?a:i}}function Bv(t,r,n,s,a){if(t*r<t*s||t*r>t*a)return!1;var i=n();return t*(r-t*i/2-s)>=0&&t*(r+t*i/2-a)<=0}function YNe(t,r){return Wz(t,r+1)}function ZNe(t,r,n,s,a){for(var i=(s||[]).slice(),o=r.start,l=r.end,c=0,u=1,m=o,p=function(){var w=s==null?void 0:s[c];if(w===void 0)return{v:Wz(s,u)};var y=c,j,S=function(){return j===void 0&&(j=n(w,y)),j},C=w.coordinate,P=c===0||Bv(t,C,S,m,l);P||(c=0,m=o,u+=1),P&&(m=C+t*(S()/2+a),c+=u)},x;u<=i.length;)if(x=p(),x)return x.v;return[]}function ax(t){"@babel/helpers - typeof";return ax=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},ax(t)}function cI(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,s)}return n}function ps(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?cI(Object(n),!0).forEach(function(s){XNe(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cI(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function XNe(t,r,n){return r=JNe(r),r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function JNe(t){var r=QNe(t,"string");return ax(r)=="symbol"?r:r+""}function QNe(t,r){if(ax(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,r);if(ax(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function e1e(t,r,n,s,a){for(var i=(s||[]).slice(),o=i.length,l=r.start,c=r.end,u=function(x){var v=i[x],w,y=function(){return w===void 0&&(w=n(v,x)),w};if(x===o-1){var j=t*(v.coordinate+t*y()/2-c);i[x]=v=ps(ps({},v),{},{tickCoord:j>0?v.coordinate-j*t:v.coordinate})}else i[x]=v=ps(ps({},v),{},{tickCoord:v.coordinate});var S=Bv(t,v.tickCoord,y,l,c);S&&(c=v.tickCoord-t*(y()/2+a),i[x]=ps(ps({},v),{},{isShow:!0}))},m=o-1;m>=0;m--)u(m);return i}function t1e(t,r,n,s,a,i){var o=(s||[]).slice(),l=o.length,c=r.start,u=r.end;if(i){var m=s[l-1],p=n(m,l-1),x=t*(m.coordinate+t*p/2-u);o[l-1]=m=ps(ps({},m),{},{tickCoord:x>0?m.coordinate-x*t:m.coordinate});var v=Bv(t,m.tickCoord,function(){return p},c,u);v&&(u=m.tickCoord-t*(p/2+a),o[l-1]=ps(ps({},m),{},{isShow:!0}))}for(var w=i?l-1:l,y=function(C){var P=o[C],T,_=function(){return T===void 0&&(T=n(P,C)),T};if(C===0){var k=t*(P.coordinate-t*_()/2-c);o[C]=P=ps(ps({},P),{},{tickCoord:k<0?P.coordinate-k*t:P.coordinate})}else o[C]=P=ps(ps({},P),{},{tickCoord:P.coordinate});var M=Bv(t,P.tickCoord,_,c,u);M&&(c=P.tickCoord+t*(_()/2+a),o[C]=ps(ps({},P),{},{isShow:!0}))},j=0;j<w;j++)y(j);return o}function v6(t,r,n){var s=t.tick,a=t.ticks,i=t.viewBox,o=t.minTickGap,l=t.orientation,c=t.interval,u=t.tickFormatter,m=t.unit,p=t.angle;if(!a||!a.length||!s)return[];if(Be(c)||Lc.isSsr)return YNe(a,typeof c=="number"&&Be(c)?c:0);var x=[],v=l==="top"||l==="bottom"?"width":"height",w=m&&v==="width"?np(m,{fontSize:r,letterSpacing:n}):{width:0,height:0},y=function(P,T){var _=St(u)?u(P.value,T):P.value;return v==="width"?GNe(np(_,{fontSize:r,letterSpacing:n}),w,p):np(_,{fontSize:r,letterSpacing:n})[v]},j=a.length>=2?Ms(a[1].coordinate-a[0].coordinate):1,S=KNe(i,j,v);return c==="equidistantPreserveStart"?ZNe(j,S,y,a,o):(c==="preserveStart"||c==="preserveStartEnd"?x=t1e(j,S,y,a,o,c==="preserveStartEnd"):x=e1e(j,S,y,a,o),x.filter(function(C){return C.isShow}))}var r1e=["viewBox"],n1e=["viewBox"],s1e=["ticks"];function dm(t){"@babel/helpers - typeof";return dm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},dm(t)}function Eh(){return Eh=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Eh.apply(this,arguments)}function dI(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,s)}return n}function As(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?dI(Object(n),!0).forEach(function(s){y6(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dI(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function kS(t,r){if(t==null)return{};var n=a1e(t,r),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)s=i[a],!(r.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(n[s]=t[s])}return n}function a1e(t,r){if(t==null)return{};var n={};for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(r.indexOf(s)>=0)continue;n[s]=t[s]}return n}function i1e(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function uI(t,r){for(var n=0;n<r.length;n++){var s=r[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,Vz(s.key),s)}}function o1e(t,r,n){return r&&uI(t.prototype,r),n&&uI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function l1e(t,r,n){return r=Fv(r),c1e(t,qz()?Reflect.construct(r,n||[],Fv(t).constructor):r.apply(t,n))}function c1e(t,r){if(r&&(dm(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return d1e(t)}function d1e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function qz(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qz=function(){return!!t})()}function Fv(t){return Fv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Fv(t)}function u1e(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&Gk(t,r)}function Gk(t,r){return Gk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},Gk(t,r)}function y6(t,r,n){return r=Vz(r),r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function Vz(t){var r=h1e(t,"string");return dm(r)=="symbol"?r:r+""}function h1e(t,r){if(dm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,r);if(dm(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var $m=(function(t){function r(n){var s;return i1e(this,r),s=l1e(this,r,[n]),s.state={fontSize:"",letterSpacing:""},s}return u1e(r,t),o1e(r,[{key:"shouldComponentUpdate",value:function(s,a){var i=s.viewBox,o=kS(s,r1e),l=this.props,c=l.viewBox,u=kS(l,n1e);return!Ih(i,c)||!Ih(o,u)||!Ih(a,this.state)}},{key:"componentDidMount",value:function(){var s=this.layerReference;if(s){var a=s.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(s){var a=this.props,i=a.x,o=a.y,l=a.width,c=a.height,u=a.orientation,m=a.tickSize,p=a.mirror,x=a.tickMargin,v,w,y,j,S,C,P=p?-1:1,T=s.tickSize||m,_=Be(s.tickCoord)?s.tickCoord:s.coordinate;switch(u){case"top":v=w=s.coordinate,j=o+ +!p*c,y=j-P*T,C=y-P*x,S=_;break;case"left":y=j=s.coordinate,w=i+ +!p*l,v=w-P*T,S=v-P*x,C=_;break;case"right":y=j=s.coordinate,w=i+ +p*l,v=w+P*T,S=v+P*x,C=_;break;default:v=w=s.coordinate,j=o+ +p*c,y=j+P*T,C=y+P*x,S=_;break}return{line:{x1:v,y1:y,x2:w,y2:j},tick:{x:S,y:C}}}},{key:"getTickTextAnchor",value:function(){var s=this.props,a=s.orientation,i=s.mirror,o;switch(a){case"left":o=i?"start":"end";break;case"right":o=i?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var s=this.props,a=s.orientation,i=s.mirror,o="end";switch(a){case"left":case"right":o="middle";break;case"top":o=i?"start":"end";break;default:o=i?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var s=this.props,a=s.x,i=s.y,o=s.width,l=s.height,c=s.orientation,u=s.mirror,m=s.axisLine,p=As(As(As({},ut(this.props,!1)),ut(m,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var x=+(c==="top"&&!u||c==="bottom"&&u);p=As(As({},p),{},{x1:a,y1:i+x*l,x2:a+o,y2:i+x*l})}else{var v=+(c==="left"&&!u||c==="right"&&u);p=As(As({},p),{},{x1:a+v*o,y1:i,x2:a+v*o,y2:i+l})}return ce.createElement("line",Eh({},p,{className:Lt("recharts-cartesian-axis-line",_a(m,"className"))}))}},{key:"renderTicks",value:function(s,a,i){var o=this,l=this.props,c=l.tickLine,u=l.stroke,m=l.tick,p=l.tickFormatter,x=l.unit,v=v6(As(As({},this.props),{},{ticks:s}),a,i),w=this.getTickTextAnchor(),y=this.getTickVerticalAnchor(),j=ut(this.props,!1),S=ut(m,!1),C=As(As({},j),{},{fill:"none"},ut(c,!1)),P=v.map(function(T,_){var k=o.getTickLineCoord(T),M=k.line,$=k.tick,B=As(As(As(As({textAnchor:w,verticalAnchor:y},j),{},{stroke:"none",fill:u},S),$),{},{index:_,payload:T,visibleTicksCount:v.length,tickFormatter:p});return ce.createElement(Vt,Eh({className:"recharts-cartesian-axis-tick",key:"tick-".concat(T.value,"-").concat(T.coordinate,"-").concat(T.tickCoord)},Yd(o.props,T,_)),c&&ce.createElement("line",Eh({},C,M,{className:Lt("recharts-cartesian-axis-tick-line",_a(c,"className"))})),m&&r.renderTickItem(m,B,"".concat(St(p)?p(T.value,_):T.value).concat(x||"")))});return ce.createElement("g",{className:"recharts-cartesian-axis-ticks"},P)}},{key:"render",value:function(){var s=this,a=this.props,i=a.axisLine,o=a.width,l=a.height,c=a.ticksGenerator,u=a.className,m=a.hide;if(m)return null;var p=this.props,x=p.ticks,v=kS(p,s1e),w=x;return St(c)&&(w=x&&x.length>0?c(this.props):c(v)),o<=0||l<=0||!w||!w.length?null:ce.createElement(Vt,{className:Lt("recharts-cartesian-axis",u),ref:function(j){s.layerReference=j}},i&&this.renderAxisLine(),this.renderTicks(w,this.state.fontSize,this.state.letterSpacing),Gn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(s,a,i){var o;return ce.isValidElement(s)?o=ce.cloneElement(s,a):St(s)?o=s(a):o=ce.createElement(Xd,Eh({},a,{className:"recharts-cartesian-axis-tick-value"}),i),o}}])})(N.Component);y6($m,"displayName","CartesianAxis");y6($m,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var m1e=["x1","y1","x2","y2","key"],f1e=["offset"];function tu(t){"@babel/helpers - typeof";return tu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},tu(t)}function hI(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,s)}return n}function gs(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?hI(Object(n),!0).forEach(function(s){p1e(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hI(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function p1e(t,r,n){return r=x1e(r),r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function x1e(t){var r=g1e(t,"string");return tu(r)=="symbol"?r:r+""}function g1e(t,r){if(tu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,r);if(tu(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function Rd(){return Rd=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Rd.apply(this,arguments)}function mI(t,r){if(t==null)return{};var n=v1e(t,r),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)s=i[a],!(r.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(n[s]=t[s])}return n}function v1e(t,r){if(t==null)return{};var n={};for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(r.indexOf(s)>=0)continue;n[s]=t[s]}return n}var y1e=function(r){var n=r.fill;if(!n||n==="none")return null;var s=r.fillOpacity,a=r.x,i=r.y,o=r.width,l=r.height,c=r.ry;return ce.createElement("rect",{x:a,y:i,ry:c,width:o,height:l,stroke:"none",fill:n,fillOpacity:s,className:"recharts-cartesian-grid-bg"})};function Gz(t,r){var n;if(ce.isValidElement(t))n=ce.cloneElement(t,r);else if(St(t))n=t(r);else{var s=r.x1,a=r.y1,i=r.x2,o=r.y2,l=r.key,c=mI(r,m1e),u=ut(c,!1);u.offset;var m=mI(u,f1e);n=ce.createElement("line",Rd({},m,{x1:s,y1:a,x2:i,y2:o,fill:"none",key:l}))}return n}function b1e(t){var r=t.x,n=t.width,s=t.horizontal,a=s===void 0?!0:s,i=t.horizontalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(l,c){var u=gs(gs({},t),{},{x1:r,y1:l,x2:r+n,y2:l,key:"line-".concat(c),index:c});return Gz(a,u)});return ce.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function j1e(t){var r=t.y,n=t.height,s=t.vertical,a=s===void 0?!0:s,i=t.verticalPoints;if(!a||!i||!i.length)return null;var o=i.map(function(l,c){var u=gs(gs({},t),{},{x1:l,y1:r,x2:l,y2:r+n,key:"line-".concat(c),index:c});return Gz(a,u)});return ce.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function w1e(t){var r=t.horizontalFill,n=t.fillOpacity,s=t.x,a=t.y,i=t.width,o=t.height,l=t.horizontalPoints,c=t.horizontal,u=c===void 0?!0:c;if(!u||!r||!r.length)return null;var m=l.map(function(x){return Math.round(x+a-a)}).sort(function(x,v){return x-v});a!==m[0]&&m.unshift(0);var p=m.map(function(x,v){var w=!m[v+1],y=w?a+o-x:m[v+1]-x;if(y<=0)return null;var j=v%r.length;return ce.createElement("rect",{key:"react-".concat(v),y:x,x:s,height:y,width:i,stroke:"none",fill:r[j],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return ce.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},p)}function N1e(t){var r=t.vertical,n=r===void 0?!0:r,s=t.verticalFill,a=t.fillOpacity,i=t.x,o=t.y,l=t.width,c=t.height,u=t.verticalPoints;if(!n||!s||!s.length)return null;var m=u.map(function(x){return Math.round(x+i-i)}).sort(function(x,v){return x-v});i!==m[0]&&m.unshift(0);var p=m.map(function(x,v){var w=!m[v+1],y=w?i+l-x:m[v+1]-x;if(y<=0)return null;var j=v%s.length;return ce.createElement("rect",{key:"react-".concat(v),x,y:o,width:y,height:c,stroke:"none",fill:s[j],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return ce.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},p)}var S1e=function(r,n){var s=r.xAxis,a=r.width,i=r.height,o=r.offset;return KF(v6(gs(gs(gs({},$m.defaultProps),s),{},{ticks:cl(s,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.left,o.left+o.width,n)},_1e=function(r,n){var s=r.yAxis,a=r.width,i=r.height,o=r.offset;return KF(v6(gs(gs(gs({},$m.defaultProps),s),{},{ticks:cl(s,!0),viewBox:{x:0,y:0,width:a,height:i}})),o.top,o.top+o.height,n)},xh={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function ru(t){var r,n,s,a,i,o,l=f6(),c=p6(),u=hNe(),m=gs(gs({},t),{},{stroke:(r=t.stroke)!==null&&r!==void 0?r:xh.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:xh.fill,horizontal:(s=t.horizontal)!==null&&s!==void 0?s:xh.horizontal,horizontalFill:(a=t.horizontalFill)!==null&&a!==void 0?a:xh.horizontalFill,vertical:(i=t.vertical)!==null&&i!==void 0?i:xh.vertical,verticalFill:(o=t.verticalFill)!==null&&o!==void 0?o:xh.verticalFill,x:Be(t.x)?t.x:u.left,y:Be(t.y)?t.y:u.top,width:Be(t.width)?t.width:u.width,height:Be(t.height)?t.height:u.height}),p=m.x,x=m.y,v=m.width,w=m.height,y=m.syncWithTicks,j=m.horizontalValues,S=m.verticalValues,C=cNe(),P=dNe();if(!Be(v)||v<=0||!Be(w)||w<=0||!Be(p)||p!==+p||!Be(x)||x!==+x)return null;var T=m.verticalCoordinatesGenerator||S1e,_=m.horizontalCoordinatesGenerator||_1e,k=m.horizontalPoints,M=m.verticalPoints;if((!k||!k.length)&&St(_)){var $=j&&j.length,B=_({yAxis:P?gs(gs({},P),{},{ticks:$?j:P.ticks}):void 0,width:l,height:c,offset:u},$?!0:y);Ii(Array.isArray(B),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(tu(B),"]")),Array.isArray(B)&&(k=B)}if((!M||!M.length)&&St(T)){var F=S&&S.length,H=T({xAxis:C?gs(gs({},C),{},{ticks:F?S:C.ticks}):void 0,width:l,height:c,offset:u},F?!0:y);Ii(Array.isArray(H),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(tu(H),"]")),Array.isArray(H)&&(M=H)}return ce.createElement("g",{className:"recharts-cartesian-grid"},ce.createElement(y1e,{fill:m.fill,fillOpacity:m.fillOpacity,x:m.x,y:m.y,width:m.width,height:m.height,ry:m.ry}),ce.createElement(b1e,Rd({},m,{offset:u,horizontalPoints:k,xAxis:C,yAxis:P})),ce.createElement(j1e,Rd({},m,{offset:u,verticalPoints:M,xAxis:C,yAxis:P})),ce.createElement(w1e,Rd({},m,{horizontalPoints:k})),ce.createElement(N1e,Rd({},m,{verticalPoints:M})))}ru.displayName="CartesianGrid";var k1e=["type","layout","connectNulls","ref"],C1e=["key"];function um(t){"@babel/helpers - typeof";return um=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},um(t)}function fI(t,r){if(t==null)return{};var n=P1e(t,r),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)s=i[a],!(r.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(n[s]=t[s])}return n}function P1e(t,r){if(t==null)return{};var n={};for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(r.indexOf(s)>=0)continue;n[s]=t[s]}return n}function cp(){return cp=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},cp.apply(this,arguments)}function pI(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,s)}return n}function pa(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?pI(Object(n),!0).forEach(function(s){Ei(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pI(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function gh(t){return O1e(t)||T1e(t)||E1e(t)||A1e()}function A1e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function E1e(t,r){if(t){if(typeof t=="string")return Kk(t,r);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Kk(t,r)}}function T1e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function O1e(t){if(Array.isArray(t))return Kk(t)}function Kk(t,r){(r==null||r>t.length)&&(r=t.length);for(var n=0,s=new Array(r);n<r;n++)s[n]=t[n];return s}function M1e(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function xI(t,r){for(var n=0;n<r.length;n++){var s=r[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,Yz(s.key),s)}}function D1e(t,r,n){return r&&xI(t.prototype,r),n&&xI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function R1e(t,r,n){return r=zv(r),I1e(t,Kz()?Reflect.construct(r,n||[],zv(t).constructor):r.apply(t,n))}function I1e(t,r){if(r&&(um(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return L1e(t)}function L1e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Kz(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Kz=function(){return!!t})()}function zv(t){return zv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},zv(t)}function $1e(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&Yk(t,r)}function Yk(t,r){return Yk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},Yk(t,r)}function Ei(t,r,n){return r=Yz(r),r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function Yz(t){var r=B1e(t,"string");return um(r)=="symbol"?r:r+""}function B1e(t,r){if(um(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,r);if(um(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Os=(function(t){function r(){var n;M1e(this,r);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return n=R1e(this,r,[].concat(a)),Ei(n,"state",{isAnimationFinished:!0,totalLength:0}),Ei(n,"generateSimpleStrokeDasharray",function(o,l){return"".concat(l,"px ").concat(o-l,"px")}),Ei(n,"getStrokeDasharray",function(o,l,c){var u=c.reduce(function(S,C){return S+C});if(!u)return n.generateSimpleStrokeDasharray(l,o);for(var m=Math.floor(o/u),p=o%u,x=l-o,v=[],w=0,y=0;w<c.length;y+=c[w],++w)if(y+c[w]>p){v=[].concat(gh(c.slice(0,w)),[p-y]);break}var j=v.length%2===0?[0,x]:[x];return[].concat(gh(r.repeat(c,m)),gh(v),j).map(function(S){return"".concat(S,"px")}).join(", ")}),Ei(n,"id",du("recharts-line-")),Ei(n,"pathRef",function(o){n.mainCurve=o}),Ei(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),Ei(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return $1e(r,t),D1e(r,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var s=this.getTotalLength();this.setState({totalLength:s})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var s=this.getTotalLength();s!==this.state.totalLength&&this.setState({totalLength:s})}}},{key:"getTotalLength",value:function(){var s=this.mainCurve;try{return s&&s.getTotalLength&&s.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(s,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.points,l=i.xAxis,c=i.yAxis,u=i.layout,m=i.children,p=ka(m,Px);if(!p)return null;var x=function(y,j){return{x:y.x,y:y.y,value:y.value,errorVal:Nn(y.payload,j)}},v={clipPath:s?"url(#clipPath-".concat(a,")"):null};return ce.createElement(Vt,v,p.map(function(w){return ce.cloneElement(w,{key:"bar-".concat(w.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,dataPointFormatter:x})}))}},{key:"renderDots",value:function(s,a,i){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,u=l.points,m=l.dataKey,p=ut(this.props,!1),x=ut(c,!0),v=u.map(function(y,j){var S=pa(pa(pa({key:"dot-".concat(j),r:3},p),x),{},{index:j,cx:y.x,cy:y.y,value:y.value,dataKey:m,payload:y.payload,points:u});return r.renderDotItem(c,S)}),w={clipPath:s?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return ce.createElement(Vt,cp({className:"recharts-line-dots",key:"dots"},w),v)}},{key:"renderCurveStatically",value:function(s,a,i,o){var l=this.props,c=l.type,u=l.layout,m=l.connectNulls;l.ref;var p=fI(l,k1e),x=pa(pa(pa({},ut(p,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(i,")"):null,points:s},o),{},{type:c,layout:u,connectNulls:m});return ce.createElement(Ud,cp({},x,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(s,a){var i=this,o=this.props,l=o.points,c=o.strokeDasharray,u=o.isAnimationActive,m=o.animationBegin,p=o.animationDuration,x=o.animationEasing,v=o.animationId,w=o.animateNewValues,y=o.width,j=o.height,S=this.state,C=S.prevPoints,P=S.totalLength;return ce.createElement(Fi,{begin:m,duration:p,isActive:u,easing:x,from:{t:0},to:{t:1},key:"line-".concat(v),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(T){var _=T.t;if(C){var k=C.length/l.length,M=l.map(function(K,Z){var V=Math.floor(Z*k);if(C[V]){var W=C[V],G=Bn(W.x,K.x),O=Bn(W.y,K.y);return pa(pa({},K),{},{x:G(_),y:O(_)})}if(w){var R=Bn(y*2,K.x),D=Bn(j/2,K.y);return pa(pa({},K),{},{x:R(_),y:D(_)})}return pa(pa({},K),{},{x:K.x,y:K.y})});return i.renderCurveStatically(M,s,a)}var $=Bn(0,P),B=$(_),F;if(c){var H="".concat(c).split(/[,\s]+/gim).map(function(K){return parseFloat(K)});F=i.getStrokeDasharray(B,P,H)}else F=i.generateSimpleStrokeDasharray(P,B);return i.renderCurveStatically(l,s,a,{strokeDasharray:F})})}},{key:"renderCurve",value:function(s,a){var i=this.props,o=i.points,l=i.isAnimationActive,c=this.state,u=c.prevPoints,m=c.totalLength;return l&&o&&o.length&&(!u&&m>0||!Jd(u,o))?this.renderCurveWithAnimation(s,a):this.renderCurveStatically(o,s,a)}},{key:"render",value:function(){var s,a=this.props,i=a.hide,o=a.dot,l=a.points,c=a.className,u=a.xAxis,m=a.yAxis,p=a.top,x=a.left,v=a.width,w=a.height,y=a.isAnimationActive,j=a.id;if(i||!l||!l.length)return null;var S=this.state.isAnimationFinished,C=l.length===1,P=Lt("recharts-line",c),T=u&&u.allowDataOverflow,_=m&&m.allowDataOverflow,k=T||_,M=Mt(j)?this.id:j,$=(s=ut(o,!1))!==null&&s!==void 0?s:{r:3,strokeWidth:2},B=$.r,F=B===void 0?3:B,H=$.strokeWidth,K=H===void 0?2:H,Z=Z7(o)?o:{},V=Z.clipDot,W=V===void 0?!0:V,G=F*2+K;return ce.createElement(Vt,{className:P},T||_?ce.createElement("defs",null,ce.createElement("clipPath",{id:"clipPath-".concat(M)},ce.createElement("rect",{x:T?x:x-v/2,y:_?p:p-w/2,width:T?v:v*2,height:_?w:w*2})),!W&&ce.createElement("clipPath",{id:"clipPath-dots-".concat(M)},ce.createElement("rect",{x:x-G/2,y:p-G/2,width:v+G,height:w+G}))):null,!C&&this.renderCurve(k,M),this.renderErrorBar(k,M),(C||o)&&this.renderDots(k,W,M),(!y||S)&&bo.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(s,a){return s.animationId!==a.prevAnimationId?{prevAnimationId:s.animationId,curPoints:s.points,prevPoints:a.curPoints}:s.points!==a.curPoints?{curPoints:s.points}:null}},{key:"repeat",value:function(s,a){for(var i=s.length%2!==0?[].concat(gh(s),[0]):s,o=[],l=0;l<a;++l)o=[].concat(gh(o),gh(i));return o}},{key:"renderDotItem",value:function(s,a){var i;if(ce.isValidElement(s))i=ce.cloneElement(s,a);else if(St(s))i=s(a);else{var o=a.key,l=fI(a,C1e),c=Lt("recharts-line-dot",typeof s!="boolean"?s.className:"");i=ce.createElement(Ax,cp({key:o},l,{className:c}))}return i}}])})(N.PureComponent);Ei(Os,"displayName","Line");Ei(Os,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Lc.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Ei(Os,"getComposedData",function(t){var r=t.props,n=t.xAxis,s=t.yAxis,a=t.xAxisTicks,i=t.yAxisTicks,o=t.dataKey,l=t.bandSize,c=t.displayedData,u=t.offset,m=r.layout,p=c.map(function(x,v){var w=Nn(x,o);return m==="horizontal"?{x:gv({axis:n,ticks:a,bandSize:l,entry:x,index:v}),y:Mt(w)?null:s.scale(w),value:w,payload:x}:{x:Mt(w)?null:n.scale(w),y:gv({axis:s,ticks:i,bandSize:l,entry:x,index:v}),value:w,payload:x}});return pa({points:p,layout:m},u)});var F1e=["layout","type","stroke","connectNulls","isRange","ref"],z1e=["key"],Zz;function hm(t){"@babel/helpers - typeof";return hm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},hm(t)}function Xz(t,r){if(t==null)return{};var n=U1e(t,r),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)s=i[a],!(r.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(n[s]=t[s])}return n}function U1e(t,r){if(t==null)return{};var n={};for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(r.indexOf(s)>=0)continue;n[s]=t[s]}return n}function Id(){return Id=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Id.apply(this,arguments)}function gI(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,s)}return n}function xc(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?gI(Object(n),!0).forEach(function(s){po(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gI(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function H1e(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function vI(t,r){for(var n=0;n<r.length;n++){var s=r[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,Qz(s.key),s)}}function W1e(t,r,n){return r&&vI(t.prototype,r),n&&vI(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function q1e(t,r,n){return r=Uv(r),V1e(t,Jz()?Reflect.construct(r,n||[],Uv(t).constructor):r.apply(t,n))}function V1e(t,r){if(r&&(hm(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return G1e(t)}function G1e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Jz(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Jz=function(){return!!t})()}function Uv(t){return Uv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Uv(t)}function K1e(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&Zk(t,r)}function Zk(t,r){return Zk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},Zk(t,r)}function po(t,r,n){return r=Qz(r),r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function Qz(t){var r=Y1e(t,"string");return hm(r)=="symbol"?r:r+""}function Y1e(t,r){if(hm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,r);if(hm(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Li=(function(t){function r(){var n;H1e(this,r);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return n=q1e(this,r,[].concat(a)),po(n,"state",{isAnimationFinished:!0}),po(n,"id",du("recharts-area-")),po(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),St(o)&&o()}),po(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),St(o)&&o()}),n}return K1e(r,t),W1e(r,[{key:"renderDots",value:function(s,a,i){var o=this.props.isAnimationActive,l=this.state.isAnimationFinished;if(o&&!l)return null;var c=this.props,u=c.dot,m=c.points,p=c.dataKey,x=ut(this.props,!1),v=ut(u,!0),w=m.map(function(j,S){var C=xc(xc(xc({key:"dot-".concat(S),r:3},x),v),{},{index:S,cx:j.x,cy:j.y,dataKey:p,value:j.value,payload:j.payload,points:m});return r.renderDotItem(u,C)}),y={clipPath:s?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return ce.createElement(Vt,Id({className:"recharts-area-dots"},y),w)}},{key:"renderHorizontalRect",value:function(s){var a=this.props,i=a.baseLine,o=a.points,l=a.strokeWidth,c=o[0].x,u=o[o.length-1].x,m=s*Math.abs(c-u),p=wc(o.map(function(x){return x.y||0}));return Be(i)&&typeof i=="number"?p=Math.max(i,p):i&&Array.isArray(i)&&i.length&&(p=Math.max(wc(i.map(function(x){return x.y||0})),p)),Be(p)?ce.createElement("rect",{x:c<u?c:c-m,y:0,width:m,height:Math.floor(p+(l?parseInt("".concat(l),10):1))}):null}},{key:"renderVerticalRect",value:function(s){var a=this.props,i=a.baseLine,o=a.points,l=a.strokeWidth,c=o[0].y,u=o[o.length-1].y,m=s*Math.abs(c-u),p=wc(o.map(function(x){return x.x||0}));return Be(i)&&typeof i=="number"?p=Math.max(i,p):i&&Array.isArray(i)&&i.length&&(p=Math.max(wc(i.map(function(x){return x.x||0})),p)),Be(p)?ce.createElement("rect",{x:0,y:c<u?c:c-m,width:p+(l?parseInt("".concat(l),10):1),height:Math.floor(m)}):null}},{key:"renderClipRect",value:function(s){var a=this.props.layout;return a==="vertical"?this.renderVerticalRect(s):this.renderHorizontalRect(s)}},{key:"renderAreaStatically",value:function(s,a,i,o){var l=this.props,c=l.layout,u=l.type,m=l.stroke,p=l.connectNulls,x=l.isRange;l.ref;var v=Xz(l,F1e);return ce.createElement(Vt,{clipPath:i?"url(#clipPath-".concat(o,")"):null},ce.createElement(Ud,Id({},ut(v,!0),{points:s,connectNulls:p,type:u,baseLine:a,layout:c,stroke:"none",className:"recharts-area-area"})),m!=="none"&&ce.createElement(Ud,Id({},ut(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:p,fill:"none",points:s})),m!=="none"&&x&&ce.createElement(Ud,Id({},ut(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:p,fill:"none",points:a})))}},{key:"renderAreaWithAnimation",value:function(s,a){var i=this,o=this.props,l=o.points,c=o.baseLine,u=o.isAnimationActive,m=o.animationBegin,p=o.animationDuration,x=o.animationEasing,v=o.animationId,w=this.state,y=w.prevPoints,j=w.prevBaseLine;return ce.createElement(Fi,{begin:m,duration:p,isActive:u,easing:x,from:{t:0},to:{t:1},key:"area-".concat(v),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(S){var C=S.t;if(y){var P=y.length/l.length,T=l.map(function($,B){var F=Math.floor(B*P);if(y[F]){var H=y[F],K=Bn(H.x,$.x),Z=Bn(H.y,$.y);return xc(xc({},$),{},{x:K(C),y:Z(C)})}return $}),_;if(Be(c)&&typeof c=="number"){var k=Bn(j,c);_=k(C)}else if(Mt(c)||Mm(c)){var M=Bn(j,0);_=M(C)}else _=c.map(function($,B){var F=Math.floor(B*P);if(j[F]){var H=j[F],K=Bn(H.x,$.x),Z=Bn(H.y,$.y);return xc(xc({},$),{},{x:K(C),y:Z(C)})}return $});return i.renderAreaStatically(T,_,s,a)}return ce.createElement(Vt,null,ce.createElement("defs",null,ce.createElement("clipPath",{id:"animationClipPath-".concat(a)},i.renderClipRect(C))),ce.createElement(Vt,{clipPath:"url(#animationClipPath-".concat(a,")")},i.renderAreaStatically(l,c,s,a)))})}},{key:"renderArea",value:function(s,a){var i=this.props,o=i.points,l=i.baseLine,c=i.isAnimationActive,u=this.state,m=u.prevPoints,p=u.prevBaseLine,x=u.totalLength;return c&&o&&o.length&&(!m&&x>0||!Jd(m,o)||!Jd(p,l))?this.renderAreaWithAnimation(s,a):this.renderAreaStatically(o,l,s,a)}},{key:"render",value:function(){var s,a=this.props,i=a.hide,o=a.dot,l=a.points,c=a.className,u=a.top,m=a.left,p=a.xAxis,x=a.yAxis,v=a.width,w=a.height,y=a.isAnimationActive,j=a.id;if(i||!l||!l.length)return null;var S=this.state.isAnimationFinished,C=l.length===1,P=Lt("recharts-area",c),T=p&&p.allowDataOverflow,_=x&&x.allowDataOverflow,k=T||_,M=Mt(j)?this.id:j,$=(s=ut(o,!1))!==null&&s!==void 0?s:{r:3,strokeWidth:2},B=$.r,F=B===void 0?3:B,H=$.strokeWidth,K=H===void 0?2:H,Z=Z7(o)?o:{},V=Z.clipDot,W=V===void 0?!0:V,G=F*2+K;return ce.createElement(Vt,{className:P},T||_?ce.createElement("defs",null,ce.createElement("clipPath",{id:"clipPath-".concat(M)},ce.createElement("rect",{x:T?m:m-v/2,y:_?u:u-w/2,width:T?v:v*2,height:_?w:w*2})),!W&&ce.createElement("clipPath",{id:"clipPath-dots-".concat(M)},ce.createElement("rect",{x:m-G/2,y:u-G/2,width:v+G,height:w+G}))):null,C?null:this.renderArea(k,M),(o||C)&&this.renderDots(k,W,M),(!y||S)&&bo.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(s,a){return s.animationId!==a.prevAnimationId?{prevAnimationId:s.animationId,curPoints:s.points,curBaseLine:s.baseLine,prevPoints:a.curPoints,prevBaseLine:a.curBaseLine}:s.points!==a.curPoints||s.baseLine!==a.curBaseLine?{curPoints:s.points,curBaseLine:s.baseLine}:null}}])})(N.PureComponent);Zz=Li;po(Li,"displayName","Area");po(Li,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Lc.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});po(Li,"getBaseValue",function(t,r,n,s){var a=t.layout,i=t.baseValue,o=r.props.baseValue,l=o??i;if(Be(l)&&typeof l=="number")return l;var c=a==="horizontal"?s:n,u=c.scale.domain();if(c.type==="number"){var m=Math.max(u[0],u[1]),p=Math.min(u[0],u[1]);return l==="dataMin"?p:l==="dataMax"||m<0?m:Math.max(Math.min(u[0],u[1]),0)}return l==="dataMin"?u[0]:l==="dataMax"?u[1]:u[0]});po(Li,"getComposedData",function(t){var r=t.props,n=t.item,s=t.xAxis,a=t.yAxis,i=t.xAxisTicks,o=t.yAxisTicks,l=t.bandSize,c=t.dataKey,u=t.stackedData,m=t.dataStartIndex,p=t.displayedData,x=t.offset,v=r.layout,w=u&&u.length,y=Zz.getBaseValue(r,n,s,a),j=v==="horizontal",S=!1,C=p.map(function(T,_){var k;w?k=u[m+_]:(k=Nn(T,c),Array.isArray(k)?S=!0:k=[y,k]);var M=k[1]==null||w&&Nn(T,c)==null;return j?{x:gv({axis:s,ticks:i,bandSize:l,entry:T,index:_}),y:M?null:a.scale(k[1]),value:k,payload:T}:{x:M?null:s.scale(k[1]),y:gv({axis:a,ticks:o,bandSize:l,entry:T,index:_}),value:k,payload:T}}),P;return w||S?P=C.map(function(T){var _=Array.isArray(T.value)?T.value[0]:null;return j?{x:T.x,y:_!=null&&T.y!=null?a.scale(_):null}:{x:_!=null?s.scale(_):null,y:T.y}}):P=j?a.scale(y):s.scale(y),xc({points:C,baseLine:P,layout:v,isRange:S},x)});po(Li,"renderDotItem",function(t,r){var n;if(ce.isValidElement(t))n=ce.cloneElement(t,r);else if(St(t))n=t(r);else{var s=Lt("recharts-area-dot",typeof t!="boolean"?t.className:""),a=r.key,i=Xz(r,z1e);n=ce.createElement(Ax,Id({},i,{key:a,className:s}))}return n});function mm(t){"@babel/helpers - typeof";return mm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},mm(t)}function Z1e(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function X1e(t,r){for(var n=0;n<r.length;n++){var s=r[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,rU(s.key),s)}}function J1e(t,r,n){return r&&X1e(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Q1e(t,r,n){return r=Hv(r),e2e(t,eU()?Reflect.construct(r,n||[],Hv(t).constructor):r.apply(t,n))}function e2e(t,r){if(r&&(mm(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return t2e(t)}function t2e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function eU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(eU=function(){return!!t})()}function Hv(t){return Hv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Hv(t)}function r2e(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&Xk(t,r)}function Xk(t,r){return Xk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},Xk(t,r)}function tU(t,r,n){return r=rU(r),r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function rU(t){var r=n2e(t,"string");return mm(r)=="symbol"?r:r+""}function n2e(t,r){if(mm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,r);if(mm(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Jk(){return Jk=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Jk.apply(this,arguments)}function s2e(t){var r=t.xAxisId,n=f6(),s=p6(),a=Iz(r);return a==null?null:ce.createElement($m,Jk({},a,{className:Lt("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:n,height:s},ticksGenerator:function(o){return cl(o,!0)}}))}var zi=(function(t){function r(){return Z1e(this,r),Q1e(this,r,arguments)}return r2e(r,t),J1e(r,[{key:"render",value:function(){return ce.createElement(s2e,this.props)}}])})(ce.Component);tU(zi,"displayName","XAxis");tU(zi,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function fm(t){"@babel/helpers - typeof";return fm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},fm(t)}function a2e(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function i2e(t,r){for(var n=0;n<r.length;n++){var s=r[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,aU(s.key),s)}}function o2e(t,r,n){return r&&i2e(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function l2e(t,r,n){return r=Wv(r),c2e(t,nU()?Reflect.construct(r,n||[],Wv(t).constructor):r.apply(t,n))}function c2e(t,r){if(r&&(fm(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return d2e(t)}function d2e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function nU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nU=function(){return!!t})()}function Wv(t){return Wv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Wv(t)}function u2e(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&Qk(t,r)}function Qk(t,r){return Qk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},Qk(t,r)}function sU(t,r,n){return r=aU(r),r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function aU(t){var r=h2e(t,"string");return fm(r)=="symbol"?r:r+""}function h2e(t,r){if(fm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,r);if(fm(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function eC(){return eC=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},eC.apply(this,arguments)}var m2e=function(r){var n=r.yAxisId,s=f6(),a=p6(),i=Lz(n);return i==null?null:ce.createElement($m,eC({},i,{className:Lt("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:s,height:a},ticksGenerator:function(l){return cl(l,!0)}}))},Ui=(function(t){function r(){return a2e(this,r),l2e(this,r,arguments)}return u2e(r,t),o2e(r,[{key:"render",value:function(){return ce.createElement(m2e,this.props)}}])})(ce.Component);sU(Ui,"displayName","YAxis");sU(Ui,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function yI(t){return g2e(t)||x2e(t)||p2e(t)||f2e()}function f2e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function p2e(t,r){if(t){if(typeof t=="string")return tC(t,r);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tC(t,r)}}function x2e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function g2e(t){if(Array.isArray(t))return tC(t)}function tC(t,r){(r==null||r>t.length)&&(r=t.length);for(var n=0,s=new Array(r);n<r;n++)s[n]=t[n];return s}var rC=function(r,n,s,a,i){var o=ka(r,g6),l=ka(r,ob),c=[].concat(yI(o),yI(l)),u=ka(r,cb),m="".concat(a,"Id"),p=a[0],x=n;if(c.length&&(x=c.reduce(function(y,j){if(j.props[m]===s&&jo(j.props,"extendDomain")&&Be(j.props[p])){var S=j.props[p];return[Math.min(y[0],S),Math.max(y[1],S)]}return y},x)),u.length){var v="".concat(p,"1"),w="".concat(p,"2");x=u.reduce(function(y,j){if(j.props[m]===s&&jo(j.props,"extendDomain")&&Be(j.props[v])&&Be(j.props[w])){var S=j.props[v],C=j.props[w];return[Math.min(y[0],S,C),Math.max(y[1],S,C)]}return y},x)}return i&&i.length&&(x=i.reduce(function(y,j){return Be(j)?[Math.min(y[0],j),Math.max(y[1],j)]:y},x)),x},CS={exports:{}},bI;function v2e(){return bI||(bI=1,(function(t){var r=Object.prototype.hasOwnProperty,n="~";function s(){}Object.create&&(s.prototype=Object.create(null),new s().__proto__||(n=!1));function a(c,u,m){this.fn=c,this.context=u,this.once=m||!1}function i(c,u,m,p,x){if(typeof m!="function")throw new TypeError("The listener must be a function");var v=new a(m,p||c,x),w=n?n+u:u;return c._events[w]?c._events[w].fn?c._events[w]=[c._events[w],v]:c._events[w].push(v):(c._events[w]=v,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new s:delete c._events[u]}function l(){this._events=new s,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],m,p;if(this._eventsCount===0)return u;for(p in m=this._events)r.call(m,p)&&u.push(n?p.slice(1):p);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(m)):u},l.prototype.listeners=function(u){var m=n?n+u:u,p=this._events[m];if(!p)return[];if(p.fn)return[p.fn];for(var x=0,v=p.length,w=new Array(v);x<v;x++)w[x]=p[x].fn;return w},l.prototype.listenerCount=function(u){var m=n?n+u:u,p=this._events[m];return p?p.fn?1:p.length:0},l.prototype.emit=function(u,m,p,x,v,w){var y=n?n+u:u;if(!this._events[y])return!1;var j=this._events[y],S=arguments.length,C,P;if(j.fn){switch(j.once&&this.removeListener(u,j.fn,void 0,!0),S){case 1:return j.fn.call(j.context),!0;case 2:return j.fn.call(j.context,m),!0;case 3:return j.fn.call(j.context,m,p),!0;case 4:return j.fn.call(j.context,m,p,x),!0;case 5:return j.fn.call(j.context,m,p,x,v),!0;case 6:return j.fn.call(j.context,m,p,x,v,w),!0}for(P=1,C=new Array(S-1);P<S;P++)C[P-1]=arguments[P];j.fn.apply(j.context,C)}else{var T=j.length,_;for(P=0;P<T;P++)switch(j[P].once&&this.removeListener(u,j[P].fn,void 0,!0),S){case 1:j[P].fn.call(j[P].context);break;case 2:j[P].fn.call(j[P].context,m);break;case 3:j[P].fn.call(j[P].context,m,p);break;case 4:j[P].fn.call(j[P].context,m,p,x);break;default:if(!C)for(_=1,C=new Array(S-1);_<S;_++)C[_-1]=arguments[_];j[P].fn.apply(j[P].context,C)}}return!0},l.prototype.on=function(u,m,p){return i(this,u,m,p,!1)},l.prototype.once=function(u,m,p){return i(this,u,m,p,!0)},l.prototype.removeListener=function(u,m,p,x){var v=n?n+u:u;if(!this._events[v])return this;if(!m)return o(this,v),this;var w=this._events[v];if(w.fn)w.fn===m&&(!x||w.once)&&(!p||w.context===p)&&o(this,v);else{for(var y=0,j=[],S=w.length;y<S;y++)(w[y].fn!==m||x&&!w[y].once||p&&w[y].context!==p)&&j.push(w[y]);j.length?this._events[v]=j.length===1?j[0]:j:o(this,v)}return this},l.prototype.removeAllListeners=function(u){var m;return u?(m=n?n+u:u,this._events[m]&&o(this,m)):(this._events=new s,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,t.exports=l})(CS)),CS.exports}var y2e=v2e();const b2e=ar(y2e);var PS=new b2e,AS="recharts.syncMouseEvents";function ix(t){"@babel/helpers - typeof";return ix=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},ix(t)}function j2e(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function w2e(t,r){for(var n=0;n<r.length;n++){var s=r[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,iU(s.key),s)}}function N2e(t,r,n){return r&&w2e(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function ES(t,r,n){return r=iU(r),r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function iU(t){var r=S2e(t,"string");return ix(r)=="symbol"?r:r+""}function S2e(t,r){if(ix(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,r);if(ix(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var _2e=(function(){function t(){j2e(this,t),ES(this,"activeIndex",0),ES(this,"coordinateList",[]),ES(this,"layout","horizontal")}return N2e(t,[{key:"setDetails",value:function(n){var s,a=n.coordinateList,i=a===void 0?null:a,o=n.container,l=o===void 0?null:o,c=n.layout,u=c===void 0?null:c,m=n.offset,p=m===void 0?null:m,x=n.mouseHandlerCallback,v=x===void 0?null:x;this.coordinateList=(s=i??this.coordinateList)!==null&&s!==void 0?s:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=p??this.offset,this.mouseHandlerCallback=v??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,s;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),i=a.x,o=a.y,l=a.height,c=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,m=((s=window)===null||s===void 0?void 0:s.scrollY)||0,p=i+c+u,x=o+this.offset.top+l/2+m;this.mouseHandlerCallback({pageX:p,pageY:x})}}}])})();function k2e(t,r,n){if(n==="number"&&r===!0&&Array.isArray(t)){var s=t==null?void 0:t[0],a=t==null?void 0:t[1];if(s&&a&&Be(s)&&Be(a))return!0}return!1}function C2e(t,r,n,s){var a=s/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?r.x-a:n.left+.5,y:t==="horizontal"?n.top+.5:r.y-a,width:t==="horizontal"?s:n.width-1,height:t==="horizontal"?n.height-1:s}}function oU(t){var r=t.cx,n=t.cy,s=t.radius,a=t.startAngle,i=t.endAngle,o=Ir(r,n,s,a),l=Ir(r,n,s,i);return{points:[o,l],cx:r,cy:n,radius:s,startAngle:a,endAngle:i}}function P2e(t,r,n){var s,a,i,o;if(t==="horizontal")s=r.x,i=s,a=n.top,o=n.top+n.height;else if(t==="vertical")a=r.y,o=a,s=n.left,i=n.left+n.width;else if(r.cx!=null&&r.cy!=null)if(t==="centric"){var l=r.cx,c=r.cy,u=r.innerRadius,m=r.outerRadius,p=r.angle,x=Ir(l,c,u,p),v=Ir(l,c,m,p);s=x.x,a=x.y,i=v.x,o=v.y}else return oU(r);return[{x:s,y:a},{x:i,y:o}]}function ox(t){"@babel/helpers - typeof";return ox=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},ox(t)}function jI(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,s)}return n}function g0(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?jI(Object(n),!0).forEach(function(s){A2e(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jI(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function A2e(t,r,n){return r=E2e(r),r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function E2e(t){var r=T2e(t,"string");return ox(r)=="symbol"?r:r+""}function T2e(t,r){if(ox(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,r);if(ox(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function O2e(t){var r,n,s=t.element,a=t.tooltipEventType,i=t.isActive,o=t.activeCoordinate,l=t.activePayload,c=t.offset,u=t.activeTooltipIndex,m=t.tooltipAxisBandSize,p=t.layout,x=t.chartName,v=(r=s.props.cursor)!==null&&r!==void 0?r:(n=s.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!s||!v||!i||!o||x!=="ScatterChart"&&a!=="axis")return null;var w,y=Ud;if(x==="ScatterChart")w=o,y=Wbe;else if(x==="BarChart")w=C2e(p,o,c,m),y=c6;else if(p==="radial"){var j=oU(o),S=j.cx,C=j.cy,P=j.radius,T=j.startAngle,_=j.endAngle;w={cx:S,cy:C,startAngle:T,endAngle:_,innerRadius:P,outerRadius:P},y=az}else w={points:P2e(p,o,c)},y=Ud;var k=g0(g0(g0(g0({stroke:"#ccc",pointerEvents:"none"},c),w),ut(v,!1)),{},{payload:l,payloadIndex:u,className:Lt("recharts-tooltip-cursor",v.className)});return N.isValidElement(v)?N.cloneElement(v,k):N.createElement(y,k)}var M2e=["item"],D2e=["children","className","width","height","style","compact","title","desc"];function pm(t){"@babel/helpers - typeof";return pm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},pm(t)}function Th(){return Th=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Th.apply(this,arguments)}function wI(t,r){return L2e(t)||I2e(t,r)||cU(t,r)||R2e()}function R2e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function I2e(t,r){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var s,a,i,o,l=[],c=!0,u=!1;try{if(i=(n=n.call(t)).next,r!==0)for(;!(c=(s=i.call(n)).done)&&(l.push(s.value),l.length!==r);c=!0);}catch(m){u=!0,a=m}finally{try{if(!c&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function L2e(t){if(Array.isArray(t))return t}function NI(t,r){if(t==null)return{};var n=$2e(t,r),s,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)s=i[a],!(r.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(t,s)&&(n[s]=t[s])}return n}function $2e(t,r){if(t==null)return{};var n={};for(var s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(r.indexOf(s)>=0)continue;n[s]=t[s]}return n}function B2e(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function F2e(t,r){for(var n=0;n<r.length;n++){var s=r[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,dU(s.key),s)}}function z2e(t,r,n){return r&&F2e(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function U2e(t,r,n){return r=qv(r),H2e(t,lU()?Reflect.construct(r,n||[],qv(t).constructor):r.apply(t,n))}function H2e(t,r){if(r&&(pm(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return W2e(t)}function W2e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function lU(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lU=function(){return!!t})()}function qv(t){return qv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},qv(t)}function q2e(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&nC(t,r)}function nC(t,r){return nC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,a){return s.__proto__=a,s},nC(t,r)}function xm(t){return K2e(t)||G2e(t)||cU(t)||V2e()}function V2e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cU(t,r){if(t){if(typeof t=="string")return sC(t,r);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sC(t,r)}}function G2e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function K2e(t){if(Array.isArray(t))return sC(t)}function sC(t,r){(r==null||r>t.length)&&(r=t.length);for(var n=0,s=new Array(r);n<r;n++)s[n]=t[n];return s}function SI(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);r&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,s)}return n}function Ae(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?SI(Object(n),!0).forEach(function(s){jt(t,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SI(Object(n)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(n,s))})}return t}function jt(t,r,n){return r=dU(r),r in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function dU(t){var r=Y2e(t,"string");return pm(r)=="symbol"?r:r+""}function Y2e(t,r){if(pm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var s=n.call(t,r);if(pm(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}var Z2e={xAxis:["bottom","top"],yAxis:["left","right"]},X2e={width:"100%",height:"100%"},uU={x:0,y:0};function v0(t){return t}var J2e=function(r,n){return n==="horizontal"?r.x:n==="vertical"?r.y:n==="centric"?r.angle:r.radius},Q2e=function(r,n,s,a){var i=n.find(function(m){return m&&m.index===s});if(i){if(r==="horizontal")return{x:i.coordinate,y:a.y};if(r==="vertical")return{x:a.x,y:i.coordinate};if(r==="centric"){var o=i.coordinate,l=a.radius;return Ae(Ae(Ae({},a),Ir(a.cx,a.cy,l,o)),{},{angle:o,radius:l})}var c=i.coordinate,u=a.angle;return Ae(Ae(Ae({},a),Ir(a.cx,a.cy,c,u)),{},{angle:u,radius:c})}return uU},db=function(r,n){var s=n.graphicalItems,a=n.dataStartIndex,i=n.dataEndIndex,o=(s??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(xm(l),xm(u)):l},[]);return o.length>0?o:r&&r.length&&Be(a)&&Be(i)?r.slice(a,i+1):[]};function hU(t){return t==="number"?[0,"auto"]:void 0}var aC=function(r,n,s,a){var i=r.graphicalItems,o=r.tooltipAxis,l=db(n,r);return s<0||!i||!i.length||s>=l.length?null:i.reduce(function(c,u){var m,p=(m=u.props.data)!==null&&m!==void 0?m:n;p&&r.dataStartIndex+r.dataEndIndex!==0&&r.dataEndIndex-r.dataStartIndex>=s&&(p=p.slice(r.dataStartIndex,r.dataEndIndex+1));var x;if(o.dataKey&&!o.allowDuplicatedCategory){var v=p===void 0?l:p;x=V0(v,o.dataKey,a)}else x=p&&p[s]||l[s];return x?[].concat(xm(c),[QF(u,x)]):c},[])},_I=function(r,n,s,a){var i=a||{x:r.chartX,y:r.chartY},o=J2e(i,s),l=r.orderedTooltipTicks,c=r.tooltipAxis,u=r.tooltipTicks,m=u0e(o,l,u,c);if(m>=0&&u){var p=u[m]&&u[m].value,x=aC(r,n,m,p),v=Q2e(s,l,m,i);return{activeTooltipIndex:m,activeLabel:p,activePayload:x,activeCoordinate:v}}return null},eSe=function(r,n){var s=n.axes,a=n.graphicalItems,i=n.axisType,o=n.axisIdKey,l=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,m=r.layout,p=r.children,x=r.stackOffset,v=GF(m,i);return s.reduce(function(w,y){var j,S=y.type.defaultProps!==void 0?Ae(Ae({},y.type.defaultProps),y.props):y.props,C=S.type,P=S.dataKey,T=S.allowDataOverflow,_=S.allowDuplicatedCategory,k=S.scale,M=S.ticks,$=S.includeHidden,B=S[o];if(w[B])return w;var F=db(r.data,{graphicalItems:a.filter(function(J){var ie,ee=o in J.props?J.props[o]:(ie=J.type.defaultProps)===null||ie===void 0?void 0:ie[o];return ee===B}),dataStartIndex:c,dataEndIndex:u}),H=F.length,K,Z,V;k2e(S.domain,T,C)&&(K=vk(S.domain,null,T),v&&(C==="number"||k!=="auto")&&(V=ap(F,P,"category")));var W=hU(C);if(!K||K.length===0){var G,O=(G=S.domain)!==null&&G!==void 0?G:W;if(P){if(K=ap(F,P,C),C==="category"&&v){var R=ide(K);_&&R?(Z=K,K=Tv(0,H)):_||(K=_D(O,K,y).reduce(function(J,ie){return J.indexOf(ie)>=0?J:[].concat(xm(J),[ie])},[]))}else if(C==="category")_?K=K.filter(function(J){return J!==""&&!Mt(J)}):K=_D(O,K,y).reduce(function(J,ie){return J.indexOf(ie)>=0||ie===""||Mt(ie)?J:[].concat(xm(J),[ie])},[]);else if(C==="number"){var D=x0e(F,a.filter(function(J){var ie,ee,ae=o in J.props?J.props[o]:(ie=J.type.defaultProps)===null||ie===void 0?void 0:ie[o],oe="hide"in J.props?J.props.hide:(ee=J.type.defaultProps)===null||ee===void 0?void 0:ee.hide;return ae===B&&($||!oe)}),P,i,m);D&&(K=D)}v&&(C==="number"||k!=="auto")&&(V=ap(F,P,"category"))}else v?K=Tv(0,H):l&&l[B]&&l[B].hasStack&&C==="number"?K=x==="expand"?[0,1]:JF(l[B].stackGroups,c,u):K=VF(F,a.filter(function(J){var ie=o in J.props?J.props[o]:J.type.defaultProps[o],ee="hide"in J.props?J.props.hide:J.type.defaultProps.hide;return ie===B&&($||!ee)}),C,m,!0);if(C==="number")K=rC(p,K,B,i,M),O&&(K=vk(O,K,T));else if(C==="category"&&O){var I=O,q=K.every(function(J){return I.indexOf(J)>=0});q&&(K=I)}}return Ae(Ae({},w),{},jt({},B,Ae(Ae({},S),{},{axisType:i,domain:K,categoricalDomain:V,duplicateDomain:Z,originalDomain:(j=S.domain)!==null&&j!==void 0?j:W,isCategorical:v,layout:m})))},{})},tSe=function(r,n){var s=n.graphicalItems,a=n.Axis,i=n.axisType,o=n.axisIdKey,l=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,m=r.layout,p=r.children,x=db(r.data,{graphicalItems:s,dataStartIndex:c,dataEndIndex:u}),v=x.length,w=GF(m,i),y=-1;return s.reduce(function(j,S){var C=S.type.defaultProps!==void 0?Ae(Ae({},S.type.defaultProps),S.props):S.props,P=C[o],T=hU("number");if(!j[P]){y++;var _;return w?_=Tv(0,v):l&&l[P]&&l[P].hasStack?(_=JF(l[P].stackGroups,c,u),_=rC(p,_,P,i)):(_=vk(T,VF(x,s.filter(function(k){var M,$,B=o in k.props?k.props[o]:(M=k.type.defaultProps)===null||M===void 0?void 0:M[o],F="hide"in k.props?k.props.hide:($=k.type.defaultProps)===null||$===void 0?void 0:$.hide;return B===P&&!F}),"number",m),a.defaultProps.allowDataOverflow),_=rC(p,_,P,i)),Ae(Ae({},j),{},jt({},P,Ae(Ae({axisType:i},a.defaultProps),{},{hide:!0,orientation:_a(Z2e,"".concat(i,".").concat(y%2),null),domain:_,originalDomain:T,isCategorical:w,layout:m})))}return j},{})},rSe=function(r,n){var s=n.axisType,a=s===void 0?"xAxis":s,i=n.AxisComp,o=n.graphicalItems,l=n.stackGroups,c=n.dataStartIndex,u=n.dataEndIndex,m=r.children,p="".concat(a,"Id"),x=ka(m,i),v={};return x&&x.length?v=eSe(r,{axes:x,graphicalItems:o,axisType:a,axisIdKey:p,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):o&&o.length&&(v=tSe(r,{Axis:i,graphicalItems:o,axisType:a,axisIdKey:p,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),v},nSe=function(r){var n=bc(r),s=cl(n,!1,!0);return{tooltipTicks:s,orderedTooltipTicks:I4(s,function(a){return a.coordinate}),tooltipAxis:n,tooltipAxisBandSize:vv(n,s)}},kI=function(r){var n=r.children,s=r.defaultShowTooltip,a=ga(n,am),i=0,o=0;return r.data&&r.data.length!==0&&(o=r.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(i=a.props.startIndex),a.props.endIndex>=0&&(o=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!s}},sSe=function(r){return!r||!r.length?!1:r.some(function(n){var s=pl(n&&n.type);return s&&s.indexOf("Bar")>=0})},CI=function(r){return r==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:r==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:r==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},aSe=function(r,n){var s=r.props,a=r.graphicalItems,i=r.xAxisMap,o=i===void 0?{}:i,l=r.yAxisMap,c=l===void 0?{}:l,u=s.width,m=s.height,p=s.children,x=s.margin||{},v=ga(p,am),w=ga(p,Ca),y=Object.keys(c).reduce(function(_,k){var M=c[k],$=M.orientation;return!M.mirror&&!M.hide?Ae(Ae({},_),{},jt({},$,_[$]+M.width)):_},{left:x.left||0,right:x.right||0}),j=Object.keys(o).reduce(function(_,k){var M=o[k],$=M.orientation;return!M.mirror&&!M.hide?Ae(Ae({},_),{},jt({},$,_a(_,"".concat($))+M.height)):_},{top:x.top||0,bottom:x.bottom||0}),S=Ae(Ae({},j),y),C=S.bottom;v&&(S.bottom+=v.props.height||am.defaultProps.height),w&&n&&(S=f0e(S,a,s,n));var P=u-S.left-S.right,T=m-S.top-S.bottom;return Ae(Ae({brushBottom:C},S),{},{width:Math.max(P,0),height:Math.max(T,0)})},iSe=function(r,n){if(n==="xAxis")return r[n].width;if(n==="yAxis")return r[n].height},ub=function(r){var n=r.chartName,s=r.GraphicalChild,a=r.defaultTooltipEventType,i=a===void 0?"axis":a,o=r.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=r.axisComponents,u=r.legendContent,m=r.formatAxisMap,p=r.defaultProps,x=function(S,C){var P=C.graphicalItems,T=C.stackGroups,_=C.offset,k=C.updateId,M=C.dataStartIndex,$=C.dataEndIndex,B=S.barSize,F=S.layout,H=S.barGap,K=S.barCategoryGap,Z=S.maxBarSize,V=CI(F),W=V.numericAxisName,G=V.cateAxisName,O=sSe(P),R=[];return P.forEach(function(D,I){var q=db(S.data,{graphicalItems:[D],dataStartIndex:M,dataEndIndex:$}),J=D.type.defaultProps!==void 0?Ae(Ae({},D.type.defaultProps),D.props):D.props,ie=J.dataKey,ee=J.maxBarSize,ae=J["".concat(W,"Id")],oe=J["".concat(G,"Id")],te={},ue=c.reduce(function(Pt,Et){var Te=C["".concat(Et.axisType,"Map")],$t=J["".concat(Et.axisType,"Id")];Te&&Te[$t]||Et.axisType==="zAxis"||eu();var Dt=Te[$t];return Ae(Ae({},Pt),{},jt(jt({},Et.axisType,Dt),"".concat(Et.axisType,"Ticks"),cl(Dt)))},te),de=ue[G],fe=ue["".concat(G,"Ticks")],ye=T&&T[ae]&&T[ae].hasStack&&_0e(D,T[ae].stackGroups),he=pl(D.type).indexOf("Bar")>=0,Ce=vv(de,fe),Se=[],$e=O&&h0e({barSize:B,stackGroups:T,totalSize:iSe(ue,G)});if(he){var qe,Fe,it=Mt(ee)?Z:ee,rt=(qe=(Fe=vv(de,fe,!0))!==null&&Fe!==void 0?Fe:it)!==null&&qe!==void 0?qe:0;Se=m0e({barGap:H,barCategoryGap:K,bandSize:rt!==Ce?rt:Ce,sizeList:$e[oe],maxBarSize:it}),rt!==Ce&&(Se=Se.map(function(Pt){return Ae(Ae({},Pt),{},{position:Ae(Ae({},Pt.position),{},{offset:Pt.position.offset-rt/2})})}))}var yt=D&&D.type&&D.type.getComposedData;yt&&R.push({props:Ae(Ae({},yt(Ae(Ae({},ue),{},{displayedData:q,props:S,dataKey:ie,item:D,bandSize:Ce,barPosition:Se,offset:_,stackedData:ye,layout:F,dataStartIndex:M,dataEndIndex:$}))),{},jt(jt(jt({key:D.key||"item-".concat(I)},W,ue[W]),G,ue[G]),"animationId",k)),childIndex:gde(D,S.children),item:D})}),R},v=function(S,C){var P=S.props,T=S.dataStartIndex,_=S.dataEndIndex,k=S.updateId;if(!FE({props:P}))return null;var M=P.children,$=P.layout,B=P.stackOffset,F=P.data,H=P.reverseStackOrder,K=CI($),Z=K.numericAxisName,V=K.cateAxisName,W=ka(M,s),G=N0e(F,W,"".concat(Z,"Id"),"".concat(V,"Id"),B,H),O=c.reduce(function(J,ie){var ee="".concat(ie.axisType,"Map");return Ae(Ae({},J),{},jt({},ee,rSe(P,Ae(Ae({},ie),{},{graphicalItems:W,stackGroups:ie.axisType===Z&&G,dataStartIndex:T,dataEndIndex:_}))))},{}),R=aSe(Ae(Ae({},O),{},{props:P,graphicalItems:W}),C==null?void 0:C.legendBBox);Object.keys(O).forEach(function(J){O[J]=m(P,O[J],R,J.replace("Map",""),n)});var D=O["".concat(V,"Map")],I=nSe(D),q=x(P,Ae(Ae({},O),{},{dataStartIndex:T,dataEndIndex:_,updateId:k,graphicalItems:W,stackGroups:G,offset:R}));return Ae(Ae({formattedGraphicalItems:q,graphicalItems:W,offset:R,stackGroups:G},I),O)},w=(function(j){function S(C){var P,T,_;return B2e(this,S),_=U2e(this,S,[C]),jt(_,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),jt(_,"accessibilityManager",new _2e),jt(_,"handleLegendBBoxUpdate",function(k){if(k){var M=_.state,$=M.dataStartIndex,B=M.dataEndIndex,F=M.updateId;_.setState(Ae({legendBBox:k},v({props:_.props,dataStartIndex:$,dataEndIndex:B,updateId:F},Ae(Ae({},_.state),{},{legendBBox:k}))))}}),jt(_,"handleReceiveSyncEvent",function(k,M,$){if(_.props.syncId===k){if($===_.eventEmitterSymbol&&typeof _.props.syncMethod!="function")return;_.applySyncEvent(M)}}),jt(_,"handleBrushChange",function(k){var M=k.startIndex,$=k.endIndex;if(M!==_.state.dataStartIndex||$!==_.state.dataEndIndex){var B=_.state.updateId;_.setState(function(){return Ae({dataStartIndex:M,dataEndIndex:$},v({props:_.props,dataStartIndex:M,dataEndIndex:$,updateId:B},_.state))}),_.triggerSyncEvent({dataStartIndex:M,dataEndIndex:$})}}),jt(_,"handleMouseEnter",function(k){var M=_.getMouseInfo(k);if(M){var $=Ae(Ae({},M),{},{isTooltipActive:!0});_.setState($),_.triggerSyncEvent($);var B=_.props.onMouseEnter;St(B)&&B($,k)}}),jt(_,"triggeredAfterMouseMove",function(k){var M=_.getMouseInfo(k),$=M?Ae(Ae({},M),{},{isTooltipActive:!0}):{isTooltipActive:!1};_.setState($),_.triggerSyncEvent($);var B=_.props.onMouseMove;St(B)&&B($,k)}),jt(_,"handleItemMouseEnter",function(k){_.setState(function(){return{isTooltipActive:!0,activeItem:k,activePayload:k.tooltipPayload,activeCoordinate:k.tooltipPosition||{x:k.cx,y:k.cy}}})}),jt(_,"handleItemMouseLeave",function(){_.setState(function(){return{isTooltipActive:!1}})}),jt(_,"handleMouseMove",function(k){k.persist(),_.throttleTriggeredAfterMouseMove(k)}),jt(_,"handleMouseLeave",function(k){_.throttleTriggeredAfterMouseMove.cancel();var M={isTooltipActive:!1};_.setState(M),_.triggerSyncEvent(M);var $=_.props.onMouseLeave;St($)&&$(M,k)}),jt(_,"handleOuterEvent",function(k){var M=xde(k),$=_a(_.props,"".concat(M));if(M&&St($)){var B,F;/.*touch.*/i.test(M)?F=_.getMouseInfo(k.changedTouches[0]):F=_.getMouseInfo(k),$((B=F)!==null&&B!==void 0?B:{},k)}}),jt(_,"handleClick",function(k){var M=_.getMouseInfo(k);if(M){var $=Ae(Ae({},M),{},{isTooltipActive:!0});_.setState($),_.triggerSyncEvent($);var B=_.props.onClick;St(B)&&B($,k)}}),jt(_,"handleMouseDown",function(k){var M=_.props.onMouseDown;if(St(M)){var $=_.getMouseInfo(k);M($,k)}}),jt(_,"handleMouseUp",function(k){var M=_.props.onMouseUp;if(St(M)){var $=_.getMouseInfo(k);M($,k)}}),jt(_,"handleTouchMove",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&_.throttleTriggeredAfterMouseMove(k.changedTouches[0])}),jt(_,"handleTouchStart",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&_.handleMouseDown(k.changedTouches[0])}),jt(_,"handleTouchEnd",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&_.handleMouseUp(k.changedTouches[0])}),jt(_,"handleDoubleClick",function(k){var M=_.props.onDoubleClick;if(St(M)){var $=_.getMouseInfo(k);M($,k)}}),jt(_,"handleContextMenu",function(k){var M=_.props.onContextMenu;if(St(M)){var $=_.getMouseInfo(k);M($,k)}}),jt(_,"triggerSyncEvent",function(k){_.props.syncId!==void 0&&PS.emit(AS,_.props.syncId,k,_.eventEmitterSymbol)}),jt(_,"applySyncEvent",function(k){var M=_.props,$=M.layout,B=M.syncMethod,F=_.state.updateId,H=k.dataStartIndex,K=k.dataEndIndex;if(k.dataStartIndex!==void 0||k.dataEndIndex!==void 0)_.setState(Ae({dataStartIndex:H,dataEndIndex:K},v({props:_.props,dataStartIndex:H,dataEndIndex:K,updateId:F},_.state)));else if(k.activeTooltipIndex!==void 0){var Z=k.chartX,V=k.chartY,W=k.activeTooltipIndex,G=_.state,O=G.offset,R=G.tooltipTicks;if(!O)return;if(typeof B=="function")W=B(R,k);else if(B==="value"){W=-1;for(var D=0;D<R.length;D++)if(R[D].value===k.activeLabel){W=D;break}}var I=Ae(Ae({},O),{},{x:O.left,y:O.top}),q=Math.min(Z,I.x+I.width),J=Math.min(V,I.y+I.height),ie=R[W]&&R[W].value,ee=aC(_.state,_.props.data,W),ae=R[W]?{x:$==="horizontal"?R[W].coordinate:q,y:$==="horizontal"?J:R[W].coordinate}:uU;_.setState(Ae(Ae({},k),{},{activeLabel:ie,activeCoordinate:ae,activePayload:ee,activeTooltipIndex:W}))}else _.setState(k)}),jt(_,"renderCursor",function(k){var M,$=_.state,B=$.isTooltipActive,F=$.activeCoordinate,H=$.activePayload,K=$.offset,Z=$.activeTooltipIndex,V=$.tooltipAxisBandSize,W=_.getTooltipEventType(),G=(M=k.props.active)!==null&&M!==void 0?M:B,O=_.props.layout,R=k.key||"_recharts-cursor";return ce.createElement(O2e,{key:R,activeCoordinate:F,activePayload:H,activeTooltipIndex:Z,chartName:n,element:k,isActive:G,layout:O,offset:K,tooltipAxisBandSize:V,tooltipEventType:W})}),jt(_,"renderPolarAxis",function(k,M,$){var B=_a(k,"type.axisType"),F=_a(_.state,"".concat(B,"Map")),H=k.type.defaultProps,K=H!==void 0?Ae(Ae({},H),k.props):k.props,Z=F&&F[K["".concat(B,"Id")]];return N.cloneElement(k,Ae(Ae({},Z),{},{className:Lt(B,Z.className),key:k.key||"".concat(M,"-").concat($),ticks:cl(Z,!0)}))}),jt(_,"renderPolarGrid",function(k){var M=k.props,$=M.radialLines,B=M.polarAngles,F=M.polarRadius,H=_.state,K=H.radiusAxisMap,Z=H.angleAxisMap,V=bc(K),W=bc(Z),G=W.cx,O=W.cy,R=W.innerRadius,D=W.outerRadius;return N.cloneElement(k,{polarAngles:Array.isArray(B)?B:cl(W,!0).map(function(I){return I.coordinate}),polarRadius:Array.isArray(F)?F:cl(V,!0).map(function(I){return I.coordinate}),cx:G,cy:O,innerRadius:R,outerRadius:D,key:k.key||"polar-grid",radialLines:$})}),jt(_,"renderLegend",function(){var k=_.state.formattedGraphicalItems,M=_.props,$=M.children,B=M.width,F=M.height,H=_.props.margin||{},K=B-(H.left||0)-(H.right||0),Z=WF({children:$,formattedGraphicalItems:k,legendWidth:K,legendContent:u});if(!Z)return null;var V=Z.item,W=NI(Z,M2e);return N.cloneElement(V,Ae(Ae({},W),{},{chartWidth:B,chartHeight:F,margin:H,onBBoxUpdate:_.handleLegendBBoxUpdate}))}),jt(_,"renderTooltip",function(){var k,M=_.props,$=M.children,B=M.accessibilityLayer,F=ga($,xs);if(!F)return null;var H=_.state,K=H.isTooltipActive,Z=H.activeCoordinate,V=H.activePayload,W=H.activeLabel,G=H.offset,O=(k=F.props.active)!==null&&k!==void 0?k:K;return N.cloneElement(F,{viewBox:Ae(Ae({},G),{},{x:G.left,y:G.top}),active:O,label:W,payload:O?V:[],coordinate:Z,accessibilityLayer:B})}),jt(_,"renderBrush",function(k){var M=_.props,$=M.margin,B=M.data,F=_.state,H=F.offset,K=F.dataStartIndex,Z=F.dataEndIndex,V=F.updateId;return N.cloneElement(k,{key:k.key||"_recharts-brush",onChange:m0(_.handleBrushChange,k.props.onChange),data:B,x:Be(k.props.x)?k.props.x:H.left,y:Be(k.props.y)?k.props.y:H.top+H.height+H.brushBottom-($.bottom||0),width:Be(k.props.width)?k.props.width:H.width,startIndex:K,endIndex:Z,updateId:"brush-".concat(V)})}),jt(_,"renderReferenceElement",function(k,M,$){if(!k)return null;var B=_,F=B.clipPathId,H=_.state,K=H.xAxisMap,Z=H.yAxisMap,V=H.offset,W=k.type.defaultProps||{},G=k.props,O=G.xAxisId,R=O===void 0?W.xAxisId:O,D=G.yAxisId,I=D===void 0?W.yAxisId:D;return N.cloneElement(k,{key:k.key||"".concat(M,"-").concat($),xAxis:K[R],yAxis:Z[I],viewBox:{x:V.left,y:V.top,width:V.width,height:V.height},clipPathId:F})}),jt(_,"renderActivePoints",function(k){var M=k.item,$=k.activePoint,B=k.basePoint,F=k.childIndex,H=k.isRange,K=[],Z=M.props.key,V=M.item.type.defaultProps!==void 0?Ae(Ae({},M.item.type.defaultProps),M.item.props):M.item.props,W=V.activeDot,G=V.dataKey,O=Ae(Ae({index:F,dataKey:G,cx:$.x,cy:$.y,r:4,fill:l6(M.item),strokeWidth:2,stroke:"#fff",payload:$.payload,value:$.value},ut(W,!1)),G0(W));return K.push(S.renderActiveDot(W,O,"".concat(Z,"-activePoint-").concat(F))),B?K.push(S.renderActiveDot(W,Ae(Ae({},O),{},{cx:B.x,cy:B.y}),"".concat(Z,"-basePoint-").concat(F))):H&&K.push(null),K}),jt(_,"renderGraphicChild",function(k,M,$){var B=_.filterFormatItem(k,M,$);if(!B)return null;var F=_.getTooltipEventType(),H=_.state,K=H.isTooltipActive,Z=H.tooltipAxis,V=H.activeTooltipIndex,W=H.activeLabel,G=_.props.children,O=ga(G,xs),R=B.props,D=R.points,I=R.isRange,q=R.baseLine,J=B.item.type.defaultProps!==void 0?Ae(Ae({},B.item.type.defaultProps),B.item.props):B.item.props,ie=J.activeDot,ee=J.hide,ae=J.activeBar,oe=J.activeShape,te=!!(!ee&&K&&O&&(ie||ae||oe)),ue={};F!=="axis"&&O&&O.props.trigger==="click"?ue={onClick:m0(_.handleItemMouseEnter,k.props.onClick)}:F!=="axis"&&(ue={onMouseLeave:m0(_.handleItemMouseLeave,k.props.onMouseLeave),onMouseEnter:m0(_.handleItemMouseEnter,k.props.onMouseEnter)});var de=N.cloneElement(k,Ae(Ae({},B.props),ue));function fe(Et){return typeof Z.dataKey=="function"?Z.dataKey(Et.payload):null}if(te)if(V>=0){var ye,he;if(Z.dataKey&&!Z.allowDuplicatedCategory){var Ce=typeof Z.dataKey=="function"?fe:"payload.".concat(Z.dataKey.toString());ye=V0(D,Ce,W),he=I&&q&&V0(q,Ce,W)}else ye=D==null?void 0:D[V],he=I&&q&&q[V];if(oe||ae){var Se=k.props.activeIndex!==void 0?k.props.activeIndex:V;return[N.cloneElement(k,Ae(Ae(Ae({},B.props),ue),{},{activeIndex:Se})),null,null]}if(!Mt(ye))return[de].concat(xm(_.renderActivePoints({item:B,activePoint:ye,basePoint:he,childIndex:V,isRange:I})))}else{var $e,qe=($e=_.getItemByXY(_.state.activeCoordinate))!==null&&$e!==void 0?$e:{graphicalItem:de},Fe=qe.graphicalItem,it=Fe.item,rt=it===void 0?k:it,yt=Fe.childIndex,Pt=Ae(Ae(Ae({},B.props),ue),{},{activeIndex:yt});return[N.cloneElement(rt,Pt),null,null]}return I?[de,null,null]:[de,null]}),jt(_,"renderCustomized",function(k,M,$){return N.cloneElement(k,Ae(Ae({key:"recharts-customized-".concat($)},_.props),_.state))}),jt(_,"renderMap",{CartesianGrid:{handler:v0,once:!0},ReferenceArea:{handler:_.renderReferenceElement},ReferenceLine:{handler:v0},ReferenceDot:{handler:_.renderReferenceElement},XAxis:{handler:v0},YAxis:{handler:v0},Brush:{handler:_.renderBrush,once:!0},Bar:{handler:_.renderGraphicChild},Line:{handler:_.renderGraphicChild},Area:{handler:_.renderGraphicChild},Radar:{handler:_.renderGraphicChild},RadialBar:{handler:_.renderGraphicChild},Scatter:{handler:_.renderGraphicChild},Pie:{handler:_.renderGraphicChild},Funnel:{handler:_.renderGraphicChild},Tooltip:{handler:_.renderCursor,once:!0},PolarGrid:{handler:_.renderPolarGrid,once:!0},PolarAngleAxis:{handler:_.renderPolarAxis},PolarRadiusAxis:{handler:_.renderPolarAxis},Customized:{handler:_.renderCustomized}}),_.clipPathId="".concat((P=C.id)!==null&&P!==void 0?P:du("recharts"),"-clip"),_.throttleTriggeredAfterMouseMove=HB(_.triggeredAfterMouseMove,(T=C.throttleDelay)!==null&&T!==void 0?T:1e3/60),_.state={},_}return q2e(S,j),z2e(S,[{key:"componentDidMount",value:function(){var P,T;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(P=this.props.margin.left)!==null&&P!==void 0?P:0,top:(T=this.props.margin.top)!==null&&T!==void 0?T:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var P=this.props,T=P.children,_=P.data,k=P.height,M=P.layout,$=ga(T,xs);if($){var B=$.props.defaultIndex;if(!(typeof B!="number"||B<0||B>this.state.tooltipTicks.length-1)){var F=this.state.tooltipTicks[B]&&this.state.tooltipTicks[B].value,H=aC(this.state,_,B,F),K=this.state.tooltipTicks[B].coordinate,Z=(this.state.offset.top+k)/2,V=M==="horizontal",W=V?{x:K,y:Z}:{y:K,x:Z},G=this.state.formattedGraphicalItems.find(function(R){var D=R.item;return D.type.name==="Scatter"});G&&(W=Ae(Ae({},W),G.props.points[B].tooltipPosition),H=G.props.points[B].tooltipPayload);var O={activeTooltipIndex:B,isTooltipActive:!0,activeLabel:F,activePayload:H,activeCoordinate:W};this.setState(O),this.renderCursor($),this.accessibilityManager.setIndex(B)}}}},{key:"getSnapshotBeforeUpdate",value:function(P,T){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==T.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==P.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==P.margin){var _,k;this.accessibilityManager.setDetails({offset:{left:(_=this.props.margin.left)!==null&&_!==void 0?_:0,top:(k=this.props.margin.top)!==null&&k!==void 0?k:0}})}return null}},{key:"componentDidUpdate",value:function(P){F_([ga(P.children,xs)],[ga(this.props.children,xs)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var P=ga(this.props.children,xs);if(P&&typeof P.props.shared=="boolean"){var T=P.props.shared?"axis":"item";return l.indexOf(T)>=0?T:i}return i}},{key:"getMouseInfo",value:function(P){if(!this.container)return null;var T=this.container,_=T.getBoundingClientRect(),k=nfe(_),M={chartX:Math.round(P.pageX-k.left),chartY:Math.round(P.pageY-k.top)},$=_.width/T.offsetWidth||1,B=this.inRange(M.chartX,M.chartY,$);if(!B)return null;var F=this.state,H=F.xAxisMap,K=F.yAxisMap,Z=this.getTooltipEventType(),V=_I(this.state,this.props.data,this.props.layout,B);if(Z!=="axis"&&H&&K){var W=bc(H).scale,G=bc(K).scale,O=W&&W.invert?W.invert(M.chartX):null,R=G&&G.invert?G.invert(M.chartY):null;return Ae(Ae({},M),{},{xValue:O,yValue:R},V)}return V?Ae(Ae({},M),V):null}},{key:"inRange",value:function(P,T){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,k=this.props.layout,M=P/_,$=T/_;if(k==="horizontal"||k==="vertical"){var B=this.state.offset,F=M>=B.left&&M<=B.left+B.width&&$>=B.top&&$<=B.top+B.height;return F?{x:M,y:$}:null}var H=this.state,K=H.angleAxisMap,Z=H.radiusAxisMap;if(K&&Z){var V=bc(K);return PD({x:M,y:$},V)}return null}},{key:"parseEventsOfWrapper",value:function(){var P=this.props.children,T=this.getTooltipEventType(),_=ga(P,xs),k={};_&&T==="axis"&&(_.props.trigger==="click"?k={onClick:this.handleClick}:k={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var M=G0(this.props,this.handleOuterEvent);return Ae(Ae({},M),k)}},{key:"addListener",value:function(){PS.on(AS,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){PS.removeListener(AS,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(P,T,_){for(var k=this.state.formattedGraphicalItems,M=0,$=k.length;M<$;M++){var B=k[M];if(B.item===P||B.props.key===P.key||T===pl(B.item.type)&&_===B.childIndex)return B}return null}},{key:"renderClipPath",value:function(){var P=this.clipPathId,T=this.state.offset,_=T.left,k=T.top,M=T.height,$=T.width;return ce.createElement("defs",null,ce.createElement("clipPath",{id:P},ce.createElement("rect",{x:_,y:k,height:M,width:$})))}},{key:"getXScales",value:function(){var P=this.state.xAxisMap;return P?Object.entries(P).reduce(function(T,_){var k=wI(_,2),M=k[0],$=k[1];return Ae(Ae({},T),{},jt({},M,$.scale))},{}):null}},{key:"getYScales",value:function(){var P=this.state.yAxisMap;return P?Object.entries(P).reduce(function(T,_){var k=wI(_,2),M=k[0],$=k[1];return Ae(Ae({},T),{},jt({},M,$.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(P){var T;return(T=this.state.xAxisMap)===null||T===void 0||(T=T[P])===null||T===void 0?void 0:T.scale}},{key:"getYScaleByAxisId",value:function(P){var T;return(T=this.state.yAxisMap)===null||T===void 0||(T=T[P])===null||T===void 0?void 0:T.scale}},{key:"getItemByXY",value:function(P){var T=this.state,_=T.formattedGraphicalItems,k=T.activeItem;if(_&&_.length)for(var M=0,$=_.length;M<$;M++){var B=_[M],F=B.props,H=B.item,K=H.type.defaultProps!==void 0?Ae(Ae({},H.type.defaultProps),H.props):H.props,Z=pl(H.type);if(Z==="Bar"){var V=(F.data||[]).find(function(R){return Sbe(P,R)});if(V)return{graphicalItem:B,payload:V}}else if(Z==="RadialBar"){var W=(F.data||[]).find(function(R){return PD(P,R)});if(W)return{graphicalItem:B,payload:W}}else if(nb(B,k)||sb(B,k)||tx(B,k)){var G=Gje({graphicalItem:B,activeTooltipItem:k,itemData:K.data}),O=K.activeIndex===void 0?G:K.activeIndex;return{graphicalItem:Ae(Ae({},B),{},{childIndex:O}),payload:tx(B,k)?K.data[G]:B.props.data[G]}}}return null}},{key:"render",value:function(){var P=this;if(!FE(this))return null;var T=this.props,_=T.children,k=T.className,M=T.width,$=T.height,B=T.style,F=T.compact,H=T.title,K=T.desc,Z=NI(T,D2e),V=ut(Z,!1);if(F)return ce.createElement(tI,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},ce.createElement(U_,Th({},V,{width:M,height:$,title:H,desc:K}),this.renderClipPath(),UE(_,this.renderMap)));if(this.props.accessibilityLayer){var W,G;V.tabIndex=(W=this.props.tabIndex)!==null&&W!==void 0?W:0,V.role=(G=this.props.role)!==null&&G!==void 0?G:"application",V.onKeyDown=function(R){P.accessibilityManager.keyboardEvent(R)},V.onFocus=function(){P.accessibilityManager.focus()}}var O=this.parseEventsOfWrapper();return ce.createElement(tI,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},ce.createElement("div",Th({className:Lt("recharts-wrapper",k),style:Ae({position:"relative",cursor:"default",width:M,height:$},B)},O,{ref:function(D){P.container=D}}),ce.createElement(U_,Th({},V,{width:M,height:$,title:H,desc:K,style:X2e}),this.renderClipPath(),UE(_,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(N.Component);jt(w,"displayName",n),jt(w,"defaultProps",Ae({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},p)),jt(w,"getDerivedStateFromProps",function(j,S){var C=j.dataKey,P=j.data,T=j.children,_=j.width,k=j.height,M=j.layout,$=j.stackOffset,B=j.margin,F=S.dataStartIndex,H=S.dataEndIndex;if(S.updateId===void 0){var K=kI(j);return Ae(Ae(Ae({},K),{},{updateId:0},v(Ae(Ae({props:j},K),{},{updateId:0}),S)),{},{prevDataKey:C,prevData:P,prevWidth:_,prevHeight:k,prevLayout:M,prevStackOffset:$,prevMargin:B,prevChildren:T})}if(C!==S.prevDataKey||P!==S.prevData||_!==S.prevWidth||k!==S.prevHeight||M!==S.prevLayout||$!==S.prevStackOffset||!Ih(B,S.prevMargin)){var Z=kI(j),V={chartX:S.chartX,chartY:S.chartY,isTooltipActive:S.isTooltipActive},W=Ae(Ae({},_I(S,P,M)),{},{updateId:S.updateId+1}),G=Ae(Ae(Ae({},Z),V),W);return Ae(Ae(Ae({},G),v(Ae({props:j},G),S)),{},{prevDataKey:C,prevData:P,prevWidth:_,prevHeight:k,prevLayout:M,prevStackOffset:$,prevMargin:B,prevChildren:T})}if(!F_(T,S.prevChildren)){var O,R,D,I,q=ga(T,am),J=q&&(O=(R=q.props)===null||R===void 0?void 0:R.startIndex)!==null&&O!==void 0?O:F,ie=q&&(D=(I=q.props)===null||I===void 0?void 0:I.endIndex)!==null&&D!==void 0?D:H,ee=J!==F||ie!==H,ae=!Mt(P),oe=ae&&!ee?S.updateId:S.updateId+1;return Ae(Ae({updateId:oe},v(Ae(Ae({props:j},S),{},{updateId:oe,dataStartIndex:J,dataEndIndex:ie}),S)),{},{prevChildren:T,dataStartIndex:J,dataEndIndex:ie})}return null}),jt(w,"renderActiveDot",function(j,S,C){var P;return N.isValidElement(j)?P=N.cloneElement(j,S):St(j)?P=j(S):P=ce.createElement(Ax,S),ce.createElement(Vt,{className:"recharts-active-dot",key:C},P)});var y=N.forwardRef(function(S,C){return ce.createElement(w,Th({},S,{ref:C}))});return y.displayName=w.displayName,y},b6=ub({chartName:"LineChart",GraphicalChild:Os,axisComponents:[{axisType:"xAxis",AxisComp:zi},{axisType:"yAxis",AxisComp:Ui}],formatAxisMap:d6}),oSe=ub({chartName:"BarChart",GraphicalChild:Mc,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:zi},{axisType:"yAxis",AxisComp:Ui}],formatAxisMap:d6}),lSe=ub({chartName:"PieChart",GraphicalChild:Tl,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:rb},{axisType:"radiusAxis",AxisComp:eb}],formatAxisMap:R0e,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),mU=ub({chartName:"AreaChart",GraphicalChild:Li,axisComponents:[{axisType:"xAxis",AxisComp:zi},{axisType:"yAxis",AxisComp:Ui}],formatAxisMap:d6});function cSe({salonId:t,salonName:r}){const n={totalFavorites:342,favoritesGrowth:23,averageRating:4.8,shares:156},s=[{date:"Mon",favorites:45,shares:12},{date:"Tue",favorites:52,shares:18},{date:"Wed",favorites:48,shares:15},{date:"Thu",favorites:61,shares:21},{date:"Fri",favorites:58,shares:24},{date:"Sat",favorites:73,shares:31},{date:"Sun",favorites:67,shares:27}],a=[{id:1,name:"Balayage Hair Color",favorites:89,bookings:234},{id:2,name:"Classic Manicure",favorites:76,bookings:312},{id:3,name:"Deep Tissue Massage",favorites:64,bookings:189},{id:4,name:"Keratin Treatment",favorites:58,bookings:156},{id:5,name:"Brazilian Wax",favorites:45,bookings:198}],i=[{segment:"New Clients",count:124,percentage:36},{segment:"Regular Clients",count:156,percentage:46},{segment:"VIP Clients",count:62,percentage:18}];return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[e.jsx(Kn,{className:"w-6 h-6 text-pink-600"}),"Favorites Analytics"]}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Track how clients save and share your salon"})]}),e.jsxs(Q,{variant:"outline",className:"gap-2",children:[e.jsx(vr,{className:"w-4 h-4"}),"Export Report"]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx(ne,{className:"border-2 border-pink-200 bg-pink-50",children:e.jsx(ke,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-pink-600 font-medium mb-1",children:"Total Favorites"}),e.jsx("p",{className:"text-3xl font-bold text-pink-900",children:n.totalFavorites}),e.jsxs("div",{className:"flex items-center gap-1 mt-2 text-xs text-green-600",children:[e.jsx(_h,{className:"w-3 h-3"}),e.jsxs("span",{children:["+",n.favoritesGrowth,"% this week"]})]})]}),e.jsx("div",{className:"w-12 h-12 bg-pink-600 rounded-full flex items-center justify-center",children:e.jsx(Kn,{className:"w-6 h-6 text-white fill-white"})})]})})}),e.jsx(ne,{className:"border-2 border-purple-200 bg-purple-50",children:e.jsx(ke,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-purple-600 font-medium mb-1",children:"Shares"}),e.jsx("p",{className:"text-3xl font-bold text-purple-900",children:n.shares}),e.jsx("p",{className:"text-xs text-gray-600 mt-2",children:"Shared with friends"})]}),e.jsx("div",{className:"w-12 h-12 bg-purple-600 rounded-full flex items-center justify-center",children:e.jsx(_o,{className:"w-6 h-6 text-white"})})]})})}),e.jsx(ne,{className:"border-2 border-yellow-200 bg-yellow-50",children:e.jsx(ke,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-yellow-600 font-medium mb-1",children:"Average Rating"}),e.jsx("p",{className:"text-3xl font-bold text-yellow-900",children:n.averageRating}),e.jsx("div",{className:"flex items-center gap-1 mt-2",children:[...Array(5)].map((o,l)=>e.jsx(Gt,{className:`w-3 h-3 ${l<Math.floor(n.averageRating)?"fill-yellow-500 text-yellow-500":"text-gray-300"}`},l))})]}),e.jsx("div",{className:"w-12 h-12 bg-yellow-600 rounded-full flex items-center justify-center",children:e.jsx(Gt,{className:"w-6 h-6 text-white"})})]})})}),e.jsx(ne,{className:"border-2 border-green-200 bg-green-50",children:e.jsx(ke,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-green-600 font-medium mb-1",children:"Conversion Rate"}),e.jsx("p",{className:"text-3xl font-bold text-green-900",children:"68%"}),e.jsx("p",{className:"text-xs text-gray-600 mt-2",children:"Favorites  Bookings"})]}),e.jsx("div",{className:"w-12 h-12 bg-green-600 rounded-full flex items-center justify-center",children:e.jsx(xr,{className:"w-6 h-6 text-white"})})]})})})]}),e.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[e.jsxs(ne,{children:[e.jsxs(Hr,{children:[e.jsx(wn,{children:"Weekly Favorites & Shares Trend"}),e.jsx(ns,{children:"Last 7 days activity"})]}),e.jsx(ke,{children:e.jsx(Zd,{width:"100%",height:300,children:e.jsxs(b6,{data:s,children:[e.jsx(ru,{strokeDasharray:"3 3"}),e.jsx(zi,{dataKey:"date"}),e.jsx(Ui,{}),e.jsx(xs,{}),e.jsx(Ca,{}),e.jsx(Os,{type:"monotone",dataKey:"favorites",stroke:"#ec4899",strokeWidth:2,name:"Favorites"}),e.jsx(Os,{type:"monotone",dataKey:"shares",stroke:"#8b5cf6",strokeWidth:2,name:"Shares"})]})})})]}),e.jsxs(ne,{children:[e.jsxs(Hr,{children:[e.jsx(wn,{children:"Most Favorited Services"}),e.jsx(ns,{children:"Services clients love the most"})]}),e.jsx(ke,{children:e.jsx("div",{className:"space-y-3",children:a.map((o,l)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gradient-to-r from-pink-50 to-purple-50 rounded-lg border border-pink-100",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"w-8 h-8 bg-gradient-to-r from-pink-500 to-purple-500 rounded-full flex items-center justify-center text-white font-bold text-sm",children:["#",l+1]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:o.name}),e.jsxs("p",{className:"text-xs text-gray-600",children:[o.bookings," bookings"]})]})]}),e.jsxs("div",{className:"flex items-center gap-1 bg-pink-100 px-3 py-1 rounded-full",children:[e.jsx(Kn,{className:"w-3 h-3 text-pink-600 fill-pink-600"}),e.jsx("span",{className:"font-bold text-pink-700",children:o.favorites})]})]},o.id))})})]})]}),e.jsxs(ne,{children:[e.jsxs(Hr,{children:[e.jsx(wn,{children:"Client Demographics Who Favorited"}),e.jsx(ns,{children:"Understanding who saves your salon helps tailor your services"})]}),e.jsx(ke,{children:e.jsx("div",{className:"grid md:grid-cols-3 gap-4",children:i.map(o=>e.jsxs("div",{className:"p-4 bg-gradient-to-br from-purple-50 to-pink-50 rounded-lg border-2 border-purple-100",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h4",{className:"font-bold text-gray-900",children:o.segment}),e.jsxs(Oe,{className:"bg-gradient-to-r from-purple-600 to-pink-600 text-white border-0",children:[o.percentage,"%"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Count"}),e.jsx("span",{className:"font-bold text-lg text-purple-600",children:o.count})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-pink-500 h-2 rounded-full transition-all",style:{width:`${o.percentage}%`}})})]})]},o.segment))})})]}),e.jsxs(ne,{className:"bg-gradient-to-br from-purple-50 to-pink-50 border-2 border-purple-200",children:[e.jsx(Hr,{children:e.jsxs(wn,{className:"flex items-center gap-2",children:[e.jsx(xr,{className:"w-5 h-5 text-purple-600"}),"AI Insights & Recommendations"]})}),e.jsx(ke,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-start gap-3 p-3 bg-white rounded-lg",children:[e.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center flex-shrink-0",children:e.jsx(_h,{className:"w-4 h-4 text-green-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:" Great Growth! Favorites increased by 23% this week"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Your recent promotions are resonating well with clients"})]})]}),e.jsxs("div",{className:"flex items-start gap-3 p-3 bg-white rounded-lg",children:[e.jsx("div",{className:"w-8 h-8 bg-purple-100 rounded-full flex items-center justify-center flex-shrink-0",children:e.jsx(Gt,{className:"w-4 h-4 text-purple-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:" Balayage is your star service"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Consider featuring it in your next email campaign"})]})]}),e.jsxs("div",{className:"flex items-start gap-3 p-3 bg-white rounded-lg",children:[e.jsx("div",{className:"w-8 h-8 bg-pink-100 rounded-full flex items-center justify-center flex-shrink-0",children:e.jsx(pr,{className:"w-4 h-4 text-pink-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:" 68% conversion rate from favorites to bookings"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Clients who favorite your salon are highly likely to book"})]})]})]})})]})]})}function dSe({salonId:t,salonName:r}){const[n,s]=N.useState("7d"),a={totalViews:15420,totalLikes:1856,totalShares:342,viewsGrowth:34,likesGrowth:28,sharesGrowth:45,engagementRate:14.2},i=[{date:"Mon",views:2100,likes:245,shares:42},{date:"Tue",views:2340,likes:289,shares:51},{date:"Wed",views:1980,likes:212,shares:38},{date:"Thu",views:2650,likes:312,shares:58},{date:"Fri",views:2450,likes:298,shares:48},{date:"Sat",views:3200,likes:398,shares:72},{date:"Sun",views:2700,likes:302,shares:33}],o=[{id:1,title:"Last Minute: 50% off Balayage Today!",type:"last-minute",views:3420,likes:425,shares:89,engagement:15,date:"2 days ago"},{id:2,title:"New Nail Art Collection ",type:"post",views:2890,likes:378,shares:67,engagement:15.4,date:"4 days ago"},{id:3,title:"Summer Hair Trends 2024",type:"post",views:2560,likes:312,shares:54,engagement:14.3,date:"6 days ago"},{id:4,title:"Flash Sale: Brazilian Keratin -40%",type:"last-minute",views:2340,likes:289,shares:48,engagement:14.4,date:"1 week ago"},{id:5,title:"Meet Our New Master Stylist",type:"post",views:1980,likes:245,shares:32,engagement:14,date:"1 week ago"}],l=[{name:"Regular Posts",value:15,color:"#8b5cf6"},{name:"Last Minute Deals",value:9,color:"#eab308"}],c=[{platform:"WhatsApp",shares:156,percentage:45.6},{platform:"Instagram",shares:98,percentage:28.7},{platform:"Telegram",shares:54,percentage:15.8},{platform:"Facebook",shares:34,percentage:9.9}],u=[{segment:"New Users",count:234,percentage:42,color:"#10b981"},{segment:"Regular Clients",count:178,percentage:32,color:"#8b5cf6"},{segment:"VIP Clients",count:98,percentage:18,color:"#f59e0b"},{segment:"Other",count:45,percentage:8,color:"#6b7280"}];return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[e.jsx(Ac,{className:"w-6 h-6 text-purple-600"}),"Feed Analytics"]}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Track performance of your posts, likes, shares and views"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"flex items-center gap-2 bg-gray-100 rounded-lg p-1",children:[e.jsx("button",{onClick:()=>s("7d"),className:`px-3 py-1.5 rounded-md text-sm font-medium transition-all ${n==="7d"?"bg-white text-purple-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:"7 Days"}),e.jsx("button",{onClick:()=>s("30d"),className:`px-3 py-1.5 rounded-md text-sm font-medium transition-all ${n==="30d"?"bg-white text-purple-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:"30 Days"}),e.jsx("button",{onClick:()=>s("90d"),className:`px-3 py-1.5 rounded-md text-sm font-medium transition-all ${n==="90d"?"bg-white text-purple-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:"90 Days"})]}),e.jsxs(Q,{variant:"outline",className:"gap-2",children:[e.jsx(vr,{className:"w-4 h-4"}),"Export"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx(ne,{className:"border-2 border-blue-200 bg-blue-50",children:e.jsx(ke,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-blue-600 font-medium mb-1",children:"Total Views"}),e.jsx("p",{className:"text-3xl font-bold text-blue-900",children:a.totalViews.toLocaleString()}),e.jsxs("div",{className:"flex items-center gap-1 mt-2 text-xs text-green-600",children:[e.jsx(_h,{className:"w-3 h-3"}),e.jsxs("span",{children:["+",a.viewsGrowth,"% this week"]})]})]}),e.jsx("div",{className:"w-12 h-12 bg-blue-600 rounded-full flex items-center justify-center",children:e.jsx(Rr,{className:"w-6 h-6 text-white"})})]})})}),e.jsx(ne,{className:"border-2 border-pink-200 bg-pink-50",children:e.jsx(ke,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-pink-600 font-medium mb-1",children:"Total Likes"}),e.jsx("p",{className:"text-3xl font-bold text-pink-900",children:a.totalLikes.toLocaleString()}),e.jsxs("div",{className:"flex items-center gap-1 mt-2 text-xs text-green-600",children:[e.jsx(_h,{className:"w-3 h-3"}),e.jsxs("span",{children:["+",a.likesGrowth,"% this week"]})]})]}),e.jsx("div",{className:"w-12 h-12 bg-pink-600 rounded-full flex items-center justify-center",children:e.jsx(Kn,{className:"w-6 h-6 text-white fill-white"})})]})})}),e.jsx(ne,{className:"border-2 border-purple-200 bg-purple-50",children:e.jsx(ke,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-purple-600 font-medium mb-1",children:"Total Shares"}),e.jsx("p",{className:"text-3xl font-bold text-purple-900",children:a.totalShares}),e.jsxs("div",{className:"flex items-center gap-1 mt-2 text-xs text-green-600",children:[e.jsx(_h,{className:"w-3 h-3"}),e.jsxs("span",{children:["+",a.sharesGrowth,"% this week"]})]})]}),e.jsx("div",{className:"w-12 h-12 bg-purple-600 rounded-full flex items-center justify-center",children:e.jsx(_o,{className:"w-6 h-6 text-white"})})]})})}),e.jsx(ne,{className:"border-2 border-green-200 bg-green-50",children:e.jsx(ke,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-green-600 font-medium mb-1",children:"Engagement Rate"}),e.jsxs("p",{className:"text-3xl font-bold text-green-900",children:[a.engagementRate,"%"]}),e.jsx("p",{className:"text-xs text-gray-600 mt-2",children:"Likes + Shares / Views"})]}),e.jsx("div",{className:"w-12 h-12 bg-green-600 rounded-full flex items-center justify-center",children:e.jsx(xr,{className:"w-6 h-6 text-white"})})]})})})]}),e.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[e.jsxs(ne,{children:[e.jsxs(Hr,{children:[e.jsx(wn,{children:"Daily Engagement Trend"}),e.jsx(ns,{children:"Views, Likes, and Shares over time"})]}),e.jsx(ke,{children:e.jsx(Zd,{width:"100%",height:300,children:e.jsxs(b6,{data:i,children:[e.jsx(ru,{strokeDasharray:"3 3"}),e.jsx(zi,{dataKey:"date"}),e.jsx(Ui,{}),e.jsx(xs,{}),e.jsx(Ca,{}),e.jsx(Os,{type:"monotone",dataKey:"views",stroke:"#3b82f6",strokeWidth:2,name:"Views"}),e.jsx(Os,{type:"monotone",dataKey:"likes",stroke:"#ec4899",strokeWidth:2,name:"Likes"}),e.jsx(Os,{type:"monotone",dataKey:"shares",stroke:"#8b5cf6",strokeWidth:2,name:"Shares"})]})})})]}),e.jsxs(ne,{children:[e.jsxs(Hr,{children:[e.jsx(wn,{children:"Post Type Distribution"}),e.jsx(ns,{children:"Regular posts vs Last Minute deals"})]}),e.jsx(ke,{children:e.jsx(Zd,{width:"100%",height:300,children:e.jsxs(lSe,{children:[e.jsx(Tl,{data:l,cx:"50%",cy:"50%",labelLine:!1,label:({name:m,value:p,percentage:x})=>`${m}: ${p}`,outerRadius:100,fill:"#8884d8",dataKey:"value",children:l.map((m,p)=>e.jsx(Uy,{fill:m.color},`cell-${p}`))}),e.jsx(xs,{}),e.jsx(Ca,{})]})})})]})]}),e.jsxs(ne,{children:[e.jsxs(Hr,{children:[e.jsx(wn,{children:"Top Performing Posts"}),e.jsx(ns,{children:"Posts with highest engagement in the selected period"})]}),e.jsx(ke,{children:e.jsx("div",{className:"space-y-3",children:o.map((m,p)=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gradient-to-r from-purple-50 to-pink-50 rounded-lg border border-purple-100 hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[e.jsxs("div",{className:"w-10 h-10 bg-gradient-to-r from-purple-500 to-pink-500 rounded-full flex items-center justify-center text-white font-bold",children:["#",p+1]}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("p",{className:"font-medium text-gray-900",children:m.title}),m.type==="last-minute"&&e.jsx(Oe,{className:"bg-yellow-500 text-white border-0 text-xs",children:"Last Minute"})]}),e.jsx("p",{className:"text-xs text-gray-600",children:m.date})]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"flex items-center gap-1 text-blue-600",children:[e.jsx(Rr,{className:"w-4 h-4"}),e.jsx("span",{className:"font-bold text-sm",children:m.views.toLocaleString()})]}),e.jsx("span",{className:"text-xs text-gray-500",children:"Views"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"flex items-center gap-1 text-pink-600",children:[e.jsx(Kn,{className:"w-4 h-4"}),e.jsx("span",{className:"font-bold text-sm",children:m.likes})]}),e.jsx("span",{className:"text-xs text-gray-500",children:"Likes"})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"flex items-center gap-1 text-purple-600",children:[e.jsx(_o,{className:"w-4 h-4"}),e.jsx("span",{className:"font-bold text-sm",children:m.shares})]}),e.jsx("span",{className:"text-xs text-gray-500",children:"Shares"})]}),e.jsxs("div",{className:"text-center bg-green-100 px-3 py-1 rounded-full",children:[e.jsxs("span",{className:"font-bold text-green-700 text-sm",children:[m.engagement,"%"]}),e.jsx("div",{className:"text-xs text-green-600",children:"Engagement"})]})]})]},m.id))})})]}),e.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[e.jsxs(ne,{children:[e.jsxs(Hr,{children:[e.jsx(wn,{children:"Where Users Share Your Posts"}),e.jsx(ns,{children:"Social platforms distribution"})]}),e.jsx(ke,{children:e.jsx("div",{className:"space-y-4",children:c.map(m=>e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"font-medium text-gray-900",children:m.platform}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"text-sm text-gray-600",children:[m.shares," shares"]}),e.jsxs(Oe,{className:"bg-purple-100 text-purple-700 border-0",children:[m.percentage,"%"]})]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-pink-500 h-2 rounded-full transition-all",style:{width:`${m.percentage}%`}})})]},m.platform))})})]}),e.jsxs(ne,{children:[e.jsxs(Hr,{children:[e.jsx(wn,{children:"Who Engaged With Your Posts"}),e.jsx(ns,{children:"User segments breakdown"})]}),e.jsx(ke,{children:e.jsx("div",{className:"space-y-4",children:u.map(m=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:m.color}}),e.jsx("span",{className:"font-medium text-gray-900",children:m.segment})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("span",{className:"text-sm text-gray-600",children:[m.count," users"]}),e.jsxs(Oe,{className:"bg-gray-200 text-gray-700 border-0",children:[m.percentage,"%"]})]})]},m.segment))})})]})]}),e.jsxs(ne,{className:"bg-gradient-to-br from-purple-50 to-pink-50 border-2 border-purple-200",children:[e.jsx(Hr,{children:e.jsxs(wn,{className:"flex items-center gap-2",children:[e.jsx(Ks,{className:"w-5 h-5 text-purple-600"}),"AI-Powered Insights & Recommendations"]})}),e.jsx(ke,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-start gap-3 p-3 bg-white rounded-lg",children:[e.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center flex-shrink-0",children:e.jsx(_h,{className:"w-4 h-4 text-green-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:" Your Last Minute deals are crushing it!"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"45% increase in shares for Last Minute posts. Consider posting more time-sensitive offers."})]})]}),e.jsxs("div",{className:"flex items-start gap-3 p-3 bg-white rounded-lg",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center flex-shrink-0",children:e.jsx(pt,{className:"w-4 h-4 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:" Best time to post: Saturday 10-11 AM"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Your posts get 3x more engagement on weekend mornings."})]})]}),e.jsxs("div",{className:"flex items-start gap-3 p-3 bg-white rounded-lg",children:[e.jsx("div",{className:"w-8 h-8 bg-purple-100 rounded-full flex items-center justify-center flex-shrink-0",children:e.jsx(pr,{className:"w-4 h-4 text-purple-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:" 42% of engagers are new users"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Your feed is attracting new clients! Follow up with welcome offers to convert them."})]})]})]})})]})]})}const uSe={owner:{canViewAllSalons:!0,canEditSalonDetails:!0,canAddStaff:!0,canRemoveStaff:!0,canViewClientPhone:!0,canEditBookings:!0,canExportData:!0,canImportData:!0,canViewAnalytics:!0,canManageServices:!0,canManageMarketing:!0,canAccessAI:!0,canViewMasterTargets:!0,canViewMasterSalaries:!0,canManageProducts:!0,canManageBeautyFeed:!0,requiresOwnerApproval:!1},admin:{canViewAllSalons:!1,canEditSalonDetails:!1,canAddStaff:!1,canRemoveStaff:!1,canViewClientPhone:!0,canEditBookings:!0,canExportData:!1,canImportData:!1,canViewAnalytics:!0,canManageServices:!0,canManageMarketing:!0,canAccessAI:!0,canViewMasterTargets:!0,canViewMasterSalaries:!1,canManageProducts:!0,canManageBeautyFeed:!0,requiresOwnerApproval:!0},master:{canViewAllSalons:!1,canEditSalonDetails:!1,canAddStaff:!1,canRemoveStaff:!1,canViewClientPhone:!1,canEditBookings:!1,canExportData:!1,canImportData:!1,canViewAnalytics:!1,canManageServices:!1,canManageMarketing:!1,canAccessAI:!1,canViewMasterTargets:!1,canViewMasterSalaries:!1,canManageProducts:!1,canManageBeautyFeed:!1,requiresOwnerApproval:!1}};function fU({currentUser:t,salons:r,currentSalonId:n,onSalonChange:s,onAddSalon:a,onLogout:i,isDemo:o=!1}){console.log(" SALON DASHBOARD COMPONENT RENDERED!"),console.log(" Current user:",t),console.log(" Salons:",r),console.log(" Is Demo:",o);const[l,c]=useState("overview"),[u,m]=useState(!1),p=r.find(P=>P.id===n),x=uSe[t.role],v=[],w={todayBookings:12,weekRevenue:3250,totalClients:245,growthRate:15.3},y=(P,T,_,k,M)=>{console.log("Inviting staff:",{email:P,firstName:T,lastName:_,role:k,services:M}),alert(`Invitation sent to ${P}!`)},j=P=>{console.log("Importing clients:",P)},S=()=>{const T=[{id:"overview",icon:BarChart3,label:"Overview",roles:["owner","admin","master"]},{id:"my-salons",icon:Store,label:" My Salons",roles:["owner"]},{id:"calendar",icon:Calendar,label:"Calendar",roles:["owner","admin"]},{id:"my-schedule",icon:Calendar,label:"My Schedule",roles:["master"]},{id:"clients",icon:Users,label:"Clients",roles:["owner","admin"]},{id:"masters",icon:Target,label:"Masters & Targets",roles:["admin"]},{id:"services",icon:Scissors,label:"Services",roles:["owner","admin"]},{id:"package-deals",icon:Package,label:" Package Deals",roles:["owner"]},{id:"dynamic-pricing",icon:TrendingUp,label:" Dynamic Pricing",roles:["owner"]},{id:"gift-cards",icon:Gift,label:" Gift Cards",roles:["owner","admin"]},{id:"referral-program",icon:Gift,label:" Referral Program",roles:["owner"]},{id:"ai-smart-filling",icon:Brain,label:" AI Smart Filling",roles:["owner"]},{id:"advanced-forecasting",icon:Zap,label:" Forecasting",roles:["owner"]},{id:"booking-settings",icon:Settings,label:" Booking Settings",roles:["owner"]},{id:"products",icon:Package,label:"Products",roles:["admin"]},{id:"beauty-feed",icon:Camera,label:"Beauty Feed",roles:["admin"]},{id:"inventory",icon:Package,label:"Inventory",roles:["owner","admin"]},{id:"attendance",icon:Users,label:"Attendance",roles:["owner","admin"]},{id:"reviews",icon:Star,label:"Reviews",roles:["owner","admin"]},{id:"staff",icon:UserPlus,label:"Staff Management",roles:["owner"]},{id:"expense",icon:DollarSign,label:"Expenses",roles:["owner"]},{id:"loyalty",icon:Gift,label:"Loyalty Program",roles:["owner"]},{id:"advanced-analytics",icon:BarChart3,label:"Advanced Analytics",roles:["owner"]},{id:"feed-analytics",icon:TrendingUp,label:"Feed Analytics",roles:["owner","admin"]},{id:"notifications",icon:Bell,label:"Notifications",roles:["owner","admin","master"]},{id:"waiting-list",icon:Clock,label:"Waiting List",roles:["owner","admin"]},{id:"media",icon:ImageIcon,label:"Photos & Gallery",roles:["owner"]},{id:"marketing",icon:MessageSquare,label:"Marketing",roles:["owner","admin"]},{id:"ai-tools",icon:Sparkles,label:"AI Tools",roles:["owner","admin"]},{id:"export",icon:Download,label:"Export Data",roles:["owner"]},{id:"settings",icon:Settings,label:"Settings",roles:["owner","admin"]}].filter(_=>_.roles.includes(t.role));return console.log(" SALON DASHBOARD - Menu items for role:",t.role,"Count:",T.length),console.log(" Filtered items:",T.map(_=>_.label)),e.jsxs("div",{className:"w-64 bg-white border-r border-gray-200 min-h-screen p-4",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsxs("div",{className:"w-12 h-12 rounded-full bg-gradient-to-r from-purple-600 to-pink-600 flex items-center justify-center text-white font-semibold",children:[t.firstName[0],t.lastName[0]]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"font-semibold text-gray-900 truncate",children:[t.firstName," ",t.lastName]}),e.jsx("div",{className:"text-xs text-gray-500 capitalize",children:t.role})]})]}),x.canViewAllSalons&&e.jsx("div",{className:"mb-4",children:e.jsx(SalonSwitcher,{salons:r,currentSalonId:n,onSwitch:s,onAddNew:a,onManage:()=>c("my-salons")})})]}),e.jsx("nav",{className:"space-y-1",children:T.map(_=>e.jsxs("button",{onClick:()=>c(_.id),className:`w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${l===_.id?"bg-gradient-to-r from-purple-600 to-pink-600 text-white":"text-gray-700 hover:bg-gray-50"}`,children:[e.jsx(_.icon,{className:"w-5 h-5"}),e.jsx("span",{className:"text-sm font-medium",children:_.label})]},_.id))}),e.jsx("div",{className:"mt-auto pt-6 border-t border-gray-200",children:e.jsxs("button",{onClick:i,className:"w-full flex items-center gap-3 px-4 py-3 rounded-lg text-gray-700 hover:bg-red-50 hover:text-red-600 transition-colors",children:[e.jsx(LogOut,{className:"w-5 h-5"}),e.jsx("span",{className:"text-sm font-medium",children:"Logout"})]})})]})},C=()=>{var P,T;switch(l){case"overview":return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:t.role==="master"?"My Dashboard":"Overview"}),e.jsx("p",{className:"text-gray-600",children:t.role==="master"?"View your appointments and schedule":`Welcome back, ${t.firstName}! Here's what's happening today.`})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsx(Card,{children:e.jsx(CardContent,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx(Calendar,{className:"w-10 h-10 text-purple-600"}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:w.todayBookings}),e.jsx("div",{className:"text-xs text-gray-500",children:"Today's Bookings"})]})]})})}),x.canViewAnalytics&&e.jsxs(e.Fragment,{children:[e.jsx(Card,{children:e.jsx(CardContent,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx(DollarSign,{className:"w-10 h-10 text-green-600"}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-2xl font-bold text-gray-900",children:["$",w.weekRevenue]}),e.jsx("div",{className:"text-xs text-gray-500",children:"This Week"})]})]})})}),e.jsx(Card,{children:e.jsx(CardContent,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx(Users,{className:"w-10 h-10 text-blue-600"}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:w.totalClients}),e.jsx("div",{className:"text-xs text-gray-500",children:"Total Clients"})]})]})})}),e.jsx(Card,{children:e.jsx(CardContent,{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx(TrendingUp,{className:"w-10 h-10 text-orange-600"}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-2xl font-bold text-gray-900",children:["+",w.growthRate,"%"]}),e.jsx("div",{className:"text-xs text-gray-500",children:"Growth Rate"})]})]})})})]})]}),e.jsxs(Card,{children:[e.jsx(CardHeader,{children:e.jsx("h3",{className:"font-bold text-gray-900",children:t.role==="master"?"My Upcoming Appointments":"Recent Bookings"})}),e.jsx(CardContent,{children:e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx(Calendar,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),e.jsx("p",{children:"No bookings to display"}),e.jsx("p",{className:"text-sm text-gray-400 mt-1",children:t.role==="master"?"Your appointments will appear here":"New bookings will appear here"})]})})]}),t.role!=="master"&&e.jsxs(Card,{children:[e.jsxs(CardHeader,{children:[e.jsx("h3",{className:"font-bold text-gray-900",children:"Quick Access"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Navigate to key features"})]}),e.jsx(CardContent,{children:e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:[e.jsxs("button",{onClick:()=>c("calendar"),className:"rounded-xl p-6 text-left transition-all border bg-white hover:shadow-lg border-gray-100 cursor-pointer",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center mb-3 bg-blue-100",children:e.jsx(Calendar,{className:"w-6 h-6 text-blue-600"})}),e.jsx("h3",{className:"font-bold mb-1 text-gray-900",children:"Calendar"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Manage bookings"})]}),t.role==="admin"&&e.jsxs("button",{onClick:()=>c("masters"),className:"rounded-xl p-6 text-left transition-all border bg-white hover:shadow-lg border-gray-100 cursor-pointer",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center mb-3 bg-green-100",children:e.jsx(Target,{className:"w-6 h-6 text-green-600"})}),e.jsx("h3",{className:"font-bold mb-1 text-gray-900",children:"Masters"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Manage staff"})]}),e.jsxs("button",{onClick:()=>c("clients"),className:"rounded-xl p-6 text-left transition-all border bg-white hover:shadow-lg border-gray-100 cursor-pointer",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center mb-3 bg-pink-100",children:e.jsx(Users,{className:"w-6 h-6 text-pink-600"})}),e.jsx("h3",{className:"font-bold mb-1 text-gray-900",children:"Client Database"}),e.jsx("p",{className:"text-sm text-gray-500",children:"History & Favorites"})]}),e.jsxs("button",{onClick:()=>c("services"),className:"rounded-xl p-6 text-left transition-all border bg-white hover:shadow-lg border-gray-100 cursor-pointer",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center mb-3 bg-purple-100",children:e.jsx(Scissors,{className:"w-6 h-6 text-purple-600"})}),e.jsx("h3",{className:"font-bold mb-1 text-gray-900",children:"menu/Services"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Manage services"})]}),t.role==="admin"&&e.jsxs("button",{onClick:()=>c("beauty-feed"),className:"rounded-xl p-6 text-left transition-all border bg-white hover:shadow-lg border-gray-100 cursor-pointer",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center mb-3 bg-pink-100",children:e.jsx(Camera,{className:"w-6 h-6 text-pink-600"})}),e.jsx("h3",{className:"font-bold mb-1 text-gray-900",children:"Beauty Feed"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Showcase Work"})]}),e.jsxs("button",{onClick:()=>c("marketing"),className:"rounded-xl p-6 text-left transition-all border bg-white hover:shadow-lg border-gray-100 cursor-pointer",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center mb-3 bg-blue-100",children:e.jsx(MessageSquare,{className:"w-6 h-6 text-blue-600"})}),e.jsx("h3",{className:"font-bold mb-1 text-gray-900",children:"Marketing"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Promote salon"})]}),e.jsxs("button",{onClick:()=>c("analytics"),className:"rounded-xl p-6 text-left transition-all border bg-white hover:shadow-lg border-gray-100 cursor-pointer",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center mb-3 bg-indigo-100",children:e.jsx(BarChart3,{className:"w-6 h-6 text-indigo-600"})}),e.jsx("h3",{className:"font-bold mb-1 text-gray-900",children:"Analytics"}),e.jsx("p",{className:"text-sm text-gray-500",children:"View reports"})]}),e.jsxs("button",{onClick:()=>c("ai-tools"),className:"rounded-xl p-6 text-left transition-all border bg-white hover:shadow-lg border-gray-100 cursor-pointer",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center mb-3 bg-purple-100",children:e.jsx(Sparkles,{className:"w-6 h-6 text-purple-600"})}),e.jsx("h3",{className:"font-bold mb-1 text-gray-900",children:"AI Tools"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Configure AI"})]}),t.role==="owner"&&e.jsxs("button",{onClick:()=>c("finance"),className:"rounded-xl p-6 text-left transition-all border bg-white hover:shadow-lg border-gray-100 cursor-pointer",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center mb-3 bg-green-100",children:e.jsx(DollarSign,{className:"w-6 h-6 text-green-600"})}),e.jsx("h3",{className:"font-bold mb-1 text-gray-900",children:"Finance"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Manage finances"})]}),t.role==="admin"&&e.jsxs("button",{onClick:()=>c("products"),className:"rounded-xl p-6 text-left transition-all border bg-white hover:shadow-lg border-gray-100 cursor-pointer",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center mb-3 bg-cyan-100",children:e.jsx(Package,{className:"w-6 h-6 text-cyan-600"})}),e.jsx("h3",{className:"font-bold mb-1 text-gray-900",children:"products"}),e.jsx("p",{className:"text-sm text-gray-500",children:"manage/marketplace"})]}),e.jsxs("button",{onClick:()=>c("settings"),className:"rounded-xl p-6 text-left transition-all border bg-white hover:shadow-lg border-gray-100 cursor-pointer",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center mb-3 bg-slate-100",children:e.jsx(Settings,{className:"w-6 h-6 text-slate-600"})}),e.jsx("h3",{className:"font-bold mb-1 text-gray-900",children:"Salon Settings"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Profile & Photos"})]}),e.jsxs("button",{onClick:()=>c("inventory"),className:"rounded-xl p-6 text-left transition-all border bg-white hover:shadow-lg border-gray-100 cursor-pointer",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center mb-3 bg-amber-100",children:e.jsx(Package,{className:"w-6 h-6 text-amber-600"})}),e.jsx("h3",{className:"font-bold mb-1 text-gray-900",children:"Inventory"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Manage stock"})]}),e.jsxs("button",{onClick:()=>c("attendance"),className:"rounded-xl p-6 text-left transition-all border bg-white hover:shadow-lg border-gray-100 cursor-pointer",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center mb-3 bg-teal-100",children:e.jsx(Users,{className:"w-6 h-6 text-teal-600"})}),e.jsx("h3",{className:"font-bold mb-1 text-gray-900",children:"Attendance"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Track staff"})]}),e.jsxs("button",{onClick:()=>c("reviews"),className:"rounded-xl p-6 text-left transition-all border bg-white hover:shadow-lg border-gray-100 cursor-pointer",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center mb-3 bg-yellow-100",children:e.jsx(Star,{className:"w-6 h-6 text-yellow-600"})}),e.jsx("h3",{className:"font-bold mb-1 text-gray-900",children:"Reviews"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Manage feedback"})]}),t.role==="owner"&&e.jsxs("button",{onClick:()=>c("expense"),className:"rounded-xl p-6 text-left transition-all border bg-white hover:shadow-lg border-gray-100 cursor-pointer",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center mb-3 bg-red-100",children:e.jsx(DollarSign,{className:"w-6 h-6 text-red-600"})}),e.jsx("h3",{className:"font-bold mb-1 text-gray-900",children:"Expense"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Track costs"})]}),t.role==="owner"&&e.jsxs("button",{onClick:()=>c("loyalty"),className:"rounded-xl p-6 text-left transition-all border bg-white hover:shadow-lg border-gray-100 cursor-pointer",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center mb-3 bg-fuchsia-100",children:e.jsx(Gift,{className:"w-6 h-6 text-fuchsia-600"})}),e.jsx("h3",{className:"font-bold mb-1 text-gray-900",children:"Loyalty"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Reward clients"})]}),t.role==="owner"&&e.jsxs("button",{onClick:()=>c("advanced-analytics"),className:"rounded-xl p-6 text-left transition-all border bg-white hover:shadow-lg border-gray-100 cursor-pointer",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center mb-3 bg-emerald-100",children:e.jsx(BarChart3,{className:"w-6 h-6 text-emerald-600"})}),e.jsx("h3",{className:"font-bold mb-1 text-gray-900",children:"Advanced Analytics"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Deep dive into data"})]}),t.role==="owner"&&e.jsxs("button",{onClick:()=>c("feed-analytics"),className:"rounded-xl p-6 text-left transition-all border bg-white hover:shadow-lg border-gray-100 cursor-pointer",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center mb-3 bg-indigo-100",children:e.jsx(TrendingUp,{className:"w-6 h-6 text-indigo-600"})}),e.jsx("h3",{className:"font-bold mb-1 text-gray-900",children:"Feed Analytics"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Analyze feed performance"})]}),e.jsxs("button",{onClick:()=>c("notifications"),className:"rounded-xl p-6 text-left transition-all border bg-white hover:shadow-lg border-gray-100 cursor-pointer",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center mb-3 bg-orange-100",children:e.jsx(Bell,{className:"w-6 h-6 text-orange-600"})}),e.jsx("h3",{className:"font-bold mb-1 text-gray-900",children:"Notifications"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Stay informed"})]}),e.jsxs("button",{onClick:()=>c("waiting-list"),className:"rounded-xl p-6 text-left transition-all border bg-white hover:shadow-lg border-gray-100 cursor-pointer",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center mb-3 bg-rose-100",children:e.jsx(Clock,{className:"w-6 h-6 text-rose-600"})}),e.jsx("h3",{className:"font-bold mb-1 text-gray-900",children:"Waiting List"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Manage reservations"})]}),t.role==="owner"&&e.jsxs("button",{onClick:()=>c("package-deals"),className:"rounded-xl p-6 text-left transition-all border bg-white hover:shadow-lg border-gray-100 cursor-pointer",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center mb-3 bg-indigo-100",children:e.jsx(Package,{className:"w-6 h-6 text-indigo-600"})}),e.jsx("h3",{className:"font-bold mb-1 text-gray-900",children:"Package Deals"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Create and manage deals"})]}),t.role==="owner"&&e.jsxs("button",{onClick:()=>c("dynamic-pricing"),className:"rounded-xl p-6 text-left transition-all border bg-white hover:shadow-lg border-gray-100 cursor-pointer",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center mb-3 bg-green-100",children:e.jsx(DollarSign,{className:"w-6 h-6 text-green-600"})}),e.jsx("h3",{className:"font-bold mb-1 text-gray-900",children:"Dynamic Pricing"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Adjust prices in real-time"})]}),t.role==="owner"&&e.jsxs("button",{onClick:()=>c("referral-program"),className:"rounded-xl p-6 text-left transition-all border bg-white hover:shadow-lg border-gray-100 cursor-pointer",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center mb-3 bg-blue-100",children:e.jsx(UserPlus,{className:"w-6 h-6 text-blue-600"})}),e.jsx("h3",{className:"font-bold mb-1 text-gray-900",children:"Referral Program"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Encourage client referrals"})]}),t.role==="owner"&&e.jsxs("button",{onClick:()=>c("ai-smart-filling"),className:"rounded-xl p-6 text-left transition-all border bg-white hover:shadow-lg border-gray-100 cursor-pointer",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center mb-3 bg-purple-100",children:e.jsx(Brain,{className:"w-6 h-6 text-purple-600"})}),e.jsx("h3",{className:"font-bold mb-1 text-gray-900",children:"AI Smart Filling"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Automate appointment scheduling"})]}),t.role==="owner"&&e.jsxs("button",{onClick:()=>c("advanced-forecasting"),className:"rounded-xl p-6 text-left transition-all border bg-white hover:shadow-lg border-gray-100 cursor-pointer",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center mb-3 bg-orange-100",children:e.jsx(Zap,{className:"w-6 h-6 text-orange-600"})}),e.jsx("h3",{className:"font-bold mb-1 text-gray-900",children:"Advanced Forecasting"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Predict future trends"})]}),t.role==="owner"&&e.jsxs("button",{onClick:()=>c("booking-settings"),className:"rounded-xl p-6 text-left transition-all border bg-white hover:shadow-lg border-gray-100 cursor-pointer",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center mb-3 bg-gray-100",children:e.jsx(Settings,{className:"w-6 h-6 text-gray-600"})}),e.jsx("h3",{className:"font-bold mb-1 text-gray-900",children:"Booking Settings"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Configure booking options"})]}),t.role==="owner"&&e.jsxs("button",{onClick:()=>c("refresh"),className:"rounded-xl p-6 text-left transition-all border bg-white hover:shadow-lg border-gray-100 cursor-pointer",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center mb-3 bg-gray-100",children:e.jsx(RefreshCw,{className:"w-6 h-6 text-gray-600"})}),e.jsx("h3",{className:"font-bold mb-1 text-gray-900",children:"Refresh Data"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Update and refresh data"})]}),t.role==="owner"&&e.jsxs("button",{onClick:()=>c("store"),className:"rounded-xl p-6 text-left transition-all border bg-white hover:shadow-lg border-gray-100 cursor-pointer",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center mb-3 bg-gray-100",children:e.jsx(Store,{className:"w-6 h-6 text-gray-600"})}),e.jsx("h3",{className:"font-bold mb-1 text-gray-900",children:"Store"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Manage store inventory"})]})]})})]})]});case"staff":return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Staff Management"}),e.jsx("p",{className:"text-gray-600",children:"Manage your team members and their permissions"})]}),e.jsxs(Button,{onClick:()=>m(!0),className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700",children:[e.jsx(UserPlus,{className:"w-4 h-4 mr-2"}),"Invite Staff"]})]}),e.jsxs(Card,{children:[e.jsx(CardHeader,{children:e.jsxs("h3",{className:"font-bold text-gray-900",children:["Team Members (",((P=p==null?void 0:p.staff)==null?void 0:P.length)||0,")"]})}),e.jsx(CardContent,{children:e.jsx("div",{className:"space-y-3",children:(T=p==null?void 0:p.staff)==null?void 0:T.map(_=>e.jsxs("div",{className:"flex items-center gap-4 p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"w-12 h-12 rounded-full bg-gradient-to-r from-purple-600 to-pink-600 flex items-center justify-center text-white font-semibold",children:[_.firstName[0],_.lastName[0]]}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"font-semibold text-gray-900",children:[_.firstName," ",_.lastName]}),e.jsx("div",{className:"text-sm text-gray-600",children:_.email})]}),e.jsx("div",{className:"text-sm",children:e.jsx("span",{className:"px-3 py-1 bg-purple-100 text-purple-700 rounded-full capitalize font-medium",children:_.role})})]},_.id))})})]})]});case"masters":return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Masters & Targets"}),e.jsx("p",{className:"text-gray-600",children:"View masters performance and targets (salaries are hidden)"})]}),e.jsxs(Card,{children:[e.jsx(CardHeader,{children:e.jsx("h3",{className:"font-bold text-gray-900",children:"Masters Overview"})}),e.jsx(CardContent,{children:e.jsxs("div",{className:"text-center py-12 text-gray-500",children:[e.jsx(Target,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),e.jsx("p",{className:"text-lg font-medium",children:"Masters & Targets"}),e.jsx("p",{className:"text-sm mt-2",children:"View master targets and performance"}),e.jsx("p",{className:"text-xs mt-4 text-purple-600",children:" Salary information is not available for admins"})]})})]})]});case"products":return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Products Management"}),e.jsx("p",{className:"text-gray-600",children:"Manage salon products"}),x.requiresOwnerApproval&&e.jsxs("div",{className:"mt-2 p-3 bg-yellow-50 border border-yellow-200 rounded-lg flex items-center gap-2",children:[e.jsx(Bell,{className:"w-5 h-5 text-yellow-600"}),e.jsx("p",{className:"text-sm text-yellow-800",children:" Your changes require owner approval before taking effect"})]})]}),e.jsxs(Card,{children:[e.jsx(CardHeader,{children:e.jsx("h3",{className:"font-bold text-gray-900",children:"Product Catalog"})}),e.jsx(CardContent,{children:e.jsxs("div",{className:"text-center py-12 text-gray-500",children:[e.jsx(Package,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),e.jsx("p",{className:"text-lg font-medium",children:"Products Management"}),e.jsx("p",{className:"text-sm mt-2",children:"Add and manage salon products"})]})})]})]});case"beauty-feed":return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Beauty Feed"}),e.jsx("p",{className:"text-gray-600",children:"Manage salon's public feed and gallery"})]}),e.jsxs(Card,{children:[e.jsx(CardHeader,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"font-bold text-gray-900",children:"Feed Posts"}),e.jsxs(Button,{className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700",children:[e.jsx(Camera,{className:"w-4 h-4 mr-2"}),"Create Post"]})]})}),e.jsx(CardContent,{children:e.jsxs("div",{className:"text-center py-12 text-gray-500",children:[e.jsx(Camera,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),e.jsx("p",{className:"text-lg font-medium",children:"Beauty Feed"}),e.jsx("p",{className:"text-sm mt-2",children:"Share your best work with clients"}),e.jsx("p",{className:"text-xs mt-4 text-green-600",children:" Full access to create and manage feed posts"})]})})]})]});case"export":return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Data Management"}),e.jsx("p",{className:"text-gray-600",children:"Export and import your client database"})]}),e.jsx(DataExportImport,{clients:v,salonName:(p==null?void 0:p.name)||"Salon",onImport:j})]});case"settings":return e.jsx("div",{className:"space-y-6",children:e.jsx(SalonSettingsTab,{salonId:p==null?void 0:p.id,initialIsPublished:(p==null?void 0:p.isPublished)||!1})});case"package-deals":return e.jsx("div",{className:"space-y-6",children:e.jsx(PackageDealsTab,{})});case"dynamic-pricing":return e.jsx("div",{className:"space-y-6",children:e.jsx(DynamicPricingTab,{})});case"referral-program":return e.jsx("div",{className:"space-y-6",children:e.jsx(ReferralProgramTab,{})});case"ai-smart-filling":return e.jsx("div",{className:"space-y-6",children:e.jsx(AISmartFillingTab,{})});case"advanced-forecasting":return e.jsx("div",{className:"space-y-6",children:e.jsx(AdvancedForecastingTab,{})});case"booking-settings":return e.jsx("div",{className:"space-y-6",children:e.jsx(BookingSettingsTab,{})});case"gift-cards":return e.jsx("div",{className:"space-y-6",children:e.jsx(GiftCardsTab,{userRole:t.role})});case"my-salons":return e.jsx("div",{className:"space-y-6",children:e.jsx(MultiSalonManager,{currentSalonId:n,onSalonSwitch:s})});case"refresh":return e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-6xl mb-4",children:""}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Data Refreshed"}),e.jsx("p",{className:"text-gray-600",children:"Your data has been updated"})]})});case"store":return e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-6xl mb-4",children:""}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Store Management"}),e.jsx("p",{className:"text-gray-600",children:"Manage your salon's store inventory"})]})});case"analytics":case"advanced-analytics":return e.jsx("div",{className:"space-y-6",children:e.jsx(cSe,{salonId:p==null?void 0:p.id,salonName:p==null?void 0:p.name})});case"feed-analytics":return e.jsx("div",{className:"space-y-6",children:e.jsx(dSe,{salonId:p==null?void 0:p.id,salonName:p==null?void 0:p.name})});default:return e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-6xl mb-4",children:""}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Coming Soon"}),e.jsx("p",{className:"text-gray-600",children:"This section is under development"})]})})}};return e.jsxs("div",{className:"flex min-h-screen bg-gray-50",children:[S(),e.jsxs("div",{className:"flex-1 overflow-y-auto",children:[o&&e.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-pink-600 text-white px-6 py-3 text-center",children:e.jsxs("p",{className:"font-medium",children:[" Demo Mode - This is a preview of the ",t.role==="owner"?"Owner":t.role==="admin"?"Admin":"Master"," Dashboard with sample data"]})}),e.jsx("div",{className:"p-8",children:C()})]}),p&&e.jsx(InviteStaffModal,{isOpen:u,onClose:()=>m(!1),salonId:p.id,services:p.services||[],onInvite:y})]})}function hSe(){const{user:t,loading:r,signOut:n}=Ma(),s=vn(),[a]=pC(),i=a.get("demo")==="true";console.log("OwnerDashboard render - isDemo:",i,"demo param:",a.get("demo"));const[o,l]=N.useState(null),[c,u]=N.useState([]),[m,p]=N.useState(""),[x,v]=N.useState(!0);N.useEffect(()=>{if(console.log("OwnerDashboard useEffect - isDemo:",i,"authLoading:",r,"loading:",x),i){console.log("OwnerDashboard - DEMO MODE DETECTED, calling loadDemoData()"),w();return}if(!r){if(!t){s("/auth");return}y()}},[i,r,t]);const w=()=>{console.log("Loading demo data for Owner Dashboard");const P={id:"demo-owner-id",email:"owner@demo.com",firstName:"Maria",lastName:"Johnson",role:"owner",salonId:"demo-salon-1",createdAt:new Date},T=[{id:"demo-salon-1",name:"Glamour Beauty Studio",address:"123 Main St, New York, NY 10001",phone:"+1 (555) 123-4567",description:"Premium beauty salon in the heart of Manhattan",ownerId:"demo-owner-id",logo:"https://images.unsplash.com/photo-1560066984-138dadb4c035?w=300",isPublished:!0,createdAt:new Date},{id:"demo-salon-2",name:"Elegance Spa & Beauty",address:"456 Park Ave, Brooklyn, NY 11201",phone:"+1 (555) 987-6543",description:"Luxury spa and beauty services",ownerId:"demo-owner-id",logo:"https://images.unsplash.com/photo-1519415387722-a1c3bbef716c?w=300",isPublished:!0,createdAt:new Date}];l(P),u(T),p(T[0].id),v(!1),console.log("Demo data loaded successfully - Owner has",T.length,"salons")},y=async()=>{var P,T,_,k;if(t)try{v(!0);const $=await(await fetch(`https://${nr}.supabase.co/functions/v1/make-server-3e5c72fb/salon-role/${t.id}`,{headers:{Authorization:`Bearer ${cr}`}})).json();if(!$.role){ve.error("No salon found. Please register your salon first."),s("/become-partner");return}if($.role.role!=="owner"){ve.error("Access denied. Owner access required."),s("/dashboard");return}const B={id:t.id,email:t.email||"",firstName:$.role.firstName||((T=(P=t.user_metadata)==null?void 0:P.full_name)==null?void 0:T.split(" ")[0])||"Owner",lastName:$.role.lastName||((k=(_=t.user_metadata)==null?void 0:_.full_name)==null?void 0:k.split(" ")[1])||"",role:"owner",salonId:$.role.salonId,createdAt:new Date(t.created_at)};l(B);const H=await(await fetch(`https://${nr}.supabase.co/functions/v1/make-server-3e5c72fb/owner/${t.id}/salons`,{headers:{Authorization:`Bearer ${cr}`}})).json();H.salons&&H.salons.length>0?(u(H.salons),p(H.salons[0].id)):(ve.error("No salon found. Please complete salon setup."),s("/pricing"))}catch(M){console.error("Error loading user data:",M),ve.error("Failed to load salon data")}finally{v(!1)}},j=P=>{p(P)},S=()=>{s("/pricing")},C=async()=>{await n(),s("/")};return!i&&r?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 border-4 border-purple-200 border-t-purple-600 rounded-full animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading your salon dashboard..."})]})}):x?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 border-4 border-purple-200 border-t-purple-600 rounded-full animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading your salon dashboard..."})]})}):!o||c.length===0?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsx("div",{className:"text-center",children:e.jsx("p",{className:"text-gray-600",children:"No salon found"})})}):e.jsx(fU,{currentUser:o,salons:c,currentSalonId:m,onSalonChange:j,onAddSalon:S,onLogout:C,isDemo:i})}function mSe(){const{user:t,loading:r,signOut:n}=Ma(),s=vn(),[a]=pC(),i=a.get("demo")==="true";console.log("AdminDashboard render - isDemo:",i,"demo param:",a.get("demo"));const[o,l]=N.useState(null),[c,u]=N.useState([]),[m,p]=N.useState(""),[x,v]=N.useState(!0);N.useEffect(()=>{if(console.log("AdminDashboard useEffect - isDemo:",i,"authLoading:",r,"loading:",x),i){console.log("AdminDashboard - DEMO MODE DETECTED, calling loadDemoData()"),w();return}if(!r){if(!t){s("/auth");return}y()}},[i,r,t]);const w=()=>{console.log("Loading demo data for Admin Dashboard");const C={id:"demo-admin-id",email:"admin@demo.com",firstName:"Anna",lastName:"Smith",role:"admin",salonId:"demo-salon-1",createdAt:new Date},P={id:"demo-salon-1",name:"Glamour Beauty Studio",address:"123 Main St, New York, NY 10001",phone:"+1 (555) 123-4567",description:"Premium beauty salon in the heart of Manhattan",ownerId:"demo-owner-id",logo:"https://images.unsplash.com/photo-1560066984-138dadb4c035?w=300",isPublished:!0,createdAt:new Date};l(C),u([P]),p(P.id),v(!1),console.log("Demo data loaded successfully")},y=async()=>{var C,P,T,_;if(t)try{v(!0);const M=await(await fetch(`https://${nr}.supabase.co/functions/v1/make-server-3e5c72fb/salon-role/${t.id}`,{headers:{Authorization:`Bearer ${cr}`}})).json();if(console.log("Admin Dashboard - Role Data:",M),!M.role){console.log("Admin Dashboard - No role found for user"),ve.error("No salon access found. Please contact your salon owner."),s("/");return}if(M.role.role!=="admin"){console.log("Admin Dashboard - User is not admin, role:",M.role.role),ve.error("Access denied. Admin access required."),s("/redirect");return}const $={id:t.id,email:t.email||"",firstName:M.role.firstName||((P=(C=t.user_metadata)==null?void 0:C.full_name)==null?void 0:P.split(" ")[0])||"Admin",lastName:M.role.lastName||((_=(T=t.user_metadata)==null?void 0:T.full_name)==null?void 0:_.split(" ")[1])||"",role:"admin",salonId:M.role.salonId,createdAt:new Date(t.created_at)};l($),console.log("Admin Dashboard - User data set:",$);const F=await(await fetch(`https://${nr}.supabase.co/functions/v1/make-server-3e5c72fb/salon/${M.role.salonId}`,{headers:{Authorization:`Bearer ${cr}`}})).json();console.log("Admin Dashboard - Salon Data:",F),F.salon?(u([F.salon]),p(F.salon.id),console.log("Admin Dashboard - Salon loaded successfully")):(console.log("Admin Dashboard - No salon found in response"),ve.error("Salon not found."),s("/"))}catch(k){console.error("Admin Dashboard - Error loading admin data:",k),ve.error("Failed to load admin dashboard")}finally{v(!1)}},j=C=>{p(C)},S=async()=>{await n(),s("/")};return!i&&r?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 border-4 border-purple-200 border-t-purple-600 rounded-full animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading admin dashboard..."})]})}):x?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 border-4 border-purple-200 border-t-purple-600 rounded-full animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading admin dashboard..."})]})}):!o||c.length===0?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-gray-600",children:"No salon access found"}),e.jsx("button",{onClick:()=>s("/"),className:"mt-4 px-6 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700",children:"Go Home"})]})}):e.jsx(fU,{currentUser:o,salons:c,currentSalonId:m,onSalonChange:j,onLogout:S,isDemo:i})}var j6="Progress",w6=100,[fSe]=Is(j6),[pSe,xSe]=fSe(j6),pU=N.forwardRef((t,r)=>{const{__scopeProgress:n,value:s=null,max:a,getValueLabel:i=gSe,...o}=t;(a||a===0)&&!PI(a)&&console.error(vSe(`${a}`,"Progress"));const l=PI(a)?a:w6;s!==null&&!AI(s,l)&&console.error(ySe(`${s}`,"Progress"));const c=AI(s,l)?s:null,u=Vv(c)?i(c,l):void 0;return e.jsx(pSe,{scope:n,value:c,max:l,children:e.jsx(mt.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":Vv(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":vU(c,l),"data-value":c??void 0,"data-max":l,...o,ref:r})})});pU.displayName=j6;var xU="ProgressIndicator",gU=N.forwardRef((t,r)=>{const{__scopeProgress:n,...s}=t,a=xSe(xU,n);return e.jsx(mt.div,{"data-state":vU(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...s,ref:r})});gU.displayName=xU;function gSe(t,r){return`${Math.round(t/r*100)}%`}function vU(t,r){return t==null?"indeterminate":t===r?"complete":"loading"}function Vv(t){return typeof t=="number"}function PI(t){return Vv(t)&&!isNaN(t)&&t>0}function AI(t,r){return Vv(t)&&!isNaN(t)&&t<=r&&t>=0}function vSe(t,r){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${r}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${w6}\`.`}function ySe(t,r){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${r}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${w6} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var bSe=pU,jSe=gU;function wSe({className:t,value:r,...n}){return e.jsx(bSe,{"data-slot":"progress",className:lt("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",t),...n,children:e.jsx(jSe,{"data-slot":"progress-indicator",className:"bg-primary h-full w-full flex-1 transition-all",style:{transform:`translateX(-${100-(r||0)}%)`}})})}function sr(t){const r=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&r==="[object Date]"?new t.constructor(+t):typeof t=="number"||r==="[object Number]"||typeof t=="string"||r==="[object String]"?new Date(t):new Date(NaN)}function Ea(t,r){return t instanceof Date?new t.constructor(r):new Date(r)}function Ts(t,r){const n=sr(t);return isNaN(r)?Ea(t,NaN):(r&&n.setDate(n.getDate()+r),n)}function Hi(t,r){const n=sr(t);if(isNaN(r))return Ea(t,NaN);if(!r)return n;const s=n.getDate(),a=Ea(t,n.getTime());a.setMonth(n.getMonth()+r+1,0);const i=a.getDate();return s>=i?a:(n.setFullYear(a.getFullYear(),a.getMonth(),s),n)}const N6=6048e5,NSe=864e5;let SSe={};function Ex(){return SSe}function Ao(t,r){var l,c,u,m;const n=Ex(),s=(r==null?void 0:r.weekStartsOn)??((c=(l=r==null?void 0:r.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((m=(u=n.locale)==null?void 0:u.options)==null?void 0:m.weekStartsOn)??0,a=sr(t),i=a.getDay(),o=(i<s?7:0)+i-s;return a.setDate(a.getDate()-o),a.setHours(0,0,0,0),a}function nu(t){return Ao(t,{weekStartsOn:1})}function yU(t){const r=sr(t),n=r.getFullYear(),s=Ea(t,0);s.setFullYear(n+1,0,4),s.setHours(0,0,0,0);const a=nu(s),i=Ea(t,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);const o=nu(i);return r.getTime()>=a.getTime()?n+1:r.getTime()>=o.getTime()?n:n-1}function gm(t){const r=sr(t);return r.setHours(0,0,0,0),r}function Gv(t){const r=sr(t),n=new Date(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()));return n.setUTCFullYear(r.getFullYear()),+t-+n}function xo(t,r){const n=gm(t),s=gm(r),a=+n-Gv(n),i=+s-Gv(s);return Math.round((a-i)/NSe)}function _Se(t){const r=yU(t),n=Ea(t,0);return n.setFullYear(r,0,4),n.setHours(0,0,0,0),nu(n)}function iC(t,r){const n=r*7;return Ts(t,n)}function kSe(t,r){return Hi(t,r*12)}function CSe(t){let r;return t.forEach(function(n){const s=sr(n);(r===void 0||r<s||isNaN(Number(s)))&&(r=s)}),r||new Date(NaN)}function PSe(t){let r;return t.forEach(n=>{const s=sr(n);(!r||r>s||isNaN(+s))&&(r=s)}),r||new Date(NaN)}function Zs(t,r){const n=gm(t),s=gm(r);return+n==+s}function S6(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function ASe(t){if(!S6(t)&&typeof t!="number")return!1;const r=sr(t);return!isNaN(Number(r))}function lx(t,r){const n=sr(t),s=sr(r),a=n.getFullYear()-s.getFullYear(),i=n.getMonth()-s.getMonth();return a*12+i}function ESe(t,r,n){const s=Ao(t,n),a=Ao(r,n),i=+s-Gv(s),o=+a-Gv(a);return Math.round((i-o)/N6)}function _6(t){const r=sr(t),n=r.getMonth();return r.setFullYear(r.getFullYear(),n+1,0),r.setHours(23,59,59,999),r}function Js(t){const r=sr(t);return r.setDate(1),r.setHours(0,0,0,0),r}function bU(t){const r=sr(t),n=Ea(t,0);return n.setFullYear(r.getFullYear(),0,1),n.setHours(0,0,0,0),n}function k6(t,r){var l,c,u,m;const n=Ex(),s=(r==null?void 0:r.weekStartsOn)??((c=(l=r==null?void 0:r.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((m=(u=n.locale)==null?void 0:u.options)==null?void 0:m.weekStartsOn)??0,a=sr(t),i=a.getDay(),o=(i<s?-7:0)+6-(i-s);return a.setDate(a.getDate()+o),a.setHours(23,59,59,999),a}function jU(t){return k6(t,{weekStartsOn:1})}const TSe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},OSe=(t,r,n)=>{let s;const a=TSe[t];return typeof a=="string"?s=a:r===1?s=a.one:s=a.other.replace("{{count}}",r.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+s:s+" ago":s};function TS(t){return(r={})=>{const n=r.width?String(r.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const MSe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},DSe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},RSe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},ISe={date:TS({formats:MSe,defaultWidth:"full"}),time:TS({formats:DSe,defaultWidth:"full"}),dateTime:TS({formats:RSe,defaultWidth:"full"})},LSe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},$Se=(t,r,n,s)=>LSe[t];function Bf(t){return(r,n)=>{const s=n!=null&&n.context?String(n.context):"standalone";let a;if(s==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,l=n!=null&&n.width?String(n.width):o;a=t.formattingValues[l]||t.formattingValues[o]}else{const o=t.defaultWidth,l=n!=null&&n.width?String(n.width):t.defaultWidth;a=t.values[l]||t.values[o]}const i=t.argumentCallback?t.argumentCallback(r):r;return a[i]}}const BSe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},FSe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},zSe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},USe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},HSe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},WSe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},qSe=(t,r)=>{const n=Number(t),s=n%100;if(s>20||s<10)switch(s%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},VSe={ordinalNumber:qSe,era:Bf({values:BSe,defaultWidth:"wide"}),quarter:Bf({values:FSe,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Bf({values:zSe,defaultWidth:"wide"}),day:Bf({values:USe,defaultWidth:"wide"}),dayPeriod:Bf({values:HSe,defaultWidth:"wide",formattingValues:WSe,defaultFormattingWidth:"wide"})};function Ff(t){return(r,n={})=>{const s=n.width,a=s&&t.matchPatterns[s]||t.matchPatterns[t.defaultMatchWidth],i=r.match(a);if(!i)return null;const o=i[0],l=s&&t.parsePatterns[s]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(l)?KSe(l,p=>p.test(o)):GSe(l,p=>p.test(o));let u;u=t.valueCallback?t.valueCallback(c):c,u=n.valueCallback?n.valueCallback(u):u;const m=r.slice(o.length);return{value:u,rest:m}}}function GSe(t,r){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&r(t[n]))return n}function KSe(t,r){for(let n=0;n<t.length;n++)if(r(t[n]))return n}function YSe(t){return(r,n={})=>{const s=r.match(t.matchPattern);if(!s)return null;const a=s[0],i=r.match(t.parsePattern);if(!i)return null;let o=t.valueCallback?t.valueCallback(i[0]):i[0];o=n.valueCallback?n.valueCallback(o):o;const l=r.slice(a.length);return{value:o,rest:l}}}const ZSe=/^(\d+)(th|st|nd|rd)?/i,XSe=/\d+/i,JSe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},QSe={any:[/^b/i,/^(a|c)/i]},e_e={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},t_e={any:[/1/i,/2/i,/3/i,/4/i]},r_e={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},n_e={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},s_e={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},a_e={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},i_e={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},o_e={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},l_e={ordinalNumber:YSe({matchPattern:ZSe,parsePattern:XSe,valueCallback:t=>parseInt(t,10)}),era:Ff({matchPatterns:JSe,defaultMatchWidth:"wide",parsePatterns:QSe,defaultParseWidth:"any"}),quarter:Ff({matchPatterns:e_e,defaultMatchWidth:"wide",parsePatterns:t_e,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Ff({matchPatterns:r_e,defaultMatchWidth:"wide",parsePatterns:n_e,defaultParseWidth:"any"}),day:Ff({matchPatterns:s_e,defaultMatchWidth:"wide",parsePatterns:a_e,defaultParseWidth:"any"}),dayPeriod:Ff({matchPatterns:i_e,defaultMatchWidth:"any",parsePatterns:o_e,defaultParseWidth:"any"})},wU={code:"en-US",formatDistance:OSe,formatLong:ISe,formatRelative:$Se,localize:VSe,match:l_e,options:{weekStartsOn:0,firstWeekContainsDate:1}};function c_e(t){const r=sr(t);return xo(r,bU(r))+1}function NU(t){const r=sr(t),n=+nu(r)-+_Se(r);return Math.round(n/N6)+1}function SU(t,r){var m,p,x,v;const n=sr(t),s=n.getFullYear(),a=Ex(),i=(r==null?void 0:r.firstWeekContainsDate)??((p=(m=r==null?void 0:r.locale)==null?void 0:m.options)==null?void 0:p.firstWeekContainsDate)??a.firstWeekContainsDate??((v=(x=a.locale)==null?void 0:x.options)==null?void 0:v.firstWeekContainsDate)??1,o=Ea(t,0);o.setFullYear(s+1,0,i),o.setHours(0,0,0,0);const l=Ao(o,r),c=Ea(t,0);c.setFullYear(s,0,i),c.setHours(0,0,0,0);const u=Ao(c,r);return n.getTime()>=l.getTime()?s+1:n.getTime()>=u.getTime()?s:s-1}function d_e(t,r){var l,c,u,m;const n=Ex(),s=(r==null?void 0:r.firstWeekContainsDate)??((c=(l=r==null?void 0:r.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??n.firstWeekContainsDate??((m=(u=n.locale)==null?void 0:u.options)==null?void 0:m.firstWeekContainsDate)??1,a=SU(t,r),i=Ea(t,0);return i.setFullYear(a,0,s),i.setHours(0,0,0,0),Ao(i,r)}function _U(t,r){const n=sr(t),s=+Ao(n,r)-+d_e(n,r);return Math.round(s/N6)+1}function gr(t,r){const n=t<0?"-":"",s=Math.abs(t).toString().padStart(r,"0");return n+s}const fc={y(t,r){const n=t.getFullYear(),s=n>0?n:1-n;return gr(r==="yy"?s%100:s,r.length)},M(t,r){const n=t.getMonth();return r==="M"?String(n+1):gr(n+1,2)},d(t,r){return gr(t.getDate(),r.length)},a(t,r){const n=t.getHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,r){return gr(t.getHours()%12||12,r.length)},H(t,r){return gr(t.getHours(),r.length)},m(t,r){return gr(t.getMinutes(),r.length)},s(t,r){return gr(t.getSeconds(),r.length)},S(t,r){const n=r.length,s=t.getMilliseconds(),a=Math.trunc(s*Math.pow(10,n-3));return gr(a,r.length)}},vh={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},EI={G:function(t,r,n){const s=t.getFullYear()>0?1:0;switch(r){case"G":case"GG":case"GGG":return n.era(s,{width:"abbreviated"});case"GGGGG":return n.era(s,{width:"narrow"});case"GGGG":default:return n.era(s,{width:"wide"})}},y:function(t,r,n){if(r==="yo"){const s=t.getFullYear(),a=s>0?s:1-s;return n.ordinalNumber(a,{unit:"year"})}return fc.y(t,r)},Y:function(t,r,n,s){const a=SU(t,s),i=a>0?a:1-a;if(r==="YY"){const o=i%100;return gr(o,2)}return r==="Yo"?n.ordinalNumber(i,{unit:"year"}):gr(i,r.length)},R:function(t,r){const n=yU(t);return gr(n,r.length)},u:function(t,r){const n=t.getFullYear();return gr(n,r.length)},Q:function(t,r,n){const s=Math.ceil((t.getMonth()+1)/3);switch(r){case"Q":return String(s);case"QQ":return gr(s,2);case"Qo":return n.ordinalNumber(s,{unit:"quarter"});case"QQQ":return n.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(s,{width:"wide",context:"formatting"})}},q:function(t,r,n){const s=Math.ceil((t.getMonth()+1)/3);switch(r){case"q":return String(s);case"qq":return gr(s,2);case"qo":return n.ordinalNumber(s,{unit:"quarter"});case"qqq":return n.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(s,{width:"wide",context:"standalone"})}},M:function(t,r,n){const s=t.getMonth();switch(r){case"M":case"MM":return fc.M(t,r);case"Mo":return n.ordinalNumber(s+1,{unit:"month"});case"MMM":return n.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(s,{width:"wide",context:"formatting"})}},L:function(t,r,n){const s=t.getMonth();switch(r){case"L":return String(s+1);case"LL":return gr(s+1,2);case"Lo":return n.ordinalNumber(s+1,{unit:"month"});case"LLL":return n.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(s,{width:"wide",context:"standalone"})}},w:function(t,r,n,s){const a=_U(t,s);return r==="wo"?n.ordinalNumber(a,{unit:"week"}):gr(a,r.length)},I:function(t,r,n){const s=NU(t);return r==="Io"?n.ordinalNumber(s,{unit:"week"}):gr(s,r.length)},d:function(t,r,n){return r==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):fc.d(t,r)},D:function(t,r,n){const s=c_e(t);return r==="Do"?n.ordinalNumber(s,{unit:"dayOfYear"}):gr(s,r.length)},E:function(t,r,n){const s=t.getDay();switch(r){case"E":case"EE":case"EEE":return n.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(s,{width:"short",context:"formatting"});case"EEEE":default:return n.day(s,{width:"wide",context:"formatting"})}},e:function(t,r,n,s){const a=t.getDay(),i=(a-s.weekStartsOn+8)%7||7;switch(r){case"e":return String(i);case"ee":return gr(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(a,{width:"short",context:"formatting"});case"eeee":default:return n.day(a,{width:"wide",context:"formatting"})}},c:function(t,r,n,s){const a=t.getDay(),i=(a-s.weekStartsOn+8)%7||7;switch(r){case"c":return String(i);case"cc":return gr(i,r.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(a,{width:"narrow",context:"standalone"});case"cccccc":return n.day(a,{width:"short",context:"standalone"});case"cccc":default:return n.day(a,{width:"wide",context:"standalone"})}},i:function(t,r,n){const s=t.getDay(),a=s===0?7:s;switch(r){case"i":return String(a);case"ii":return gr(a,r.length);case"io":return n.ordinalNumber(a,{unit:"day"});case"iii":return n.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(s,{width:"short",context:"formatting"});case"iiii":default:return n.day(s,{width:"wide",context:"formatting"})}},a:function(t,r,n){const a=t.getHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(t,r,n){const s=t.getHours();let a;switch(s===12?a=vh.noon:s===0?a=vh.midnight:a=s/12>=1?"pm":"am",r){case"b":case"bb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(t,r,n){const s=t.getHours();let a;switch(s>=17?a=vh.evening:s>=12?a=vh.afternoon:s>=4?a=vh.morning:a=vh.night,r){case"B":case"BB":case"BBB":return n.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(t,r,n){if(r==="ho"){let s=t.getHours()%12;return s===0&&(s=12),n.ordinalNumber(s,{unit:"hour"})}return fc.h(t,r)},H:function(t,r,n){return r==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):fc.H(t,r)},K:function(t,r,n){const s=t.getHours()%12;return r==="Ko"?n.ordinalNumber(s,{unit:"hour"}):gr(s,r.length)},k:function(t,r,n){let s=t.getHours();return s===0&&(s=24),r==="ko"?n.ordinalNumber(s,{unit:"hour"}):gr(s,r.length)},m:function(t,r,n){return r==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):fc.m(t,r)},s:function(t,r,n){return r==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):fc.s(t,r)},S:function(t,r){return fc.S(t,r)},X:function(t,r,n){const s=t.getTimezoneOffset();if(s===0)return"Z";switch(r){case"X":return OI(s);case"XXXX":case"XX":return kd(s);case"XXXXX":case"XXX":default:return kd(s,":")}},x:function(t,r,n){const s=t.getTimezoneOffset();switch(r){case"x":return OI(s);case"xxxx":case"xx":return kd(s);case"xxxxx":case"xxx":default:return kd(s,":")}},O:function(t,r,n){const s=t.getTimezoneOffset();switch(r){case"O":case"OO":case"OOO":return"GMT"+TI(s,":");case"OOOO":default:return"GMT"+kd(s,":")}},z:function(t,r,n){const s=t.getTimezoneOffset();switch(r){case"z":case"zz":case"zzz":return"GMT"+TI(s,":");case"zzzz":default:return"GMT"+kd(s,":")}},t:function(t,r,n){const s=Math.trunc(t.getTime()/1e3);return gr(s,r.length)},T:function(t,r,n){const s=t.getTime();return gr(s,r.length)}};function TI(t,r=""){const n=t>0?"-":"+",s=Math.abs(t),a=Math.trunc(s/60),i=s%60;return i===0?n+String(a):n+String(a)+r+gr(i,2)}function OI(t,r){return t%60===0?(t>0?"-":"+")+gr(Math.abs(t)/60,2):kd(t,r)}function kd(t,r=""){const n=t>0?"-":"+",s=Math.abs(t),a=gr(Math.trunc(s/60),2),i=gr(s%60,2);return n+a+r+i}const MI=(t,r)=>{switch(t){case"P":return r.date({width:"short"});case"PP":return r.date({width:"medium"});case"PPP":return r.date({width:"long"});case"PPPP":default:return r.date({width:"full"})}},kU=(t,r)=>{switch(t){case"p":return r.time({width:"short"});case"pp":return r.time({width:"medium"});case"ppp":return r.time({width:"long"});case"pppp":default:return r.time({width:"full"})}},u_e=(t,r)=>{const n=t.match(/(P+)(p+)?/)||[],s=n[1],a=n[2];if(!a)return MI(t,r);let i;switch(s){case"P":i=r.dateTime({width:"short"});break;case"PP":i=r.dateTime({width:"medium"});break;case"PPP":i=r.dateTime({width:"long"});break;case"PPPP":default:i=r.dateTime({width:"full"});break}return i.replace("{{date}}",MI(s,r)).replace("{{time}}",kU(a,r))},h_e={p:kU,P:u_e},m_e=/^D+$/,f_e=/^Y+$/,p_e=["D","DD","YY","YYYY"];function x_e(t){return m_e.test(t)}function g_e(t){return f_e.test(t)}function v_e(t,r,n){const s=y_e(t,r,n);if(console.warn(s),p_e.includes(t))throw new RangeError(s)}function y_e(t,r,n){const s=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${r}\`) for formatting ${s} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const b_e=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,j_e=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,w_e=/^'([^]*?)'?$/,N_e=/''/g,S_e=/[a-zA-Z]/;function fu(t,r,n){var m,p,x,v,w,y,j,S;const s=Ex(),a=(n==null?void 0:n.locale)??s.locale??wU,i=(n==null?void 0:n.firstWeekContainsDate)??((p=(m=n==null?void 0:n.locale)==null?void 0:m.options)==null?void 0:p.firstWeekContainsDate)??s.firstWeekContainsDate??((v=(x=s.locale)==null?void 0:x.options)==null?void 0:v.firstWeekContainsDate)??1,o=(n==null?void 0:n.weekStartsOn)??((y=(w=n==null?void 0:n.locale)==null?void 0:w.options)==null?void 0:y.weekStartsOn)??s.weekStartsOn??((S=(j=s.locale)==null?void 0:j.options)==null?void 0:S.weekStartsOn)??0,l=sr(t);if(!ASe(l))throw new RangeError("Invalid time value");let c=r.match(j_e).map(C=>{const P=C[0];if(P==="p"||P==="P"){const T=h_e[P];return T(C,a.formatLong)}return C}).join("").match(b_e).map(C=>{if(C==="''")return{isToken:!1,value:"'"};const P=C[0];if(P==="'")return{isToken:!1,value:__e(C)};if(EI[P])return{isToken:!0,value:C};if(P.match(S_e))throw new RangeError("Format string contains an unescaped latin alphabet character `"+P+"`");return{isToken:!1,value:C}});a.localize.preprocessor&&(c=a.localize.preprocessor(l,c));const u={firstWeekContainsDate:i,weekStartsOn:o,locale:a};return c.map(C=>{if(!C.isToken)return C.value;const P=C.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&g_e(P)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&x_e(P))&&v_e(P,r,String(t));const T=EI[P[0]];return T(l,P,a.localize,u)}).join("")}function __e(t){const r=t.match(w_e);return r?r[1].replace(N_e,"'"):t}function k_e(t){const r=sr(t),n=r.getFullYear(),s=r.getMonth(),a=Ea(t,0);return a.setFullYear(n,s+1,0),a.setHours(0,0,0,0),a.getDate()}function C_e(t){return Math.trunc(+sr(t)/1e3)}function P_e(t){const r=sr(t),n=r.getMonth();return r.setFullYear(r.getFullYear(),n+1,0),r.setHours(0,0,0,0),r}function A_e(t,r){return ESe(P_e(t),Js(t),r)+1}function oC(t,r){const n=sr(t),s=sr(r);return n.getTime()>s.getTime()}function CU(t,r){const n=sr(t),s=sr(r);return+n<+s}function C6(t,r){const n=sr(t),s=sr(r);return n.getFullYear()===s.getFullYear()&&n.getMonth()===s.getMonth()}function E_e(t,r){const n=sr(t),s=sr(r);return n.getFullYear()===s.getFullYear()}function OS(t,r){return Ts(t,-r)}function MS(t,r){const n=sr(t),s=n.getFullYear(),a=n.getDate(),i=Ea(t,0);i.setFullYear(s,r,15),i.setHours(0,0,0,0);const o=k_e(i);return n.setMonth(r,Math.min(a,o)),n}function DI(t,r){const n=sr(t);return isNaN(+n)?Ea(t,NaN):(n.setFullYear(r),n)}var Ct=function(){return Ct=Object.assign||function(r){for(var n,s=1,a=arguments.length;s<a;s++){n=arguments[s];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])}return r},Ct.apply(this,arguments)};function T_e(t,r){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&r.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(t);a<s.length;a++)r.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(t,s[a])&&(n[s[a]]=t[s[a]]);return n}function PU(t,r,n){for(var s=0,a=r.length,i;s<a;s++)(i||!(s in r))&&(i||(i=Array.prototype.slice.call(r,0,s)),i[s]=r[s]);return t.concat(i||Array.prototype.slice.call(r))}function Tx(t){return t.mode==="multiple"}function Ox(t){return t.mode==="range"}function hb(t){return t.mode==="single"}var O_e={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function M_e(t,r){return fu(t,"LLLL y",r)}function D_e(t,r){return fu(t,"d",r)}function R_e(t,r){return fu(t,"LLLL",r)}function I_e(t){return"".concat(t)}function L_e(t,r){return fu(t,"cccccc",r)}function $_e(t,r){return fu(t,"yyyy",r)}var B_e=Object.freeze({__proto__:null,formatCaption:M_e,formatDay:D_e,formatMonthCaption:R_e,formatWeekNumber:I_e,formatWeekdayName:L_e,formatYearCaption:$_e}),F_e=function(t,r,n){return fu(t,"do MMMM (EEEE)",n)},z_e=function(){return"Month: "},U_e=function(){return"Go to next month"},H_e=function(){return"Go to previous month"},W_e=function(t,r){return fu(t,"cccc",r)},q_e=function(t){return"Week n. ".concat(t)},V_e=function(){return"Year: "},G_e=Object.freeze({__proto__:null,labelDay:F_e,labelMonthDropdown:z_e,labelNext:U_e,labelPrevious:H_e,labelWeekNumber:q_e,labelWeekday:W_e,labelYearDropdown:V_e});function K_e(){var t="buttons",r=O_e,n=wU,s={},a={},i=1,o={},l=new Date;return{captionLayout:t,classNames:r,formatters:B_e,labels:G_e,locale:n,modifiersClassNames:s,modifiers:a,numberOfMonths:i,styles:o,today:l,mode:"default"}}function Y_e(t){var r=t.fromYear,n=t.toYear,s=t.fromMonth,a=t.toMonth,i=t.fromDate,o=t.toDate;return s?i=Js(s):r&&(i=new Date(r,0,1)),a?o=_6(a):n&&(o=new Date(n,11,31)),{fromDate:i?gm(i):void 0,toDate:o?gm(o):void 0}}var AU=N.createContext(void 0);function Z_e(t){var r,n=t.initialProps,s=K_e(),a=Y_e(n),i=a.fromDate,o=a.toDate,l=(r=n.captionLayout)!==null&&r!==void 0?r:s.captionLayout;l!=="buttons"&&(!i||!o)&&(l="buttons");var c;(hb(n)||Tx(n)||Ox(n))&&(c=n.onSelect);var u=Ct(Ct(Ct({},s),n),{captionLayout:l,classNames:Ct(Ct({},s.classNames),n.classNames),components:Ct({},n.components),formatters:Ct(Ct({},s.formatters),n.formatters),fromDate:i,labels:Ct(Ct({},s.labels),n.labels),mode:n.mode||s.mode,modifiers:Ct(Ct({},s.modifiers),n.modifiers),modifiersClassNames:Ct(Ct({},s.modifiersClassNames),n.modifiersClassNames),onSelect:c,styles:Ct(Ct({},s.styles),n.styles),toDate:o});return e.jsx(AU.Provider,{value:u,children:t.children})}function Lr(){var t=N.useContext(AU);if(!t)throw new Error("useDayPicker must be used within a DayPickerProvider.");return t}function EU(t){var r=Lr(),n=r.locale,s=r.classNames,a=r.styles,i=r.formatters.formatCaption;return e.jsx("div",{className:s.caption_label,style:a.caption_label,"aria-live":"polite",role:"presentation",id:t.id,children:i(t.displayMonth,{locale:n})})}function X_e(t){return e.jsx("svg",Ct({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},t,{children:e.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function TU(t){var r,n,s=t.onChange,a=t.value,i=t.children,o=t.caption,l=t.className,c=t.style,u=Lr(),m=(n=(r=u.components)===null||r===void 0?void 0:r.IconDropdown)!==null&&n!==void 0?n:X_e;return e.jsxs("div",{className:l,style:c,children:[e.jsx("span",{className:u.classNames.vhidden,children:t["aria-label"]}),e.jsx("select",{name:t.name,"aria-label":t["aria-label"],className:u.classNames.dropdown,style:u.styles.dropdown,value:a,onChange:s,children:i}),e.jsxs("div",{className:u.classNames.caption_label,style:u.styles.caption_label,"aria-hidden":"true",children:[o,e.jsx(m,{className:u.classNames.dropdown_icon,style:u.styles.dropdown_icon})]})]})}function J_e(t){var r,n=Lr(),s=n.fromDate,a=n.toDate,i=n.styles,o=n.locale,l=n.formatters.formatMonthCaption,c=n.classNames,u=n.components,m=n.labels.labelMonthDropdown;if(!s)return e.jsx(e.Fragment,{});if(!a)return e.jsx(e.Fragment,{});var p=[];if(E_e(s,a))for(var x=Js(s),v=s.getMonth();v<=a.getMonth();v++)p.push(MS(x,v));else for(var x=Js(new Date),v=0;v<=11;v++)p.push(MS(x,v));var w=function(j){var S=Number(j.target.value),C=MS(Js(t.displayMonth),S);t.onChange(C)},y=(r=u==null?void 0:u.Dropdown)!==null&&r!==void 0?r:TU;return e.jsx(y,{name:"months","aria-label":m(),className:c.dropdown_month,style:i.dropdown_month,onChange:w,value:t.displayMonth.getMonth(),caption:l(t.displayMonth,{locale:o}),children:p.map(function(j){return e.jsx("option",{value:j.getMonth(),children:l(j,{locale:o})},j.getMonth())})})}function Q_e(t){var r,n=t.displayMonth,s=Lr(),a=s.fromDate,i=s.toDate,o=s.locale,l=s.styles,c=s.classNames,u=s.components,m=s.formatters.formatYearCaption,p=s.labels.labelYearDropdown,x=[];if(!a)return e.jsx(e.Fragment,{});if(!i)return e.jsx(e.Fragment,{});for(var v=a.getFullYear(),w=i.getFullYear(),y=v;y<=w;y++)x.push(DI(bU(new Date),y));var j=function(C){var P=DI(Js(n),Number(C.target.value));t.onChange(P)},S=(r=u==null?void 0:u.Dropdown)!==null&&r!==void 0?r:TU;return e.jsx(S,{name:"years","aria-label":p(),className:c.dropdown_year,style:l.dropdown_year,onChange:j,value:n.getFullYear(),caption:m(n,{locale:o}),children:x.map(function(C){return e.jsx("option",{value:C.getFullYear(),children:m(C,{locale:o})},C.getFullYear())})})}function eke(t,r){var n=N.useState(t),s=n[0],a=n[1],i=r===void 0?s:r;return[i,a]}function tke(t){var r=t.month,n=t.defaultMonth,s=t.today,a=r||n||s||new Date,i=t.toDate,o=t.fromDate,l=t.numberOfMonths,c=l===void 0?1:l;if(i&&lx(i,a)<0){var u=-1*(c-1);a=Hi(i,u)}return o&&lx(a,o)<0&&(a=o),Js(a)}function rke(){var t=Lr(),r=tke(t),n=eke(r,t.month),s=n[0],a=n[1],i=function(o){var l;if(!t.disableNavigation){var c=Js(o);a(c),(l=t.onMonthChange)===null||l===void 0||l.call(t,c)}};return[s,i]}function nke(t,r){for(var n=r.reverseMonths,s=r.numberOfMonths,a=Js(t),i=Js(Hi(a,s)),o=lx(i,a),l=[],c=0;c<o;c++){var u=Hi(a,c);l.push(u)}return n&&(l=l.reverse()),l}function ske(t,r){if(!r.disableNavigation){var n=r.toDate,s=r.pagedNavigation,a=r.numberOfMonths,i=a===void 0?1:a,o=s?i:1,l=Js(t);if(!n)return Hi(l,o);var c=lx(n,t);if(!(c<i))return Hi(l,o)}}function ake(t,r){if(!r.disableNavigation){var n=r.fromDate,s=r.pagedNavigation,a=r.numberOfMonths,i=a===void 0?1:a,o=s?i:1,l=Js(t);if(!n)return Hi(l,-o);var c=lx(l,n);if(!(c<=0))return Hi(l,-o)}}var OU=N.createContext(void 0);function ike(t){var r=Lr(),n=rke(),s=n[0],a=n[1],i=nke(s,r),o=ske(s,r),l=ake(s,r),c=function(p){return i.some(function(x){return C6(p,x)})},u=function(p,x){c(p)||(x&&CU(p,x)?a(Hi(p,1+r.numberOfMonths*-1)):a(p))},m={currentMonth:s,displayMonths:i,goToMonth:a,goToDate:u,previousMonth:l,nextMonth:o,isDateDisplayed:c};return e.jsx(OU.Provider,{value:m,children:t.children})}function Mx(){var t=N.useContext(OU);if(!t)throw new Error("useNavigation must be used within a NavigationProvider");return t}function RI(t){var r,n=Lr(),s=n.classNames,a=n.styles,i=n.components,o=Mx().goToMonth,l=function(m){o(Hi(m,t.displayIndex?-t.displayIndex:0))},c=(r=i==null?void 0:i.CaptionLabel)!==null&&r!==void 0?r:EU,u=e.jsx(c,{id:t.id,displayMonth:t.displayMonth});return e.jsxs("div",{className:s.caption_dropdowns,style:a.caption_dropdowns,children:[e.jsx("div",{className:s.vhidden,children:u}),e.jsx(J_e,{onChange:l,displayMonth:t.displayMonth}),e.jsx(Q_e,{onChange:l,displayMonth:t.displayMonth})]})}function oke(t){return e.jsx("svg",Ct({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:e.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function lke(t){return e.jsx("svg",Ct({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:e.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var Kv=N.forwardRef(function(t,r){var n=Lr(),s=n.classNames,a=n.styles,i=[s.button_reset,s.button];t.className&&i.push(t.className);var o=i.join(" "),l=Ct(Ct({},a.button_reset),a.button);return t.style&&Object.assign(l,t.style),e.jsx("button",Ct({},t,{ref:r,type:"button",className:o,style:l}))});function cke(t){var r,n,s=Lr(),a=s.dir,i=s.locale,o=s.classNames,l=s.styles,c=s.labels,u=c.labelPrevious,m=c.labelNext,p=s.components;if(!t.nextMonth&&!t.previousMonth)return e.jsx(e.Fragment,{});var x=u(t.previousMonth,{locale:i}),v=[o.nav_button,o.nav_button_previous].join(" "),w=m(t.nextMonth,{locale:i}),y=[o.nav_button,o.nav_button_next].join(" "),j=(r=p==null?void 0:p.IconRight)!==null&&r!==void 0?r:lke,S=(n=p==null?void 0:p.IconLeft)!==null&&n!==void 0?n:oke;return e.jsxs("div",{className:o.nav,style:l.nav,children:[!t.hidePrevious&&e.jsx(Kv,{name:"previous-month","aria-label":x,className:v,style:l.nav_button_previous,disabled:!t.previousMonth,onClick:t.onPreviousClick,children:a==="rtl"?e.jsx(j,{className:o.nav_icon,style:l.nav_icon}):e.jsx(S,{className:o.nav_icon,style:l.nav_icon})}),!t.hideNext&&e.jsx(Kv,{name:"next-month","aria-label":w,className:y,style:l.nav_button_next,disabled:!t.nextMonth,onClick:t.onNextClick,children:a==="rtl"?e.jsx(S,{className:o.nav_icon,style:l.nav_icon}):e.jsx(j,{className:o.nav_icon,style:l.nav_icon})})]})}function II(t){var r=Lr().numberOfMonths,n=Mx(),s=n.previousMonth,a=n.nextMonth,i=n.goToMonth,o=n.displayMonths,l=o.findIndex(function(w){return C6(t.displayMonth,w)}),c=l===0,u=l===o.length-1,m=r>1&&(c||!u),p=r>1&&(u||!c),x=function(){s&&i(s)},v=function(){a&&i(a)};return e.jsx(cke,{displayMonth:t.displayMonth,hideNext:m,hidePrevious:p,nextMonth:a,previousMonth:s,onPreviousClick:x,onNextClick:v})}function dke(t){var r,n=Lr(),s=n.classNames,a=n.disableNavigation,i=n.styles,o=n.captionLayout,l=n.components,c=(r=l==null?void 0:l.CaptionLabel)!==null&&r!==void 0?r:EU,u;return a?u=e.jsx(c,{id:t.id,displayMonth:t.displayMonth}):o==="dropdown"?u=e.jsx(RI,{displayMonth:t.displayMonth,id:t.id}):o==="dropdown-buttons"?u=e.jsxs(e.Fragment,{children:[e.jsx(RI,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id}),e.jsx(II,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id})]}):u=e.jsxs(e.Fragment,{children:[e.jsx(c,{id:t.id,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),e.jsx(II,{displayMonth:t.displayMonth,id:t.id})]}),e.jsx("div",{className:s.caption,style:i.caption,children:u})}function uke(t){var r=Lr(),n=r.footer,s=r.styles,a=r.classNames.tfoot;return n?e.jsx("tfoot",{className:a,style:s.tfoot,children:e.jsx("tr",{children:e.jsx("td",{colSpan:8,children:n})})}):e.jsx(e.Fragment,{})}function hke(t,r,n){for(var s=n?nu(new Date):Ao(new Date,{locale:t,weekStartsOn:r}),a=[],i=0;i<7;i++){var o=Ts(s,i);a.push(o)}return a}function mke(){var t=Lr(),r=t.classNames,n=t.styles,s=t.showWeekNumber,a=t.locale,i=t.weekStartsOn,o=t.ISOWeek,l=t.formatters.formatWeekdayName,c=t.labels.labelWeekday,u=hke(a,i,o);return e.jsxs("tr",{style:n.head_row,className:r.head_row,children:[s&&e.jsx("td",{style:n.head_cell,className:r.head_cell}),u.map(function(m,p){return e.jsx("th",{scope:"col",className:r.head_cell,style:n.head_cell,"aria-label":c(m,{locale:a}),children:l(m,{locale:a})},p)})]})}function fke(){var t,r=Lr(),n=r.classNames,s=r.styles,a=r.components,i=(t=a==null?void 0:a.HeadRow)!==null&&t!==void 0?t:mke;return e.jsx("thead",{style:s.head,className:n.head,children:e.jsx(i,{})})}function pke(t){var r=Lr(),n=r.locale,s=r.formatters.formatDay;return e.jsx(e.Fragment,{children:s(t.date,{locale:n})})}var P6=N.createContext(void 0);function xke(t){if(!Tx(t.initialProps)){var r={selected:void 0,modifiers:{disabled:[]}};return e.jsx(P6.Provider,{value:r,children:t.children})}return e.jsx(gke,{initialProps:t.initialProps,children:t.children})}function gke(t){var r=t.initialProps,n=t.children,s=r.selected,a=r.min,i=r.max,o=function(u,m,p){var x,v;(x=r.onDayClick)===null||x===void 0||x.call(r,u,m,p);var w=!!(m.selected&&a&&(s==null?void 0:s.length)===a);if(!w){var y=!!(!m.selected&&i&&(s==null?void 0:s.length)===i);if(!y){var j=s?PU([],s):[];if(m.selected){var S=j.findIndex(function(C){return Zs(u,C)});j.splice(S,1)}else j.push(u);(v=r.onSelect)===null||v===void 0||v.call(r,j,u,m,p)}}},l={disabled:[]};s&&l.disabled.push(function(u){var m=i&&s.length>i-1,p=s.some(function(x){return Zs(x,u)});return!!(m&&!p)});var c={selected:s,onDayClick:o,modifiers:l};return e.jsx(P6.Provider,{value:c,children:n})}function A6(){var t=N.useContext(P6);if(!t)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return t}function vke(t,r){var n=r||{},s=n.from,a=n.to;return s&&a?Zs(a,t)&&Zs(s,t)?void 0:Zs(a,t)?{from:a,to:void 0}:Zs(s,t)?void 0:oC(s,t)?{from:t,to:a}:{from:s,to:t}:a?oC(t,a)?{from:a,to:t}:{from:t,to:a}:s?CU(t,s)?{from:t,to:s}:{from:s,to:t}:{from:t,to:void 0}}var E6=N.createContext(void 0);function yke(t){if(!Ox(t.initialProps)){var r={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return e.jsx(E6.Provider,{value:r,children:t.children})}return e.jsx(bke,{initialProps:t.initialProps,children:t.children})}function bke(t){var r=t.initialProps,n=t.children,s=r.selected,a=s||{},i=a.from,o=a.to,l=r.min,c=r.max,u=function(v,w,y){var j,S;(j=r.onDayClick)===null||j===void 0||j.call(r,v,w,y);var C=vke(v,s);(S=r.onSelect)===null||S===void 0||S.call(r,C,v,w,y)},m={range_start:[],range_end:[],range_middle:[],disabled:[]};if(i?(m.range_start=[i],o?(m.range_end=[o],Zs(i,o)||(m.range_middle=[{after:i,before:o}])):m.range_end=[i]):o&&(m.range_start=[o],m.range_end=[o]),l&&(i&&!o&&m.disabled.push({after:OS(i,l-1),before:Ts(i,l-1)}),i&&o&&m.disabled.push({after:i,before:Ts(i,l-1)}),!i&&o&&m.disabled.push({after:OS(o,l-1),before:Ts(o,l-1)})),c){if(i&&!o&&(m.disabled.push({before:Ts(i,-c+1)}),m.disabled.push({after:Ts(i,c-1)})),i&&o){var p=xo(o,i)+1,x=c-p;m.disabled.push({before:OS(i,x)}),m.disabled.push({after:Ts(o,x)})}!i&&o&&(m.disabled.push({before:Ts(o,-c+1)}),m.disabled.push({after:Ts(o,c-1)}))}return e.jsx(E6.Provider,{value:{selected:s,onDayClick:u,modifiers:m},children:n})}function T6(){var t=N.useContext(E6);if(!t)throw new Error("useSelectRange must be used within a SelectRangeProvider");return t}function C0(t){return Array.isArray(t)?PU([],t):t!==void 0?[t]:[]}function jke(t){var r={};return Object.entries(t).forEach(function(n){var s=n[0],a=n[1];r[s]=C0(a)}),r}var Wi;(function(t){t.Outside="outside",t.Disabled="disabled",t.Selected="selected",t.Hidden="hidden",t.Today="today",t.RangeStart="range_start",t.RangeEnd="range_end",t.RangeMiddle="range_middle"})(Wi||(Wi={}));var wke=Wi.Selected,sl=Wi.Disabled,Nke=Wi.Hidden,Ske=Wi.Today,DS=Wi.RangeEnd,RS=Wi.RangeMiddle,IS=Wi.RangeStart,_ke=Wi.Outside;function kke(t,r,n){var s,a=(s={},s[wke]=C0(t.selected),s[sl]=C0(t.disabled),s[Nke]=C0(t.hidden),s[Ske]=[t.today],s[DS]=[],s[RS]=[],s[IS]=[],s[_ke]=[],s);return t.fromDate&&a[sl].push({before:t.fromDate}),t.toDate&&a[sl].push({after:t.toDate}),Tx(t)?a[sl]=a[sl].concat(r.modifiers[sl]):Ox(t)&&(a[sl]=a[sl].concat(n.modifiers[sl]),a[IS]=n.modifiers[IS],a[RS]=n.modifiers[RS],a[DS]=n.modifiers[DS]),a}var MU=N.createContext(void 0);function Cke(t){var r=Lr(),n=A6(),s=T6(),a=kke(r,n,s),i=jke(r.modifiers),o=Ct(Ct({},a),i);return e.jsx(MU.Provider,{value:o,children:t.children})}function DU(){var t=N.useContext(MU);if(!t)throw new Error("useModifiers must be used within a ModifiersProvider");return t}function Pke(t){return!!(t&&typeof t=="object"&&"before"in t&&"after"in t)}function Ake(t){return!!(t&&typeof t=="object"&&"from"in t)}function Eke(t){return!!(t&&typeof t=="object"&&"after"in t)}function Tke(t){return!!(t&&typeof t=="object"&&"before"in t)}function Oke(t){return!!(t&&typeof t=="object"&&"dayOfWeek"in t)}function Mke(t,r){var n,s=r.from,a=r.to;if(s&&a){var i=xo(a,s)<0;i&&(n=[a,s],s=n[0],a=n[1]);var o=xo(t,s)>=0&&xo(a,t)>=0;return o}return a?Zs(a,t):s?Zs(s,t):!1}function Dke(t){return S6(t)}function Rke(t){return Array.isArray(t)&&t.every(S6)}function Ike(t,r){return r.some(function(n){if(typeof n=="boolean")return n;if(Dke(n))return Zs(t,n);if(Rke(n))return n.includes(t);if(Ake(n))return Mke(t,n);if(Oke(n))return n.dayOfWeek.includes(t.getDay());if(Pke(n)){var s=xo(n.before,t),a=xo(n.after,t),i=s>0,o=a<0,l=oC(n.before,n.after);return l?o&&i:i||o}return Eke(n)?xo(t,n.after)>0:Tke(n)?xo(n.before,t)>0:typeof n=="function"?n(t):!1})}function O6(t,r,n){var s=Object.keys(r).reduce(function(i,o){var l=r[o];return Ike(t,l)&&i.push(o),i},[]),a={};return s.forEach(function(i){return a[i]=!0}),n&&!C6(t,n)&&(a.outside=!0),a}function Lke(t,r){for(var n=Js(t[0]),s=_6(t[t.length-1]),a,i,o=n;o<=s;){var l=O6(o,r),c=!l.disabled&&!l.hidden;if(!c){o=Ts(o,1);continue}if(l.selected)return o;l.today&&!i&&(i=o),a||(a=o),o=Ts(o,1)}return i||a}var $ke=365;function RU(t,r){var n=r.moveBy,s=r.direction,a=r.context,i=r.modifiers,o=r.retry,l=o===void 0?{count:0,lastFocused:t}:o,c=a.weekStartsOn,u=a.fromDate,m=a.toDate,p=a.locale,x={day:Ts,week:iC,month:Hi,year:kSe,startOfWeek:function(j){return a.ISOWeek?nu(j):Ao(j,{locale:p,weekStartsOn:c})},endOfWeek:function(j){return a.ISOWeek?jU(j):k6(j,{locale:p,weekStartsOn:c})}},v=x[n](t,s==="after"?1:-1);s==="before"&&u?v=CSe([u,v]):s==="after"&&m&&(v=PSe([m,v]));var w=!0;if(i){var y=O6(v,i);w=!y.disabled&&!y.hidden}return w?v:l.count>$ke?l.lastFocused:RU(v,{moveBy:n,direction:s,context:a,modifiers:i,retry:Ct(Ct({},l),{count:l.count+1})})}var IU=N.createContext(void 0);function Bke(t){var r=Mx(),n=DU(),s=N.useState(),a=s[0],i=s[1],o=N.useState(),l=o[0],c=o[1],u=Lke(r.displayMonths,n),m=a??(l&&r.isDateDisplayed(l))?l:u,p=function(){c(a),i(void 0)},x=function(j){i(j)},v=Lr(),w=function(j,S){if(a){var C=RU(a,{moveBy:j,direction:S,context:v,modifiers:n});Zs(a,C)||(r.goToDate(C,a),x(C))}},y={focusedDay:a,focusTarget:m,blur:p,focus:x,focusDayAfter:function(){return w("day","after")},focusDayBefore:function(){return w("day","before")},focusWeekAfter:function(){return w("week","after")},focusWeekBefore:function(){return w("week","before")},focusMonthBefore:function(){return w("month","before")},focusMonthAfter:function(){return w("month","after")},focusYearBefore:function(){return w("year","before")},focusYearAfter:function(){return w("year","after")},focusStartOfWeek:function(){return w("startOfWeek","before")},focusEndOfWeek:function(){return w("endOfWeek","after")}};return e.jsx(IU.Provider,{value:y,children:t.children})}function M6(){var t=N.useContext(IU);if(!t)throw new Error("useFocusContext must be used within a FocusProvider");return t}function Fke(t,r){var n=DU(),s=O6(t,n,r);return s}var D6=N.createContext(void 0);function zke(t){if(!hb(t.initialProps)){var r={selected:void 0};return e.jsx(D6.Provider,{value:r,children:t.children})}return e.jsx(Uke,{initialProps:t.initialProps,children:t.children})}function Uke(t){var r=t.initialProps,n=t.children,s=function(i,o,l){var c,u,m;if((c=r.onDayClick)===null||c===void 0||c.call(r,i,o,l),o.selected&&!r.required){(u=r.onSelect)===null||u===void 0||u.call(r,void 0,i,o,l);return}(m=r.onSelect)===null||m===void 0||m.call(r,i,i,o,l)},a={selected:r.selected,onDayClick:s};return e.jsx(D6.Provider,{value:a,children:n})}function LU(){var t=N.useContext(D6);if(!t)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return t}function Hke(t,r){var n=Lr(),s=LU(),a=A6(),i=T6(),o=M6(),l=o.focusDayAfter,c=o.focusDayBefore,u=o.focusWeekAfter,m=o.focusWeekBefore,p=o.blur,x=o.focus,v=o.focusMonthBefore,w=o.focusMonthAfter,y=o.focusYearBefore,j=o.focusYearAfter,S=o.focusStartOfWeek,C=o.focusEndOfWeek,P=function(O){var R,D,I,q;hb(n)?(R=s.onDayClick)===null||R===void 0||R.call(s,t,r,O):Tx(n)?(D=a.onDayClick)===null||D===void 0||D.call(a,t,r,O):Ox(n)?(I=i.onDayClick)===null||I===void 0||I.call(i,t,r,O):(q=n.onDayClick)===null||q===void 0||q.call(n,t,r,O)},T=function(O){var R;x(t),(R=n.onDayFocus)===null||R===void 0||R.call(n,t,r,O)},_=function(O){var R;p(),(R=n.onDayBlur)===null||R===void 0||R.call(n,t,r,O)},k=function(O){var R;(R=n.onDayMouseEnter)===null||R===void 0||R.call(n,t,r,O)},M=function(O){var R;(R=n.onDayMouseLeave)===null||R===void 0||R.call(n,t,r,O)},$=function(O){var R;(R=n.onDayPointerEnter)===null||R===void 0||R.call(n,t,r,O)},B=function(O){var R;(R=n.onDayPointerLeave)===null||R===void 0||R.call(n,t,r,O)},F=function(O){var R;(R=n.onDayTouchCancel)===null||R===void 0||R.call(n,t,r,O)},H=function(O){var R;(R=n.onDayTouchEnd)===null||R===void 0||R.call(n,t,r,O)},K=function(O){var R;(R=n.onDayTouchMove)===null||R===void 0||R.call(n,t,r,O)},Z=function(O){var R;(R=n.onDayTouchStart)===null||R===void 0||R.call(n,t,r,O)},V=function(O){var R;(R=n.onDayKeyUp)===null||R===void 0||R.call(n,t,r,O)},W=function(O){var R;switch(O.key){case"ArrowLeft":O.preventDefault(),O.stopPropagation(),n.dir==="rtl"?l():c();break;case"ArrowRight":O.preventDefault(),O.stopPropagation(),n.dir==="rtl"?c():l();break;case"ArrowDown":O.preventDefault(),O.stopPropagation(),u();break;case"ArrowUp":O.preventDefault(),O.stopPropagation(),m();break;case"PageUp":O.preventDefault(),O.stopPropagation(),O.shiftKey?y():v();break;case"PageDown":O.preventDefault(),O.stopPropagation(),O.shiftKey?j():w();break;case"Home":O.preventDefault(),O.stopPropagation(),S();break;case"End":O.preventDefault(),O.stopPropagation(),C();break}(R=n.onDayKeyDown)===null||R===void 0||R.call(n,t,r,O)},G={onClick:P,onFocus:T,onBlur:_,onKeyDown:W,onKeyUp:V,onMouseEnter:k,onMouseLeave:M,onPointerEnter:$,onPointerLeave:B,onTouchCancel:F,onTouchEnd:H,onTouchMove:K,onTouchStart:Z};return G}function Wke(){var t=Lr(),r=LU(),n=A6(),s=T6(),a=hb(t)?r.selected:Tx(t)?n.selected:Ox(t)?s.selected:void 0;return a}function qke(t){return Object.values(Wi).includes(t)}function Vke(t,r){var n=[t.classNames.day];return Object.keys(r).forEach(function(s){var a=t.modifiersClassNames[s];if(a)n.push(a);else if(qke(s)){var i=t.classNames["day_".concat(s)];i&&n.push(i)}}),n}function Gke(t,r){var n=Ct({},t.styles.day);return Object.keys(r).forEach(function(s){var a;n=Ct(Ct({},n),(a=t.modifiersStyles)===null||a===void 0?void 0:a[s])}),n}function Kke(t,r,n){var s,a,i,o=Lr(),l=M6(),c=Fke(t,r),u=Hke(t,c),m=Wke(),p=!!(o.onDayClick||o.mode!=="default");N.useEffect(function(){var k;c.outside||l.focusedDay&&p&&Zs(l.focusedDay,t)&&((k=n.current)===null||k===void 0||k.focus())},[l.focusedDay,t,n,p,c.outside]);var x=Vke(o,c).join(" "),v=Gke(o,c),w=!!(c.outside&&!o.showOutsideDays||c.hidden),y=(i=(a=o.components)===null||a===void 0?void 0:a.DayContent)!==null&&i!==void 0?i:pke,j=e.jsx(y,{date:t,displayMonth:r,activeModifiers:c}),S={style:v,className:x,children:j,role:"gridcell"},C=l.focusTarget&&Zs(l.focusTarget,t)&&!c.outside,P=l.focusedDay&&Zs(l.focusedDay,t),T=Ct(Ct(Ct({},S),(s={disabled:c.disabled,role:"gridcell"},s["aria-selected"]=c.selected,s.tabIndex=P||C?0:-1,s)),u),_={isButton:p,isHidden:w,activeModifiers:c,selectedDays:m,buttonProps:T,divProps:S};return _}function Yke(t){var r=N.useRef(null),n=Kke(t.date,t.displayMonth,r);return n.isHidden?e.jsx("div",{role:"gridcell"}):n.isButton?e.jsx(Kv,Ct({name:"day",ref:r},n.buttonProps)):e.jsx("div",Ct({},n.divProps))}function Zke(t){var r=t.number,n=t.dates,s=Lr(),a=s.onWeekNumberClick,i=s.styles,o=s.classNames,l=s.locale,c=s.labels.labelWeekNumber,u=s.formatters.formatWeekNumber,m=u(Number(r),{locale:l});if(!a)return e.jsx("span",{className:o.weeknumber,style:i.weeknumber,children:m});var p=c(Number(r),{locale:l}),x=function(v){a(r,n,v)};return e.jsx(Kv,{name:"week-number","aria-label":p,className:o.weeknumber,style:i.weeknumber,onClick:x,children:m})}function Xke(t){var r,n,s=Lr(),a=s.styles,i=s.classNames,o=s.showWeekNumber,l=s.components,c=(r=l==null?void 0:l.Day)!==null&&r!==void 0?r:Yke,u=(n=l==null?void 0:l.WeekNumber)!==null&&n!==void 0?n:Zke,m;return o&&(m=e.jsx("td",{className:i.cell,style:a.cell,children:e.jsx(u,{number:t.weekNumber,dates:t.dates})})),e.jsxs("tr",{className:i.row,style:a.row,children:[m,t.dates.map(function(p){return e.jsx("td",{className:i.cell,style:a.cell,role:"presentation",children:e.jsx(c,{displayMonth:t.displayMonth,date:p})},C_e(p))})]})}function LI(t,r,n){for(var s=n!=null&&n.ISOWeek?jU(r):k6(r,n),a=n!=null&&n.ISOWeek?nu(t):Ao(t,n),i=xo(s,a),o=[],l=0;l<=i;l++)o.push(Ts(a,l));var c=o.reduce(function(u,m){var p=n!=null&&n.ISOWeek?NU(m):_U(m,n),x=u.find(function(v){return v.weekNumber===p});return x?(x.dates.push(m),u):(u.push({weekNumber:p,dates:[m]}),u)},[]);return c}function Jke(t,r){var n=LI(Js(t),_6(t),r);if(r!=null&&r.useFixedWeeks){var s=A_e(t,r);if(s<6){var a=n[n.length-1],i=a.dates[a.dates.length-1],o=iC(i,6-s),l=LI(iC(i,1),o,r);n.push.apply(n,l)}}return n}function Qke(t){var r,n,s,a=Lr(),i=a.locale,o=a.classNames,l=a.styles,c=a.hideHead,u=a.fixedWeeks,m=a.components,p=a.weekStartsOn,x=a.firstWeekContainsDate,v=a.ISOWeek,w=Jke(t.displayMonth,{useFixedWeeks:!!u,ISOWeek:v,locale:i,weekStartsOn:p,firstWeekContainsDate:x}),y=(r=m==null?void 0:m.Head)!==null&&r!==void 0?r:fke,j=(n=m==null?void 0:m.Row)!==null&&n!==void 0?n:Xke,S=(s=m==null?void 0:m.Footer)!==null&&s!==void 0?s:uke;return e.jsxs("table",{id:t.id,className:o.table,style:l.table,role:"grid","aria-labelledby":t["aria-labelledby"],children:[!c&&e.jsx(y,{}),e.jsx("tbody",{className:o.tbody,style:l.tbody,children:w.map(function(C){return e.jsx(j,{displayMonth:t.displayMonth,dates:C.dates,weekNumber:C.weekNumber},C.weekNumber)})}),e.jsx(S,{displayMonth:t.displayMonth})]})}function eCe(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var tCe=eCe()?N.useLayoutEffect:N.useEffect,LS=!1,rCe=0;function $I(){return"react-day-picker-".concat(++rCe)}function nCe(t){var r,n=t??(LS?$I():null),s=N.useState(n),a=s[0],i=s[1];return tCe(function(){a===null&&i($I())},[]),N.useEffect(function(){LS===!1&&(LS=!0)},[]),(r=t??a)!==null&&r!==void 0?r:void 0}function sCe(t){var r,n,s=Lr(),a=s.dir,i=s.classNames,o=s.styles,l=s.components,c=Mx().displayMonths,u=nCe(s.id?"".concat(s.id,"-").concat(t.displayIndex):void 0),m=s.id?"".concat(s.id,"-grid-").concat(t.displayIndex):void 0,p=[i.month],x=o.month,v=t.displayIndex===0,w=t.displayIndex===c.length-1,y=!v&&!w;a==="rtl"&&(r=[v,w],w=r[0],v=r[1]),v&&(p.push(i.caption_start),x=Ct(Ct({},x),o.caption_start)),w&&(p.push(i.caption_end),x=Ct(Ct({},x),o.caption_end)),y&&(p.push(i.caption_between),x=Ct(Ct({},x),o.caption_between));var j=(n=l==null?void 0:l.Caption)!==null&&n!==void 0?n:dke;return e.jsxs("div",{className:p.join(" "),style:x,children:[e.jsx(j,{id:u,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),e.jsx(Qke,{id:m,"aria-labelledby":u,displayMonth:t.displayMonth})]},t.displayIndex)}function aCe(t){var r=Lr(),n=r.classNames,s=r.styles;return e.jsx("div",{className:n.months,style:s.months,children:t.children})}function iCe(t){var r,n,s=t.initialProps,a=Lr(),i=M6(),o=Mx(),l=N.useState(!1),c=l[0],u=l[1];N.useEffect(function(){a.initialFocus&&i.focusTarget&&(c||(i.focus(i.focusTarget),u(!0)))},[a.initialFocus,c,i.focus,i.focusTarget,i]);var m=[a.classNames.root,a.className];a.numberOfMonths>1&&m.push(a.classNames.multiple_months),a.showWeekNumber&&m.push(a.classNames.with_weeknumber);var p=Ct(Ct({},a.styles.root),a.style),x=Object.keys(s).filter(function(w){return w.startsWith("data-")}).reduce(function(w,y){var j;return Ct(Ct({},w),(j={},j[y]=s[y],j))},{}),v=(n=(r=s.components)===null||r===void 0?void 0:r.Months)!==null&&n!==void 0?n:aCe;return e.jsx("div",Ct({className:m.join(" "),style:p,dir:a.dir,id:a.id,nonce:s.nonce,title:s.title,lang:s.lang},x,{children:e.jsx(v,{children:o.displayMonths.map(function(w,y){return e.jsx(sCe,{displayIndex:y,displayMonth:w},y)})})}))}function oCe(t){var r=t.children,n=T_e(t,["children"]);return e.jsx(Z_e,{initialProps:n,children:e.jsx(ike,{children:e.jsx(zke,{initialProps:n,children:e.jsx(xke,{initialProps:n,children:e.jsx(yke,{initialProps:n,children:e.jsx(Cke,{children:e.jsx(Bke,{children:r})})})})})})})}function lCe(t){return e.jsx(oCe,Ct({},t,{children:e.jsx(iCe,{initialProps:t})}))}function mb({className:t,classNames:r,showOutsideDays:n=!0,...s}){return e.jsx(lCe,{showOutsideDays:n,className:lt("p-3",t),classNames:{months:"flex flex-col sm:flex-row gap-2",month:"flex flex-col gap-4",caption:"flex justify-center pt-1 relative items-center w-full",caption_label:"text-sm font-medium",nav:"flex items-center gap-1",nav_button:lt(VS({variant:"outline"}),"size-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-x-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-8 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:lt("relative p-0 text-center text-sm focus-within:relative focus-within:z-20 [&:has([aria-selected])]:bg-accent [&:has([aria-selected].day-range-end)]:rounded-r-md",s.mode==="range"?"[&:has(>.day-range-end)]:rounded-r-md [&:has(>.day-range-start)]:rounded-l-md first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md":"[&:has([aria-selected])]:rounded-md"),day:lt(VS({variant:"ghost"}),"size-8 p-0 font-normal aria-selected:opacity-100"),day_range_start:"day-range-start aria-selected:bg-primary aria-selected:text-primary-foreground",day_range_end:"day-range-end aria-selected:bg-primary aria-selected:text-primary-foreground",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground aria-selected:text-muted-foreground",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...r},components:{IconLeft:({className:a,...i})=>e.jsx(Bh,{className:lt("size-4",a),...i}),IconRight:({className:a,...i})=>e.jsx(Gs,{className:lt("size-4",a),...i})},...s})}function cCe({isOpen:t,booking:r,salon:n,onClose:s,onSuccess:a}){const{formatPrice:i}=Kt(),[o,l]=N.useState(void 0),[c,u]=N.useState(""),[m,p]=N.useState(!1);if(!t||!r)return null;const v=(()=>{const P=[];for(let k=9;k<20;k++)for(let M=0;M<60;M+=15){const $=k>12?k-12:k,B=M.toString().padStart(2,"0"),F=k>=12?"PM":"AM";P.push(`${$}:${B} ${F}`)}return P})(),w=["9:00 AM","9:15 AM","10:30 AM","11:00 AM","2:00 PM","3:30 PM"],y=async()=>{if(!o||!c){ve.error("Please select both date and time");return}p(!0);try{await new Promise(_=>setTimeout(_,1500));const P=o.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),T={...r,date:P,time:c};await j({type:"reschedule",booking:T,oldDate:r.date,oldTime:r.time}),await S(n.id,r.id,{date:P,time:c}),ve.success(e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("p",{className:"font-bold",children:"Booking Rescheduled!"}),e.jsxs("p",{className:"text-sm",children:["New time: ",P," at ",c]}),e.jsx("p",{className:"text-xs text-gray-600",children:"Notifications sent to you and the salon"})]}),{duration:5e3}),a(T),s()}catch(P){ve.error("Failed to reschedule booking. Please try again."),console.error("Reschedule error:",P)}finally{p(!1)}},j=async P=>{console.log(" Sending notifications:",P)},S=async(P,T,_)=>{console.log(" Updating salon calendar:",{salonId:P,bookingId:T,newSlot:_})},C=o&&c;return e.jsx("div",{className:"fixed inset-0 z-50 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-hidden flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b bg-gradient-to-r from-purple-50 to-pink-50",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2",children:[e.jsx(vt,{className:"w-6 h-6 text-purple-600"}),"Reschedule Appointment"]}),e.jsx("p",{className:"text-gray-600 text-sm mt-1",children:"Choose a new date and time"})]}),e.jsx(Q,{onClick:s,variant:"ghost",size:"icon",className:"rounded-full",children:e.jsx(ht,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"flex-1 overflow-auto p-6",children:[e.jsx(ne,{className:"p-4 mb-6 bg-blue-50 border-blue-200",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(An,{className:"w-5 h-5 text-blue-600 mt-1"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-blue-900 mb-1",children:"Current Appointment"}),e.jsxs("div",{className:"space-y-1 text-sm text-blue-800",children:[e.jsxs("p",{children:[e.jsx("span",{className:"font-semibold",children:r.salonName})," - ",r.service]}),e.jsxs("p",{children:[r.date," at ",r.time]}),e.jsxs("p",{children:["Staff: ",r.staff]})]})]})]})}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"font-bold text-lg mb-4 flex items-center gap-2",children:[e.jsx(vt,{className:"w-5 h-5 text-purple-600"}),"Select New Date"]}),e.jsx(ne,{className:"p-4 border-2 border-purple-100",children:e.jsx(mb,{mode:"single",selected:o,onSelect:l,disabled:P=>P<new Date,className:"rounded-md"})})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"font-bold text-lg mb-4 flex items-center gap-2",children:[e.jsx(pt,{className:"w-5 h-5 text-purple-600"}),"Select New Time"]}),e.jsx(ne,{className:"p-4 border-2 border-purple-100",children:o?e.jsx("div",{className:"grid grid-cols-3 gap-2 max-h-96 overflow-y-auto pr-2",children:v.map(P=>{const T=w.includes(P);return e.jsx(Q,{variant:c===P?"default":"outline",size:"sm",disabled:T,onClick:()=>u(P),className:`${c===P?"bg-gradient-to-r from-purple-600 to-pink-600 text-white":""} ${T?"opacity-40 cursor-not-allowed":""}`,children:P},P)})}):e.jsxs("div",{className:"text-center py-12 text-gray-500",children:[e.jsx(pt,{className:"w-12 h-12 mx-auto mb-3 text-gray-400"}),e.jsx("p",{className:"font-semibold",children:"Please select a date first"})]})})]})]}),C&&e.jsx(ne,{className:"p-4 mt-6 bg-green-50 border-green-200",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(or,{className:"w-5 h-5 text-green-600 mt-1"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-green-900 mb-1",children:"New Appointment"}),e.jsxs("div",{className:"space-y-1 text-sm text-green-800",children:[e.jsxs("p",{children:[e.jsx("span",{className:"font-semibold",children:r.salonName})," - ",r.service]}),e.jsxs("p",{children:[o.toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric",year:"numeric"})," at ",c]}),e.jsxs("p",{children:["Staff: ",r.staff]})]})]})]})})]}),e.jsx("div",{className:"border-t p-6 bg-gray-50",children:e.jsxs("div",{className:"flex items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-start gap-2 text-sm text-gray-600",children:[e.jsx(An,{className:"w-4 h-4 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Both you and the salon will be notified"}),e.jsx("p",{className:"text-xs text-gray-500",children:"via Email, SMS, and Push Notification"})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(Q,{onClick:s,variant:"outline",disabled:m,children:"Cancel"}),e.jsx(Q,{onClick:y,disabled:!C||m,className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 min-w-[140px]",children:m?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Rescheduling..."]}):e.jsxs(e.Fragment,{children:[e.jsx(or,{className:"w-4 h-4 mr-2"}),"Confirm Reschedule"]})})]})]})})]})})}function dCe({isOpen:t,booking:r,onClose:n,onSuccess:s}){const{formatPrice:a}=Kt(),[i,o]=N.useState(""),[l,c]=N.useState(!1);if(!t||!r)return null;const u=["Schedule conflict","Found another salon","Personal reasons","Service no longer needed","Price concerns","Other"],m=async()=>{if(!i){ve.error("Please select a cancellation reason");return}c(!0);try{await new Promise(S=>setTimeout(S,1500)),await p({booking:r,reason:i}),await x(r.salonId,r.id,{date:r.date,time:r.time});const j=v(r);ve.success(e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("p",{className:"font-bold",children:"Booking Cancelled"}),e.jsx("p",{className:"text-sm",children:"Your appointment has been cancelled"}),j>0&&e.jsxs("p",{className:"text-xs text-gray-600",children:["Refund of ",a(j)," will be processed in 3-5 business days"]}),e.jsx("p",{className:"text-xs text-gray-600",children:"Notifications sent to you and the salon"})]}),{duration:5e3}),s(),n()}catch(j){ve.error("Failed to cancel booking. Please try again."),console.error("Cancel error:",j)}finally{c(!1)}},p=async j=>{console.log(" Sending cancellation notifications:",j)},x=async(j,S,C)=>{console.log(" Freeing salon time slot:",{salonId:j,bookingId:S,slot:C})},v=j=>{const S=new Date(j.date),C=new Date,P=(S.getTime()-C.getTime())/(1e3*60*60);return P>24?j.price:P>12?j.price*.5:0},w=v(r),y=w/r.price*100;return e.jsx("div",{className:"fixed inset-0 z-50 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl overflow-hidden",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b bg-red-50",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2 text-red-900",children:[e.jsx(fr,{className:"w-6 h-6 text-red-600"}),"Cancel Appointment"]}),e.jsx("p",{className:"text-red-700 text-sm mt-1",children:"This action cannot be undone"})]}),e.jsx(Q,{onClick:n,variant:"ghost",size:"icon",className:"rounded-full",children:e.jsx(ht,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs(ne,{className:"p-4 border-2 border-gray-200",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-lg",children:r.salonName}),e.jsx("p",{className:"text-gray-600",children:r.service})]}),e.jsx(Oe,{className:"bg-yellow-100 text-yellow-700 border-0",children:r.status})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600",children:"Date"}),e.jsx("p",{className:"font-semibold",children:r.date})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600",children:"Time"}),e.jsx("p",{className:"font-semibold",children:r.time})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600",children:"Staff"}),e.jsx("p",{className:"font-semibold",children:r.staff})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600",children:"Price"}),e.jsx("p",{className:"font-semibold text-purple-600",children:a(r.price)})]})]})]}),e.jsxs(ne,{className:"p-4 bg-blue-50 border-blue-200",children:[e.jsxs("h3",{className:"font-bold mb-3 flex items-center gap-2",children:[e.jsx(or,{className:"w-5 h-5 text-blue-600"}),"Refund Policy"]}),e.jsx("div",{className:"space-y-2 text-sm",children:y===100?e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(or,{className:"w-4 h-4 text-green-600 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-green-700",children:"Full Refund Available"}),e.jsxs("p",{className:"text-gray-700",children:["You'll receive ",e.jsx("span",{className:"font-bold",children:a(w)})," back"]}),e.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Refund will be processed to your original payment method in 3-5 business days"})]})]}):y===50?e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(fr,{className:"w-4 h-4 text-yellow-600 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-yellow-700",children:"Partial Refund (50%)"}),e.jsxs("p",{className:"text-gray-700",children:["You'll receive ",e.jsx("span",{className:"font-bold",children:a(w)})," back"]}),e.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Cancellation within 12-24 hours of appointment"})]})]}):e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(ht,{className:"w-4 h-4 text-red-600 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-red-700",children:"No Refund Available"}),e.jsx("p",{className:"text-gray-700",children:"Cancellation within 12 hours of appointment"}),e.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"As per our cancellation policy, no refund will be issued"})]})]})})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block font-bold mb-3",children:["Reason for Cancellation ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:u.map(j=>e.jsx("button",{onClick:()=>o(j),className:`p-3 text-sm rounded-lg border-2 transition-all ${i===j?"border-purple-600 bg-purple-50 text-purple-700 font-semibold":"border-gray-200 hover:border-gray-300 text-gray-700"}`,children:j},j))}),i==="Other"&&e.jsx("textarea",{placeholder:"Please provide more details...",className:"w-full mt-3 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",rows:3})]}),e.jsx(ne,{className:"p-4 bg-yellow-50 border-yellow-200",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(fr,{className:"w-5 h-5 text-yellow-600 mt-0.5"}),e.jsxs("div",{className:"text-sm text-yellow-800",children:[e.jsx("p",{className:"font-semibold mb-1",children:"Important Notice"}),e.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[e.jsx("li",{children:"The salon will be notified immediately"}),e.jsx("li",{children:"Your time slot will become available for other clients"}),e.jsx("li",{children:"Frequent cancellations may affect your booking privileges"}),e.jsx("li",{children:"You can rebook anytime from the salon's page"})]})]})]})})]}),e.jsx("div",{className:"border-t p-6 bg-gray-50",children:e.jsxs("div",{className:"flex justify-end gap-3",children:[e.jsx(Q,{onClick:n,variant:"outline",disabled:l,children:"Keep Appointment"}),e.jsx(Q,{onClick:m,disabled:!i||l,variant:"destructive",className:"min-w-[140px]",children:l?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Cancelling..."]}):e.jsxs(e.Fragment,{children:[e.jsx(ht,{className:"w-4 h-4 mr-2"}),"Cancel Booking"]})})]})})]})})}function uCe({lastBooking:t,onRepeatBooking:r,variant:n="default",className:s=""}){const[a,i]=N.useState(!1),[o,l]=N.useState(!1),{formatPrice:c}=Kt();if(!t)return null;const u=async()=>{l(!0),setTimeout(()=>{ve.success("Finding similar time slot...",{description:"We're looking for the best time for you!"}),setTimeout(()=>{r(t),l(!1),ve.success("Booking repeated!",{description:`${t.services.length} service(s) with ${t.master.name}`})},1500)},800)};return n==="compact"?e.jsx(Q,{onClick:u,disabled:o,size:"sm",className:`bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white ${s}`,children:o?e.jsxs(e.Fragment,{children:[e.jsx(xn,{className:"w-4 h-4 mr-2 animate-spin"}),"Finding slot..."]}):e.jsxs(e.Fragment,{children:[e.jsx(xn,{className:"w-4 h-4 mr-2"}),"Repeat Last Visit"]})}):n==="large"?e.jsxs("div",{className:`bg-gradient-to-br from-purple-50 to-pink-50 rounded-2xl p-6 border-2 border-purple-200 ${s}`,children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-purple-600 to-pink-600 rounded-xl flex items-center justify-center",children:e.jsx(tr,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-lg text-gray-900",children:"Repeat Last Visit"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Book the same services again"})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-2xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent",children:c(t.totalPrice)}),e.jsxs("div",{className:"text-xs text-gray-500",children:[t.totalDuration," min"]})]})]}),e.jsxs("div",{className:"space-y-3 mb-4",children:[e.jsxs("div",{className:"bg-white rounded-lg p-3",children:[e.jsx("div",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2",children:"Services"}),e.jsx("div",{className:"space-y-1",children:t.services.map(m=>e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(or,{className:"w-4 h-4 text-green-500"}),e.jsx("span",{className:"text-gray-900",children:m.name})]}),e.jsx("span",{className:"text-gray-600",children:c(m.price)})]},m.id))})]}),e.jsxs("div",{className:"bg-white rounded-lg p-3",children:[e.jsx("div",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2",children:"Master"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("img",{src:t.master.avatar,alt:t.master.name,className:"w-10 h-10 rounded-full object-cover"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:t.master.name}),e.jsx("div",{className:"text-xs text-gray-500",children:"Same master as before"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg p-3",children:[e.jsx("div",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2",children:"Previous Visit"}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-700",children:[e.jsx(vt,{className:"w-4 h-4 text-purple-500"}),e.jsx("span",{children:new Date(t.date).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]})]}),t.masterNotes&&e.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-3",children:[e.jsx("div",{className:"text-xs font-semibold text-amber-700 uppercase tracking-wide mb-1",children:"Master's Notes"}),e.jsxs("p",{className:"text-sm text-amber-900 italic",children:['"',t.masterNotes,'"']})]})]}),e.jsx(Q,{onClick:u,disabled:o,className:"w-full h-12 bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white font-bold",children:o?e.jsxs(e.Fragment,{children:[e.jsx(xn,{className:"w-5 h-5 mr-2 animate-spin"}),"Finding Perfect Time Slot..."]}):e.jsxs(e.Fragment,{children:[e.jsx(xn,{className:"w-5 h-5 mr-2"}),"Repeat This Booking"]})}),e.jsx("p",{className:"text-xs text-center text-gray-500 mt-3",children:"We'll find a similar time slot for you"})]}):e.jsxs("div",{className:`bg-white rounded-xl border-2 border-purple-200 overflow-hidden transition-all ${s}`,children:[e.jsxs("button",{onClick:()=>i(!a),className:"w-full px-4 py-3 flex items-center justify-between hover:bg-purple-50 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-purple-600 to-pink-600 rounded-lg flex items-center justify-center",children:e.jsx(xn,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"font-bold text-gray-900",children:"Repeat Last Visit"}),e.jsxs("div",{className:"text-xs text-gray-500",children:[t.services.length," service(s)  ",c(t.totalPrice)]})]})]}),e.jsx("div",{className:`transform transition-transform ${a?"rotate-180":""}`,children:e.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]}),a&&e.jsx("div",{className:"px-4 pb-4 border-t border-gray-100",children:e.jsxs("div",{className:"space-y-3 mt-3",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2",children:"Services"}),t.services.map(m=>e.jsxs("div",{className:"flex items-center justify-between py-1 text-sm",children:[e.jsx("span",{className:"text-gray-700",children:m.name}),e.jsx("span",{className:"text-gray-900 font-medium",children:c(m.price)})]},m.id))]}),e.jsxs("div",{className:"flex items-center gap-3 pt-2 border-t border-gray-100",children:[e.jsx(zn,{className:"w-4 h-4 text-purple-500"}),e.jsxs("span",{className:"text-sm text-gray-700",children:["with ",t.master.name]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(pt,{className:"w-4 h-4 text-purple-500"}),e.jsxs("span",{className:"text-sm text-gray-700",children:[t.totalDuration," minutes"]})]}),e.jsx(Q,{onClick:u,disabled:o,className:"w-full mt-3 bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white",children:o?e.jsxs(e.Fragment,{children:[e.jsx(xn,{className:"w-4 h-4 mr-2 animate-spin"}),"Finding slot..."]}):e.jsxs(e.Fragment,{children:[e.jsx(xn,{className:"w-4 h-4 mr-2"}),"Book Again"]})})]})})]})}function hCe({onBookingCreated:t,variant:r="floating",className:n=""}){const[s,a]=N.useState(!1),[i,o]=N.useState(!1),[l,c]=N.useState([]),[u,m]=N.useState({confirmed:!1}),[p,x]=N.useState(!1),[v,w]=N.useState(!1),y=N.useRef(null),j=N.useRef(null);N.useEffect(()=>{if("webkitSpeechRecognition"in window||"SpeechRecognition"in window){const M=window.webkitSpeechRecognition||window.SpeechRecognition;y.current=new M,y.current.continuous=!0,y.current.interimResults=!0,y.current.lang="en-US",y.current.onresult=$=>{const B=$.results.length-1,F=$.results[B][0].transcript,H=$.results[B][0].confidence;$.results[B].isFinal&&P(F,H)},y.current.onerror=$=>{console.error("Speech recognition error:",$.error),$.error==="no-speech"&&ve.error("No speech detected",{description:"Please try speaking again"}),a(!1)}}return j.current=window.speechSynthesis,()=>{y.current&&y.current.stop(),j.current&&j.current.cancel()}},[]);const S=M=>{if(!j.current)return;j.current.cancel();const $=new SpeechSynthesisUtterance(M);$.rate=1,$.pitch=1,$.volume=1,$.onstart=()=>w(!0),$.onend=()=>w(!1),j.current.speak($)},C=(M,$,B)=>{c(F=>[...F,{timestamp:Date.now(),transcript:M,type:$,confidence:B}])},P=(M,$)=>{C(M,"user",$),o(!0),setTimeout(()=>{const B=T(M);C(B.message,"assistant"),S(B.message),B.booking&&m(F=>({...F,...B.booking})),o(!1)},800)},T=M=>{const $=M.toLowerCase();if($.includes("hey katia")||$.includes("hi katia")||$.includes("hello"))return{message:"Hello! I'm Katia, your voice booking assistant. What service would you like to book today?"};const F=["manicure","pedicure","haircut","massage","facial","coloring","makeup"].find(W=>$.includes(W));if(F&&!u.service)return{message:`Great choice! ${F} it is. Which master would you prefer, or should I suggest someone?`,booking:{service:F}};const K=["maria","anna","sofia","julia","emma"].find(W=>$.includes(W));if(K&&!u.master)return{message:`Perfect! ${K.charAt(0).toUpperCase()+K.slice(1)} is excellent. What day works for you?`,booking:{master:K}};if(($.includes("tomorrow")||$.includes("today")||$.includes("friday")||$.includes("saturday")||$.includes("monday")||$.includes("tuesday")||$.includes("wednesday")||$.includes("thursday")||$.includes("sunday"))&&!u.date){let W="tomorrow";return $.includes("today")?W="today":$.includes("friday")?W="Friday":$.includes("saturday")?W="Saturday":$.includes("sunday")?W="Sunday":$.includes("monday")?W="Monday":$.includes("tuesday")?W="Tuesday":$.includes("wednesday")?W="Wednesday":$.includes("thursday")&&(W="Thursday"),{message:`Got it, ${W}. What time would you like? Morning, afternoon, or evening?`,booking:{date:W}}}const Z=[/(\d{1,2})\s*(am|pm|o'clock)/i,/(morning|afternoon|evening)/i,/at\s*(\d{1,2})/i];let V;for(const W of Z){const G=$.match(W);if(G&&!u.time){G[0].includes("morning")?V="10:00 AM":G[0].includes("afternoon")?V="2:00 PM":G[0].includes("evening")?V="6:00 PM":V=G[0];break}}return V&&!u.time?{message:`Perfect! Let me confirm: ${u.service||"Service"} with ${u.master||"your preferred master"} on ${u.date||"your chosen date"} at ${V}. Should I book this for you?`,booking:{time:V}}:($.includes("yes")||$.includes("confirm")||$.includes("book it"))&&u.service&&u.date&&u.time?(t==null||t({...u,confirmed:!0}),ve.success("Booking confirmed!",{description:`${u.service} on ${u.date} at ${u.time}`}),{message:`Excellent! Your ${u.service} appointment is confirmed for ${u.date} at ${u.time}. You'll receive a confirmation message shortly. Is there anything else I can help you with?`,booking:{confirmed:!0}}):$.includes("cancel")||$.includes("no")||$.includes("nevermind")?(m({confirmed:!1}),{message:"No problem! Feel free to start over anytime. Just say 'Hey Katia' when you're ready."}):{message:"I didn't quite catch that. Could you please repeat? You can say things like 'Book a manicure with Maria tomorrow at 2 PM'."}},_=()=>{if(!y.current){ve.error("Voice recognition not supported",{description:"Please use a modern browser like Chrome"});return}a(!0),x(!0),y.current.start();const M="Hello! I'm Katia. I'm listening. What would you like to book today?";C(M,"assistant"),S(M)},k=()=>{y.current&&y.current.stop(),j.current&&j.current.cancel(),a(!1),w(!1)};return r==="floating"&&!p?e.jsxs("button",{onClick:_,className:`fixed bottom-6 right-6 w-16 h-16 bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 rounded-full shadow-2xl flex items-center justify-center transition-all hover:scale-110 z-50 ${n}`,children:[e.jsx(Hj,{className:"w-7 h-7 text-white"}),e.jsx("div",{className:"absolute -top-1 -right-1 w-4 h-4 bg-green-500 rounded-full animate-pulse"})]}):r==="inline"?e.jsx(Q,{onClick:s?k:_,className:`bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white ${n}`,children:s?e.jsxs(e.Fragment,{children:[e.jsx(qP,{className:"w-4 h-4 mr-2"}),"Stop Listening"]}):e.jsxs(e.Fragment,{children:[e.jsx(Hj,{className:"w-4 h-4 mr-2"}),"Voice Booking"]})}):e.jsxs("div",{className:`fixed bottom-6 right-6 w-96 bg-white rounded-3xl shadow-2xl border-2 border-purple-200 overflow-hidden z-50 ${n}`,children:[e.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-pink-600 px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-12 h-12 bg-white/20 rounded-full flex items-center justify-center backdrop-blur-sm ${v?"animate-pulse":""}`,children:e.jsx(XK,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-white",children:"Voice Booking"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${s?"bg-green-400 animate-pulse":"bg-gray-400"}`}),e.jsx("span",{className:"text-xs text-white/90",children:s?"Listening...":v?"Speaking...":"Ready"})]})]})]}),e.jsx("button",{onClick:()=>{x(!1),k()},className:"text-white/80 hover:text-white",children:""})]})}),(u.service||u.master||u.date||u.time)&&e.jsx("div",{className:"px-6 py-3 bg-gradient-to-r from-purple-50 to-pink-50 border-b border-purple-200",children:e.jsxs("div",{className:"space-y-2 text-sm",children:[u.service&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(or,{className:"w-4 h-4 text-green-600"}),e.jsxs("span",{className:"text-gray-700",children:["Service: ",e.jsx("strong",{children:u.service})]})]}),u.master&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(or,{className:"w-4 h-4 text-green-600"}),e.jsxs("span",{className:"text-gray-700",children:["Master: ",e.jsx("strong",{children:u.master})]})]}),u.date&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(or,{className:"w-4 h-4 text-green-600"}),e.jsxs("span",{className:"text-gray-700",children:["Date: ",e.jsx("strong",{children:u.date})]})]}),u.time&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(or,{className:"w-4 h-4 text-green-600"}),e.jsxs("span",{className:"text-gray-700",children:["Time: ",e.jsx("strong",{children:u.time})]})]})]})}),e.jsxs("div",{className:"h-80 overflow-y-auto p-4 space-y-3",children:[l.length===0&&e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"w-16 h-16 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(tr,{className:"w-8 h-8 text-purple-600"})}),e.jsx("h4",{className:"font-bold text-gray-900 mb-2",children:"AI Voice Booking"}),e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:'Say: "Hey Katia, book a manicure with Maria tomorrow at 2 PM"'}),e.jsx(Oe,{variant:"secondary",className:"text-xs",children:"Powered by AI Voice Recognition"})]}),l.map((M,$)=>e.jsx("div",{className:`flex ${M.type==="user"?"justify-end":"justify-start"}`,children:e.jsxs("div",{className:`max-w-[80%] rounded-2xl px-4 py-3 ${M.type==="user"?"bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-br-md":"bg-gray-100 text-gray-900 rounded-bl-md"}`,children:[M.type==="assistant"&&e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(tr,{className:"w-3 h-3 text-purple-600"}),e.jsx("span",{className:"text-xs font-medium text-purple-600",children:"Katia AI"})]}),e.jsx("p",{className:"text-sm",children:M.transcript}),M.confidence!==void 0&&e.jsxs("div",{className:"text-xs opacity-70 mt-1",children:[(M.confidence*100).toFixed(0),"% confident"]})]})},$)),i&&e.jsx("div",{className:"flex justify-start",children:e.jsx("div",{className:"bg-gray-100 rounded-2xl rounded-bl-md px-4 py-3",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(tr,{className:"w-4 h-4 text-purple-600 animate-pulse"}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("div",{className:"w-2 h-2 bg-purple-600 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),e.jsx("div",{className:"w-2 h-2 bg-purple-600 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),e.jsx("div",{className:"w-2 h-2 bg-purple-600 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})]})})})]}),e.jsxs("div",{className:"px-6 py-4 border-t bg-gray-50",children:[e.jsx(Q,{onClick:s?k:_,className:`w-full h-12 font-bold transition-all ${s?"bg-red-600 hover:bg-red-700 text-white":"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white"}`,children:s?e.jsxs(e.Fragment,{children:[e.jsx(qP,{className:"w-5 h-5 mr-2"}),"Stop Listening"]}):e.jsxs(e.Fragment,{children:[e.jsx(Hj,{className:"w-5 h-5 mr-2"}),"Start Voice Booking"]})}),e.jsx("p",{className:"text-xs text-center text-gray-500 mt-3",children:"Tip: Speak clearly and naturally"})]})]})}var R6="Switch",[mCe]=Is(R6),[fCe,pCe]=mCe(R6),$U=N.forwardRef((t,r)=>{const{__scopeSwitch:n,name:s,checked:a,defaultChecked:i,required:o,disabled:l,value:c="on",onCheckedChange:u,form:m,...p}=t,[x,v]=N.useState(null),w=Xt(r,P=>v(P)),y=N.useRef(!1),j=x?m||!!x.closest("form"):!0,[S=!1,C]=Co({prop:a,defaultProp:i,onChange:u});return e.jsxs(fCe,{scope:n,checked:S,disabled:l,children:[e.jsx(mt.button,{type:"button",role:"switch","aria-checked":S,"aria-required":o,"data-state":zU(S),"data-disabled":l?"":void 0,disabled:l,value:c,...p,ref:w,onClick:Ze(t.onClick,P=>{C(T=>!T),j&&(y.current=P.isPropagationStopped(),y.current||P.stopPropagation())})}),j&&e.jsx(xCe,{control:x,bubbles:!y.current,name:s,value:c,checked:S,required:o,disabled:l,form:m,style:{transform:"translateX(-100%)"}})]})});$U.displayName=R6;var BU="SwitchThumb",FU=N.forwardRef((t,r)=>{const{__scopeSwitch:n,...s}=t,a=pCe(BU,n);return e.jsx(mt.span,{"data-state":zU(a.checked),"data-disabled":a.disabled?"":void 0,...s,ref:r})});FU.displayName=BU;var xCe=t=>{const{control:r,checked:n,bubbles:s=!0,...a}=t,i=N.useRef(null),o=px(n),l=fx(r);return N.useEffect(()=>{const c=i.current,u=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(u,"checked").set;if(o!==n&&p){const x=new Event("click",{bubbles:s});p.call(c,n),c.dispatchEvent(x)}},[o,n,s]),e.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...a,tabIndex:-1,ref:i,style:{...t.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function zU(t){return t?"checked":"unchecked"}var gCe=$U,vCe=FU;function zf({className:t,...r}){return e.jsx(gCe,{"data-slot":"switch",className:lt("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-switch-background focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",t),...r,children:e.jsx(vCe,{"data-slot":"switch-thumb",className:lt("bg-card dark:data-[state=unchecked]:bg-card-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}function yCe(){const{settings:t,updateSettings:r,subscribeToPush:n,unsubscribeFromPush:s,isPushSubscribed:a,isPushSupported:i,testNotification:o}=$J(),[l,c]=N.useState(!1),u=async(x,v)=>{c(!0);try{await r({[x]:v}),ve.success("Settings updated")}catch{ve.error("Failed to update settings")}finally{c(!1)}},m=async()=>{a?await s()?ve.success("Push notifications disabled"):ve.error("Failed to disable push notifications"):await n()?ve.success("Push notifications enabled! "):ve.error("Failed to enable push notifications. Please check your browser settings.")},p=async()=>{await o(),ve.success("Test notification sent!")};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[e.jsx(Na,{className:"w-6 h-6 text-purple-600"}),"Notification Preferences"]}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Choose how you want to receive appointment reminders"})]}),e.jsx(ne,{className:"border-purple-200 bg-gradient-to-r from-purple-50 to-pink-50",children:e.jsx(ke,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[t.enabled?e.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-purple-600 to-pink-600 rounded-full flex items-center justify-center",children:e.jsx(Na,{className:"w-6 h-6 text-white"})}):e.jsx("div",{className:"w-12 h-12 bg-gray-300 rounded-full flex items-center justify-center",children:e.jsx(NV,{className:"w-6 h-6 text-gray-600"})}),e.jsxs("div",{children:[e.jsx(We,{className:"text-base font-semibold",children:"All Notifications"}),e.jsx("p",{className:"text-sm text-gray-600",children:t.enabled?"You will receive notifications":"All notifications are disabled"})]})]}),e.jsx(zf,{checked:t.enabled,onCheckedChange:x=>u("enabled",x),disabled:l})]})})}),e.jsx(ne,{className:"border-blue-200 bg-blue-50",children:e.jsx(ke,{className:"pt-6",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(An,{className:"w-5 h-5 text-blue-600 mt-0.5"}),e.jsxs("div",{className:"text-sm text-blue-900",children:[e.jsx("p",{className:"font-medium mb-1",children:" Reminder Schedule"}),e.jsx("p",{className:"text-blue-700",children:"The salon has set up automatic reminders for your appointments. You'll receive notifications at the times configured by the salon. Just choose your preferred notification channels below."})]})]})})}),e.jsxs(ne,{children:[e.jsxs(Hr,{children:[e.jsx(wn,{children:"Notification Channels"}),e.jsx(ns,{children:"Choose how you want to receive your appointment reminders"})]}),e.jsxs(ke,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg border-2 border-transparent hover:border-purple-200 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-full flex items-center justify-center",children:e.jsx(ML,{className:"w-5 h-5 text-purple-600"})}),e.jsxs("div",{children:[e.jsx(We,{className:"font-medium text-base",children:"Push Notifications"}),e.jsx("p",{className:"text-sm text-gray-600",children:i?"Get instant alerts on this device":"Not supported on this browser"}),a&&e.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[e.jsx(zt,{className:"w-3 h-3 text-green-600"}),e.jsx("span",{className:"text-xs text-green-600 font-medium",children:"Active"})]})]})]}),e.jsx(zf,{checked:a,onCheckedChange:m,disabled:!i||l||!t.enabled})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg border-2 border-transparent hover:border-purple-200 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-full flex items-center justify-center",children:e.jsx(Ut,{className:"w-5 h-5 text-purple-600"})}),e.jsxs("div",{children:[e.jsx(We,{className:"font-medium text-base",children:"Email Notifications"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Receive reminders via email"}),t.emailNotifications&&e.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[e.jsx(zt,{className:"w-3 h-3 text-green-600"}),e.jsx("span",{className:"text-xs text-green-600 font-medium",children:"Active"})]})]})]}),e.jsx(zf,{checked:t.emailNotifications,onCheckedChange:x=>u("emailNotifications",x),disabled:l||!t.enabled})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg border-2 border-transparent opacity-60",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded-full flex items-center justify-center",children:e.jsx(Pa,{className:"w-5 h-5 text-gray-500"})}),e.jsxs("div",{children:[e.jsx(We,{className:"font-medium text-base text-gray-700",children:"SMS Notifications"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Coming soon - text message reminders"})]})]}),e.jsx(zf,{checked:t.smsNotifications,onCheckedChange:x=>u("smsNotifications",x),disabled:!0})]})]})]}),e.jsxs(ne,{children:[e.jsxs(Hr,{children:[e.jsx(wn,{children:"Marketing & Updates"}),e.jsx(ns,{children:"Stay updated with promotions and news"})]}),e.jsx(ke,{className:"space-y-4",children:e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg border-2 border-transparent hover:border-purple-200 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-pink-100 rounded-full flex items-center justify-center",children:e.jsx(dr,{className:"w-5 h-5 text-pink-600"})}),e.jsxs("div",{children:[e.jsx(We,{className:"font-medium text-base",children:"Promotions & Special Offers"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Get notified about exclusive deals and discounts"})]})]}),e.jsx(zf,{checked:t.marketing,onCheckedChange:x=>u("marketing",x),disabled:l||!t.enabled})]})})]}),i&&e.jsx(ne,{className:"border-purple-200 bg-gradient-to-r from-purple-50 to-pink-50",children:e.jsx(ke,{className:"pt-6",children:e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-purple-600 rounded-full flex items-center justify-center flex-shrink-0",children:e.jsx(Na,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-purple-900 mb-1",children:"Test Your Notifications"}),e.jsx("p",{className:"text-sm text-purple-700",children:"Send a test notification to make sure everything is working correctly"})]})]}),e.jsx(Q,{onClick:p,className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 w-full sm:w-auto",disabled:!a&&!t.emailNotifications,children:"Send Test"})]})})}),e.jsx(ne,{className:"border-gray-200 bg-gray-50",children:e.jsx(ke,{className:"pt-6",children:e.jsxs("div",{className:"text-sm text-gray-700 space-y-2",children:[e.jsxs("p",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-purple-600 font-bold",children:""}),e.jsxs("span",{children:[e.jsx("strong",{children:"Push notifications"})," require browser permission. If you don't see the prompt, check your browser settings."]})]}),e.jsxs("p",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-purple-600 font-bold",children:""}),e.jsxs("span",{children:[e.jsx("strong",{children:"iOS users:"}),` Install the app to your home screen via Safari's "Share"  "Add to Home Screen" to receive push notifications.`]})]}),e.jsxs("p",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-purple-600 font-bold",children:""}),e.jsx("span",{children:"The salon controls when reminders are sent. You just choose how you want to receive them."})]})]})})})]})}function bCe(){const{formatPrice:t,currency:r}=Kt(),{user:n}=Ma(),s=vn(),[a,i]=N.useState("overview"),[o,l]=N.useState(!1),[c,u]=N.useState(!1),[m,p]=N.useState(!1),[x,v]=N.useState(null),[w,y]=N.useState(UJ),j=w.filter(ee=>ee.status==="upcoming"),S=w.filter(ee=>ee.status==="completed"),C=w.filter(ee=>ee.status==="cancelled"),P=ja.slice(0,6),[T,_]=N.useState([{id:"1",name:"Balayage Hair Color",salonName:"Glamour Studio",salonId:"1",price:350,duration:180,image:"https://images.unsplash.com/photo-1560066984-138dadb4c035?w=400&h=300&fit=crop"},{id:"2",name:"Classic Manicure & Pedicure",salonName:"Beauty Haven",salonId:"2",price:120,duration:90,image:"https://images.unsplash.com/photo-1604654894610-df63bc536371?w=400&h=300&fit=crop"},{id:"3",name:"Deep Tissue Massage",salonName:"Serenity Spa",salonId:"3",price:280,duration:60,image:"https://images.unsplash.com/photo-1544161515-4ab6ce6db874?w=400&h=300&fit=crop"}]),k=ee=>{v(ee),u(!0)},M=ee=>{v(ee),p(!0)},$=ee=>{y(ae=>ae.map(oe=>oe.id===ee.id?ee:oe))},B=()=>{y(ee=>ee.map(ae=>ae.id===x.id?{...ae,status:"cancelled"}:ae))},F=ee=>{console.log("Repeating booking:",ee),s(`/salon/${ee.salonId}/book`,{state:{prefilled:ee}})},H=ee=>{console.log("Voice booking created:",ee),s("/")},K=()=>{var ee;return(ee=n==null?void 0:n.user_metadata)!=null&&ee.full_name?n.user_metadata.full_name:n!=null&&n.email?n.email.split("@")[0]:"Anna Smith"},Z=()=>(n==null?void 0:n.email)||"anna.smith@example.com",V=()=>{var ee;return((ee=n==null?void 0:n.user_metadata)==null?void 0:ee.avatar_url)||"https://images.unsplash.com/photo-1494790108377-be9c29b29330?w=200&h=200&fit=crop"},W={name:K(),email:Z(),phone:"+1 (555) 123-4567",avatar:V(),memberSince:"January 2024",totalVisits:15,loyaltyPoints:180,nextRewardAt:250,membershipTier:"Gold",totalSpent:1250},G=[{icon:vt,label:"Total Visits",value:W.totalVisits.toString(),bgColor:"bg-purple-100",iconColor:"text-purple-600",trend:"+3 this month"},{icon:tr,label:"Loyalty Points",value:W.loyaltyPoints.toString(),bgColor:"bg-pink-100",iconColor:"text-pink-600",trend:"70 to next reward"},{icon:dr,label:"Active Rewards",value:"3",bgColor:"bg-green-100",iconColor:"text-green-600",trend:"Expiring soon: 1"},{icon:Kn,label:"Favorite Salons",value:P.length.toString(),bgColor:"bg-red-100",iconColor:"text-red-600",trend:"View all"}],O=[{id:"1",title:"20% Off Next Visit",description:"Valid for any service over $50",expiresAt:"Dec 31, 2024",code:"SAVE20",type:"discount"},{id:"2",title:"Free Manicure",description:"Complimentary service at Luxe Beauty",expiresAt:"Jan 15, 2025",code:"FREEMANI",type:"free"},{id:"3",title:"$15 Credit",description:"Referral bonus - use anywhere",expiresAt:"No expiry",code:"REF15",type:"credit"}],R=[{id:"1",type:"Visa",last4:"4242",expiry:"12/25",isDefault:!0},{id:"2",type:"Mastercard",last4:"8888",expiry:"09/26",isDefault:!1}],D=[{id:"1",date:"Dec 15, 2024",salon:"Luxe Beauty Bar",service:"Hair Color & Style",amount:120,status:"completed"},{id:"2",date:"Dec 10, 2024",salon:"Glow Spa",service:"Manicure & Pedicure",amount:65,status:"completed"},{id:"3",date:"Dec 5, 2024",salon:"Elite Salon",service:"Haircut",amount:45,status:"refunded"}],I=[{id:"1",salon:"Luxe Beauty Bar",salonImage:ja[0].image,rating:5,date:"Dec 15, 2024",comment:"Amazing service! The staff was professional and friendly. Will definitely come back!",helpful:12},{id:"2",salon:"Glow Spa",salonImage:ja[1].image,rating:4,date:"Dec 10, 2024",comment:"Great experience overall. Clean facility and skilled technicians.",helpful:8}],q=S.slice(0,2),J={favoriteServices:["Hair Coloring","Manicure","Facial Treatment"]},ie=()=>{navigator.clipboard.writeText("ANNA2024"),l(!0),setTimeout(()=>l(!1),2e3)};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-50 to-white",children:[e.jsx("div",{className:"bg-gradient-to-r from-purple-600 via-purple-500 to-pink-600 text-white",children:e.jsx("div",{className:"container mx-auto px-4 py-8 md:py-12",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs(Ri,{className:"w-16 h-16 md:w-20 md:h-20 ring-4 ring-white/30",children:[e.jsx(jl,{src:W.avatar,alt:W.name}),e.jsx(wl,{className:"text-2xl",children:W.name[0]})]}),e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl md:text-4xl font-bold mb-1",children:["Welcome back, ",W.name.split(" ")[0],"! "]}),e.jsxs("p",{className:"text-purple-100 flex items-center gap-2",children:[e.jsx(ii,{className:"w-4 h-4"}),W.membershipTier," Member  ",W.memberSince]}),e.jsxs("p",{className:"text-white/90 text-sm mt-1",children:["You have ",e.jsx("span",{className:"font-bold",children:j.length})," upcoming appointments"]})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsxs(Q,{onClick:()=>s("/"),variant:"outline",className:"bg-white/10 border-white/30 text-white hover:bg-white/20 backdrop-blur-sm",children:[e.jsx(qr,{className:"w-4 h-4 mr-2"}),"Find Salon"]}),e.jsxs(Q,{onClick:()=>s("/"),className:"bg-white text-purple-600 hover:bg-white/90",children:[e.jsx(vt,{className:"w-4 h-4 mr-2"}),"Book Now"]})]})]})})}),e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 mb-8 -mt-12",children:G.map((ee,ae)=>{const oe=ee.icon;return e.jsxs(ne,{className:"p-4 md:p-6 hover:shadow-lg transition-all duration-300 bg-white border-2 border-gray-100",children:[e.jsx("div",{className:"flex items-start justify-between mb-3",children:e.jsx("div",{className:`w-10 h-10 md:w-12 md:h-12 ${ee.bgColor} rounded-xl flex items-center justify-center`,children:e.jsx(oe,{className:`w-5 h-5 md:w-6 md:h-6 ${ee.iconColor}`})})}),e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:ee.label}),e.jsx("p",{className:"text-2xl md:text-3xl font-bold text-gray-900 mb-1",children:ee.value}),e.jsx("p",{className:"text-xs text-gray-500",children:ee.trend})]},ae)})}),e.jsxs(_p,{value:a,onValueChange:i,className:"space-y-6",children:[e.jsxs(kp,{className:"bg-white border border-gray-200 flex-wrap h-auto p-1",children:[e.jsxs(rn,{value:"overview",className:"gap-2",children:[e.jsx(Ac,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Overview"})]}),e.jsxs(rn,{value:"appointments",className:"gap-2",children:[e.jsx(vt,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Appointments"})]}),e.jsxs(rn,{value:"favorites",className:"gap-2",children:[e.jsx(Kn,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Favorites"})]}),e.jsxs(rn,{value:"rewards",className:"gap-2",children:[e.jsx(dr,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Rewards"})]}),e.jsxs(rn,{value:"payments",className:"gap-2",children:[e.jsx(Wr,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Payments"})]}),e.jsxs(rn,{value:"reviews",className:"gap-2",children:[e.jsx(Gt,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Reviews"})]}),e.jsxs(rn,{value:"settings",className:"gap-2",children:[e.jsx(Ec,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Settings"})]})]}),e.jsxs(nn,{value:"overview",className:"space-y-6",children:[e.jsxs("section",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-2xl font-bold",children:" Upcoming Appointments"}),j.length>0&&e.jsxs(Q,{variant:"ghost",onClick:()=>i("appointments"),className:"text-purple-600 hover:text-purple-700",children:["View All",e.jsx(Gs,{className:"w-4 h-4 ml-1"})]})]}),j.length>0?e.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:j.slice(0,2).map(ee=>e.jsxs(ne,{className:"p-6 hover:shadow-lg transition-all border-2 border-gray-100",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-lg mb-1",children:ee.salonName}),e.jsx("p",{className:"text-gray-600",children:ee.service})]}),e.jsx(Oe,{className:"bg-green-100 text-green-700 border-0",children:"Confirmed"})]}),e.jsxs("div",{className:"space-y-2 text-sm text-gray-600 mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(vt,{className:"w-4 h-4 text-purple-600"}),e.jsx("span",{className:"font-medium text-gray-900",children:ee.date})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(pt,{className:"w-4 h-4 text-purple-600"}),e.jsx("span",{children:ee.time})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(zn,{className:"w-4 h-4 text-purple-600"}),e.jsx("span",{children:ee.staff})]})]}),e.jsxs("div",{className:"flex items-center justify-between pt-4 border-t",children:[e.jsx("span",{className:"text-2xl font-bold text-purple-600",children:t(ee.price)}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(Q,{variant:"outline",size:"sm",children:"Details"}),e.jsx(Q,{size:"sm",className:"bg-gradient-to-r from-purple-600 to-pink-600",children:"Manage"})]})]})]},ee.id))}):e.jsxs(ne,{className:"p-12 text-center",children:[e.jsx(vt,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),e.jsx("p",{className:"text-lg text-gray-600 mb-2",children:"No upcoming appointments"}),e.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Book your next beauty session"}),e.jsxs(Q,{onClick:()=>s("/"),className:"bg-gradient-to-r from-purple-600 to-pink-600",children:[e.jsx(qr,{className:"w-4 h-4 mr-2"}),"Browse Salons"]})]})]}),S.length>0&&e.jsx("section",{children:e.jsx(uCe,{lastBooking:{id:S[0].id,date:S[0].date,services:[{id:"1",name:S[0].service,price:S[0].price,duration:60}],master:{id:"1",name:S[0].staff,avatar:"https://images.unsplash.com/photo-1580489944761-15a19d654956?w=100&h=100&fit=crop"},salon:{id:S[0].salonId||"1",name:S[0].salonName},totalPrice:S[0].price,totalDuration:60,masterNotes:"Client prefers natural look. Allergic to certain chemicals."},onRepeatBooking:F,variant:"large"})}),e.jsxs("section",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-2xl font-bold",children:" Favorite Salons"}),e.jsxs(Q,{variant:"ghost",onClick:()=>i("favorites"),className:"text-purple-600 hover:text-purple-700",children:["View All",e.jsx(Gs,{className:"w-4 h-4 ml-1"})]})]}),e.jsx("div",{className:"grid md:grid-cols-3 gap-4",children:P.slice(0,3).map(ee=>e.jsx(Es,{salon:ee},ee.id))})]}),e.jsxs("section",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-2xl font-bold",children:" Active Rewards"}),e.jsxs(Q,{variant:"ghost",onClick:()=>i("rewards"),className:"text-purple-600 hover:text-purple-700",children:["View All",e.jsx(Gs,{className:"w-4 h-4 ml-1"})]})]}),e.jsx("div",{className:"grid md:grid-cols-3 gap-4",children:O.map(ee=>e.jsxs(ne,{className:"p-6 border-2 border-purple-100 bg-gradient-to-br from-purple-50 to-pink-50 hover:shadow-lg transition-all",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-purple-600 to-pink-600 rounded-xl flex items-center justify-center",children:e.jsx(dr,{className:"w-6 h-6 text-white"})}),e.jsx(Oe,{variant:"outline",className:ee.type==="discount"?"bg-yellow-100 text-yellow-700 border-yellow-300":ee.type==="free"?"bg-green-100 text-green-700 border-green-300":"bg-blue-100 text-blue-700 border-blue-300",children:ee.type==="discount"?"Discount":ee.type==="free"?"Free Service":"Credit"})]}),e.jsx("h3",{className:"font-bold text-lg mb-2",children:ee.title}),e.jsx("p",{className:"text-sm text-gray-600 mb-3",children:ee.description}),e.jsx("div",{className:"flex items-center justify-between text-xs text-gray-500 mb-3",children:e.jsxs("span",{children:["Expires: ",ee.expiresAt]})}),e.jsx("div",{className:"bg-white/70 backdrop-blur-sm rounded-lg p-3 border-2 border-dashed border-purple-300",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"font-mono font-bold text-purple-600",children:ee.code}),e.jsx(Q,{size:"sm",variant:"ghost",className:"h-8 w-8 p-0",children:e.jsx(Ld,{className:"w-4 h-4"})})]})})]},ee.id))})]}),e.jsx("section",{className:"bg-gradient-to-r from-purple-600 to-pink-600 rounded-2xl p-8 text-white",children:e.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-bold mb-2",children:" Special Offers Just For You!"}),e.jsx("p",{className:"text-purple-100 mb-4",children:"Exclusive deals from your favorite salons. Limited time only!"}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx(Oe,{className:"bg-white/20 border-white/30 text-white",children:"Up to 30% OFF"}),e.jsx(Oe,{className:"bg-white/20 border-white/30 text-white",children:"New Services"}),e.jsx(Oe,{className:"bg-white/20 border-white/30 text-white",children:"Premium Locations"})]})]}),e.jsxs(Q,{size:"lg",className:"bg-white text-purple-600 hover:bg-white/90",onClick:()=>s("/feed"),children:[e.jsx(tr,{className:"w-5 h-5 mr-2"}),"View Offers"]})]})})]}),e.jsx(nn,{value:"appointments",className:"space-y-6",children:e.jsxs(_p,{defaultValue:"upcoming",className:"space-y-4",children:[e.jsxs(kp,{className:"bg-white border border-gray-200",children:[e.jsxs(rn,{value:"upcoming",children:["Upcoming (",j.length,")"]}),e.jsxs(rn,{value:"past",children:["Past (",S.length,")"]}),e.jsxs(rn,{value:"cancelled",children:["Cancelled (",C.length,")"]})]}),e.jsx(nn,{value:"upcoming",className:"space-y-4",children:j.map(ee=>e.jsx(ne,{className:"p-6 hover:shadow-lg transition-all",children:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-start lg:justify-between gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("h3",{className:"text-xl font-bold",children:ee.salonName}),e.jsx(Oe,{className:"bg-green-100 text-green-700 border-0",children:ee.status})]}),e.jsxs("div",{className:"space-y-2 text-gray-600",children:[e.jsx("p",{className:"font-medium text-gray-900 text-lg",children:ee.service}),e.jsxs("div",{className:"flex flex-wrap gap-4 text-sm",children:[e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(vt,{className:"w-4 h-4 text-purple-600"}),e.jsx("span",{className:"font-medium",children:ee.date})]}),e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(pt,{className:"w-4 h-4 text-purple-600"}),ee.time]}),e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(zn,{className:"w-4 h-4 text-purple-600"}),ee.staff]})]})]})]}),e.jsxs("div",{className:"flex lg:flex-col items-center lg:items-end justify-between lg:justify-start gap-4",children:[e.jsx("p",{className:"text-2xl font-bold text-purple-600",children:t(ee.price)}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsxs(Q,{variant:"outline",size:"sm",children:[e.jsx(vs,{className:"w-4 h-4 mr-1"}),"Directions"]}),e.jsx(Q,{variant:"outline",size:"sm",onClick:()=>k(ee),children:"Reschedule"}),e.jsx(Q,{variant:"outline",size:"sm",className:"text-red-600 hover:text-red-700 hover:border-red-600",onClick:()=>M(ee),children:"Cancel"})]})]})]})},ee.id))}),e.jsx(nn,{value:"past",className:"space-y-4",children:S.map(ee=>e.jsx(ne,{className:"p-6",children:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-start lg:justify-between gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("h3",{className:"text-xl font-bold",children:ee.salonName}),e.jsx(Oe,{variant:"secondary",children:ee.status})]}),e.jsxs("div",{className:"space-y-2 text-gray-600",children:[e.jsx("p",{className:"font-medium text-gray-900",children:ee.service}),e.jsxs("div",{className:"flex flex-wrap gap-4 text-sm",children:[e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(vt,{className:"w-4 h-4"}),ee.date]}),e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(pt,{className:"w-4 h-4"}),ee.time]})]})]})]}),e.jsxs("div",{className:"flex lg:flex-col items-center lg:items-end justify-between lg:justify-start gap-4",children:[e.jsx("p",{className:"text-xl font-bold text-gray-600",children:t(ee.price)}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsxs(Q,{size:"sm",className:"bg-gradient-to-r from-purple-600 to-pink-600",children:[e.jsx(Gt,{className:"w-4 h-4 mr-1"}),"Write Review"]}),e.jsx(Q,{variant:"outline",size:"sm",children:"Book Again"})]})]})]})},ee.id))}),e.jsx(nn,{value:"cancelled",className:"space-y-4",children:C.length>0?C.map(ee=>e.jsx(ne,{className:"p-6 opacity-60",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("h3",{className:"font-bold text-lg",children:ee.salonName}),e.jsx(Oe,{variant:"outline",className:"border-red-300 text-red-600",children:"Cancelled"})]}),e.jsx("p",{className:"text-gray-600",children:ee.service}),e.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[ee.date,"  ",ee.time]})]}),e.jsx(Q,{variant:"outline",size:"sm",children:"Book Again"})]})},ee.id)):e.jsxs(ne,{className:"p-12 text-center text-gray-500",children:[e.jsx(ht,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),e.jsx("p",{className:"text-lg",children:"No cancelled appointments"})]})})]})}),e.jsxs(nn,{value:"favorites",className:"space-y-8",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2",children:[e.jsx(Kn,{className:"w-6 h-6 text-pink-600"}),"Your Favorite Salons"]}),e.jsxs(Q,{variant:"outline",onClick:()=>s("/"),children:[e.jsx(qr,{className:"w-4 h-4 mr-2"}),"Find More"]})]}),P.length>0?e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:P.map(ee=>e.jsx(Es,{salon:ee},ee.id))}):e.jsxs(ne,{className:"p-12 text-center",children:[e.jsx(Kn,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),e.jsx("p",{className:"text-lg text-gray-600 mb-2",children:"No favorite salons yet"}),e.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Save salons you love for easy access"}),e.jsx(Q,{onClick:()=>s("/"),className:"bg-gradient-to-r from-purple-600 to-pink-600",children:"Browse Salons"})]})]}),e.jsxs("div",{className:"space-y-4 pt-6 border-t border-gray-200",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2",children:[e.jsx(hl,{className:"w-6 h-6 text-purple-600"}),"Your Favorite Services"]}),e.jsxs(Q,{variant:"outline",onClick:()=>s("/"),children:[e.jsx(qr,{className:"w-4 h-4 mr-2"}),"Browse Services"]})]}),T.length>0?e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:T.map(ee=>e.jsxs(ne,{className:"overflow-hidden hover:shadow-lg transition-all",children:[e.jsxs("div",{className:"relative h-32",children:[e.jsx("img",{src:ee.image,alt:ee.name,className:"w-full h-full object-cover"}),e.jsx("button",{onClick:()=>{_(T.filter(ae=>ae.id!==ee.id))},className:"absolute top-2 right-2 w-8 h-8 bg-white/90 hover:bg-white rounded-full flex items-center justify-center transition-all",children:e.jsx(Kn,{className:"w-4 h-4 fill-pink-500 text-pink-500"})})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"font-bold text-gray-900 mb-1",children:ee.name}),e.jsxs("p",{className:"text-sm text-gray-600 flex items-center gap-1 mb-2",children:[e.jsx(vs,{className:"w-3 h-3"}),ee.salonName]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-sm text-gray-500",children:"From"}),e.jsx("p",{className:"font-bold text-purple-600",children:t(ee.price)})]}),e.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600",children:[e.jsx(pt,{className:"w-3 h-3"}),ee.duration," min"]})]}),e.jsx(It,{to:`/salon/${ee.salonId}`,children:e.jsx(Q,{className:"w-full mt-3 bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700",children:"Book Now"})})]})]},ee.id))}):e.jsxs(ne,{className:"p-12 text-center",children:[e.jsx(hl,{className:"w-16 h-16 mx-auto mb-4 text-gray-300"}),e.jsx("p",{className:"text-lg text-gray-600 mb-2",children:"No favorite services yet"}),e.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Save your favorite services for quick booking"}),e.jsx(Q,{onClick:()=>s("/"),className:"bg-gradient-to-r from-purple-600 to-pink-600",children:"Browse Services"})]})]})]}),e.jsxs(nn,{value:"rewards",className:"space-y-6",children:[e.jsxs(ne,{className:"p-6 bg-gradient-to-br from-purple-50 to-pink-50 border-2 border-purple-100",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-xl font-bold",children:"Loyalty Progress"}),e.jsx(Oe,{className:"bg-gradient-to-r from-purple-600 to-pink-600 text-white border-0",children:W.membershipTier})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Current Points"}),e.jsxs("span",{className:"font-bold text-lg text-purple-600",children:[W.loyaltyPoints," / ",W.nextRewardAt]})]}),e.jsx(wSe,{value:W.loyaltyPoints/W.nextRewardAt*100,className:"h-3"}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Earn ",e.jsx("span",{className:"font-bold text-purple-600",children:"70 more points"})," to unlock your next reward! "]})]})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Active Rewards"}),e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:O.map(ee=>e.jsxs(ne,{className:"p-6 border-2 border-purple-100 bg-gradient-to-br from-purple-50 to-pink-50 hover:shadow-lg transition-all",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-purple-600 to-pink-600 rounded-xl flex items-center justify-center",children:e.jsx(dr,{className:"w-6 h-6 text-white"})}),e.jsx(Oe,{variant:"outline",className:ee.type==="discount"?"bg-yellow-100 text-yellow-700 border-yellow-300":ee.type==="free"?"bg-green-100 text-green-700 border-green-300":"bg-blue-100 text-blue-700 border-blue-300",children:ee.type==="discount"?"Discount":ee.type==="free"?"Free Service":"Credit"})]}),e.jsx("h3",{className:"font-bold text-lg mb-2",children:ee.title}),e.jsx("p",{className:"text-sm text-gray-600 mb-3",children:ee.description}),e.jsx("div",{className:"flex items-center justify-between text-xs text-gray-500 mb-3",children:e.jsxs("span",{children:["Expires: ",ee.expiresAt]})}),e.jsx("div",{className:"bg-white/70 backdrop-blur-sm rounded-lg p-3 border-2 border-dashed border-purple-300",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"font-mono font-bold text-purple-600",children:ee.code}),e.jsx(Q,{size:"sm",variant:"ghost",className:"h-8 w-8 p-0",children:e.jsx(Ld,{className:"w-4 h-4"})})]})})]},ee.id))})]}),e.jsx(ne,{className:"p-8 bg-gradient-to-r from-purple-600 to-pink-600 text-white",children:e.jsx("div",{className:"flex flex-col md:flex-row items-center justify-between gap-6",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx(pr,{className:"w-10 h-10"}),e.jsx("h2",{className:"text-3xl font-bold",children:"Refer Friends, Earn Rewards!"})]}),e.jsxs("p",{className:"text-purple-100 mb-4",children:["Share your referral code and get ",e.jsx("span",{className:"font-bold text-white",children:"$15 credit"})," for each friend who signs up!"]}),e.jsx("div",{className:"bg-white/20 backdrop-blur-sm rounded-lg p-4 border-2 border-white/30",children:e.jsxs("div",{className:"flex items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-purple-100 mb-1",children:"Your Referral Code"}),e.jsx("p",{className:"text-2xl font-mono font-bold",children:"ANNA2024"})]}),e.jsx(Q,{onClick:ie,className:"bg-white text-purple-600 hover:bg-white/90",children:o?e.jsxs(e.Fragment,{children:[e.jsx(or,{className:"w-4 h-4 mr-2"}),"Copied!"]}):e.jsxs(e.Fragment,{children:[e.jsx(Ld,{className:"w-4 h-4 mr-2"}),"Copy Code"]})})]})})]})})}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Membership Tiers"}),e.jsx("div",{className:"grid md:grid-cols-3 gap-4",children:["Silver","Gold","Platinum"].map((ee,ae)=>e.jsx(ne,{className:`p-6 ${ee===W.membershipTier?"border-2 border-purple-600 bg-purple-50":"border-2 border-gray-200"}`,children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:`w-16 h-16 mx-auto rounded-full flex items-center justify-center mb-3 ${ae===0?"bg-gray-200":ae===1?"bg-gradient-to-r from-yellow-400 to-yellow-600":"bg-gradient-to-r from-purple-600 to-pink-600"}`,children:e.jsx(ii,{className:"w-8 h-8 text-white"})}),e.jsx("h3",{className:"font-bold text-xl mb-2",children:ee}),e.jsx("p",{className:"text-sm text-gray-600 mb-3",children:ae===0?"0-99 points":ae===1?"100-249 points":"250+ points"}),e.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[e.jsxs("p",{children:[" ",ae===0?"5%":ae===1?"10%":"15%"," discount"]}),e.jsxs("p",{children:[" ",ae===0?"Basic":ae===1?"Priority":"VIP"," booking"]}),e.jsxs("p",{children:[" ",ae===0?"Monthly":ae===1?"Weekly":"Daily"," offers"]})]}),ee===W.membershipTier&&e.jsx(Oe,{className:"mt-4 bg-purple-600 text-white",children:"Current Tier"})]})},ee))})]})]}),e.jsxs(nn,{value:"payments",className:"space-y-6",children:[e.jsxs("section",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-2xl font-bold",children:"Payment Methods"}),e.jsxs(Q,{className:"bg-gradient-to-r from-purple-600 to-pink-600",children:[e.jsx(Wr,{className:"w-4 h-4 mr-2"}),"Add Card"]})]}),e.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:R.map(ee=>e.jsxs(ne,{className:"p-6 border-2 border-gray-200 hover:border-purple-300 transition-all",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Wr,{className:"w-6 h-6 text-gray-600"}),e.jsx("span",{className:"font-bold text-lg",children:ee.type})]}),e.jsxs("p",{className:"text-2xl font-mono",children:[" ",ee.last4]}),e.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Expires ",ee.expiry]})]}),ee.isDefault&&e.jsx(Oe,{className:"bg-purple-100 text-purple-700 border-0",children:"Default"})]}),e.jsxs("div",{className:"flex gap-2",children:[!ee.isDefault&&e.jsx(Q,{variant:"outline",size:"sm",children:"Set as Default"}),e.jsx(Q,{variant:"outline",size:"sm",className:"text-red-600 hover:text-red-700",children:"Remove"})]})]},ee.id))})]}),e.jsxs("section",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-2xl font-bold",children:"Transaction History"}),e.jsxs(Q,{variant:"outline",children:[e.jsx(vr,{className:"w-4 h-4 mr-2"}),"Export"]})]}),e.jsx(ne,{children:e.jsx("div",{className:"divide-y",children:D.map(ee=>e.jsx("div",{className:"p-6 hover:bg-gray-50 transition-colors",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center",children:e.jsx(TL,{className:"w-5 h-5 text-purple-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold",children:ee.salon}),e.jsx("p",{className:"text-sm text-gray-600",children:ee.service})]})]}),e.jsx("p",{className:"text-sm text-gray-500",children:ee.date})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:`text-xl font-bold mb-2 ${ee.status==="refunded"?"text-gray-500":"text-gray-900"}`,children:[ee.status==="refunded"?"-":"",t(ee.amount)]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Oe,{variant:ee.status==="completed"?"default":"secondary",className:ee.status==="completed"?"bg-green-100 text-green-700 border-0":"bg-gray-100 text-gray-700 border-0",children:ee.status}),e.jsx(Q,{variant:"ghost",size:"sm",children:e.jsx(vr,{className:"w-4 h-4"})})]})]})]})},ee.id))})})]}),e.jsxs(ne,{className:"p-6 bg-gradient-to-br from-purple-50 to-pink-50 border-2 border-purple-100",children:[e.jsx("h3",{className:"text-xl font-bold mb-4",children:"Spending Summary"}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Total Spent"}),e.jsx("p",{className:"text-3xl font-bold text-purple-600",children:t(W.totalSpent)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"This Month"}),e.jsx("p",{className:"text-3xl font-bold text-gray-900",children:t(230)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Savings"}),e.jsx("p",{className:"text-3xl font-bold text-green-600",children:t(150)})]})]})]})]}),e.jsxs(nn,{value:"reviews",className:"space-y-6",children:[q.length>0&&e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-bold mb-4",children:" Pending Reviews"}),e.jsx("div",{className:"space-y-4",children:q.map(ee=>e.jsx(ne,{className:"p-6 border-2 border-yellow-200 bg-yellow-50",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-lg mb-1",children:ee.salonName}),e.jsx("p",{className:"text-gray-600",children:ee.service}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:ee.date})]}),e.jsxs(Q,{className:"bg-gradient-to-r from-purple-600 to-pink-600",children:[e.jsx(Gt,{className:"w-4 h-4 mr-2"}),"Write Review"]})]})},ee.id))})]}),e.jsxs("section",{children:[e.jsx("h2",{className:"text-2xl font-bold mb-4",children:"My Reviews"}),e.jsx("div",{className:"space-y-4",children:I.map(ee=>e.jsx(ne,{className:"p-6",children:e.jsxs("div",{className:"flex gap-4",children:[e.jsx("img",{src:ee.salonImage,alt:ee.salon,className:"w-20 h-20 rounded-lg object-cover"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-lg",children:ee.salon}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:5}).map((ae,oe)=>e.jsx(Gt,{className:`w-4 h-4 ${oe<ee.rating?"fill-yellow-400 text-yellow-400":"text-gray-300"}`},oe))}),e.jsx("span",{className:"text-sm text-gray-500",children:ee.date})]})]}),e.jsx(Q,{variant:"ghost",size:"sm",children:"Edit"})]}),e.jsx("p",{className:"text-gray-700 mb-3",children:ee.comment}),e.jsx("div",{className:"flex items-center gap-4 text-sm text-gray-500",children:e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Pa,{className:"w-4 h-4"}),ee.helpful," found helpful"]})})]})]})},ee.id))})]})]}),e.jsxs(nn,{value:"settings",className:"space-y-6",children:[e.jsxs(ne,{className:"p-6",children:[e.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Profile Information"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsxs(Ri,{className:"w-24 h-24",children:[e.jsx(jl,{src:W.avatar,alt:W.name}),e.jsx(wl,{className:"text-2xl",children:W.name[0]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xl font-bold mb-1",children:W.name}),e.jsx("p",{className:"text-gray-600 mb-2",children:W.email}),e.jsxs(Q,{variant:"outline",size:"sm",children:[e.jsx(No,{className:"w-4 h-4 mr-2"}),"Change Photo"]})]})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"First Name"}),e.jsx("input",{type:"text",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",defaultValue:"Anna"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Last Name"}),e.jsx("input",{type:"text",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",defaultValue:"Smith"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Email"}),e.jsx("input",{type:"email",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",defaultValue:W.email})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Phone"}),e.jsx("input",{type:"tel",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",defaultValue:W.phone})]})]}),e.jsx(Q,{className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700",children:"Save Changes"})]})]}),e.jsxs(ne,{className:"p-6",children:[e.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Beauty Preferences"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Favorite Services"}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[J.favoriteServices.map(ee=>e.jsxs(Oe,{className:"bg-purple-100 text-purple-700 border-purple-300 px-4 py-2",children:[ee,e.jsx(ht,{className:"w-3 h-3 ml-2 cursor-pointer"})]},ee)),e.jsx(Q,{variant:"outline",size:"sm",children:"+ Add Service"})]})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Preferred Time"}),e.jsxs("select",{className:"w-full px-4 py-2 border border-gray-300 rounded-lg",children:[e.jsx("option",{children:"Morning (9 AM - 12 PM)"}),e.jsx("option",{selected:!0,children:"Afternoon (2 PM - 5 PM)"}),e.jsx("option",{children:"Evening (5 PM - 8 PM)"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Price Range"}),e.jsxs("select",{className:"w-full px-4 py-2 border border-gray-300 rounded-lg",children:[e.jsx("option",{children:"$0 - $50"}),e.jsx("option",{selected:!0,children:"$50 - $150"}),e.jsx("option",{children:"$150 - $300"}),e.jsx("option",{children:"$300+"})]})]})]})]})]}),e.jsx(yCe,{}),e.jsxs(ne,{className:"p-6",children:[e.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Privacy & Security"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs(Q,{variant:"outline",className:"w-full justify-between",children:[e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(Yn,{className:"w-5 h-5"}),"Change Password"]}),e.jsx(Gs,{className:"w-5 h-5"})]}),e.jsxs(Q,{variant:"outline",className:"w-full justify-between",children:[e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(Yn,{className:"w-5 h-5"}),"Two-Factor Authentication"]}),e.jsx(Oe,{className:"bg-green-100 text-green-700 border-0",children:"Enabled"})]}),e.jsxs(Q,{variant:"outline",className:"w-full justify-between",children:[e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(vr,{className:"w-5 h-5"}),"Download My Data"]}),e.jsx(Gs,{className:"w-5 h-5"})]}),e.jsxs(Q,{variant:"outline",className:"w-full justify-between text-red-600 hover:text-red-700 hover:border-red-600",children:[e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(ht,{className:"w-5 h-5"}),"Delete Account"]}),e.jsx(Gs,{className:"w-5 h-5"})]})]})]}),e.jsx(ne,{className:"p-6 border-2 border-red-200 bg-red-50",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-lg mb-1",children:"Sign Out"}),e.jsx("p",{className:"text-sm text-gray-600",children:"You can always sign back in anytime"})]}),e.jsxs(Q,{variant:"outline",className:"border-red-600 text-red-600 hover:bg-red-600 hover:text-white",children:[e.jsx(Qv,{className:"w-4 h-4 mr-2"}),"Sign Out"]})]})})]})]})]}),e.jsx(cCe,{isOpen:c,onClose:()=>u(!1),booking:x,onSuccess:$}),e.jsx(dCe,{isOpen:m,onClose:()=>p(!1),booking:x,onSuccess:B}),e.jsx(hCe,{variant:"floating",onBookingCreated:H}),e.jsx(Cl,{})]},r.code)}function jCe({salon:t,onClose:r,onSubmit:n}){var k;const[s,a]=N.useState("info"),[i,o]=N.useState(""),[l,c]=N.useState(""),[u,m]=N.useState(""),[p,x]=N.useState(!1),v=(k=t.paymentHistory)==null?void 0:k[0],w=v?new Date(v.date):new Date,j=Math.floor((new Date().getTime()-w.getTime())/(1e3*60*60*24)),S=7-j,C=j<=7,P=(v==null?void 0:v.amount)||0,T=()=>{if(m(""),l.toLowerCase().trim()!==t.email.toLowerCase().trim()){m("Email does not match salon owner email. For security, refund can only be requested by the registered owner.");return}if(!i.trim()){m("Please provide a reason for the refund request.");return}if(!p){m("Please agree to the refund terms and conditions.");return}a("verify")},_=()=>{console.log(" Sending verification email to:",l),a("sent"),setTimeout(()=>{const M={salonId:t.id,salonName:t.name,ownerEmail:t.email,amount:P,paymentDate:v.date,paymentMethod:v.method,reason:i,confirmationEmail:l,daysFromPayment:j};n(M)},2e3)};return e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:e.jsxs(ne,{className:"w-full max-w-2xl max-h-[90vh] overflow-y-auto bg-white",children:[e.jsx("div",{className:"sticky top-0 bg-gradient-to-r from-purple-600 to-pink-600 p-6 text-white z-10",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Yn,{className:"w-8 h-8"}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold",children:"Secure Refund Request"}),e.jsx("p",{className:"text-sm text-purple-100",children:"Protected by email verification"})]})]}),e.jsx(Q,{variant:"ghost",size:"sm",onClick:r,className:"text-white hover:bg-white/20",children:e.jsx(ht,{className:"w-5 h-5"})})]})}),e.jsx("div",{className:"p-6 space-y-6",children:C?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex items-center justify-between mb-6",children:[{id:"info",label:"Information",icon:ux},{id:"verify",label:"Verification",icon:Ut},{id:"sent",label:"Submitted",icon:zt}].map((M,$)=>e.jsxs("div",{className:"flex items-center flex-1",children:[e.jsxs("div",{className:`flex items-center gap-2 ${s===M.id?"text-purple-600":["verify","sent"].includes(s)&&$<1||s==="sent"&&$<2?"text-green-600":"text-gray-400"}`,children:[e.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-bold ${s===M.id?"bg-purple-600 text-white":["verify","sent"].includes(s)&&$<1||s==="sent"&&$<2?"bg-green-600 text-white":"bg-gray-200 text-gray-500"}`,children:e.jsx(M.icon,{className:"w-5 h-5"})}),e.jsx("span",{className:"text-sm font-semibold hidden sm:block",children:M.label})]}),$<2&&e.jsx("div",{className:`flex-1 h-1 mx-2 rounded ${["verify","sent"].includes(s)&&$<1||s==="sent"&&$===1?"bg-green-600":"bg-gray-200"}`})]},M.id))}),s==="info"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs(ne,{className:"p-5 border-2 border-green-200 bg-green-50",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx(zt,{className:"w-6 h-6 text-green-600"}),e.jsx("h3",{className:"font-bold text-green-900",children:"Eligible for Refund"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(vt,{className:"w-4 h-4 text-green-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600",children:"Days since payment:"}),e.jsxs("p",{className:"font-bold text-green-700",children:[j," days"]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(pt,{className:"w-4 h-4 text-green-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600",children:"Days left to request:"}),e.jsxs("p",{className:"font-bold text-green-700",children:[S," days"]})]})]})]})]}),e.jsxs(ne,{className:"p-5 border-2 border-purple-100 bg-purple-50/30",children:[e.jsxs("h3",{className:"font-bold text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx(Zt,{className:"w-5 h-5 text-purple-600"}),"Refund Details"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600",children:"Salon:"}),e.jsx("span",{className:"font-bold",children:t.name})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600",children:"Owner:"}),e.jsx("span",{className:"font-bold",children:t.owner})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600",children:"Payment Date:"}),e.jsx("span",{className:"font-bold",children:v==null?void 0:v.date})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600",children:"Payment Method:"}),e.jsxs(Oe,{className:"bg-blue-100 text-blue-700 gap-2",children:[e.jsx(Wr,{className:"w-3 h-3"}),v==null?void 0:v.method]})]}),e.jsxs("div",{className:"pt-3 border-t-2 border-purple-200 flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-600 font-semibold",children:"Refund Amount:"}),e.jsxs("span",{className:"font-bold text-2xl text-green-600",children:["AED ",P.toFixed(2)]})]})]})]}),e.jsx(ne,{className:"p-5 border-2 border-blue-100 bg-blue-50",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(Yt,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsx("h4",{className:"font-bold text-blue-900",children:"Security & Refund Policy"}),e.jsxs("ul",{className:"space-y-1 text-blue-800",children:[e.jsxs("li",{children:[" Refund will be sent to the ",e.jsx("strong",{children:"original payment method only"})]}),e.jsx("li",{children:" Email verification required for security"}),e.jsx("li",{children:" Super admin will review and approve request"}),e.jsx("li",{children:" Processing time: 5-10 business days"}),e.jsx("li",{children:" You will receive email confirmation at each step"})]})]})]})}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:["Reason for Refund Request ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("textarea",{value:i,onChange:M=>o(M.target.value),placeholder:"Please explain why you are requesting a refund...",className:"w-full p-3 border-2 border-gray-300 rounded-lg focus:border-purple-500 focus:ring-2 focus:ring-purple-200 min-h-[100px]",maxLength:500}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[i.length,"/500 characters"]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:["Confirm Your Email ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(Ut,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx(He,{type:"email",value:l,onChange:M=>{c(M.target.value),m("")},placeholder:"Enter your registered email",className:"pl-10 border-2 border-gray-300 focus:border-purple-500"})]}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Must match: ",e.jsx("strong",{children:t.email})]}),u&&e.jsxs("p",{className:"text-sm text-red-600 mt-2 flex items-center gap-1",children:[e.jsx(fr,{className:"w-4 h-4"}),u]})]}),e.jsxs("label",{className:"flex items-start gap-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:p,onChange:M=>x(M.target.checked),className:"mt-1 w-5 h-5 text-purple-600 border-gray-300 rounded focus:ring-purple-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"I understand that the refund will be processed to my original payment method, and I agree to the 7-day refund policy terms. I confirm that I am the authorized owner of this salon account."})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(Q,{variant:"outline",onClick:r,className:"flex-1",children:"Cancel"}),e.jsx(Q,{onClick:T,className:"flex-1 bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700",children:"Continue to Verification"})]})]}),s==="verify"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx(ne,{className:"p-6 border-2 border-purple-200 bg-purple-50",children:e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx("div",{className:"w-16 h-16 rounded-full bg-purple-600 text-white flex items-center justify-center mx-auto",children:e.jsx(Ut,{className:"w-8 h-8"})}),e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Email Verification Required"}),e.jsx("p",{className:"text-gray-700",children:"We will send a verification email to:"}),e.jsx("p",{className:"text-lg font-bold text-purple-600",children:l}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Click the link in the email to confirm your refund request. The link will be valid for ",e.jsx("strong",{children:"24 hours"}),"."]})]})}),e.jsx(ne,{className:"p-5 border-2 border-amber-200 bg-amber-50",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(fr,{className:"w-5 h-5 text-amber-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"text-sm space-y-2",children:[e.jsx("h4",{className:"font-bold text-amber-900",children:"Important Security Note"}),e.jsx("p",{className:"text-amber-800",children:"After email confirmation, a super admin will review your request. You will receive a final confirmation email when the refund is approved and processed."})]})]})}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border-2 border-gray-200 space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Refund Amount:"}),e.jsxs("span",{className:"font-bold",children:["AED ",P.toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Refund To:"}),e.jsx("span",{className:"font-bold",children:v==null?void 0:v.method})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Processing Time:"}),e.jsx("span",{className:"font-bold",children:"5-10 business days"})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs(Q,{variant:"outline",onClick:()=>a("info"),className:"flex-1",children:[e.jsx(Vi,{className:"w-4 h-4 mr-2"}),"Back"]}),e.jsxs(Q,{onClick:_,className:"flex-1 bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700",children:[e.jsx(Ut,{className:"w-4 h-4 mr-2"}),"Send Verification Email"]})]})]}),s==="sent"&&e.jsxs("div",{className:"space-y-6 text-center py-8",children:[e.jsx("div",{className:"w-20 h-20 rounded-full bg-green-100 text-green-600 flex items-center justify-center mx-auto animate-bounce",children:e.jsx(zt,{className:"w-10 h-10"})}),e.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"Request Submitted!"}),e.jsxs("p",{className:"text-gray-700 max-w-md mx-auto",children:["We've sent a verification email to ",e.jsx("strong",{children:l}),". Please check your inbox and click the confirmation link."]}),e.jsxs(ne,{className:"p-6 border-2 border-blue-100 bg-blue-50 text-left",children:[e.jsx("h4",{className:"font-bold text-blue-900 mb-3",children:"Next Steps:"}),e.jsxs("ol",{className:"space-y-2 text-sm text-blue-800",children:[e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"font-bold",children:"1."}),e.jsx("span",{children:"Check your email inbox (and spam folder)"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"font-bold",children:"2."}),e.jsx("span",{children:"Click the verification link within 24 hours"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"font-bold",children:"3."}),e.jsx("span",{children:"Super admin will review your request"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"font-bold",children:"4."}),e.jsx("span",{children:"Refund processed within 5-10 business days"})]})]})]}),e.jsx(Q,{onClick:r,className:"bg-purple-600 hover:bg-purple-700",children:"Close"})]})]}):e.jsx(ne,{className:"p-6 border-2 border-red-200 bg-red-50",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx(fr,{className:"w-8 h-8 text-red-600 flex-shrink-0 mt-1"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-red-900 text-lg mb-2",children:"Refund Period Expired"}),e.jsxs("p",{className:"text-red-700 mb-3",children:["According to our refund policy, refunds can only be requested within"," ",e.jsx("strong",{children:"7 days"})," of payment."]}),e.jsx("div",{className:"bg-white p-4 rounded-lg border border-red-200",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600",children:"Payment Date:"}),e.jsx("p",{className:"font-bold text-gray-900",children:v==null?void 0:v.date})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600",children:"Days Since Payment:"}),e.jsxs("p",{className:"font-bold text-red-600",children:[j," days"]})]})]})}),e.jsxs("p",{className:"text-sm text-gray-600 mt-3",children:["If you believe this is an error or have special circumstances, please contact support at ",e.jsx("strong",{children:"support@katia.beauty"})]})]})]})})})]})})}function wCe(){var Uc,Hc,Wc,Ol,gu,Ro,Ar,vu,Ml,qc,Io;const[t,r]=N.useState(null),[n,s]=N.useState(null),[a,i]=N.useState(!1),[o,l]=N.useState("all"),[c,u]=N.useState(""),[m,p]=N.useState([]),[x,v]=N.useState(!1),[w,y]=N.useState(!1),[j,S]=N.useState(!1),[C,P]=N.useState(!0),[T,_]=N.useState(new Date),[k,M]=N.useState([]),[$,B]=N.useState(!1),[F,H]=N.useState({newSalons:0,newPayments:0,failedPayments:0,warnings:0}),[K,Z]=N.useState(!1),[V,W]=N.useState(!1),[G,O]=N.useState(!1),[R,D]=N.useState(!1),[I,q]=N.useState(!1),[J,ie]=N.useState(!1),[ee,ae]=N.useState(!1),[oe,te]=N.useState([]),[ue,de]=N.useState("details"),[fe,ye]=N.useState("all"),[he,Ce]=N.useState("all"),[Se,$e]=N.useState("all"),[qe,Fe]=N.useState("all"),[it,rt]=N.useState([]),[yt,Pt]=N.useState(""),[Et,Te]=N.useState(!1),[$t,Dt]=N.useState("all"),[De,Ge]=N.useState(!1),[Je,Jt]=N.useState(null),[bt,kr]=N.useState(!1),[dn,yr]=N.useState(!1),[js,ws]=N.useState(!1),[ta,is]=N.useState(""),[ra,$r]=N.useState(!1),Sn=[{id:"basic",name:"",nameEn:"Basic",price:99,color:"#8B5CF6",gradient:"from-purple-500 to-purple-600",salons:687,revenue:68013,mrr:68013,churnRate:3.2,avgLifetime:14.5,conversionRate:62.3,features:["5 Masters","Basic Calendar","100 Bookings/mo","Email Support"]},{id:"standard",name:"",nameEn:"Standard",price:299,color:"#EC4899",gradient:"from-pink-500 to-pink-600",salons:243,revenue:72657,mrr:72657,churnRate:1.8,avgLifetime:22.3,conversionRate:78.9,features:["15 Masters","Advanced Calendar","500 Bookings/mo","Priority Support","SMS Notifications"]},{id:"business",name:"",nameEn:"Business",price:499,color:"#F59E0B",gradient:"from-amber-500 to-orange-600",salons:369,revenue:184119,mrr:184119,churnRate:.9,avgLifetime:31.8,conversionRate:89.2,features:["Unlimited Masters","Pro Calendar + Drag&Drop","Unlimited Bookings","24/7 Support","SMS + WhatsApp","Analytics Dashboard","White Label"]}],Zr=[{id:101,name:"New Beauty Spa",owner:"Sarah Johnson",email:"sarah@newbeauty.com",phone:"+971501112233",registered:"2024-12-08",expiresIn:15,daysLeft:15,bookings:23,activity:78,conversionProbability:85,status:"active"},{id:102,name:"Glam Studio X",owner:"Emma Davis",email:"emma@glam.com",phone:"+971502223344",registered:"2024-12-15",expiresIn:8,daysLeft:8,bookings:42,activity:92,conversionProbability:95,status:"active"},{id:103,name:"Quick Salon",owner:"Mike Brown",email:"mike@quick.com",phone:"+971503334455",registered:"2024-12-20",expiresIn:3,daysLeft:3,bookings:8,activity:45,conversionProbability:62,status:"expiring_soon"},{id:104,name:"Test Salon ABC",owner:"Test User",email:"test@abc.com",phone:"+971504445566",registered:"2024-12-22",expiresIn:1,daysLeft:1,bookings:2,activity:15,conversionProbability:28,status:"expiring_soon"},{id:105,name:"Beauty Hub",owner:"Lisa White",email:"lisa@hub.com",phone:"+971505556677",registered:"2024-12-01",expiresIn:22,daysLeft:22,bookings:67,activity:88,conversionProbability:92,status:"active"}],Rt={basic:[{id:1,name:"Beauty Corner",owner:"Maria Ivanova",email:"maria@beauty.com",phone:"+971501234567",registered:"2024-10-15",status:"active",revenue:2970,bookings:145,warnings:0,nextPayment:"2025-01-15",autoRenew:!0,healthScore:92,billingPeriod:"monthly",tags:["VIP","High-Value"],notes:[{id:1,admin:"John Admin",date:"2024-12-20",text:"Great customer, very active"}],paymentHistory:[{id:1,date:"2024-12-15",amount:99,status:"success",method:"Visa  4242"},{id:2,date:"2024-11-15",amount:99,status:"success",method:"Visa  4242"},{id:3,date:"2024-10-15",amount:99,status:"success",method:"Visa  4242"}],timeline:[{id:1,date:"2024-10-15",type:"registration",text:"Registered (Basic Plan)"},{id:2,date:"2024-11-15",type:"payment",text:"Payment received: AED 99"},{id:3,date:"2024-12-15",type:"payment",text:"Payment received: AED 99"}],communications:[{id:1,date:"2024-12-10",type:"email",subject:"Feature Announcement",status:"opened"},{id:2,date:"2024-11-20",type:"email",subject:"Monthly Newsletter",status:"opened"}],integrations:[{name:"Google Calendar",status:"active",lastSync:"2024-12-22 14:30"},{name:"Stripe",status:"active",lastSync:"2024-12-22 14:30"},{name:"Mailchimp",status:"inactive",lastSync:null}]},{id:2,name:"Nails Art Studio",owner:"Anna Petrova",email:"anna@nails.com",phone:"+971509876543",registered:"2024-11-01",status:"active",revenue:1980,bookings:98,warnings:0,nextPayment:"2025-01-01",autoRenew:!0,healthScore:78,billingPeriod:"semi-annual",tags:[],notes:[],paymentHistory:[{id:1,date:"2024-12-01",amount:99,status:"success",method:"Mastercard  5555"},{id:2,date:"2024-11-01",amount:99,status:"success",method:"Mastercard  5555"}],timeline:[{id:1,date:"2024-11-01",type:"registration",text:"Registered (Basic Plan)"},{id:2,date:"2024-12-01",type:"payment",text:"Payment received: AED 99"}],communications:[],integrations:[{name:"Google Calendar",status:"active",lastSync:"2024-12-22 12:15"},{name:"Stripe",status:"active",lastSync:"2024-12-22 12:15"}]},{id:3,name:"Quick Cuts",owner:"John Smith",email:"john@cuts.com",phone:"+971507654321",registered:"2024-09-20",status:"overdue",revenue:891,bookings:45,warnings:2,nextPayment:"2024-12-20",autoRenew:!1,healthScore:35,billingPeriod:"annual",tags:["At-Risk","Payment-Issues"],notes:[{id:1,admin:"Sarah Admin",date:"2024-12-20",text:"Payment failed 2 times, called owner - promised to update card"},{id:2,admin:"John Admin",date:"2024-12-18",text:"Sent payment reminder email"}],paymentHistory:[{id:1,date:"2024-12-20",amount:99,status:"failed",method:"Visa  1234",reason:"Card expired"},{id:2,date:"2024-12-18",amount:99,status:"failed",method:"Visa  1234",reason:"Insufficient funds"},{id:3,date:"2024-11-20",amount:99,status:"success",method:"Visa  1234"}],timeline:[{id:1,date:"2024-09-20",type:"registration",text:"Registered (Basic Plan)"},{id:2,date:"2024-12-18",type:"warning",text:"Warning sent: Payment Overdue"},{id:3,date:"2024-12-20",type:"payment_failed",text:"Payment failed: Card expired"}],communications:[{id:1,date:"2024-12-20",type:"phone",subject:"Payment issue follow-up",status:"completed"},{id:2,date:"2024-12-18",type:"email",subject:"Payment Overdue Warning",status:"opened"}],integrations:[{name:"Google Calendar",status:"active",lastSync:"2024-12-15 09:30"},{name:"Stripe",status:"active",lastSync:"2024-12-15 09:30"}]},{id:4,name:"Shine & Glow",owner:"Emma Thompson",email:"emma@shine.com",phone:"+971508888888",registered:"2024-07-15",status:"active",revenue:2970,bookings:134,warnings:0,nextPayment:"2025-01-15",autoRenew:!0,healthScore:85,billingPeriod:"semi-annual",tags:[],notes:[],paymentHistory:[{id:1,date:"2024-07-15",amount:495,status:"success",method:"Visa  2222"}],timeline:[{id:1,date:"2024-07-15",type:"registration",text:"Registered (Basic Plan - 6 months)"}],communications:[],integrations:[{name:"Google Calendar",status:"active",lastSync:"2024-12-22 11:00"},{name:"Stripe",status:"active",lastSync:"2024-12-22 11:00"}]},{id:5,name:"Fresh Look Salon",owner:"David Lee",email:"david@fresh.com",phone:"+971509999999",registered:"2024-01-20",status:"active",revenue:5940,bookings:289,warnings:0,nextPayment:"2025-01-20",autoRenew:!0,healthScore:91,billingPeriod:"annual",tags:["High-Value"],notes:[],paymentHistory:[{id:1,date:"2024-01-20",amount:990,status:"success",method:"Mastercard  4444"}],timeline:[{id:1,date:"2024-01-20",type:"registration",text:"Registered (Basic Plan - Annual)"}],communications:[],integrations:[{name:"Google Calendar",status:"active",lastSync:"2024-12-22 10:30"},{name:"Stripe",status:"active",lastSync:"2024-12-22 10:30"}]}],standard:[{id:6,name:"Glamour Studio",owner:"Victoria Laurent",email:"victoria@glamour.com",phone:"+971501111111",registered:"2024-05-12",status:"active",revenue:11960,bookings:567,warnings:0,nextPayment:"2025-01-12",autoRenew:!0,healthScore:98,billingPeriod:"monthly",tags:["VIP","High-Revenue","Top-Performer"],notes:[{id:1,admin:"CEO",date:"2024-12-01",text:"Excellent partner, considering upgrade to Business"}],paymentHistory:[{id:1,date:"2024-12-12",amount:299,status:"success",method:"Visa  9999"},{id:2,date:"2024-11-12",amount:299,status:"success",method:"Visa  9999"},{id:3,date:"2024-10-12",amount:299,status:"success",method:"Visa  9999"}],timeline:[{id:1,date:"2024-05-12",type:"registration",text:"Registered (Basic Plan)"},{id:2,date:"2024-08-01",type:"upgrade",text:"Upgraded to Standard Plan"},{id:3,date:"2024-12-12",type:"payment",text:"Payment received: AED 299"}],communications:[{id:1,date:"2024-12-15",type:"email",subject:"Business Plan Offer (20% off)",status:"opened"}],integrations:[{name:"Google Calendar",status:"active",lastSync:"2024-12-22 15:45"},{name:"Stripe",status:"active",lastSync:"2024-12-22 15:45"},{name:"Mailchimp",status:"active",lastSync:"2024-12-22 10:30"}]},{id:7,name:"Elite Beauty Lounge",owner:"Sofia Martinez",email:"sofia@elite.com",phone:"+971502222222",registered:"2024-03-10",status:"active",revenue:8970,bookings:423,warnings:0,nextPayment:"2025-03-10",autoRenew:!0,healthScore:94,billingPeriod:"semi-annual",tags:["High-Value"],notes:[],paymentHistory:[{id:1,date:"2024-09-10",amount:1497,status:"success",method:"Visa  8888"},{id:2,date:"2024-03-10",amount:1497,status:"success",method:"Visa  8888"}],timeline:[{id:1,date:"2024-03-10",type:"registration",text:"Registered (Standard Plan - 6 months)"},{id:2,date:"2024-09-10",type:"payment",text:"Payment received: AED 1,497 (6 months)"}],communications:[],integrations:[{name:"Google Calendar",status:"active",lastSync:"2024-12-22 13:20"},{name:"Stripe",status:"active",lastSync:"2024-12-22 13:20"}]},{id:8,name:"Prestige Salon",owner:"Michael Chen",email:"michael@prestige.com",phone:"+971503333333",registered:"2024-01-05",status:"active",revenue:14352,bookings:678,warnings:0,nextPayment:"2025-01-05",autoRenew:!0,healthScore:96,billingPeriod:"annual",tags:["VIP","Top-Performer"],notes:[],paymentHistory:[{id:1,date:"2024-01-05",amount:2989,status:"success",method:"Amex  7777"}],timeline:[{id:1,date:"2024-01-05",type:"registration",text:"Registered (Standard Plan - Annual)"}],communications:[],integrations:[{name:"Google Calendar",status:"active",lastSync:"2024-12-22 14:50"},{name:"Stripe",status:"active",lastSync:"2024-12-22 14:50"}]}],business:[{id:10,name:"Royal Spa & Salon",owner:"Alexander Petrov",email:"alex@royal.com",phone:"+971505555555",registered:"2024-01-15",status:"active",revenue:29950,bookings:1245,warnings:0,nextPayment:"2025-01-15",autoRenew:!0,healthScore:100,billingPeriod:"annual",tags:["VIP","Enterprise","Top-Revenue"],notes:[{id:1,admin:"CEO",date:"2024-11-20",text:"Top customer, offered custom enterprise plan"}],paymentHistory:[{id:1,date:"2024-12-15",amount:499,status:"success",method:"Amex  1111"},{id:2,date:"2024-11-15",amount:499,status:"success",method:"Amex  1111"}],timeline:[{id:1,date:"2024-01-15",type:"registration",text:"Registered (Standard Plan)"},{id:2,date:"2024-03-01",type:"upgrade",text:"Upgraded to Business Plan"}],communications:[],integrations:[{name:"Google Calendar",status:"active",lastSync:"2024-12-22 16:00"},{name:"Stripe",status:"active",lastSync:"2024-12-22 16:00"},{name:"Mailchimp",status:"active",lastSync:"2024-12-22 14:20"},{name:"Zapier",status:"active",lastSync:"2024-12-22 11:10"}]},{id:11,name:"Luxe Beauty Empire",owner:"Isabella Rodriguez",email:"isabella@luxe.com",phone:"+971506666666",registered:"2024-06-01",status:"active",revenue:14970,bookings:834,warnings:0,nextPayment:"2024-12-01",autoRenew:!0,healthScore:97,billingPeriod:"semi-annual",tags:["VIP","High-Revenue"],notes:[],paymentHistory:[{id:1,date:"2024-06-01",amount:2495,status:"success",method:"Visa  6666"},{id:2,date:"2024-12-01",amount:2495,status:"success",method:"Visa  6666"}],timeline:[{id:1,date:"2024-06-01",type:"registration",text:"Registered (Business Plan - 6 months)"},{id:2,date:"2024-12-01",type:"payment",text:"Payment received: AED 2,495 (6 months)"}],communications:[],integrations:[{name:"Google Calendar",status:"active",lastSync:"2024-12-22 16:30"},{name:"Stripe",status:"active",lastSync:"2024-12-22 16:30"},{name:"Mailchimp",status:"active",lastSync:"2024-12-22 15:00"}]},{id:12,name:"Diamond Beauty Palace",owner:"Olivia Williams",email:"olivia@diamond.com",phone:"+971507777777",registered:"2024-02-01",status:"active",revenue:22456,bookings:1456,warnings:0,nextPayment:"2025-02-01",autoRenew:!0,healthScore:99,billingPeriod:"monthly",tags:["VIP","Enterprise","Top-Revenue"],notes:[{id:1,admin:"CEO",date:"2024-12-15",text:"Top tier customer, highly satisfied"}],paymentHistory:[{id:1,date:"2024-12-01",amount:499,status:"success",method:"Amex  3333"},{id:2,date:"2024-11-01",amount:499,status:"success",method:"Amex  3333"}],timeline:[{id:1,date:"2024-02-01",type:"registration",text:"Registered (Business Plan)"}],communications:[],integrations:[{name:"Google Calendar",status:"active",lastSync:"2024-12-22 17:00"},{name:"Stripe",status:"active",lastSync:"2024-12-22 17:00"},{name:"Mailchimp",status:"active",lastSync:"2024-12-22 16:30"}]}]},Ns=[{id:14,name:"Diamond Cuts",plan:"Business",owner:"Natalia Ivanov",email:"nat@diamond.com",blockReason:"Multiple policy violations (fake reviews, spam)",warnings:3,blockedDate:"2024-12-20",revenue:9980}],_t=[{month:"Jul",basic:58e3,standard:62e3,business:145e3},{month:"Aug",basic:62e3,standard:68e3,business:165e3},{month:"Sep",basic:64e3,standard:7e4,business:172e3},{month:"Oct",basic:66e3,standard:71e3,business:178e3},{month:"Nov",basic:67e3,standard:72e3,business:182e3},{month:"Dec",basic:68013,standard:72657,business:184119}],br=[{name:"Trial Started",value:230,fill:"#94A3B8"},{name:"Basic Plan",value:143,fill:"#8B5CF6"},{name:"Standard Plan",value:56,fill:"#EC4899"},{name:"Business Plan",value:33,fill:"#F59E0B"}],Cr=[{month:"Jul",upgrades:12,downgrades:3},{month:"Aug",upgrades:15,downgrades:4},{month:"Sep",upgrades:18,downgrades:2},{month:"Oct",upgrades:14,downgrades:5},{month:"Nov",upgrades:20,downgrades:3},{month:"Dec",upgrades:23,downgrades:2}],Br=[{name:"VIP",color:"#8B5CF6"},{name:"High-Value",color:"#10B981"},{name:"At-Risk",color:"#EF4444"},{name:"Payment-Issues",color:"#F59E0B"},{name:"Top-Performer",color:"#3B82F6"},{name:"Enterprise",color:"#EC4899"},{name:"Top-Revenue",color:"#10B981"},{name:"Problem-Customer",color:"#EF4444"},{name:"New",color:"#6366F1"}],Da=[{id:1,name:"Auto-block after 3 warnings",enabled:!0},{id:2,name:"Auto-downgrade if payment fails 3 times",enabled:!1},{id:3,name:"Auto-reminder emails (overdue +1/3/7 days)",enabled:!0},{id:4,name:"Auto-cancel trial if no activity",enabled:!1}],Pr=[{id:1,action:"Send payment reminder",salon:"Beauty Corner",date:"2025-01-14 10:00",status:"pending"},{id:2,action:"Block salon (3 warnings)",salon:"Quick Cuts",date:"2025-01-15 00:00",status:"pending"},{id:3,action:"Trial expiration warning",salon:"Test Salon ABC",date:"2024-12-24 09:00",status:"pending"},{id:4,action:"Auto-upgrade offer",salon:"Glamour Studio",date:"2025-01-10 12:00",status:"completed"}],un=[{month:"Jan 2025",forecast:335e3,actual:0,confidence:85},{month:"Feb 2025",forecast:348e3,actual:0,confidence:82},{month:"Mar 2025",forecast:362e3,actual:0,confidence:78},{month:"Apr 2025",forecast:378e3,actual:0,confidence:75}],Ra=[{id:3,name:"Quick Cuts",plan:"Basic",churnRisk:92,reasons:["Payment failures","Low usage","No auto-renew"],daysLeft:12},{id:5,name:"Nails Art Studio",plan:"Basic",churnRisk:68,reasons:["Decreasing bookings","Support tickets"],daysLeft:28},{id:9,name:"Test Salon",plan:"Standard",churnRisk:54,reasons:["Price concerns"],daysLeft:45}],yn=[{id:1,name:"Upgrade to Business Promo",recipients:67,sent:67,opened:42,clicked:18,converted:5,status:"completed",date:"2024-12-15"},{id:2,name:"Trial Expiration Reminder",recipients:23,sent:23,opened:19,clicked:8,converted:3,status:"completed",date:"2024-12-20"},{id:3,name:"Payment Failed Follow-up",recipients:12,sent:8,opened:5,clicked:2,converted:1,status:"in_progress",date:"2024-12-22"}],Xn={revenue:{industry:8450,katia:9234,percentile:68},bookings:{industry:245,katia:287,percentile:72},retention:{industry:85,katia:91,percentile:78},growth:{industry:12,katia:18,percentile:82}},bn=[{id:1,name:"Pricing Page - New Layout",status:"running",startDate:"2024-12-01",variants:[{name:"Control",visitors:1245,conversions:78,rate:6.3},{name:"Variant A",visitors:1312,conversions:102,rate:7.8}],winner:"Variant A",confidence:94},{id:2,name:"Trial CTA Button Color",status:"completed",startDate:"2024-11-15",endDate:"2024-12-15",variants:[{name:"Purple",visitors:2340,conversions:145,rate:6.2},{name:"Green",visitors:2289,conversions:189,rate:8.3}],winner:"Green",confidence:98},{id:3,name:"Email Subject Line Test",status:"running",startDate:"2024-12-20",variants:[{name:"Urgent",visitors:456,conversions:34,rate:7.5},{name:"Benefit-focused",visitors:478,conversions:48,rate:10}],winner:"Benefit-focused",confidence:87}],Ye=[{key:"Cmd+K",action:"Open Command Palette",category:"General"},{key:"Cmd+F",action:"Focus Search",category:"Navigation"},{key:"Cmd+N",action:"New Notification",category:"Actions"},{key:"Cmd+E",action:"Export Data",category:"Actions"},{key:"Cmd+B",action:"Toggle Sidebar",category:"Navigation"},{key:"Cmd+/",action:"Show Shortcuts",category:"General"},{key:"Esc",action:"Close Modal/Panel",category:"General"},{key:"/",action:"Quick Search",category:"Navigation"}],Zi=[{id:1,name:"View Trial Salons",icon:"",action:()=>S(!0),category:"Navigation"},{id:2,name:"Open Analytics",icon:"",action:()=>y(!0),category:"Navigation"},{id:3,name:"Churn Prediction",icon:"",action:()=>O(!0),category:"Navigation"},{id:4,name:"Email Campaigns",icon:"",action:()=>q(!0),category:"Navigation"},{id:5,name:"Export Report",icon:"",action:()=>$r(!0),category:"Actions"},{id:6,name:"Toggle Live Updates",icon:"",action:()=>P(!C),category:"Settings"},{id:7,name:"View Notifications",icon:"",action:()=>B(!0),category:"Navigation"},{id:8,name:"A/B Testing",icon:"",action:()=>D(!0),category:"Navigation"},{id:9,name:"Custom Reports",icon:"",action:()=>kr(!0),category:"Navigation"},{id:10,name:"Benchmark Data",icon:"",action:()=>ie(!0),category:"Navigation"}];N.useEffect(()=>{if(!C)return;const re=setInterval(()=>{const Ee=Math.random();Ee>.8?(H(Qe=>({...Qe,newSalons:Qe.newSalons+1})),hi(' New salon registered: "Luxury Spa Dubai"',"success")):Ee>.6?(H(Qe=>({...Qe,newPayments:Qe.newPayments+1})),hi(" Payment received: AED 299 from Glamour Studio","success")):Ee>.4?(H(Qe=>({...Qe,failedPayments:Qe.failedPayments+1})),hi(" Payment failed: Quick Cuts - Card expired","warning")):Ee>.2&&(H(Qe=>({...Qe,warnings:Qe.warnings+1})),hi(" Warning sent to: Diamond Cuts - Policy violation","warning")),_(new Date)},8e3);return()=>clearInterval(re)},[C]);const hi=(re,Ee)=>{const Qe={id:Date.now(),message:re,type:Ee,time:new Date().toLocaleTimeString(),read:!1};M(Vr=>[Qe,...Vr].slice(0,20))};N.useEffect(()=>{const re=Ee=>{if((Ee.metaKey||Ee.ctrlKey)&&Ee.key==="k"&&(Ee.preventDefault(),yr(!0)),(Ee.metaKey||Ee.ctrlKey)&&Ee.key==="e"&&(Ee.preventDefault(),$r(!0)),Ee.key==="Escape"&&(yr(!1),$r(!1),ws(!1)),Ee.key==="/"&&!Ee.metaKey&&!Ee.ctrlKey){Ee.preventDefault();const Qe=document.querySelector('input[placeholder*="Search"]');Qe&&Qe.focus()}};return window.addEventListener("keydown",re),()=>window.removeEventListener("keydown",re)},[]);const Xi=re=>{let Ee=Rt[re]||[];return o!=="all"&&(Ee=Ee.filter(Qe=>Qe.status===o)),$t!=="all"&&(Ee=Ee.filter(Qe=>Qe.billingPeriod===$t)),c&&(Ee=Ee.filter(Qe=>Qe.name.toLowerCase().includes(c.toLowerCase())||Qe.owner.toLowerCase().includes(c.toLowerCase())||Qe.email.toLowerCase().includes(c.toLowerCase())||Qe.phone.includes(c))),fe==="0-1000"?Ee=Ee.filter(Qe=>Qe.revenue<1e3):fe==="1000-5000"?Ee=Ee.filter(Qe=>Qe.revenue>=1e3&&Qe.revenue<5e3):fe==="5000+"&&(Ee=Ee.filter(Qe=>Qe.revenue>=5e3)),Se==="0"?Ee=Ee.filter(Qe=>Qe.warnings===0):Se==="1-2"?Ee=Ee.filter(Qe=>Qe.warnings>=1&&Qe.warnings<=2):Se==="3+"&&(Ee=Ee.filter(Qe=>Qe.warnings>=3)),qe==="enabled"?Ee=Ee.filter(Qe=>Qe.autoRenew===!0):qe==="disabled"&&(Ee=Ee.filter(Qe=>Qe.autoRenew===!1)),it.length>0&&(Ee=Ee.filter(Qe=>it.some(Vr=>Qe.tags.includes(Vr)))),Ee},pu=()=>{if(!t)return;const re=Xi(t);m.length===re.length?p([]):p(re.map(Ee=>Ee.id))},zc=re=>{m.includes(re)?p(m.filter(Ee=>Ee!==re)):p([...m,re])},os=re=>{if(m.length===0){alert("Please select at least one salon");return}alert(`Bulk action: ${re} for ${m.length} salons`),p([]),v(!1)},Ia=()=>{if(m.length===0){alert("Please select at least one salon to export");return}alert(`Exporting ${m.length} salons to CSV...`)},Do=re=>{var Vr;let Ee=100;const Qe=((Vr=re.paymentHistory)==null?void 0:Vr.filter(na=>na.status==="failed").length)||0;return Ee-=Qe*10,Ee-=re.warnings*15,re.bookings<50?Ee-=20:re.bookings<100&&(Ee-=10),re.autoRenew||(Ee-=10),Math.max(0,Math.min(100,Ee))},xu=re=>re>=80?"#10B981":re>=50?"#F59E0B":"#EF4444";return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Subscription Plans Management"}),C&&e.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 bg-green-50 border-2 border-green-200 rounded-full animate-pulse",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),e.jsx("span",{className:"text-xs font-semibold text-green-700",children:"LIVE"})]})]}),e.jsxs("div",{className:"flex items-center gap-4 mt-1",children:[e.jsx("p",{className:"text-gray-600",children:"Manage salon subscriptions, analytics, and billing"}),C&&e.jsxs("span",{className:"text-xs text-gray-500",children:["Last update: ",T.toLocaleTimeString()]})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("div",{className:"relative",children:[e.jsxs(Q,{variant:"outline",className:"relative",onClick:()=>B(!$),children:[e.jsx(Na,{className:"w-4 h-4 mr-2"}),"Notifications",k.filter(re=>!re.read).length>0&&e.jsx("span",{className:"absolute -top-1 -right-1 w-5 h-5 bg-red-600 text-white text-xs rounded-full flex items-center justify-center",children:k.filter(re=>!re.read).length})]}),$&&e.jsx(ne,{className:"absolute right-0 top-12 w-96 max-h-96 overflow-y-auto z-50 shadow-2xl border-2",children:e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h4",{className:"font-bold",children:"Real-Time Notifications"}),e.jsx(Q,{size:"sm",variant:"ghost",onClick:()=>M([]),children:"Clear All"})]}),e.jsx("div",{className:"space-y-2",children:k.length===0?e.jsx("p",{className:"text-sm text-gray-500 text-center py-8",children:"No notifications"}):k.map(re=>e.jsxs("div",{className:`p-3 rounded-lg border ${re.type==="success"?"bg-green-50 border-green-200":re.type==="warning"?"bg-orange-50 border-orange-200":"bg-red-50 border-red-200"}`,children:[e.jsx("p",{className:"text-sm font-semibold",children:re.message}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:re.time})]},re.id))})]})})]}),e.jsxs(Q,{variant:C?"default":"outline",className:C?"bg-green-600 hover:bg-green-700":"",onClick:()=>P(!C),children:[e.jsx(Zf,{className:"w-4 h-4 mr-2"}),C?"Live ON":"Live OFF"]}),C&&e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(Oe,{className:"bg-blue-100 text-blue-700",children:["+",F.newSalons," salons"]}),e.jsxs(Oe,{className:"bg-green-100 text-green-700",children:["+",F.newPayments," payments"]}),e.jsxs(Oe,{className:"bg-red-100 text-red-700",children:[F.failedPayments," failed"]})]})]})]}),e.jsxs("div",{className:"flex gap-3 flex-wrap",children:[e.jsxs(Q,{variant:"outline",onClick:()=>{S(!j),y(!1),r(null)},children:[e.jsx(pt,{className:"w-4 h-4 mr-2"}),"Trial Salons (",Zr.length,")"]}),e.jsxs(Q,{variant:"outline",onClick:()=>{y(!w),S(!1),r(null)},children:[e.jsx(Ac,{className:"w-4 h-4 mr-2"}),"Analytics"]}),e.jsxs(Q,{variant:"outline",onClick:()=>ae(!ee),children:[e.jsx($d,{className:"w-4 h-4 mr-2"}),"Compare Salons"]}),e.jsxs(Q,{variant:"outline",onClick:()=>Z(!K),children:[e.jsx(vt,{className:"w-4 h-4 mr-2"}),"Scheduled"]}),e.jsxs(Q,{variant:"outline",onClick:()=>W(!V),children:[e.jsx(xr,{className:"w-4 h-4 mr-2"}),"Forecast"]}),e.jsxs(Q,{variant:"outline",onClick:()=>O(!G),children:[e.jsx(fr,{className:"w-4 h-4 mr-2"}),"Churn Risk"]}),e.jsxs(Q,{variant:"outline",onClick:()=>q(!I),children:[e.jsx(Ut,{className:"w-4 h-4 mr-2"}),"Campaigns"]}),e.jsxs(Q,{variant:"outline",onClick:()=>ie(!J),children:[e.jsx(Pc,{className:"w-4 h-4 mr-2"}),"Benchmark"]}),e.jsxs(Q,{variant:"outline",onClick:()=>D(!R),children:[e.jsx(Ks,{className:"w-4 h-4 mr-2"}),"A/B Tests"]}),e.jsxs(Q,{variant:"outline",onClick:()=>kr(!bt),children:[e.jsx(Ti,{className:"w-4 h-4 mr-2"}),"Reports"]}),e.jsxs(Q,{variant:"outline",onClick:()=>yr(!0),className:"border-2 border-purple-200",children:[e.jsx(qr,{className:"w-4 h-4 mr-2"}),"Cmd+K"]}),e.jsxs(Q,{className:"bg-gradient-to-r from-purple-600 to-pink-600 text-white",onClick:()=>$r(!0),children:[e.jsx(vr,{className:"w-4 h-4 mr-2"}),"Export Report"]})]}),dn&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-start justify-center pt-32",onClick:()=>yr(!1),children:e.jsx(ne,{className:"w-full max-w-2xl",onClick:re=>re.stopPropagation(),children:e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"relative mb-4",children:[e.jsx(qr,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx(He,{placeholder:"Type a command or search...",className:"pl-10 text-lg",value:ta,onChange:re=>is(re.target.value),autoFocus:!0})]}),e.jsx("div",{className:"max-h-96 overflow-y-auto space-y-2",children:Zi.filter(re=>re.name.toLowerCase().includes(ta.toLowerCase())).map(re=>e.jsxs("div",{className:"p-3 hover:bg-purple-50 rounded-lg cursor-pointer flex items-center gap-3 transition-all",onClick:()=>{re.action(),yr(!1),is("")},children:[e.jsx("span",{className:"text-2xl",children:re.icon}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-semibold",children:re.name}),e.jsx("p",{className:"text-xs text-gray-500",children:re.category})]})]},re.id))}),e.jsxs("div",{className:"mt-4 pt-4 border-t flex items-center justify-between text-xs text-gray-500",children:[e.jsx("span",{children:"Press ESC to close"}),e.jsx("span",{children:" Keyboard Shortcuts Available"})]})]})})}),ra&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:()=>$r(!1),children:e.jsx(ne,{className:"w-full max-w-2xl",onClick:re=>re.stopPropagation(),children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-2xl font-bold",children:"Export Data"}),e.jsx(Q,{variant:"outline",onClick:()=>$r(!1),children:e.jsx(tn,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold mb-3",children:"Select Format:"}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs(ne,{className:"p-4 border-2 border-green-200 bg-green-50 cursor-pointer hover:shadow-lg transition-all",children:[e.jsx(Ti,{className:"w-8 h-8 text-green-600 mb-2"}),e.jsx("p",{className:"font-bold",children:"Excel"}),e.jsx("p",{className:"text-xs text-gray-600",children:"Full data with charts"})]}),e.jsxs(ne,{className:"p-4 border-2 border-red-200 bg-red-50 cursor-pointer hover:shadow-lg transition-all",children:[e.jsx(Ti,{className:"w-8 h-8 text-red-600 mb-2"}),e.jsx("p",{className:"font-bold",children:"PDF"}),e.jsx("p",{className:"text-xs text-gray-600",children:"Professional report"})]}),e.jsxs(ne,{className:"p-4 border-2 border-blue-200 bg-blue-50 cursor-pointer hover:shadow-lg transition-all",children:[e.jsx(Ti,{className:"w-8 h-8 text-blue-600 mb-2"}),e.jsx("p",{className:"font-bold",children:"CSV"}),e.jsx("p",{className:"text-xs text-gray-600",children:"Raw data only"})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold mb-3",children:"Select Data:"}),e.jsx("div",{className:"space-y-2",children:["All Salons","Selected Salons Only","Trial Salons","Active Salons","Overdue Salons","Payment History","Analytics Data","Email Campaigns"].map(re=>e.jsxs("div",{className:"flex items-center gap-2 p-2 hover:bg-gray-50 rounded",children:[e.jsx("input",{type:"checkbox",className:"w-4 h-4",defaultChecked:re==="All Salons"}),e.jsx("label",{className:"text-sm",children:re})]},re))})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold mb-3",children:"Date Range:"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-gray-600",children:"From:"}),e.jsx(He,{type:"date",className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-gray-600",children:"To:"}),e.jsx(He,{type:"date",className:"mt-1"})]})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs(Q,{className:"flex-1 bg-purple-600 hover:bg-purple-700",children:[e.jsx(vr,{className:"w-4 h-4 mr-2"}),"Export Now"]}),e.jsxs(Q,{variant:"outline",className:"flex-1",children:[e.jsx(vt,{className:"w-4 h-4 mr-2"}),"Schedule Export"]})]})]})]})})}),j&&e.jsx("div",{className:"space-y-6",children:e.jsxs(ne,{className:"p-6 border-2 border-blue-200 bg-gradient-to-r from-blue-50 to-cyan-50",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(pt,{className:"w-8 h-8 text-blue-600"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-bold",children:"Trial Salons Management"}),e.jsxs("p",{className:"text-gray-600",children:[Zr.length," salons on trial  Convert to paid plans"]})]})]}),e.jsxs(Q,{className:"bg-blue-600 hover:bg-blue-700",children:[e.jsx(ys,{className:"w-4 h-4 mr-2"}),"Send Bulk Nudge Email"]})]}),e.jsxs("div",{className:"grid grid-cols-4 gap-4 mb-6",children:[e.jsxs(ne,{className:"p-4 border-2 border-green-100 bg-green-50",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Avg Conversion Probability"}),e.jsxs("p",{className:"text-3xl font-bold text-green-600",children:[Math.round(Zr.reduce((re,Ee)=>re+Ee.conversionProbability,0)/Zr.length),"%"]})]}),e.jsxs(ne,{className:"p-4 border-2 border-purple-100 bg-purple-50",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Total Bookings"}),e.jsx("p",{className:"text-3xl font-bold text-purple-600",children:Zr.reduce((re,Ee)=>re+Ee.bookings,0)})]}),e.jsxs(ne,{className:"p-4 border-2 border-orange-100 bg-orange-50",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Expiring Soon (3 days)"}),e.jsx("p",{className:"text-3xl font-bold text-orange-600",children:Zr.filter(re=>re.daysLeft<=3).length})]}),e.jsxs(ne,{className:"p-4 border-2 border-blue-100 bg-blue-50",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"High Conversion (80%)"}),e.jsx("p",{className:"text-3xl font-bold text-blue-600",children:Zr.filter(re=>re.conversionProbability>=80).length})]})]}),e.jsx("div",{className:"space-y-4",children:Zr.map(re=>e.jsx("div",{className:`p-5 rounded-xl border-2 transition-all ${re.daysLeft<=3?"bg-orange-50 border-orange-200":"bg-white border-gray-100"}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("h4",{className:"text-xl font-bold",children:re.name}),e.jsxs(Oe,{className:re.daysLeft<=3?"bg-orange-600 text-white":"bg-blue-600 text-white",children:[re.daysLeft," days left"]}),e.jsxs(Oe,{style:{backgroundColor:re.conversionProbability>=80?"#10B981":re.conversionProbability>=60?"#F59E0B":"#EF4444",color:"white"},children:[re.conversionProbability,"% conversion"]})]}),e.jsxs("div",{className:"grid grid-cols-5 gap-4 text-sm mb-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500",children:"Owner"}),e.jsx("p",{className:"font-semibold",children:re.owner})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500",children:"Email"}),e.jsx("p",{className:"font-semibold",children:re.email})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500",children:"Bookings"}),e.jsx("p",{className:"font-bold text-purple-600",children:re.bookings})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500",children:"Activity Score"}),e.jsxs("p",{className:"font-bold text-blue-600",children:[re.activity,"%"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500",children:"Registered"}),e.jsx("p",{className:"font-semibold",children:re.registered})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"h-2 rounded-full bg-gradient-to-r from-blue-600 to-purple-600",style:{width:`${re.activity}%`}})}),e.jsxs("span",{className:"text-sm font-semibold text-gray-600",children:[re.activity,"% active"]})]})]}),e.jsxs("div",{className:"flex flex-col gap-2 ml-6",children:[e.jsxs(Q,{className:"bg-green-600 hover:bg-green-700",children:[e.jsx(tr,{className:"w-4 h-4 mr-1"}),"Convert to Paid"]}),e.jsxs(Q,{variant:"outline",children:[e.jsx(ys,{className:"w-4 h-4 mr-1"}),"Send Nudge"]}),e.jsxs(Q,{variant:"outline",children:[e.jsx(Rr,{className:"w-4 h-4 mr-1"}),"View Details"]})]})]})},re.id))})]})}),w&&e.jsx("div",{className:"space-y-6",children:e.jsxs(ne,{className:"p-6 border-2 border-purple-200 bg-gradient-to-r from-purple-50 to-pink-50",children:[e.jsx("h3",{className:"text-2xl font-bold mb-6",children:"Analytics Dashboard"}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h4",{className:"text-lg font-bold mb-4",children:"Revenue Trend by Plan"}),e.jsx(Zd,{width:"100%",height:300,children:e.jsxs(mU,{data:_t,children:[e.jsx(ru,{strokeDasharray:"3 3"}),e.jsx(zi,{dataKey:"month"}),e.jsx(Ui,{}),e.jsx(xs,{}),e.jsx(Ca,{}),e.jsx(Li,{type:"monotone",dataKey:"basic",stackId:"1",stroke:"#8B5CF6",fill:"#8B5CF6",name:"Basic"}),e.jsx(Li,{type:"monotone",dataKey:"standard",stackId:"1",stroke:"#EC4899",fill:"#EC4899",name:"Standard"}),e.jsx(Li,{type:"monotone",dataKey:"business",stackId:"1",stroke:"#F59E0B",fill:"#F59E0B",name:"Business"})]})})]}),e.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-bold mb-4",children:"Conversion Funnel"}),e.jsx("div",{className:"space-y-3",children:br.map((re,Ee)=>e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"font-semibold",children:re.name}),e.jsx("span",{className:"text-sm font-bold",children:re.value})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-4",children:e.jsx("div",{className:"h-4 rounded-full",style:{width:`${re.value/230*100}%`,backgroundColor:re.fill}})})]},Ee))})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-bold mb-4",children:"Upgrade vs Downgrade Trend"}),e.jsx(Zd,{width:"100%",height:200,children:e.jsxs(oSe,{data:Cr,children:[e.jsx(ru,{strokeDasharray:"3 3"}),e.jsx(zi,{dataKey:"month"}),e.jsx(Ui,{}),e.jsx(xs,{}),e.jsx(Ca,{}),e.jsx(Mc,{dataKey:"upgrades",fill:"#10B981",name:"Upgrades"}),e.jsx(Mc,{dataKey:"downgrades",fill:"#EF4444",name:"Downgrades"})]})})]})]}),e.jsx("div",{className:"grid grid-cols-3 gap-6 mt-8",children:Sn.map(re=>e.jsxs(ne,{className:"p-5 border-2 border-gray-100",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center",style:{backgroundColor:`${re.color}20`},children:e.jsx(bs,{className:"w-6 h-6",style:{color:re.color}})}),e.jsxs("div",{children:[e.jsx("h5",{className:"font-bold",children:re.name}),e.jsxs("p",{className:"text-sm text-gray-600",children:[re.salons," salons"]})]})]}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Churn Rate:"}),e.jsxs("span",{className:"font-bold text-red-600",children:[re.churnRate,"%"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Avg Lifetime:"}),e.jsxs("span",{className:"font-bold",children:[re.avgLifetime," months"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Conversion:"}),e.jsxs("span",{className:"font-bold text-green-600",children:[re.conversionRate,"%"]})]})]})]},re.id))})]})}),K&&e.jsxs(ne,{className:"p-6 border-2 border-blue-200 bg-blue-50/30",children:[e.jsxs("h3",{className:"text-2xl font-bold mb-6 flex items-center gap-2",children:[e.jsx(vt,{className:"w-7 h-7 text-blue-600"}),"Scheduled Actions"]}),e.jsx("div",{className:"space-y-3",children:Pr.map(re=>e.jsx(ne,{className:`p-5 border-2 ${re.status==="completed"?"border-green-200 bg-green-50":"border-blue-200 bg-white"}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx(Oe,{className:re.status==="completed"?"bg-green-600 text-white":"bg-blue-600 text-white",children:re.status.toUpperCase()}),e.jsx("span",{className:"font-bold text-lg",children:re.action})]}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[e.jsxs("span",{children:[" ",re.salon]}),e.jsxs("span",{children:[" ",re.date]})]})]}),e.jsx("div",{className:"flex gap-2",children:re.status==="pending"&&e.jsxs(e.Fragment,{children:[e.jsxs(Q,{size:"sm",variant:"outline",children:[e.jsx(oi,{className:"w-3 h-3 mr-1"}),"Edit"]}),e.jsxs(Q,{size:"sm",variant:"outline",className:"text-red-600 border-red-600",children:[e.jsx(tn,{className:"w-3 h-3 mr-1"}),"Cancel"]})]})})]})},re.id))})]}),V&&e.jsxs(ne,{className:"p-6 border-2 border-purple-200 bg-purple-50/30",children:[e.jsxs("h3",{className:"text-2xl font-bold mb-6 flex items-center gap-2",children:[e.jsx(xr,{className:"w-7 h-7 text-purple-600"}),"Revenue Forecasting (Next 4 Months)"]}),e.jsx("div",{className:"grid grid-cols-4 gap-4 mb-6",children:un.map((re,Ee)=>e.jsxs(ne,{className:"p-5 border-2 border-purple-100 bg-white",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:re.month}),e.jsxs("p",{className:"text-3xl font-bold text-purple-600 mb-2",children:["AED ",(re.forecast/1e3).toFixed(0),"K"]}),e.jsxs(Oe,{className:`${re.confidence>=80?"bg-green-600":re.confidence>=70?"bg-orange-600":"bg-gray-600"} text-white`,children:[re.confidence,"% confidence"]})]},Ee))}),e.jsxs("div",{className:"p-5 bg-blue-50 rounded-lg border-2 border-blue-200",children:[e.jsx("p",{className:"text-sm font-semibold text-blue-900 mb-2",children:" Insights:"}),e.jsxs("ul",{className:"text-sm space-y-1 text-blue-800",children:[e.jsx("li",{children:" Expected growth: +8.3% MoM (based on last 6 months trend)"}),e.jsx("li",{children:" Predicted new salons: ~45 per month"}),e.jsx("li",{children:" Upgrade rate: 12% (Standard  Business)"})]})]})]}),G&&e.jsxs(ne,{className:"p-6 border-2 border-red-200 bg-red-50/30",children:[e.jsxs("h3",{className:"text-2xl font-bold mb-6 flex items-center gap-2",children:[e.jsx(fr,{className:"w-7 h-7 text-red-600"}),"Churn Risk Prediction"]}),e.jsx("div",{className:"space-y-4",children:Ra.map(re=>e.jsx(ne,{className:"p-5 border-2 border-red-200 bg-white",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("h4",{className:"text-xl font-bold",children:re.name}),e.jsx(Oe,{className:"bg-purple-100 text-purple-700",children:re.plan}),e.jsxs(Oe,{className:`${re.churnRisk>=80?"bg-red-600":re.churnRisk>=60?"bg-orange-600":"bg-yellow-600"} text-white`,children:[re.churnRisk,"% Churn Risk"]})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("p",{className:"text-sm font-semibold text-gray-700 mb-1",children:"Risk Factors:"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:re.reasons.map((Ee,Qe)=>e.jsx(Oe,{className:"bg-gray-100 text-gray-700",children:Ee},Qe))})]}),e.jsxs("p",{className:"text-sm text-gray-600",children:[" Estimated cancellation in: ",re.daysLeft," days"]})]}),e.jsxs("div",{className:"flex flex-col gap-2 ml-4",children:[e.jsxs(Q,{size:"sm",className:"bg-blue-600 hover:bg-blue-700",children:[e.jsx(ys,{className:"w-3 h-3 mr-1"}),"Send Retention Offer"]}),e.jsxs(Q,{size:"sm",variant:"outline",children:[e.jsx(En,{className:"w-3 h-3 mr-1"}),"Call Owner"]})]})]})},re.id))})]}),I&&e.jsxs(ne,{className:"p-6 border-2 border-green-200 bg-green-50/30",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h3",{className:"text-2xl font-bold flex items-center gap-2",children:[e.jsx(Ut,{className:"w-7 h-7 text-green-600"}),"Email Marketing Campaigns"]}),e.jsxs(Q,{className:"bg-green-600 hover:bg-green-700",children:[e.jsx(er,{className:"w-4 h-4 mr-2"}),"New Campaign"]})]}),e.jsx("div",{className:"space-y-4",children:yn.map(re=>e.jsxs(ne,{className:"p-5 border-2 border-gray-200 bg-white",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("h4",{className:"text-lg font-bold",children:re.name}),e.jsx(Oe,{className:re.status==="completed"?"bg-green-600 text-white":"bg-blue-600 text-white",children:re.status.replace("_"," ").toUpperCase()})]}),e.jsxs("p",{className:"text-sm text-gray-600",children:[" ",re.date]})]})}),e.jsxs("div",{className:"grid grid-cols-6 gap-4",children:[e.jsxs(ne,{className:"p-3 border border-gray-200 bg-gray-50 text-center",children:[e.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Recipients"}),e.jsx("p",{className:"text-xl font-bold",children:re.recipients})]}),e.jsxs(ne,{className:"p-3 border border-blue-200 bg-blue-50 text-center",children:[e.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Sent"}),e.jsx("p",{className:"text-xl font-bold text-blue-600",children:re.sent})]}),e.jsxs(ne,{className:"p-3 border border-green-200 bg-green-50 text-center",children:[e.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Opened"}),e.jsx("p",{className:"text-xl font-bold text-green-600",children:re.opened}),e.jsxs("p",{className:"text-xs text-green-600",children:[(re.opened/re.sent*100).toFixed(0),"%"]})]}),e.jsxs(ne,{className:"p-3 border border-purple-200 bg-purple-50 text-center",children:[e.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Clicked"}),e.jsx("p",{className:"text-xl font-bold text-purple-600",children:re.clicked}),e.jsxs("p",{className:"text-xs text-purple-600",children:[(re.clicked/re.sent*100).toFixed(0),"%"]})]}),e.jsxs(ne,{className:"p-3 border border-orange-200 bg-orange-50 text-center",children:[e.jsx("p",{className:"text-xs text-gray-600 mb-1",children:"Converted"}),e.jsx("p",{className:"text-xl font-bold text-orange-600",children:re.converted}),e.jsxs("p",{className:"text-xs text-orange-600",children:[(re.converted/re.sent*100).toFixed(0),"%"]})]}),e.jsx("div",{className:"flex items-center justify-center",children:e.jsxs(Q,{size:"sm",variant:"outline",children:[e.jsx(Rr,{className:"w-3 h-3 mr-1"}),"View"]})})]})]},re.id))})]}),J&&e.jsxs(ne,{className:"p-6 border-2 border-yellow-200 bg-yellow-50/30",children:[e.jsxs("h3",{className:"text-2xl font-bold mb-6 flex items-center gap-2",children:[e.jsx(Pc,{className:"w-7 h-7 text-yellow-600"}),"Salon Industry Benchmarking"]}),e.jsx("div",{className:"grid grid-cols-4 gap-6",children:Object.entries(Xn).map(([re,Ee])=>e.jsxs(ne,{className:"p-5 border-2 border-gray-200 bg-white",children:[e.jsx("h4",{className:"font-bold text-lg mb-4 capitalize",children:re}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Industry Average"}),e.jsx("p",{className:"text-2xl font-bold text-gray-600",children:Ee.industry})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Katia Platform"}),e.jsx("p",{className:"text-2xl font-bold text-purple-600",children:Ee.katia})]}),e.jsx("div",{children:e.jsxs(Oe,{className:Ee.percentile>=70?"bg-green-600 text-white":"bg-orange-600 text-white",children:["Top ",Ee.percentile,"%"]})})]})]},re))}),e.jsxs("div",{className:"mt-6 p-5 bg-green-50 rounded-lg border-2 border-green-200",children:[e.jsx("p",{className:"font-bold text-green-900 mb-2",children:" Performance Summary:"}),e.jsxs("p",{className:"text-sm text-green-800",children:["Katia platform salons perform ",e.jsx("strong",{children:"18% better"})," than industry average across all key metrics!"]})]})]}),R&&e.jsxs(ne,{className:"p-6 border-2 border-indigo-200 bg-indigo-50/30",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h3",{className:"text-2xl font-bold flex items-center gap-2",children:[e.jsx(Ks,{className:"w-7 h-7 text-indigo-600"}),"A/B Testing Dashboard"]}),e.jsxs(Q,{className:"bg-indigo-600 hover:bg-indigo-700",children:[e.jsx(er,{className:"w-4 h-4 mr-2"}),"New Test"]})]}),e.jsx("div",{className:"space-y-6",children:bn.map(re=>e.jsxs(ne,{className:`p-6 border-2 ${re.status==="running"?"border-green-200 bg-green-50":"border-gray-200 bg-white"}`,children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("h4",{className:"text-xl font-bold",children:re.name}),e.jsx(Oe,{className:re.status==="running"?"bg-green-600 text-white":"bg-gray-600 text-white",children:re.status.toUpperCase()}),re.confidence>=95&&e.jsxs(Oe,{className:"bg-purple-600 text-white",children:[e.jsx(Gt,{className:"w-3 h-3 mr-1"}),re.confidence,"% Confident"]})]}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Started: ",re.startDate," ",re.endDate&&` Ended: ${re.endDate}`]})]})}),e.jsx("div",{className:"grid lg:grid-cols-2 gap-4 mb-4",children:re.variants.map((Ee,Qe)=>e.jsxs(ne,{className:`p-5 border-2 ${Ee.name===re.winner?"border-green-300 bg-green-100":"border-gray-200 bg-gray-50"}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h5",{className:"font-bold text-lg",children:Ee.name}),Ee.name===re.winner&&e.jsx(ii,{className:"w-6 h-6 text-yellow-500"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Visitors:"}),e.jsx("span",{className:"font-bold",children:Ee.visitors.toLocaleString()})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Conversions:"}),e.jsx("span",{className:"font-bold",children:Ee.conversions})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"Rate:"}),e.jsxs("span",{className:`font-bold text-lg ${Ee.name===re.winner?"text-green-600":"text-gray-700"}`,children:[Ee.rate,"%"]})]})]}),e.jsx("div",{className:"mt-3 w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:`h-2 rounded-full ${Ee.name===re.winner?"bg-green-600":"bg-gray-500"}`,style:{width:`${Ee.rate*10}%`}})})]},Qe))}),re.status==="running"?e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(Q,{size:"sm",variant:"outline",className:"flex-1",children:[e.jsx(Rr,{className:"w-3 h-3 mr-1"}),"View Details"]}),e.jsxs(Q,{size:"sm",className:"flex-1 bg-red-600 hover:bg-red-700",children:[e.jsx(tn,{className:"w-3 h-3 mr-1"}),"Stop Test"]}),e.jsxs(Q,{size:"sm",className:"flex-1 bg-green-600 hover:bg-green-700",children:[e.jsx(or,{className:"w-3 h-3 mr-1"}),"Declare Winner"]})]}):e.jsx("div",{className:"p-4 bg-white rounded-lg border-2 border-green-200",children:e.jsxs("p",{className:"text-sm font-semibold text-green-900",children:[" Winner: ",re.winner," with ",re.confidence,"% confidence"]})})]},re.id))})]}),bt&&e.jsxs(ne,{className:"p-6 border-2 border-cyan-200 bg-cyan-50/30",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h3",{className:"text-2xl font-bold flex items-center gap-2",children:[e.jsx(Ti,{className:"w-7 h-7 text-cyan-600"}),"Custom Reports Builder"]}),e.jsxs(Q,{className:"bg-cyan-600 hover:bg-cyan-700",children:[e.jsx(er,{className:"w-4 h-4 mr-2"}),"Create Report"]})]}),e.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold mb-4",children:"Saved Reports"}),e.jsx("div",{className:"space-y-3",children:["Monthly Revenue Summary","Trial Conversion Analysis","Churn Risk Report","Payment Failures Log"].map((re,Ee)=>e.jsx(ne,{className:"p-4 border-2 border-gray-200 hover:shadow-lg transition-all cursor-pointer",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Ti,{className:"w-5 h-5 text-cyan-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold",children:re}),e.jsx("p",{className:"text-xs text-gray-500",children:"Last generated: 2 days ago"})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(Q,{size:"sm",variant:"outline",children:e.jsx(Rr,{className:"w-3 h-3"})}),e.jsx(Q,{size:"sm",variant:"outline",children:e.jsx(vr,{className:"w-3 h-3"})})]})]})},Ee))})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold mb-4",children:"Quick Report Builder"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-semibold mb-2 block",children:"Metrics:"}),e.jsx("div",{className:"space-y-2",children:["Revenue","Salons Count","Bookings","Churn Rate","MRR","ARR"].map(re=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",className:"w-4 h-4"}),e.jsx("label",{className:"text-sm",children:re})]},re))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-semibold mb-2 block",children:"Time Period:"}),e.jsxs("select",{className:"w-full p-2 border-2 border-gray-200 rounded-lg",children:[e.jsx("option",{children:"Last 7 days"}),e.jsx("option",{children:"Last 30 days"}),e.jsx("option",{children:"Last 3 months"}),e.jsx("option",{children:"Last 6 months"}),e.jsx("option",{children:"Last year"}),e.jsx("option",{children:"Custom range"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-semibold mb-2 block",children:"Group By:"}),e.jsxs("select",{className:"w-full p-2 border-2 border-gray-200 rounded-lg",children:[e.jsx("option",{children:"Plan Type"}),e.jsx("option",{children:"Registration Date"}),e.jsx("option",{children:"Revenue Range"}),e.jsx("option",{children:"Status"})]})]}),e.jsxs(Q,{className:"w-full bg-cyan-600 hover:bg-cyan-700",children:[e.jsx(Ac,{className:"w-4 h-4 mr-2"}),"Generate Report"]})]})]})]})]}),!t&&!j&&!w&&!K&&!V&&!G&&!I&&!J&&!R&&!bt&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"grid lg:grid-cols-3 gap-4",children:Sn.map(re=>e.jsxs(ne,{className:"p-4 border-2 border-gray-200 hover:shadow-lg transition-all cursor-pointer hover:border-purple-300",onClick:()=>r(re.id),children:[e.jsx("div",{className:`h-1 rounded-t-xl bg-gradient-to-r ${re.gradient} mb-3`}),e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-lg bg-gradient-to-r from-purple-100 to-pink-100 flex items-center justify-center",children:e.jsx(bs,{className:"w-6 h-6",style:{color:re.color}})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-lg",children:re.name}),e.jsx("p",{className:"text-xs text-gray-500",children:re.nameEn})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"flex items-baseline gap-1",children:[e.jsx("span",{className:"text-2xl font-bold",style:{color:re.color},children:re.price}),e.jsx("span",{className:"text-xs text-gray-500",children:"AED/mo"})]}),e.jsxs(Oe,{className:"text-xs mt-1",style:{backgroundColor:re.color,color:"white"},children:[re.salons," Salons"]})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-2 mb-3",children:[e.jsxs("div",{className:"text-center p-2 bg-green-50 rounded",children:[e.jsx("p",{className:"text-xs text-gray-600",children:"MRR"}),e.jsxs("p",{className:"font-bold text-sm text-green-600",children:["AED ",(re.mrr/1e3).toFixed(0),"K"]})]}),e.jsxs("div",{className:"text-center p-2 bg-red-50 rounded",children:[e.jsx("p",{className:"text-xs text-gray-600",children:"Churn"}),e.jsxs("p",{className:"font-bold text-sm text-red-600",children:[re.churnRate,"%"]})]}),e.jsxs("div",{className:"text-center p-2 bg-purple-50 rounded",children:[e.jsx("p",{className:"text-xs text-gray-600",children:"Lifetime"}),e.jsxs("p",{className:"font-bold text-sm text-purple-600",children:[re.avgLifetime,"m"]})]})]}),e.jsx("div",{className:"space-y-1 mb-3",children:re.features.slice(0,3).map((Ee,Qe)=>e.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-600",children:[e.jsx(zt,{className:"w-3 h-3 text-green-600 flex-shrink-0"}),e.jsx("span",{className:"truncate",children:Ee})]},Qe))}),e.jsxs(Q,{className:"w-full h-8 text-sm",style:{backgroundColor:re.color},children:["View Details ",e.jsx(Gs,{className:"w-3 h-3 ml-1"})]})]},re.id))}),e.jsxs("div",{className:"grid grid-cols-5 gap-4",children:[e.jsxs(ne,{className:"p-5 border-2 border-green-100 bg-green-50/50",children:[e.jsx(zt,{className:"w-8 h-8 text-green-600 mb-2"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Total Salons"}),e.jsx("p",{className:"text-3xl font-bold text-green-600",children:"1,299"})]}),e.jsxs(ne,{className:"p-5 border-2 border-purple-100 bg-purple-50/50",children:[e.jsx(Zt,{className:"w-8 h-8 text-purple-600 mb-2"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Total MRR"}),e.jsxs("p",{className:"text-3xl font-bold text-purple-600",children:[(Sn.reduce((re,Ee)=>re+Ee.mrr,0)/1e3).toFixed(0),"K"]})]}),e.jsxs(ne,{className:"p-5 border-2 border-blue-100 bg-blue-50/50",children:[e.jsx(xr,{className:"w-8 h-8 text-blue-600 mb-2"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Avg Revenue"}),e.jsxs("p",{className:"text-3xl font-bold text-blue-600",children:["AED ",Math.round(Sn.reduce((re,Ee)=>re+Ee.mrr,0)/1299)]})]}),e.jsxs(ne,{className:"p-5 border-2 border-orange-100 bg-orange-50/50",children:[e.jsx(fr,{className:"w-8 h-8 text-orange-600 mb-2"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Overdue"}),e.jsx("p",{className:"text-3xl font-bold text-orange-600",children:"8"})]}),e.jsxs(ne,{className:"p-5 border-2 border-red-100 bg-red-50/50",children:[e.jsx(tn,{className:"w-8 h-8 text-red-600 mb-2"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Blocked"}),e.jsx("p",{className:"text-3xl font-bold text-red-600",children:Ns.length})]})]}),e.jsxs(ne,{className:"p-6 border-2 border-purple-100 bg-gradient-to-br from-purple-50 to-pink-50",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx(vt,{className:"w-6 h-6 text-purple-600"}),e.jsx("h3",{className:"text-2xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent",children:"Billing Period Breakdown"}),e.jsx(Oe,{className:"bg-purple-600 text-white",children:"Payment Cycles"})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-6",children:[e.jsxs(ne,{className:"p-5 border-2 border-blue-200 bg-blue-50/50 hover:shadow-xl transition-all",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-blue-100 flex items-center justify-center text-2xl",children:""}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Monthly"}),e.jsx("p",{className:"text-xs text-gray-500",children:"1 Month Cycle"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Basic:"}),e.jsxs("span",{className:"font-bold text-blue-600",children:[Rt.basic.filter(re=>re.billingPeriod==="monthly").length," salons"]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Standard:"}),e.jsxs("span",{className:"font-bold text-blue-600",children:[Rt.standard.filter(re=>re.billingPeriod==="monthly").length," salons"]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Business:"}),e.jsxs("span",{className:"font-bold text-blue-600",children:[Rt.business.filter(re=>re.billingPeriod==="monthly").length," salons"]})]}),e.jsx("div",{className:"pt-2 mt-2 border-t border-blue-200",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-bold text-gray-700",children:"Total:"}),e.jsx("span",{className:"font-bold text-2xl text-blue-600",children:[...Rt.basic,...Rt.standard,...Rt.business].filter(re=>re.billingPeriod==="monthly").length})]})})]})]}),e.jsxs(ne,{className:"p-5 border-2 border-purple-200 bg-purple-50/50 hover:shadow-xl transition-all",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-purple-100 flex items-center justify-center text-2xl",children:""}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Semi-Annual"}),e.jsx("p",{className:"text-xs text-gray-500",children:"6 Months Cycle"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Basic:"}),e.jsxs("span",{className:"font-bold text-purple-600",children:[Rt.basic.filter(re=>re.billingPeriod==="semi-annual").length," salons"]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Standard:"}),e.jsxs("span",{className:"font-bold text-purple-600",children:[Rt.standard.filter(re=>re.billingPeriod==="semi-annual").length," salons"]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Business:"}),e.jsxs("span",{className:"font-bold text-purple-600",children:[Rt.business.filter(re=>re.billingPeriod==="semi-annual").length," salons"]})]}),e.jsx("div",{className:"pt-2 mt-2 border-t border-purple-200",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-bold text-gray-700",children:"Total:"}),e.jsx("span",{className:"font-bold text-2xl text-purple-600",children:[...Rt.basic,...Rt.standard,...Rt.business].filter(re=>re.billingPeriod==="semi-annual").length})]})})]})]}),e.jsxs(ne,{className:"p-5 border-2 border-amber-200 bg-gradient-to-br from-amber-50 to-orange-50 hover:shadow-xl transition-all",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-r from-amber-100 to-orange-100 flex items-center justify-center text-2xl",children:""}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Annual"}),e.jsx("p",{className:"text-xs text-gray-500",children:"1 Year Cycle"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Basic:"}),e.jsxs("span",{className:"font-bold text-amber-600",children:[Rt.basic.filter(re=>re.billingPeriod==="annual").length," salons"]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Standard:"}),e.jsxs("span",{className:"font-bold text-amber-600",children:[Rt.standard.filter(re=>re.billingPeriod==="annual").length," salons"]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Business:"}),e.jsxs("span",{className:"font-bold text-amber-600",children:[Rt.business.filter(re=>re.billingPeriod==="annual").length," salons"]})]}),e.jsx("div",{className:"pt-2 mt-2 border-t border-amber-200",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-bold text-gray-700",children:"Total:"}),e.jsx("span",{className:"font-bold text-2xl bg-gradient-to-r from-amber-600 to-orange-600 bg-clip-text text-transparent",children:[...Rt.basic,...Rt.standard,...Rt.business].filter(re=>re.billingPeriod==="annual").length})]})})]})]})]}),e.jsxs("div",{className:"mt-6 p-4 bg-white rounded-xl border-2 border-purple-200",children:[e.jsx("h4",{className:"font-bold text-gray-700 mb-3",children:" Revenue Breakdown by Period"}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Monthly Revenue:"}),e.jsxs("span",{className:"font-bold text-blue-600",children:["AED ",[...Rt.basic,...Rt.standard,...Rt.business].filter(re=>re.billingPeriod==="monthly").reduce((re,Ee)=>re+Ee.revenue,0).toLocaleString()]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"6-Month Revenue:"}),e.jsxs("span",{className:"font-bold text-purple-600",children:["AED ",[...Rt.basic,...Rt.standard,...Rt.business].filter(re=>re.billingPeriod==="semi-annual").reduce((re,Ee)=>re+Ee.revenue,0).toLocaleString()]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Annual Revenue:"}),e.jsxs("span",{className:"font-bold text-amber-600",children:["AED ",[...Rt.basic,...Rt.standard,...Rt.business].filter(re=>re.billingPeriod==="annual").reduce((re,Ee)=>re+Ee.revenue,0).toLocaleString()]})]})]})]})]}),Ns.length>0&&e.jsxs(ne,{className:"p-6 border-2 border-red-200 bg-red-50/30",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx(tn,{className:"w-6 h-6 text-red-600"}),e.jsx("h3",{className:"text-2xl font-bold text-red-900",children:"Blocked Salons"}),e.jsx(Oe,{className:"bg-red-600 text-white",children:Ns.length})]}),e.jsx("div",{className:"space-y-4",children:Ns.map(re=>e.jsx("div",{className:"bg-white p-5 rounded-xl border-2 border-red-200 hover:shadow-lg transition-all",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("h4",{className:"font-bold text-lg",children:re.name}),e.jsx(Oe,{className:"bg-red-600 text-white",children:"BLOCKED"}),e.jsx(Oe,{className:"bg-purple-100 text-purple-700",children:re.plan})]}),e.jsxs("div",{className:"grid grid-cols-4 gap-4 text-sm text-gray-600 mb-3",children:[e.jsxs("span",{children:[" ",re.owner]}),e.jsxs("span",{children:[" ",re.email]}),e.jsxs("span",{children:[" ",re.warnings," warnings"]}),e.jsxs("span",{children:[" AED ",re.revenue.toLocaleString()," lost"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(fr,{className:"w-4 h-4 text-red-600"}),e.jsxs("span",{className:"text-sm font-semibold text-red-900",children:["Reason: ",re.blockReason]}),e.jsxs("span",{className:"text-xs text-gray-500 ml-2",children:["Blocked: ",re.blockedDate]})]})]}),e.jsxs("div",{className:"flex gap-2 ml-4",children:[e.jsxs(Q,{size:"sm",className:"bg-green-600 hover:bg-green-700",children:[e.jsx(WP,{className:"w-4 h-4 mr-1"}),"Unblock"]}),e.jsxs(Q,{size:"sm",variant:"outline",children:[e.jsx(Rr,{className:"w-4 h-4 mr-1"}),"Details"]})]})]})},re.id))})]}),e.jsxs(ne,{className:"p-6 border-2 border-gray-100",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx(Ec,{className:"w-6 h-6 text-purple-600"}),e.jsx("h3",{className:"text-2xl font-bold",children:"Auto-Actions Settings"})]}),e.jsx("div",{className:"grid lg:grid-cols-2 gap-4",children:Da.map(re=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[e.jsx("span",{className:"font-semibold",children:re.name}),e.jsx(Q,{size:"sm",variant:re.enabled?"default":"outline",className:re.enabled?"bg-green-600":"",children:re.enabled?"Enabled ":"Disabled"})]},re.id))})]})]}),t&&!j&&!w&&!K&&!V&&!G&&!I&&!J&&!R&&!bt&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs(Q,{variant:"outline",onClick:()=>{r(null),p([])},children:[e.jsx(Gs,{className:"w-4 h-4 rotate-180"}),"Back to Plans"]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-2xl font-bold",children:[(Uc=Sn.find(re=>re.id===t))==null?void 0:Uc.name," Plan Salons"]}),e.jsxs("p",{className:"text-gray-600",children:[Xi(t).length," salons"," ",m.length>0&&`(${m.length} selected)`]})]})]}),e.jsxs("div",{className:"flex gap-2",children:[m.length>0&&e.jsxs(Q,{className:"bg-purple-600 hover:bg-purple-700",onClick:()=>v(!x),children:[e.jsx(bs,{className:"w-4 h-4 mr-2"}),"Bulk Actions (",m.length,")"]}),e.jsxs(Q,{variant:"outline",onClick:Ia,children:[e.jsx(vr,{className:"w-4 h-4 mr-2"}),"Export CSV"]})]})]}),x&&m.length>0&&e.jsxs(ne,{className:"p-6 border-2 border-purple-200 bg-purple-50",children:[e.jsxs("h4",{className:"font-bold text-lg mb-4",children:["Bulk Actions (",m.length," salons selected)"]}),e.jsxs("div",{className:"grid grid-cols-6 gap-3",children:[e.jsxs(Q,{size:"sm",className:"bg-orange-600 hover:bg-orange-700",onClick:()=>os("Send Warning"),children:[e.jsx(fr,{className:"w-4 h-4 mr-1"}),"Send Warning"]}),e.jsxs(Q,{size:"sm",className:"bg-red-600 hover:bg-red-700",onClick:()=>os("Block"),children:[e.jsx(tn,{className:"w-4 h-4 mr-1"}),"Block All"]}),e.jsxs(Q,{size:"sm",className:"bg-green-600 hover:bg-green-700",onClick:()=>os("Upgrade"),children:[e.jsx(Xf,{className:"w-4 h-4 mr-1"}),"Upgrade Plan"]}),e.jsxs(Q,{size:"sm",className:"bg-blue-600 hover:bg-blue-700",onClick:()=>os("Send Email"),children:[e.jsx(Ut,{className:"w-4 h-4 mr-1"}),"Send Email"]}),e.jsxs(Q,{size:"sm",variant:"outline",onClick:()=>os("Add Tag"),children:[e.jsx(_c,{className:"w-4 h-4 mr-1"}),"Add Tag"]}),e.jsxs(Q,{size:"sm",variant:"outline",onClick:Ia,children:[e.jsx(vr,{className:"w-4 h-4 mr-1"}),"Export Selected"]})]})]}),e.jsxs(ne,{className:"p-6 border-2 border-gray-100",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(qr,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx(He,{placeholder:"Search by name, email, phone, owner...",className:"pl-10",value:c,onChange:re=>u(re.target.value)})]}),e.jsxs(Q,{variant:"outline",children:[e.jsx(Hd,{className:"w-4 h-4 mr-2"}),"Advanced Filters"]})]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm font-semibold text-gray-600",children:"Status:"}),["all","active","overdue","blocked"].map(re=>e.jsx(Q,{size:"sm",variant:o===re?"default":"outline",onClick:()=>l(re),className:o===re?"bg-purple-600":"",children:re.charAt(0).toUpperCase()+re.slice(1)},re))]}),e.jsx("div",{className:"h-6 w-px bg-gray-300"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm font-semibold text-gray-600",children:"Revenue:"}),["all","0-1000","1000-5000","5000+"].map(re=>e.jsx(Q,{size:"sm",variant:fe===re?"default":"outline",onClick:()=>ye(re),className:fe===re?"bg-green-600":"",children:re==="all"?"All":`AED ${re}`},re))]}),e.jsx("div",{className:"h-6 w-px bg-gray-300"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm font-semibold text-gray-600",children:"Warnings:"}),["all","0","1-2","3+"].map(re=>e.jsx(Q,{size:"sm",variant:Se===re?"default":"outline",onClick:()=>$e(re),className:Se===re?"bg-orange-600":"",children:re==="all"?"All":re},re))]}),e.jsx("div",{className:"h-6 w-px bg-gray-300"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm font-semibold text-gray-600",children:"Auto-Renew:"}),["all","enabled","disabled"].map(re=>e.jsx(Q,{size:"sm",variant:qe===re?"default":"outline",onClick:()=>Fe(re),className:qe===re?"bg-blue-600":"",children:re.charAt(0).toUpperCase()+re.slice(1)},re))]}),e.jsx("div",{className:"h-6 w-px bg-gray-300"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm font-semibold text-gray-600",children:"Period:"}),[{value:"all",label:"All"},{value:"monthly",label:"1 Month",icon:""},{value:"semi-annual",label:"6 Months",icon:""},{value:"annual",label:"1 Year",icon:""}].map(re=>e.jsxs(Q,{size:"sm",variant:$t===re.value?"default":"outline",onClick:()=>Dt(re.value),className:$t===re.value?"bg-gradient-to-r from-purple-600 to-pink-600":"",children:[re.icon&&e.jsx("span",{className:"mr-1",children:re.icon}),re.label]},re.value))]})]}),e.jsxs("div",{className:"mt-4 flex items-center gap-2 flex-wrap",children:[e.jsx("span",{className:"text-sm font-semibold text-gray-600",children:"Filter by Tags:"}),Br.map(re=>e.jsxs(Q,{size:"sm",variant:it.includes(re.name)?"default":"outline",onClick:()=>{it.includes(re.name)?rt(it.filter(Ee=>Ee!==re.name)):rt([...it,re.name])},style:it.includes(re.name)?{backgroundColor:re.color,color:"white"}:{},children:[e.jsx(_c,{className:"w-3 h-3 mr-1"}),re.name]},re.name))]})]}),e.jsxs(ne,{className:"p-6 border-2 border-gray-100",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h4",{className:"font-bold text-lg",children:[Xi(t).length," Salons Found"]}),e.jsxs(Q,{size:"sm",variant:"outline",onClick:pu,children:[e.jsx(or,{className:"w-4 h-4 mr-1"}),m.length===Xi(t).length?"Deselect All":"Select All"]})]}),e.jsx("div",{className:"space-y-4",children:Xi(t).map(re=>{const Ee=re.healthScore||Do(re),Qe=xu(Ee);return e.jsx("div",{className:`p-5 rounded-xl border-2 transition-all ${m.includes(re.id)?"border-purple-400 bg-purple-50":re.status==="blocked"?"bg-red-50 border-red-200":re.status==="overdue"?"bg-orange-50 border-orange-200":"bg-white border-gray-100 hover:shadow-lg"}`,children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("input",{type:"checkbox",checked:m.includes(re.id),onChange:()=>zc(re.id),className:"mt-1 mr-4 w-5 h-5 rounded border-gray-300 cursor-pointer"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("h4",{className:"text-xl font-bold",children:re.name}),e.jsx(Oe,{className:re.status==="active"?"bg-green-600 text-white":re.status==="overdue"?"bg-orange-600 text-white":"bg-red-600 text-white",children:re.status.toUpperCase()}),re.warnings>0&&e.jsxs(Oe,{className:"bg-red-100 text-red-700",children:[re.warnings," warning",re.warnings>1?"s":""]}),re.autoRenew&&re.status==="active"&&e.jsx(Oe,{className:"bg-blue-100 text-blue-700",children:"Auto-Renew "}),e.jsxs(Oe,{style:{backgroundColor:Qe,color:"white"},children:[e.jsx(Zf,{className:"w-3 h-3 mr-1"}),"Health: ",Ee,"/100"]}),re.tags&&re.tags.map(Vr=>{const na=Br.find(Tt=>Tt.name===Vr);return e.jsx(Oe,{style:{backgroundColor:na==null?void 0:na.color,color:"white"},children:Vr},Vr)})]}),e.jsxs("div",{className:"grid grid-cols-5 gap-4 text-sm mb-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500",children:"Owner"}),e.jsx("p",{className:"font-semibold",children:re.owner})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500",children:"Email"}),e.jsx("p",{className:"font-semibold",children:re.email})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500",children:"Phone"}),e.jsx("p",{className:"font-semibold",children:re.phone})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500",children:"Total Revenue"}),e.jsxs("p",{className:"font-bold text-green-600",children:["AED ",re.revenue.toLocaleString()]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500",children:"Bookings"}),e.jsx("p",{className:"font-bold text-purple-600",children:re.bookings})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500",children:"Registered"}),e.jsx("p",{className:"font-semibold",children:re.registered})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500",children:"Next Payment"}),e.jsx("p",{className:"font-semibold",children:re.nextPayment||"N/A"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500",children:"Billing Period"}),e.jsxs(Oe,{className:re.billingPeriod==="monthly"?"bg-blue-100 text-blue-700":re.billingPeriod==="semi-annual"?"bg-purple-100 text-purple-700":"bg-gradient-to-r from-amber-100 to-orange-100 text-orange-700",children:[re.billingPeriod==="monthly"&&" 1 Month",re.billingPeriod==="semi-annual"&&" 6 Months",re.billingPeriod==="annual"&&" 1 Year"]})]})]})]}),e.jsxs("div",{className:"flex flex-col gap-2 ml-6",children:[e.jsxs(Q,{size:"sm",variant:"outline",onClick:()=>{s(re),i(!0)},children:[e.jsx(Rr,{className:"w-4 h-4 mr-1"}),"View Details"]}),re.status!=="blocked"&&e.jsxs(e.Fragment,{children:[e.jsxs(Q,{size:"sm",className:"bg-orange-600 hover:bg-orange-700",onClick:()=>alert(`Send warning to ${re.name}`),children:[e.jsx(fr,{className:"w-4 h-4 mr-1"}),"Send Warning"]}),e.jsxs(Q,{size:"sm",variant:"outline",className:"text-red-600 border-red-600",onClick:()=>{confirm(`Block ${re.name}?`)&&alert(`Salon ${re.name} blocked`)},children:[e.jsx(tn,{className:"w-4 h-4 mr-1"}),"Block"]})]}),re.status==="blocked"&&e.jsxs(Q,{size:"sm",className:"bg-green-600 hover:bg-green-700",onClick:()=>{confirm(`Unblock ${re.name}?`)&&alert(`Salon ${re.name} unblocked`)},children:[e.jsx(WP,{className:"w-4 h-4 mr-1"}),"Unblock"]})]})]})},re.id)})})]})]}),a&&n&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4 overflow-y-auto",onClick:()=>i(!1),children:e.jsx(ne,{className:"w-full max-w-6xl my-8",onClick:re=>re.stopPropagation(),children:e.jsxs("div",{className:"p-8",children:[e.jsxs("div",{className:"flex items-start justify-between mb-6",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("h3",{className:"text-3xl font-bold",children:n.name}),e.jsx(Oe,{className:n.status==="active"?"bg-green-600 text-white":n.status==="overdue"?"bg-orange-600 text-white":"bg-red-600 text-white",children:n.status.toUpperCase()}),e.jsxs(Oe,{style:{backgroundColor:xu(n.healthScore||Do(n)),color:"white"},children:["Health: ",n.healthScore||Do(n),"/100"]})]}),e.jsxs("p",{className:"text-gray-600",children:["Salon ID: #",n.id]})]}),e.jsx(Q,{variant:"outline",onClick:()=>i(!1),children:e.jsx(tn,{className:"w-5 h-5"})})]}),e.jsxs(_p,{value:ue,onValueChange:de,children:[e.jsxs(kp,{className:"grid w-full grid-cols-6",children:[e.jsx(rn,{value:"details",children:"Details"}),e.jsx(rn,{value:"payments",children:"Payment History"}),e.jsx(rn,{value:"timeline",children:"Timeline"}),e.jsx(rn,{value:"notes",children:"Notes & Tags"}),e.jsx(rn,{value:"communications",children:"Communications"}),e.jsx(rn,{value:"integrations",children:"Integrations"})]}),e.jsxs(nn,{value:"details",className:"space-y-6 mt-6",children:[e.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-bold text-lg border-b pb-2",children:"Contact Information"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Owner Name"}),e.jsx("p",{className:"font-semibold",children:n.owner})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Email"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("p",{className:"font-semibold",children:n.email}),e.jsx(Q,{size:"sm",variant:"ghost",children:e.jsx(Ld,{className:"w-3 h-3"})})]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Phone"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("p",{className:"font-semibold",children:n.phone}),e.jsx(Q,{size:"sm",variant:"ghost",children:e.jsx(Ld,{className:"w-3 h-3"})})]})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-bold text-lg border-b pb-2",children:"Subscription Details"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Current Plan"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("p",{className:"font-bold text-purple-600",children:[(Hc=Sn.find(re=>re.id===t))==null?void 0:Hc.name," (AED"," ",(Wc=Sn.find(re=>re.id===t))==null?void 0:Wc.price,"/mo)"]}),e.jsxs(Q,{size:"sm",className:"bg-blue-600 hover:bg-blue-700",children:[e.jsx(Xf,{className:"w-3 h-3 mr-1"}),"Upgrade"]})]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Registered Date"}),e.jsx("p",{className:"font-semibold",children:n.registered})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Next Payment"}),e.jsx("p",{className:"font-semibold",children:n.nextPayment||"N/A"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Billing Period"}),e.jsxs(Oe,{className:n.billingPeriod==="monthly"?"bg-blue-100 text-blue-700":n.billingPeriod==="semi-annual"?"bg-purple-100 text-purple-700":"bg-gradient-to-r from-amber-100 to-orange-100 text-orange-700",children:[n.billingPeriod==="monthly"&&" Monthly (1 Month)",n.billingPeriod==="semi-annual"&&" Semi-Annual (6 Months)",n.billingPeriod==="annual"&&" Annual (1 Year)"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Auto-Renew"}),e.jsx(Oe,{className:n.autoRenew?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700",children:n.autoRenew?"Enabled ":"Disabled"})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs(ne,{className:"p-4 border-2 border-green-100 bg-green-50/50",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Total Revenue"}),e.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["AED ",n.revenue.toLocaleString()]})]}),e.jsxs(ne,{className:"p-4 border-2 border-purple-100 bg-purple-50/50",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Total Bookings"}),e.jsx("p",{className:"text-2xl font-bold text-purple-600",children:n.bookings})]}),e.jsxs(ne,{className:"p-4 border-2 border-red-100 bg-red-50/50",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Warnings"}),e.jsx("p",{className:"text-2xl font-bold text-red-600",children:n.warnings})]})]}),e.jsxs(ne,{className:"p-6 border-2 border-blue-100 bg-blue-50/30",children:[e.jsxs("h4",{className:"font-bold text-lg mb-4 flex items-center gap-2",children:[e.jsx(xr,{className:"w-5 h-5 text-blue-600"}),"Upgrade / Downgrade Plan"]}),e.jsx("div",{className:"grid grid-cols-3 gap-4",children:Sn.map(re=>{var Ee;return e.jsxs(ne,{className:`p-4 border-2 cursor-pointer transition-all ${re.id===t?"border-purple-400 bg-purple-50":"border-gray-200 hover:border-purple-200"}`,children:[e.jsx("h5",{className:"font-bold mb-2",children:re.name}),e.jsxs("p",{className:"text-2xl font-bold mb-2",style:{color:re.color},children:["AED ",re.price]}),re.id===t?e.jsx(Oe,{className:"bg-purple-600 text-white w-full",children:"Current Plan"}):e.jsx(Q,{size:"sm",className:"w-full",style:{backgroundColor:re.color},onClick:()=>alert(`Upgrade to ${re.name} plan`),children:parseInt(re.price.toString())>parseInt(((Ee=Sn.find(Qe=>Qe.id===t))==null?void 0:Ee.price.toString())||"0")?"Upgrade":"Downgrade"})]},re.id)})}),e.jsxs("div",{className:"mt-4 p-4 bg-white rounded-lg border",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:" Special Offers:"}),e.jsxs("ul",{className:"text-sm space-y-1",children:[e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx(dr,{className:"w-4 h-4 text-purple-600"}),e.jsx("span",{children:"Upgrade to Business: Get 20% off first 3 months"})]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx(So,{className:"w-4 h-4 text-purple-600"}),e.jsx("span",{children:"Annual payment: Save 15%"})]})]})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs(Q,{variant:"outline",className:"flex-1",children:[e.jsx(Ut,{className:"w-4 h-4 mr-2"}),"Contact Owner"]}),e.jsxs(Q,{variant:"outline",className:"flex-1",children:[e.jsx(vr,{className:"w-4 h-4 mr-2"}),"Download Report"]}),e.jsxs(Q,{className:"flex-1 bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700",onClick:()=>{Jt(n),Ge(!0)},children:[e.jsx(xn,{className:"w-4 h-4 mr-2"}),"Request Refund"]}),n.status!=="blocked"&&e.jsxs(Q,{className:"flex-1 bg-red-600 hover:bg-red-700",onClick:()=>{confirm(`Block ${n.name}?`)&&(alert("Salon blocked!"),i(!1))},children:[e.jsx(tn,{className:"w-4 h-4 mr-2"}),"Block Salon"]})]})]}),e.jsxs(nn,{value:"payments",className:"space-y-6 mt-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h4",{className:"font-bold text-lg",children:"Payment History"}),e.jsxs(Q,{size:"sm",variant:"outline",children:[e.jsx(vr,{className:"w-4 h-4 mr-2"}),"Export"]})]}),e.jsx("div",{className:"space-y-3",children:(Ol=n.paymentHistory)==null?void 0:Ol.map(re=>e.jsx(ne,{className:`p-5 border-2 ${re.status==="failed"?"border-red-200 bg-red-50":"border-green-200 bg-green-50"}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx(Oe,{className:re.status==="success"?"bg-green-600 text-white":"bg-red-600 text-white",children:re.status.toUpperCase()}),e.jsxs("span",{className:"font-bold text-lg",children:["AED ",re.amount]}),e.jsx("span",{className:"text-sm text-gray-600",children:re.date})]}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Payment Method: ",re.method]}),re.reason&&e.jsxs("p",{className:"text-sm text-red-600 mt-1",children:[" Reason: ",re.reason]})]}),e.jsxs("div",{className:"flex gap-2",children:[re.status==="failed"&&e.jsxs(e.Fragment,{children:[e.jsxs(Q,{size:"sm",className:"bg-green-600 hover:bg-green-700",children:[e.jsx(xn,{className:"w-4 h-4 mr-1"}),"Retry Payment"]}),e.jsxs(Q,{size:"sm",variant:"outline",children:[e.jsx(oi,{className:"w-4 h-4 mr-1"}),"Update Method"]})]}),re.status==="success"&&e.jsxs(Q,{size:"sm",variant:"outline",children:[e.jsx(vr,{className:"w-4 h-4 mr-1"}),"Receipt"]})]})]})},re.id))}),((gu=n.paymentHistory)==null?void 0:gu.filter(re=>re.status==="failed").length)>0&&e.jsxs(ne,{className:"p-5 border-2 border-orange-200 bg-orange-50",children:[e.jsx("h5",{className:"font-bold mb-3",children:" Payment Method Update"}),e.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["This salon has ",n.paymentHistory.filter(re=>re.status==="failed").length," failed payment(s). Contact owner to update payment method."]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(Q,{size:"sm",className:"bg-blue-600 hover:bg-blue-700",children:[e.jsx(Ut,{className:"w-4 h-4 mr-1"}),"Send Payment Update Link"]}),e.jsxs(Q,{size:"sm",variant:"outline",children:[e.jsx(En,{className:"w-4 h-4 mr-1"}),"Call Owner"]})]})]})]}),e.jsxs(nn,{value:"timeline",className:"space-y-6 mt-6",children:[e.jsx("h4",{className:"font-bold text-lg",children:"Activity Timeline"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute left-6 top-0 bottom-0 w-0.5 bg-gray-200"}),e.jsx("div",{className:"space-y-6",children:(Ro=n.timeline)==null?void 0:Ro.map((re,Ee)=>e.jsxs("div",{className:"relative flex gap-4",children:[e.jsxs("div",{className:`relative z-10 w-12 h-12 rounded-full flex items-center justify-center ${re.type==="registration"?"bg-blue-100":re.type==="payment"?"bg-green-100":re.type==="payment_failed"?"bg-red-100":re.type==="warning"?"bg-orange-100":re.type==="upgrade"?"bg-purple-100":"bg-gray-100"}`,children:[re.type==="registration"&&e.jsx(fl,{className:"w-5 h-5 text-blue-600"}),re.type==="payment"&&e.jsx(Wr,{className:"w-5 h-5 text-green-600"}),re.type==="payment_failed"&&e.jsx(tn,{className:"w-5 h-5 text-red-600"}),re.type==="warning"&&e.jsx(fr,{className:"w-5 h-5 text-orange-600"}),re.type==="upgrade"&&e.jsx(Xf,{className:"w-5 h-5 text-purple-600"})]}),e.jsx(ne,{className:"flex-1 p-4 border-2 border-gray-100",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold",children:re.text}),e.jsx("p",{className:"text-sm text-gray-600",children:re.date})]}),e.jsx(Oe,{className:re.type==="registration"?"bg-blue-100 text-blue-700":re.type==="payment"?"bg-green-100 text-green-700":re.type==="payment_failed"?"bg-red-100 text-red-700":re.type==="warning"?"bg-orange-100 text-orange-700":"bg-purple-100 text-purple-700",children:re.type.replace("_"," ").toUpperCase()})]})})]},re.id))})]})]}),e.jsxs(nn,{value:"notes",className:"space-y-6 mt-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-lg mb-4",children:"Tags"}),e.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:(Ar=n.tags)==null?void 0:Ar.map(re=>{const Ee=Br.find(Qe=>Qe.name===re);return e.jsxs(Oe,{style:{backgroundColor:Ee==null?void 0:Ee.color,color:"white"},className:"text-sm px-3 py-1",children:[re,e.jsx("button",{className:"ml-2 hover:text-red-200",onClick:()=>alert(`Remove tag: ${re}`),children:""})]},re)})}),e.jsxs("div",{className:"flex gap-2 flex-wrap",children:[e.jsx("span",{className:"text-sm text-gray-600 my-auto",children:"Add Tag:"}),Br.filter(re=>{var Ee;return!((Ee=n.tags)!=null&&Ee.includes(re.name))}).map(re=>e.jsxs(Q,{size:"sm",variant:"outline",onClick:()=>alert(`Add tag: ${re.name}`),children:[e.jsx(er,{className:"w-3 h-3 mr-1"}),re.name]},re.name))]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-lg mb-4",children:"Internal Notes"}),e.jsx("div",{className:"space-y-3 mb-4",children:(vu=n.notes)==null?void 0:vu.map(re=>e.jsx(ne,{className:"p-4 border-2 border-gray-100",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Oe,{className:"bg-purple-100 text-purple-700",children:re.admin}),e.jsx("span",{className:"text-sm text-gray-600",children:re.date})]}),e.jsx("p",{className:"text-gray-800",children:re.text})]}),e.jsx(Q,{size:"sm",variant:"ghost",children:e.jsx(cn,{className:"w-4 h-4 text-red-600"})})]})},re.id))}),e.jsxs(ne,{className:"p-4 border-2 border-purple-200 bg-purple-50/30",children:[e.jsx("textarea",{className:"w-full p-3 border-2 border-gray-200 rounded-lg resize-none",rows:3,placeholder:"Add internal note...",value:yt,onChange:re=>Pt(re.target.value)}),e.jsx("div",{className:"flex justify-end mt-2",children:e.jsxs(Q,{className:"bg-purple-600 hover:bg-purple-700",onClick:()=>{yt.trim()&&(alert(`Note added: ${yt}`),Pt(""))},children:[e.jsx(er,{className:"w-4 h-4 mr-2"}),"Add Note"]})})]})]})]}),e.jsxs(nn,{value:"communications",className:"space-y-6 mt-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h4",{className:"font-bold text-lg",children:"Communication History"}),e.jsxs(Q,{size:"sm",className:"bg-purple-600 hover:bg-purple-700",children:[e.jsx(ys,{className:"w-4 h-4 mr-2"}),"New Message"]})]}),e.jsx("div",{className:"space-y-3",children:(Ml=n.communications)==null?void 0:Ml.map(re=>e.jsx(ne,{className:"p-5 border-2 border-gray-100",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsxs(Oe,{className:re.type==="email"?"bg-blue-600 text-white":re.type==="phone"?"bg-green-600 text-white":"bg-purple-600 text-white",children:[re.type==="email"&&e.jsx(Ut,{className:"w-3 h-3 mr-1"}),re.type==="phone"&&e.jsx(En,{className:"w-3 h-3 mr-1"}),re.type==="sms"&&e.jsx(Pa,{className:"w-3 h-3 mr-1"}),re.type.toUpperCase()]}),e.jsx("span",{className:"font-semibold",children:re.subject}),e.jsx("span",{className:"text-sm text-gray-600",children:re.date})]}),re.type==="email"&&re.status&&e.jsx(Oe,{className:re.status==="opened"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700",children:re.status==="opened"?" Opened":"Not opened"}),re.type==="phone"&&e.jsx(Oe,{className:"bg-green-100 text-green-700",children:re.status==="completed"?" Completed":re.status})]}),e.jsxs(Q,{size:"sm",variant:"outline",children:[e.jsx(Rr,{className:"w-4 h-4 mr-1"}),"View"]})]})},re.id))}),((qc=n.communications)==null?void 0:qc.length)===0&&e.jsxs(ne,{className:"p-8 border-2 border-dashed border-gray-300 text-center",children:[e.jsx(Pa,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-600",children:"No communications yet"}),e.jsxs(Q,{className:"mt-4 bg-purple-600 hover:bg-purple-700",children:[e.jsx(ys,{className:"w-4 h-4 mr-2"}),"Send First Message"]})]})]}),e.jsxs(nn,{value:"integrations",className:"space-y-6 mt-6",children:[e.jsx("h4",{className:"font-bold text-lg",children:"Integration Status"}),e.jsx("div",{className:"grid lg:grid-cols-2 gap-4",children:(Io=n.integrations)==null?void 0:Io.map((re,Ee)=>e.jsxs(ne,{className:`p-5 border-2 ${re.status==="active"?"border-green-200 bg-green-50/50":"border-gray-200"}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${re.status==="active"?"bg-green-100":"bg-gray-100"}`,children:[re.name==="Google Calendar"&&e.jsx(vt,{className:"w-5 h-5 text-blue-600"}),re.name==="Stripe"&&e.jsx(Wr,{className:"w-5 h-5 text-purple-600"}),re.name==="Mailchimp"&&e.jsx(Ut,{className:"w-5 h-5 text-orange-600"}),re.name==="Zapier"&&e.jsx(Ks,{className:"w-5 h-5 text-orange-500"})]}),e.jsxs("div",{children:[e.jsx("h5",{className:"font-bold",children:re.name}),e.jsx("p",{className:"text-sm text-gray-600",children:re.lastSync?`Last sync: ${re.lastSync}`:"Not connected"})]})]}),e.jsx(Oe,{className:re.status==="active"?"bg-green-600 text-white":"bg-gray-600 text-white",children:re.status==="active"?" Active":"Inactive"})]}),e.jsx("div",{className:"flex gap-2",children:re.status==="active"?e.jsxs(e.Fragment,{children:[e.jsxs(Q,{size:"sm",variant:"outline",className:"flex-1",children:[e.jsx(xn,{className:"w-3 h-3 mr-1"}),"Sync Now"]}),e.jsxs(Q,{size:"sm",variant:"outline",className:"flex-1 text-red-600 border-red-600",children:[e.jsx(tn,{className:"w-3 h-3 mr-1"}),"Disconnect"]})]}):e.jsxs(Q,{size:"sm",className:"w-full bg-blue-600 hover:bg-blue-700",children:[e.jsx(ZS,{className:"w-3 h-3 mr-1"}),"Connect"]})})]},Ee))})]})]})]})})}),e.jsxs("div",{className:"fixed bottom-8 right-8 z-40",children:[e.jsx(Q,{className:"w-16 h-16 rounded-full bg-gradient-to-r from-purple-600 to-pink-600 shadow-2xl hover:scale-110 transition-all",onClick:()=>ws(!js),children:e.jsx(Ks,{className:"w-8 h-8"})}),js&&e.jsx(ne,{className:"absolute bottom-20 right-0 w-72 shadow-2xl border-2 border-purple-200",children:e.jsxs("div",{className:"p-4",children:[e.jsxs("h4",{className:"font-bold mb-4 flex items-center gap-2",children:[e.jsx(tr,{className:"w-5 h-5 text-purple-600"}),"Quick Actions"]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(Q,{size:"sm",variant:"outline",className:"w-full justify-start",onClick:()=>{yr(!0),ws(!1)},children:[e.jsx(qr,{className:"w-4 h-4 mr-2"}),"Command Palette (K)"]}),e.jsxs(Q,{size:"sm",variant:"outline",className:"w-full justify-start",onClick:()=>{$r(!0),ws(!1)},children:[e.jsx(vr,{className:"w-4 h-4 mr-2"}),"Export Data (E)"]}),e.jsxs(Q,{size:"sm",variant:"outline",className:"w-full justify-start",onClick:()=>{B(!0),ws(!1)},children:[e.jsx(Na,{className:"w-4 h-4 mr-2"}),"Notifications",k.filter(re=>!re.read).length>0&&e.jsx(Oe,{className:"ml-auto bg-red-600 text-white",children:k.filter(re=>!re.read).length})]}),e.jsxs(Q,{size:"sm",variant:"outline",className:"w-full justify-start",onClick:()=>P(!C),children:[e.jsx(Zf,{className:"w-4 h-4 mr-2"}),C?"Disable Live":"Enable Live"]}),e.jsxs("div",{className:"border-t pt-2 mt-2",children:[e.jsx("p",{className:"text-xs text-gray-500 mb-2",children:" Keyboard Shortcuts:"}),Ye.slice(0,4).map(re=>e.jsxs("div",{className:"flex items-center justify-between text-xs py-1",children:[e.jsx("span",{className:"text-gray-600",children:re.action}),e.jsx(Oe,{variant:"outline",className:"text-xs",children:re.key})]},re.key))]})]})]})})]}),De&&Je&&e.jsx(jCe,{salon:Je,onClose:()=>{Ge(!1),Jt(null)},onSubmit:re=>{console.log(" Refund request submitted:",re),alert(`Refund request for ${re.salonName} (AED ${re.amount}) has been submitted!

Verification email sent to: ${re.confirmationEmail}

Super admin will review the request.`),Ge(!1),Jt(null)}})]})}function NCe(){const[t,r]=N.useState([]),[n,s]=N.useState(!0),[a,i]=N.useState(""),[o,l]=N.useState("all"),[c,u]=N.useState("date");N.useEffect(()=>{m()},[]);const m=async()=>{try{s(!0);const _=await fetch(`https://${nr}.supabase.co/functions/v1/make-server-3e5c72fb/leads`,{headers:{Authorization:`Bearer ${cr}`}});if(_.ok){const k=await _.json();r(k.leads||[])}}catch(_){console.error("Error loading leads:",_),ve.error("Failed to load leads")}finally{s(!1)}},p=async(_,k)=>{try{(await fetch(`https://${nr}.supabase.co/functions/v1/make-server-3e5c72fb/leads/${_}/status`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${cr}`},body:JSON.stringify({status:k})})).ok?(ve.success("Lead status updated"),m()):ve.error("Failed to update lead status")}catch(M){console.error("Error updating lead:",M),ve.error("Failed to update lead status")}},x=async _=>{if(confirm("Are you sure you want to delete this lead?"))try{(await fetch(`https://${nr}.supabase.co/functions/v1/make-server-3e5c72fb/leads/${_}`,{method:"DELETE",headers:{Authorization:`Bearer ${cr}`}})).ok?(ve.success("Lead deleted"),m()):ve.error("Failed to delete lead")}catch(k){console.error("Error deleting lead:",k),ve.error("Failed to delete lead")}},v=()=>{const _=new Map,k=new Map;t.forEach(B=>{const F=B.email.toLowerCase().trim(),H=B.phoneNumber.replace(/\s/g,"");_.has(F)||_.set(F,[]),_.get(F).push(B),k.has(H)||k.set(H,[]),k.get(H).push(B)});const M=[],$=new Set;return _.forEach(B=>{B.length>1&&[...B].sort((H,K)=>new Date(K.createdAt).getTime()-new Date(H.createdAt).getTime()).slice(1).forEach(H=>{$.has(H.id)||(M.push(H),$.add(H.id))})}),k.forEach(B=>{B.length>1&&[...B].sort((H,K)=>new Date(K.createdAt).getTime()-new Date(H.createdAt).getTime()).slice(1).forEach(H=>{$.has(H.id)||(M.push(H),$.add(H.id))})}),M},w=async()=>{const _=v();if(_.length===0){ve.success("No duplicates found! ");return}if(confirm(`Found ${_.length} duplicate lead(s).

This will keep the newest entry for each email/phone and remove older duplicates.

Do you want to continue?`))try{let M=0;for(const $ of _)(await fetch(`https://${nr}.supabase.co/functions/v1/make-server-3e5c72fb/leads/${$.id}`,{method:"DELETE",headers:{Authorization:`Bearer ${cr}`}})).ok&&M++;ve.success(` Removed ${M} duplicate lead(s)`),m()}catch(M){console.error("Error removing duplicates:",M),ve.error("Failed to remove duplicates")}},y=()=>{const _=[["Name","Business","Email","Phone","City","Type","Status","Created At"].join(","),...j.map(B=>[B.fullName,B.businessName,B.email,B.phoneNumber,B.city,B.businessType,B.status,new Date(B.createdAt).toLocaleDateString()].join(","))].join(`
`),k=new Blob([_],{type:"text/csv"}),M=window.URL.createObjectURL(k),$=document.createElement("a");$.href=M,$.download=`leads-${new Date().toISOString().split("T")[0]}.csv`,$.click(),ve.success("Leads exported successfully!")},j=t.filter(_=>{const k=_.fullName.toLowerCase().includes(a.toLowerCase())||_.businessName.toLowerCase().includes(a.toLowerCase())||_.email.toLowerCase().includes(a.toLowerCase())||_.phoneNumber.includes(a),M=o==="all"||_.status===o;return k&&M}).sort((_,k)=>c==="date"?new Date(k.createdAt).getTime()-new Date(_.createdAt).getTime():_.fullName.localeCompare(k.fullName)),S={total:t.length,new:t.filter(_=>_.status==="new").length,contacted:t.filter(_=>_.status==="contacted").length,converted:t.filter(_=>_.status==="converted").length},C=v().length,P=_=>{switch(_){case"new":return"bg-blue-100 text-blue-700 border-blue-200";case"contacted":return"bg-yellow-100 text-yellow-700 border-yellow-200";case"demo-scheduled":return"bg-purple-100 text-purple-700 border-purple-200";case"converted":return"bg-green-100 text-green-700 border-green-200";case"rejected":return"bg-gray-100 text-gray-700 border-gray-200";default:return"bg-gray-100 text-gray-700 border-gray-200"}},T=_=>{switch(_){case"new":return e.jsx(Gt,{className:"w-3 h-3"});case"contacted":return e.jsx(pt,{className:"w-3 h-3"});case"demo-scheduled":return e.jsx(vt,{className:"w-3 h-3"});case"converted":return e.jsx(zt,{className:"w-3 h-3"});case"rejected":return e.jsx(tn,{className:"w-3 h-3"});default:return null}};return n?e.jsx("div",{className:"flex items-center justify-center py-20",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-12 h-12 border-4 border-purple-200 border-t-purple-600 rounded-full animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading leads..."})]})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[e.jsx(pr,{className:"w-6 h-6 text-purple-600"}),"Lead Management"]}),e.jsx("p",{className:"text-gray-600 mt-1",children:'Manage and track all incoming leads from "Become a Partner"'})]}),e.jsxs("div",{className:"flex gap-3",children:[C>0&&e.jsxs(Q,{onClick:w,variant:"outline",className:"border-2 border-orange-300 bg-orange-50 hover:bg-orange-100 text-orange-700 relative",children:[e.jsx(fr,{className:"w-4 h-4 mr-2"}),"Remove Duplicates",e.jsx(Oe,{className:"ml-2 bg-orange-600 text-white",children:C})]}),e.jsxs(Q,{onClick:y,className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700",disabled:t.length===0,children:[e.jsx(vr,{className:"w-4 h-4 mr-2"}),"Export CSV"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx(ne,{className:"border-2 border-blue-200 bg-blue-50",children:e.jsx(ke,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-blue-600 font-medium mb-1",children:"Total Leads"}),e.jsx("p",{className:"text-3xl font-bold text-blue-900",children:S.total})]}),e.jsx("div",{className:"w-12 h-12 bg-blue-600 rounded-full flex items-center justify-center",children:e.jsx(pr,{className:"w-6 h-6 text-white"})})]})})}),e.jsx(ne,{className:"border-2 border-yellow-200 bg-yellow-50",children:e.jsx(ke,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-yellow-600 font-medium mb-1",children:"New Leads"}),e.jsx("p",{className:"text-3xl font-bold text-yellow-900",children:S.new})]}),e.jsx("div",{className:"w-12 h-12 bg-yellow-600 rounded-full flex items-center justify-center",children:e.jsx(Gt,{className:"w-6 h-6 text-white"})})]})})}),e.jsx(ne,{className:"border-2 border-purple-200 bg-purple-50",children:e.jsx(ke,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-purple-600 font-medium mb-1",children:"Contacted"}),e.jsx("p",{className:"text-3xl font-bold text-purple-900",children:S.contacted})]}),e.jsx("div",{className:"w-12 h-12 bg-purple-600 rounded-full flex items-center justify-center",children:e.jsx(pt,{className:"w-6 h-6 text-white"})})]})})}),e.jsx(ne,{className:"border-2 border-green-200 bg-green-50",children:e.jsx(ke,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-green-600 font-medium mb-1",children:"Converted"}),e.jsx("p",{className:"text-3xl font-bold text-green-900",children:S.converted})]}),e.jsx("div",{className:"w-12 h-12 bg-green-600 rounded-full flex items-center justify-center",children:e.jsx(zt,{className:"w-6 h-6 text-white"})})]})})})]}),e.jsx(ne,{children:e.jsx(ke,{className:"pt-6",children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(qr,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx(He,{placeholder:"Search by name, email, or phone...",value:a,onChange:_=>i(_.target.value),className:"pl-10"})]})}),e.jsxs(sn,{value:o,onValueChange:l,children:[e.jsxs(an,{className:"w-full sm:w-48",children:[e.jsx(Hd,{className:"w-4 h-4 mr-2"}),e.jsx(gn,{placeholder:"Filter by status"})]}),e.jsxs(on,{children:[e.jsx(Ue,{value:"all",children:"All Statuses"}),e.jsx(Ue,{value:"new",children:"New"}),e.jsx(Ue,{value:"contacted",children:"Contacted"}),e.jsx(Ue,{value:"demo-scheduled",children:"Demo Scheduled"}),e.jsx(Ue,{value:"converted",children:"Converted"}),e.jsx(Ue,{value:"rejected",children:"Rejected"})]})]}),e.jsxs(sn,{value:c,onValueChange:_=>u(_),children:[e.jsxs(an,{className:"w-full sm:w-48",children:[e.jsx(xr,{className:"w-4 h-4 mr-2"}),e.jsx(gn,{placeholder:"Sort by"})]}),e.jsxs(on,{children:[e.jsx(Ue,{value:"date",children:"Newest First"}),e.jsx(Ue,{value:"name",children:"Name A-Z"})]})]})]})})}),e.jsxs(ne,{children:[e.jsxs(Hr,{children:[e.jsxs(wn,{children:["Leads (",j.length,")"]}),e.jsx(ns,{children:'All leads from the "Become a Partner" form'})]}),e.jsx(ke,{children:j.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(pr,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 font-medium",children:"No leads found"}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:a||o!=="all"?"Try adjusting your filters":"Leads will appear here when someone fills the partner form"})]}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-gray-200",children:[e.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Contact"}),e.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Business"}),e.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Location"}),e.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Status"}),e.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Created"}),e.jsx("th",{className:"text-right py-3 px-4 font-medium text-gray-700",children:"Actions"})]})}),e.jsx("tbody",{children:j.map(_=>e.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[e.jsx("td",{className:"py-4 px-4",children:e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:_.fullName}),e.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600 mt-1",children:[e.jsx(Ut,{className:"w-3 h-3"}),e.jsx("a",{href:`mailto:${_.email}`,className:"hover:text-purple-600",children:_.email})]}),e.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600 mt-0.5",children:[e.jsx(En,{className:"w-3 h-3"}),e.jsx("a",{href:`tel:${_.phoneNumber}`,className:"hover:text-purple-600",children:_.phoneNumber})]})]})}),e.jsx("td",{className:"py-4 px-4",children:e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:_.businessName}),e.jsx("p",{className:"text-sm text-gray-600",children:_.businessType})]})}),e.jsx("td",{className:"py-4 px-4",children:e.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600",children:[e.jsx(vs,{className:"w-3 h-3"}),_.city]})}),e.jsx("td",{className:"py-4 px-4",children:e.jsxs(S_,{children:[e.jsx(__,{asChild:!0,children:e.jsxs("button",{className:`inline-flex items-center gap-1 px-3 py-1 rounded-full text-xs font-medium border ${P(_.status)} cursor-pointer hover:opacity-80`,children:[T(_.status),e.jsx("span",{className:"capitalize",children:_.status.replace("-"," ")})]})}),e.jsxs(k_,{align:"start",children:[e.jsxs(ni,{onClick:()=>p(_.id,"new"),children:[e.jsx(Gt,{className:"w-4 h-4 mr-2"})," New"]}),e.jsxs(ni,{onClick:()=>p(_.id,"contacted"),children:[e.jsx(pt,{className:"w-4 h-4 mr-2"})," Contacted"]}),e.jsxs(ni,{onClick:()=>p(_.id,"demo-scheduled"),children:[e.jsx(vt,{className:"w-4 h-4 mr-2"})," Demo Scheduled"]}),e.jsxs(ni,{onClick:()=>p(_.id,"converted"),children:[e.jsx(zt,{className:"w-4 h-4 mr-2"})," Converted"]}),e.jsxs(ni,{onClick:()=>p(_.id,"rejected"),children:[e.jsx(tn,{className:"w-4 h-4 mr-2"})," Rejected"]})]})]})}),e.jsx("td",{className:"py-4 px-4",children:e.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600",children:[e.jsx(vt,{className:"w-3 h-3"}),new Date(_.createdAt).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})]})}),e.jsx("td",{className:"py-4 px-4",children:e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[e.jsx(Q,{variant:"ghost",size:"sm",onClick:()=>window.open(`mailto:${_.email}`,"_blank"),children:e.jsx(Ut,{className:"w-4 h-4"})}),e.jsx(Q,{variant:"ghost",size:"sm",onClick:()=>x(_.id),className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:e.jsx(cn,{className:"w-4 h-4"})})]})})]},_.id))})]})})})]})]})}function SCe(){const[t,r]=N.useState([]),[n,s]=N.useState(!0),[a,i]=N.useState(""),[o,l]=N.useState("all"),[c,u]=N.useState("all"),[m,p]=N.useState("date"),[x,v]=N.useState(null),[w,y]=N.useState(!1),[j,S]=N.useState(""),[C,P]=N.useState("");N.useEffect(()=>{T()},[]);const T=async()=>{try{s(!0);const G=await fetch(`https://${nr}.supabase.co/functions/v1/make-server-3e5c72fb/support-messages`,{headers:{Authorization:`Bearer ${cr}`}});if(G.ok){const O=await G.json();r(O.messages||[])}}catch(G){console.error("Error loading support messages:",G),ve.error("Failed to load support messages")}finally{s(!1)}},_=async(G,O)=>{try{(await fetch(`https://${nr}.supabase.co/functions/v1/make-server-3e5c72fb/support-messages/${G}/status`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${cr}`},body:JSON.stringify({status:O})})).ok?(ve.success("Status updated successfully"),T()):ve.error("Failed to update status")}catch(R){console.error("Error updating status:",R),ve.error("Failed to update status")}},k=async(G,O)=>{try{(await fetch(`https://${nr}.supabase.co/functions/v1/make-server-3e5c72fb/support-messages/${G}/priority`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${cr}`},body:JSON.stringify({priority:O})})).ok?(ve.success("Priority updated successfully"),T()):ve.error("Failed to update priority")}catch(R){console.error("Error updating priority:",R),ve.error("Failed to update priority")}},M=async()=>{if(x)try{(await fetch(`https://${nr}.supabase.co/functions/v1/make-server-3e5c72fb/support-messages/${x.id}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${cr}`},body:JSON.stringify({adminNotes:j,responseMessage:C})})).ok?(ve.success("Notes saved successfully"),T(),y(!1)):ve.error("Failed to save notes")}catch(G){console.error("Error saving notes:",G),ve.error("Failed to save notes")}},$=async G=>{if(confirm("Are you sure you want to delete this message?"))try{(await fetch(`https://${nr}.supabase.co/functions/v1/make-server-3e5c72fb/support-messages/${G}`,{method:"DELETE",headers:{Authorization:`Bearer ${cr}`}})).ok?(ve.success("Message deleted"),T()):ve.error("Failed to delete message")}catch(O){console.error("Error deleting message:",O),ve.error("Failed to delete message")}},B=()=>{const G=[["ID","Name","Email","Subject","Status","Priority","Created At","Source"].join(","),...H.map(I=>[I.id,I.name,I.email,I.subject,I.status,I.priority,new Date(I.createdAt).toLocaleDateString(),I.source].join(","))].join(`
`),O=new Blob([G],{type:"text/csv"}),R=window.URL.createObjectURL(O),D=document.createElement("a");D.href=R,D.download=`support-messages-${new Date().toISOString().split("T")[0]}.csv`,D.click(),ve.success("Support messages exported successfully!")},F=G=>{v(G),S(G.adminNotes||""),P(G.responseMessage||""),y(!0)},H=t.filter(G=>{const O=G.name.toLowerCase().includes(a.toLowerCase())||G.email.toLowerCase().includes(a.toLowerCase())||G.subject.toLowerCase().includes(a.toLowerCase())||G.message.toLowerCase().includes(a.toLowerCase()),R=o==="all"||G.status===o,D=c==="all"||G.priority===c;return O&&R&&D}).sort((G,O)=>{if(m==="priority"){const R={urgent:0,high:1,medium:2,low:3};return R[G.priority]-R[O.priority]}else return new Date(O.createdAt).getTime()-new Date(G.createdAt).getTime()}),K={total:t.length,new:t.filter(G=>G.status==="new").length,inProgress:t.filter(G=>G.status==="in-progress").length,resolved:t.filter(G=>G.status==="resolved").length,urgent:t.filter(G=>G.priority==="urgent").length},Z=G=>{switch(G){case"new":return"bg-blue-100 text-blue-700 border-blue-200";case"in-progress":return"bg-yellow-100 text-yellow-700 border-yellow-200";case"resolved":return"bg-green-100 text-green-700 border-green-200";case"closed":return"bg-gray-100 text-gray-700 border-gray-200";default:return"bg-gray-100 text-gray-700 border-gray-200"}},V=G=>{switch(G){case"urgent":return"bg-red-100 text-red-700 border-red-200";case"high":return"bg-orange-100 text-orange-700 border-orange-200";case"medium":return"bg-yellow-100 text-yellow-700 border-yellow-200";case"low":return"bg-gray-100 text-gray-700 border-gray-200";default:return"bg-gray-100 text-gray-700 border-gray-200"}},W=G=>{switch(G){case"new":return e.jsx(An,{className:"w-3 h-3"});case"in-progress":return e.jsx(pt,{className:"w-3 h-3"});case"resolved":return e.jsx(zt,{className:"w-3 h-3"});case"closed":return e.jsx(tn,{className:"w-3 h-3"});default:return null}};return n?e.jsx("div",{className:"flex items-center justify-center py-20",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-12 h-12 border-4 border-purple-200 border-t-purple-600 rounded-full animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading support messages..."})]})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[e.jsx(PL,{className:"w-6 h-6 text-purple-600"}),"Support & Contact Messages"]}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Manage all customer support requests and contact form submissions"})]}),e.jsxs(Q,{onClick:B,className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700",disabled:t.length===0,children:[e.jsx(vr,{className:"w-4 h-4 mr-2"}),"Export CSV"]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-4",children:[e.jsx(ne,{className:"border-2 border-blue-200 bg-blue-50",children:e.jsx(ke,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-blue-600 font-medium mb-1",children:"Total"}),e.jsx("p",{className:"text-3xl font-bold text-blue-900",children:K.total})]}),e.jsx("div",{className:"w-12 h-12 bg-blue-600 rounded-full flex items-center justify-center",children:e.jsx(Pa,{className:"w-6 h-6 text-white"})})]})})}),e.jsx(ne,{className:"border-2 border-purple-200 bg-purple-50",children:e.jsx(ke,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-purple-600 font-medium mb-1",children:"New"}),e.jsx("p",{className:"text-3xl font-bold text-purple-900",children:K.new})]}),e.jsx("div",{className:"w-12 h-12 bg-purple-600 rounded-full flex items-center justify-center",children:e.jsx(An,{className:"w-6 h-6 text-white"})})]})})}),e.jsx(ne,{className:"border-2 border-yellow-200 bg-yellow-50",children:e.jsx(ke,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-yellow-600 font-medium mb-1",children:"In Progress"}),e.jsx("p",{className:"text-3xl font-bold text-yellow-900",children:K.inProgress})]}),e.jsx("div",{className:"w-12 h-12 bg-yellow-600 rounded-full flex items-center justify-center",children:e.jsx(pt,{className:"w-6 h-6 text-white"})})]})})}),e.jsx(ne,{className:"border-2 border-green-200 bg-green-50",children:e.jsx(ke,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-green-600 font-medium mb-1",children:"Resolved"}),e.jsx("p",{className:"text-3xl font-bold text-green-900",children:K.resolved})]}),e.jsx("div",{className:"w-12 h-12 bg-green-600 rounded-full flex items-center justify-center",children:e.jsx(zt,{className:"w-6 h-6 text-white"})})]})})}),e.jsx(ne,{className:"border-2 border-red-200 bg-red-50",children:e.jsx(ke,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-red-600 font-medium mb-1",children:"Urgent"}),e.jsx("p",{className:"text-3xl font-bold text-red-900",children:K.urgent})]}),e.jsx("div",{className:"w-12 h-12 bg-red-600 rounded-full flex items-center justify-center",children:e.jsx(fr,{className:"w-6 h-6 text-white"})})]})})})]}),e.jsx(ne,{children:e.jsx(ke,{className:"pt-6",children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(qr,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx(He,{placeholder:"Search by name, email, subject, or message...",value:a,onChange:G=>i(G.target.value),className:"pl-10"})]})}),e.jsxs(sn,{value:o,onValueChange:l,children:[e.jsxs(an,{className:"w-full sm:w-48",children:[e.jsx(Hd,{className:"w-4 h-4 mr-2"}),e.jsx(gn,{placeholder:"Filter by status"})]}),e.jsxs(on,{children:[e.jsx(Ue,{value:"all",children:"All Statuses"}),e.jsx(Ue,{value:"new",children:"New"}),e.jsx(Ue,{value:"in-progress",children:"In Progress"}),e.jsx(Ue,{value:"resolved",children:"Resolved"}),e.jsx(Ue,{value:"closed",children:"Closed"})]})]}),e.jsxs(sn,{value:c,onValueChange:u,children:[e.jsxs(an,{className:"w-full sm:w-48",children:[e.jsx(fr,{className:"w-4 h-4 mr-2"}),e.jsx(gn,{placeholder:"Filter by priority"})]}),e.jsxs(on,{children:[e.jsx(Ue,{value:"all",children:"All Priorities"}),e.jsx(Ue,{value:"urgent",children:"Urgent"}),e.jsx(Ue,{value:"high",children:"High"}),e.jsx(Ue,{value:"medium",children:"Medium"}),e.jsx(Ue,{value:"low",children:"Low"})]})]}),e.jsxs(sn,{value:m,onValueChange:G=>p(G),children:[e.jsxs(an,{className:"w-full sm:w-48",children:[e.jsx(xr,{className:"w-4 h-4 mr-2"}),e.jsx(gn,{placeholder:"Sort by"})]}),e.jsxs(on,{children:[e.jsx(Ue,{value:"date",children:"Newest First"}),e.jsx(Ue,{value:"priority",children:"Priority"})]})]})]})})}),e.jsxs(ne,{children:[e.jsxs(Hr,{children:[e.jsxs(wn,{children:["Messages (",H.length,")"]}),e.jsx(ns,{children:"All support and contact form submissions"})]}),e.jsx(ke,{children:H.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Pa,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 font-medium",children:"No messages found"}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:a||o!=="all"||c!=="all"?"Try adjusting your filters":"Messages will appear here when customers contact support"})]}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-gray-200",children:[e.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Contact"}),e.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Subject"}),e.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Status"}),e.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Priority"}),e.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Created"}),e.jsx("th",{className:"text-right py-3 px-4 font-medium text-gray-700",children:"Actions"})]})}),e.jsx("tbody",{children:H.map(G=>e.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[e.jsx("td",{className:"py-4 px-4",children:e.jsxs("div",{children:[e.jsxs("p",{className:"font-medium text-gray-900 flex items-center gap-2",children:[e.jsx(zn,{className:"w-3 h-3"}),G.name]}),e.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600 mt-1",children:[e.jsx(Ut,{className:"w-3 h-3"}),e.jsx("a",{href:`mailto:${G.email}`,className:"hover:text-purple-600",children:G.email})]})]})}),e.jsxs("td",{className:"py-4 px-4",children:[e.jsx("p",{className:"font-medium text-gray-900",children:G.subject}),e.jsx("p",{className:"text-sm text-gray-600 truncate max-w-xs",children:G.message})]}),e.jsx("td",{className:"py-4 px-4",children:e.jsxs(sn,{value:G.status,onValueChange:O=>_(G.id,O),children:[e.jsx(an,{className:`w-32 border ${Z(G.status)}`,children:e.jsxs("div",{className:"flex items-center gap-1",children:[W(G.status),e.jsx(gn,{})]})}),e.jsxs(on,{children:[e.jsx(Ue,{value:"new",children:"New"}),e.jsx(Ue,{value:"in-progress",children:"In Progress"}),e.jsx(Ue,{value:"resolved",children:"Resolved"}),e.jsx(Ue,{value:"closed",children:"Closed"})]})]})}),e.jsx("td",{className:"py-4 px-4",children:e.jsxs(sn,{value:G.priority,onValueChange:O=>k(G.id,O),children:[e.jsx(an,{className:`w-28 border ${V(G.priority)}`,children:e.jsx(gn,{})}),e.jsxs(on,{children:[e.jsx(Ue,{value:"low",children:"Low"}),e.jsx(Ue,{value:"medium",children:"Medium"}),e.jsx(Ue,{value:"high",children:"High"}),e.jsx(Ue,{value:"urgent",children:"Urgent"})]})]})}),e.jsx("td",{className:"py-4 px-4",children:e.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-600",children:[e.jsx(vt,{className:"w-3 h-3"}),new Date(G.createdAt).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})]})}),e.jsx("td",{className:"py-4 px-4",children:e.jsxs("div",{className:"flex items-center justify-end gap-2",children:[e.jsx(Q,{variant:"ghost",size:"sm",onClick:()=>F(G),children:e.jsx(Rr,{className:"w-4 h-4"})}),e.jsx(Q,{variant:"ghost",size:"sm",onClick:()=>window.open(`mailto:${G.email}`,"_blank"),children:e.jsx(Ut,{className:"w-4 h-4"})}),e.jsx(Q,{variant:"ghost",size:"sm",onClick:()=>$(G.id),className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:e.jsx(cn,{className:"w-4 h-4"})})]})})]},G.id))})]})})})]}),e.jsx(u7,{open:w,onOpenChange:y,children:e.jsxs(h7,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[e.jsxs(m7,{children:[e.jsx(f7,{children:"Message Details"}),e.jsx(Foe,{children:"View and manage this support message"})]}),x&&e.jsxs("div",{className:"space-y-6 mt-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Name"}),e.jsx("p",{className:"text-gray-900 mt-1",children:x.name})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Email"}),e.jsx("p",{className:"text-gray-900 mt-1",children:x.email})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Subject"}),e.jsx("p",{className:"text-gray-900 mt-1 font-medium",children:x.subject})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Message"}),e.jsx("div",{className:"mt-1 p-4 bg-gray-50 rounded-lg border border-gray-200",children:e.jsx("p",{className:"text-gray-900 whitespace-pre-wrap",children:x.message})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Admin Notes (Internal)"}),e.jsx(Wh,{value:j,onChange:G=>S(G.target.value),placeholder:"Add internal notes about this message...",rows:4})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Response to Customer"}),e.jsx(Wh,{value:C,onChange:G=>P(G.target.value),placeholder:"Draft your response to the customer...",rows:6})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 pt-4 border-t",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-gray-500",children:"Source"}),e.jsx("p",{className:"text-sm font-medium capitalize",children:x.source})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-gray-500",children:"Created"}),e.jsx("p",{className:"text-sm font-medium",children:new Date(x.createdAt).toLocaleDateString()})]}),x.resolvedAt&&e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-gray-500",children:"Resolved"}),e.jsx("p",{className:"text-sm font-medium",children:new Date(x.resolvedAt).toLocaleDateString()})]})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsxs(Q,{onClick:M,className:"flex-1 bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700",children:[e.jsx(ys,{className:"w-4 h-4 mr-2"}),"Save Notes & Response"]}),e.jsxs(Q,{variant:"outline",onClick:()=>window.open(`mailto:${x.email}?subject=Re: ${x.subject}&body=${encodeURIComponent(C)}`,"_blank"),children:[e.jsx(Ut,{className:"w-4 h-4 mr-2"}),"Send Email"]})]})]})]})})]})}function _Ce(){const[t,r]=N.useState("all"),[n,s]=N.useState(""),[a,i]=N.useState(null),[o,l]=N.useState(!1),[c,u]=N.useState([{id:1,salonId:3,salonName:"Quick Cuts",owner:"John Smith",email:"john@cuts.com",amount:99,paymentDate:"2024-12-20",requestDate:"2024-12-22 14:30",paymentMethod:"Visa  1234",reason:"Service did not meet expectations. Found the calendar feature too complex for our needs.",status:"pending_approval",daysFromPayment:2,verifiedAt:"2024-12-22 14:35"},{id:2,salonId:102,salonName:"Glam Studio X",owner:"Emma Davis",email:"emma@glam.com",amount:299,paymentDate:"2024-12-18",requestDate:"2024-12-23 10:15",paymentMethod:"Mastercard  5555",reason:"Decided to go with a different solution. Great platform but not suitable for our business model.",status:"verified",daysFromPayment:5,verifiedAt:"2024-12-23 10:20"},{id:3,salonId:6,salonName:"Glamour Studio",owner:"Victoria Laurent",email:"victoria@glamour.com",amount:299,paymentDate:"2024-12-12",requestDate:"2024-12-20 09:00",paymentMethod:"Visa  9999",reason:"Charged twice by mistake. Duplicate payment.",status:"approved",daysFromPayment:8,verifiedAt:"2024-12-20 09:05",processedAt:"2024-12-20 15:30",processedBy:"Super Admin",stripeRefundId:"re_1QLxxx"},{id:4,salonId:101,salonName:"New Beauty Spa",owner:"Sarah Johnson",email:"sarah@newbeauty.com",amount:99,paymentDate:"2024-12-10",requestDate:"2024-12-24 11:20",paymentMethod:"Visa  4242",reason:"Testing platform, not ready to commit yet.",status:"rejected",daysFromPayment:14,verifiedAt:"2024-12-24 11:25",processedAt:"2024-12-24 12:00",processedBy:"Super Admin",rejectionReason:"Request submitted after 7-day refund period (14 days from payment)"}]),m=c.filter(y=>{if(t!=="all"&&y.status!==t)return!1;if(n){const j=n.toLowerCase();return y.salonName.toLowerCase().includes(j)||y.owner.toLowerCase().includes(j)||y.email.toLowerCase().includes(j)}return!0}),p=y=>{confirm(`Approve refund of AED ${y.amount} for ${y.salonName}?`)&&(u(j=>j.map(S=>S.id===y.id?{...S,status:"approved",processedAt:new Date().toISOString(),processedBy:"Super Admin",stripeRefundId:`re_${Math.random().toString(36).substr(2,9)}`}:S)),alert(" Refund approved! Stripe refund initiated."))},x=y=>{const j=prompt("Enter rejection reason:");j&&(u(S=>S.map(C=>C.id===y.id?{...C,status:"rejected",processedAt:new Date().toISOString(),processedBy:"Super Admin",rejectionReason:j}:C)),alert(" Refund rejected."))},v=y=>({pending_verification:{color:"bg-gray-100 text-gray-700",label:"Pending Verification"},verified:{color:"bg-blue-100 text-blue-700",label:"Verified"},pending_approval:{color:"bg-amber-100 text-amber-700",label:"Pending Approval"},approved:{color:"bg-green-100 text-green-700",label:"Approved"},rejected:{color:"bg-red-100 text-red-700",label:"Rejected"},processed:{color:"bg-purple-100 text-purple-700",label:"Processed"}})[y],w={pending:c.filter(y=>y.status==="pending_approval"||y.status==="verified").length,approved:c.filter(y=>y.status==="approved").length,rejected:c.filter(y=>y.status==="rejected").length,totalAmount:c.filter(y=>y.status==="approved").reduce((y,j)=>y+j.amount,0)};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Yn,{className:"w-8 h-8 text-purple-600"}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent",children:"Refund Requests Management"}),e.jsx("p",{className:"text-gray-600",children:"Review and process customer refund requests"})]})]}),e.jsxs(Q,{className:"bg-green-600 hover:bg-green-700",children:[e.jsx(vr,{className:"w-4 h-4 mr-2"}),"Export Report"]})]}),e.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[e.jsxs(ne,{className:"p-5 border-2 border-amber-200 bg-amber-50",children:[e.jsx(pt,{className:"w-8 h-8 text-amber-600 mb-2"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Pending Review"}),e.jsx("p",{className:"text-3xl font-bold text-amber-600",children:w.pending})]}),e.jsxs(ne,{className:"p-5 border-2 border-green-200 bg-green-50",children:[e.jsx(zt,{className:"w-8 h-8 text-green-600 mb-2"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Approved"}),e.jsx("p",{className:"text-3xl font-bold text-green-600",children:w.approved})]}),e.jsxs(ne,{className:"p-5 border-2 border-red-200 bg-red-50",children:[e.jsx(tn,{className:"w-8 h-8 text-red-600 mb-2"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Rejected"}),e.jsx("p",{className:"text-3xl font-bold text-red-600",children:w.rejected})]}),e.jsxs(ne,{className:"p-5 border-2 border-purple-200 bg-purple-50",children:[e.jsx(Zt,{className:"w-8 h-8 text-purple-600 mb-2"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Total Refunded"}),e.jsxs("p",{className:"text-3xl font-bold text-purple-600",children:["AED ",w.totalAmount]})]})]})]}),e.jsx(ne,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(qr,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx(He,{placeholder:"Search by salon, owner, or email...",value:n,onChange:y=>s(y.target.value),className:"pl-10"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm font-semibold text-gray-600",children:"Status:"}),[{value:"all",label:"All"},{value:"pending_approval",label:"Pending"},{value:"verified",label:"Verified"},{value:"approved",label:"Approved"},{value:"rejected",label:"Rejected"}].map(y=>e.jsx(Q,{size:"sm",variant:t===y.value?"default":"outline",onClick:()=>r(y.value),className:t===y.value?"bg-purple-600":"",children:y.label},y.value))]})]})}),e.jsx("div",{className:"space-y-4",children:m.length===0?e.jsxs(ne,{className:"p-12 text-center",children:[e.jsx(Ti,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500 text-lg",children:"No refund requests found"})]}):m.map(y=>{const j=v(y.status),S=y.daysFromPayment<=7;return e.jsx(ne,{className:`p-6 border-2 transition-all hover:shadow-lg ${y.status==="pending_approval"?"border-amber-200 bg-amber-50/30":y.status==="verified"?"border-blue-200 bg-blue-50/30":"border-gray-200"}`,children:e.jsxs("div",{className:"flex items-start justify-between gap-6",children:[e.jsxs("div",{className:"flex-1 space-y-4",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("h3",{className:"text-xl font-bold",children:y.salonName}),e.jsx(Oe,{className:j.color,children:j.label}),!S&&e.jsxs(Oe,{className:"bg-red-100 text-red-700 gap-1",children:[e.jsx(fr,{className:"w-3 h-3"}),"Outside Policy"]})]}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(zn,{className:"w-4 h-4"}),y.owner]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Ut,{className:"w-4 h-4"}),y.email]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Refund Amount"}),e.jsxs("p",{className:"text-3xl font-bold text-green-600",children:["AED ",y.amount]})]})]}),e.jsxs("div",{className:"grid grid-cols-4 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500 mb-1",children:"Payment Date"}),e.jsxs("p",{className:"font-semibold flex items-center gap-1",children:[e.jsx(vt,{className:"w-4 h-4"}),y.paymentDate]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500 mb-1",children:"Request Date"}),e.jsxs("p",{className:"font-semibold flex items-center gap-1",children:[e.jsx(pt,{className:"w-4 h-4"}),y.requestDate]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500 mb-1",children:"Days from Payment"}),e.jsxs("p",{className:`font-bold flex items-center gap-1 ${S?"text-green-600":"text-red-600"}`,children:[y.daysFromPayment," days",S?" ":" "]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500 mb-1",children:"Payment Method"}),e.jsxs("p",{className:"font-semibold flex items-center gap-1",children:[e.jsx(Wr,{className:"w-4 h-4"}),y.paymentMethod]})]})]}),e.jsxs("div",{className:"bg-white p-4 rounded-lg border-2 border-gray-200",children:[e.jsx("p",{className:"text-sm font-semibold text-gray-700 mb-1",children:"Reason:"}),e.jsx("p",{className:"text-gray-800",children:y.reason})]}),(y.status==="approved"||y.status==="rejected")&&e.jsx("div",{className:`p-4 rounded-lg border-2 ${y.status==="approved"?"bg-green-50 border-green-200":"bg-red-50 border-red-200"}`,children:e.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600",children:"Processed At:"}),e.jsx("p",{className:"font-bold",children:y.processedAt})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600",children:"Processed By:"}),e.jsx("p",{className:"font-bold",children:y.processedBy})]}),y.status==="approved"&&y.stripeRefundId&&e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600",children:"Stripe Refund ID:"}),e.jsx("p",{className:"font-bold font-mono text-xs",children:y.stripeRefundId})]}),y.status==="rejected"&&y.rejectionReason&&e.jsxs("div",{className:"col-span-3",children:[e.jsx("p",{className:"text-gray-600",children:"Rejection Reason:"}),e.jsx("p",{className:"font-bold text-red-700",children:y.rejectionReason})]})]})})]}),e.jsxs("div",{className:"flex flex-col gap-2 min-w-[140px]",children:[e.jsxs(Q,{size:"sm",variant:"outline",onClick:()=>{i(y),l(!0)},children:[e.jsx(Rr,{className:"w-4 h-4 mr-1"}),"Details"]}),(y.status==="verified"||y.status==="pending_approval")&&e.jsxs(e.Fragment,{children:[e.jsxs(Q,{size:"sm",className:"bg-green-600 hover:bg-green-700",onClick:()=>p(y),children:[e.jsx(zt,{className:"w-4 h-4 mr-1"}),"Approve"]}),e.jsxs(Q,{size:"sm",className:"bg-red-600 hover:bg-red-700",onClick:()=>x(y),children:[e.jsx(tn,{className:"w-4 h-4 mr-1"}),"Reject"]})]}),y.status==="approved"&&e.jsxs(Oe,{className:"bg-green-600 text-white justify-center",children:[e.jsx(zt,{className:"w-3 h-3 mr-1"}),"Processed"]}),y.status==="rejected"&&e.jsxs(Oe,{className:"bg-red-600 text-white justify-center",children:[e.jsx(tn,{className:"w-3 h-3 mr-1"}),"Rejected"]})]})]})},y.id)})})]})}function kCe(){const[t,r]=N.useState(!1),[n,s]=N.useState("all"),[a,i]=N.useState(""),[o,l]=N.useState("holiday"),[c,u]=N.useState("both"),[m,p]=N.useState("owners_only"),[x,v]=N.useState(null),[w,y]=N.useState(!1),[j,S]=N.useState(""),C=456,P=1299,T=3.5,_=1.2,k=P,M=Math.round(P*_),$=Math.round(P*T),[B]=N.useState([{id:1,name:" Christmas Greetings to All",type:"holiday",subject:"Merry Christmas from Katia Team! ",recipients:k+M+$+C,status:"scheduled",scheduledDate:"2024-12-25 09:00",preview:"Wishing you joy and success this holiday season! Thank you for being part of Katia family...",audience:"both",deliveryMethod:"both",roleTargeting:"everyone",recipientsBreakdown:{leads:C,owners:k,admins:M,masters:$}},{id:2,name:" New AI Features - Owners Only",type:"feature",subject:"New Business Features: AI Analytics & Revenue Forecasting ",recipients:k+C,status:"sent",sentDate:"2024-12-20",openRate:72.5,clickRate:28.3,preview:"Exclusive for business owners: Advanced AI analytics, revenue forecasting, and financial insights...",audience:"both",deliveryMethod:"both",roleTargeting:"owners_leads",recipientsBreakdown:{leads:C,owners:k}},{id:3,name:" New Booking Features - Owners & Admins",type:"feature",subject:"Enhanced Booking System with SMS Reminders ",recipients:k+M+C,status:"sent",sentDate:"2024-12-18",openRate:68.8,clickRate:24.7,preview:"New features for managing bookings: automated SMS reminders, calendar sync, and more...",audience:"both",deliveryMethod:"both",roleTargeting:"owners_admins_leads",recipientsBreakdown:{leads:C,owners:k,admins:M}},{id:4,name:" Subscription Price Change - Owners",type:"announcement",subject:"Important: Pricing Update from January 2025",recipients:k,status:"draft",preview:"We are updating our pricing structure. Lock in current rates by upgrading to annual plan...",audience:"salons",deliveryMethod:"both",roleTargeting:"owners_only",recipientsBreakdown:{owners:k}},{id:5,name:" New Year Party Invite - All Staff",type:"holiday",subject:"You're Invited! Katia New Year Celebration ",recipients:k+M+$,status:"scheduled",scheduledDate:"2024-12-28 10:00",preview:"Join us for a special New Year celebration! All salon staff welcome...",audience:"salons",deliveryMethod:"both",roleTargeting:"all_staff",recipientsBreakdown:{owners:k,admins:M,masters:$}}]),F=()=>{let R=0;const D={owners:0,admins:0,masters:0,leads:0};switch(m){case"owners_only":R=k,D.owners=k;break;case"owners_admins":R=k+M,D.owners=k,D.admins=M;break;case"all_staff":R=k+M+$,D.owners=k,D.admins=M,D.masters=$;break;case"owners_leads":R=k+C,D.owners=k,D.leads=C;break;case"owners_admins_leads":R=k+M+C,D.owners=k,D.admins=M,D.leads=C;break;case"everyone":R=k+M+$+C,D.owners=k,D.admins=M,D.masters=$,D.leads=C;break}return{count:R,breakdown:D}},H=R=>{switch(R){case"holiday":return{recommended:"everyone",reason:"         "};case"feature":return{recommended:"owners_leads",reason:"     ( )   ( )"};case"promo":return{recommended:"owners_admins_leads",reason:" -   ,   "};case"announcement":return{recommended:"owners_only",reason:"   (  )   "};default:return{recommended:"owners_only",reason:"   "}}},K=H(o),{count:Z,breakdown:V}=F(),W=B.filter(R=>n!=="all"&&R.type!==n?!1:a?R.name.toLowerCase().includes(a.toLowerCase())||R.subject.toLowerCase().includes(a.toLowerCase()):!0),G={total:B.length,scheduled:B.filter(R=>R.status==="scheduled").length,sent:B.filter(R=>R.status==="sent").length,avgOpenRate:B.filter(R=>R.openRate).reduce((R,D)=>R+(D.openRate||0),0)/B.filter(R=>R.openRate).length||0},O=R=>{switch(R){case"owners_only":return e.jsxs(Oe,{className:"bg-amber-100 text-amber-700 text-xs",children:[e.jsx(ii,{className:"w-3 h-3 mr-1"}),"Owners Only"]});case"owners_admins":return e.jsxs(Oe,{className:"bg-purple-100 text-purple-700 text-xs",children:[e.jsx(ii,{className:"w-3 h-3 mr-1"}),"Owners + Admins"]});case"all_staff":return e.jsxs(Oe,{className:"bg-green-100 text-green-700 text-xs",children:[e.jsx(pr,{className:"w-3 h-3 mr-1"}),"All Staff"]});case"owners_leads":return e.jsxs(Oe,{className:"bg-blue-100 text-blue-700 text-xs",children:[e.jsx(ii,{className:"w-3 h-3 mr-1"}),"Owners + Leads"]});case"owners_admins_leads":return e.jsxs(Oe,{className:"bg-indigo-100 text-indigo-700 text-xs",children:[e.jsx(pr,{className:"w-3 h-3 mr-1"}),"Owners + Admins + Leads"]});case"everyone":return e.jsxs(Oe,{className:"bg-pink-100 text-pink-700 text-xs",children:[e.jsx(pr,{className:"w-3 h-3 mr-1"}),"Everyone"]});default:return null}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Ut,{className:"w-8 h-8 text-purple-600"}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent",children:"Email Campaign Manager"}),e.jsx("p",{className:"text-gray-600",children:" Role-based targeting |  Email +  Dashboard"})]})]}),e.jsxs(Q,{className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700",onClick:()=>r(!0),children:[e.jsx(er,{className:"w-4 h-4 mr-2"}),"New Campaign"]})]}),e.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[e.jsxs(ne,{className:"p-5 border-2 border-blue-200 bg-blue-50",children:[e.jsx(Ut,{className:"w-8 h-8 text-blue-600 mb-2"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Total Campaigns"}),e.jsx("p",{className:"text-3xl font-bold text-blue-600",children:G.total})]}),e.jsxs(ne,{className:"p-5 border-2 border-amber-200 bg-amber-50",children:[e.jsx(pt,{className:"w-8 h-8 text-amber-600 mb-2"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Scheduled"}),e.jsx("p",{className:"text-3xl font-bold text-amber-600",children:G.scheduled})]}),e.jsxs(ne,{className:"p-5 border-2 border-green-200 bg-green-50",children:[e.jsx(zt,{className:"w-8 h-8 text-green-600 mb-2"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Sent"}),e.jsx("p",{className:"text-3xl font-bold text-green-600",children:G.sent})]}),e.jsxs(ne,{className:"p-5 border-2 border-purple-200 bg-purple-50",children:[e.jsx(Rr,{className:"w-8 h-8 text-purple-600 mb-2"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Avg Open Rate"}),e.jsxs("p",{className:"text-3xl font-bold text-purple-600",children:[G.avgOpenRate.toFixed(1),"%"]})]})]})]}),e.jsx(ne,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(qr,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx(He,{placeholder:"Search campaigns...",value:a,onChange:R=>i(R.target.value),className:"pl-10"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm font-semibold text-gray-600",children:"Type:"}),[{value:"all",label:"All",icon:Hd},{value:"holiday",label:"Holiday",icon:dr},{value:"feature",label:"Features",icon:tr},{value:"promo",label:"Promo",icon:xr},{value:"announcement",label:"News",icon:Gt}].map(R=>{const D=R.icon;return e.jsxs(Q,{size:"sm",variant:n===R.value?"default":"outline",onClick:()=>s(R.value),className:n===R.value?"bg-purple-600":"",children:[e.jsx(D,{className:"w-3 h-3 mr-1"}),R.label]},R.value)})]})]})}),e.jsx("div",{className:"space-y-4",children:W.map(R=>e.jsx(ne,{className:`p-6 border-2 transition-all hover:shadow-lg ${R.status==="scheduled"?"border-blue-200 bg-blue-50/30":R.status==="sent"?"border-green-200 bg-green-50/30":"border-gray-200"}`,children:e.jsxs("div",{className:"flex items-start justify-between gap-6",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:`w-12 h-12 rounded-lg flex items-center justify-center ${R.type==="holiday"?"bg-red-100":R.type==="feature"?"bg-purple-100":R.type==="promo"?"bg-green-100":"bg-blue-100"}`,children:[R.type==="holiday"&&e.jsx(dr,{className:"w-5 h-5"}),R.type==="feature"&&e.jsx(tr,{className:"w-5 h-5"}),R.type==="promo"&&e.jsx(xr,{className:"w-5 h-5"}),R.type==="announcement"&&e.jsx(Gt,{className:"w-5 h-5"})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold",children:R.name}),e.jsx("p",{className:"text-sm text-gray-600",children:R.subject}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[O(R.roleTargeting),R.deliveryMethod==="both"&&e.jsxs(Oe,{className:"bg-indigo-100 text-indigo-700 text-xs",children:[e.jsx(Na,{className:"w-3 h-3 mr-1"}),"Email + Dashboard"]})]})]})]}),R.status==="scheduled"&&e.jsx(Oe,{className:"bg-blue-100 text-blue-700",children:"Scheduled"}),R.status==="sent"&&e.jsx(Oe,{className:"bg-green-100 text-green-700",children:"Sent"}),R.status==="draft"&&e.jsx(Oe,{className:"bg-gray-100 text-gray-700",children:"Draft"})]}),e.jsx("p",{className:"text-sm text-gray-700 mb-4 line-clamp-2",children:R.preview}),R.recipientsBreakdown&&e.jsxs("div",{className:"grid grid-cols-5 gap-2 mb-4",children:[e.jsxs("div",{className:"text-center p-2 bg-white rounded-lg border border-gray-200",children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Total"}),e.jsx("p",{className:"font-bold text-purple-600",children:R.recipients.toLocaleString()})]}),R.recipientsBreakdown.owners&&e.jsxs("div",{className:"text-center p-2 bg-amber-50 rounded-lg",children:[e.jsx("p",{className:"text-xs text-gray-500",children:" Owners"}),e.jsx("p",{className:"font-bold text-amber-600",children:R.recipientsBreakdown.owners.toLocaleString()})]}),R.recipientsBreakdown.admins&&e.jsxs("div",{className:"text-center p-2 bg-purple-50 rounded-lg",children:[e.jsx("p",{className:"text-xs text-gray-500",children:" Admins"}),e.jsx("p",{className:"font-bold text-purple-600",children:R.recipientsBreakdown.admins.toLocaleString()})]}),R.recipientsBreakdown.masters&&e.jsxs("div",{className:"text-center p-2 bg-pink-50 rounded-lg",children:[e.jsx("p",{className:"text-xs text-gray-500",children:" Masters"}),e.jsx("p",{className:"font-bold text-pink-600",children:R.recipientsBreakdown.masters.toLocaleString()})]}),R.recipientsBreakdown.leads&&e.jsxs("div",{className:"text-center p-2 bg-blue-50 rounded-lg",children:[e.jsx("p",{className:"text-xs text-gray-500",children:" Leads"}),e.jsx("p",{className:"font-bold text-blue-600",children:R.recipientsBreakdown.leads.toLocaleString()})]})]}),e.jsxs("div",{className:"grid grid-cols-4 gap-4 text-sm",children:[R.scheduledDate&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(vt,{className:"w-4 h-4 text-blue-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Scheduled"}),e.jsx("p",{className:"font-bold text-blue-600",children:R.scheduledDate})]})]}),R.sentDate&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(zt,{className:"w-4 h-4 text-green-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Sent"}),e.jsx("p",{className:"font-bold text-green-600",children:R.sentDate})]})]}),R.openRate&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Rr,{className:"w-4 h-4 text-purple-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Open Rate"}),e.jsxs("p",{className:"font-bold text-purple-600",children:[R.openRate,"%"]})]})]}),R.clickRate&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ks,{className:"w-4 h-4 text-amber-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Click Rate"}),e.jsxs("p",{className:"font-bold text-amber-600",children:[R.clickRate,"%"]})]})]})]})]}),e.jsxs("div",{className:"flex flex-col gap-2 min-w-[120px]",children:[e.jsxs(Q,{size:"sm",variant:"outline",children:[e.jsx(Rr,{className:"w-3 h-3 mr-1"}),"Preview"]}),R.status==="draft"&&e.jsxs(e.Fragment,{children:[e.jsxs(Q,{size:"sm",variant:"outline",children:[e.jsx(oi,{className:"w-3 h-3 mr-1"}),"Edit"]}),e.jsxs(Q,{size:"sm",className:"bg-green-600 hover:bg-green-700",children:[e.jsx(ys,{className:"w-3 h-3 mr-1"}),"Send"]})]}),R.status==="sent"&&e.jsxs(e.Fragment,{children:[e.jsxs(Q,{size:"sm",variant:"outline",children:[e.jsx(vr,{className:"w-3 h-3 mr-1"}),"Report"]}),e.jsxs(Q,{size:"sm",variant:"outline",children:[e.jsx(Ld,{className:"w-3 h-3 mr-1"}),"Duplicate"]})]}),e.jsxs(Q,{size:"sm",variant:"outline",className:"text-red-600",children:[e.jsx(cn,{className:"w-3 h-3 mr-1"}),"Delete"]})]})]})},R.id))}),t&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:()=>r(!1),children:e.jsxs(ne,{className:"max-w-4xl w-full max-h-[90vh] overflow-y-auto",onClick:R=>R.stopPropagation(),children:[e.jsxs("div",{className:"bg-gradient-to-r from-purple-600 to-pink-600 p-6 text-white",children:[e.jsx("h2",{className:"text-2xl font-bold",children:"Create New Campaign"}),e.jsx("p",{className:"text-sm text-purple-100",children:" Smart role-based targeting"})]}),e.jsxs("div",{className:"p-6 space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold mb-2",children:"Campaign Type"}),e.jsx("div",{className:"grid grid-cols-4 gap-3",children:[{value:"holiday",label:"Holiday",icon:dr,color:"red"},{value:"feature",label:"Features",icon:tr,color:"purple"},{value:"promo",label:"Promo",icon:xr,color:"green"},{value:"announcement",label:"News",icon:Gt,color:"blue"}].map(R=>{const D=R.icon,I=o===R.value;return e.jsxs("button",{onClick:()=>{l(R.value);const q=H(R.value);p(q.recommended)},className:`p-3 rounded-lg border-2 transition-all ${I?`border-${R.color}-500 bg-${R.color}-100`:"border-gray-300 bg-white hover:border-gray-400"}`,children:[e.jsx(D,{className:"w-5 h-5 mx-auto mb-1"}),e.jsx("p",{className:"text-sm font-bold",children:R.label})]},R.value)})})]}),e.jsx("div",{className:"bg-blue-50 p-4 rounded-xl border-2 border-blue-200",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(ux,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-bold text-blue-900",children:":"}),e.jsx("p",{className:"text-sm text-blue-700",children:K.reason})]})]})}),e.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-pink-50 p-5 rounded-xl border-2 border-purple-200",children:[e.jsx("label",{className:"block text-sm font-bold mb-3",children:" Target Roles"}),e.jsx("div",{className:"grid grid-cols-2 gap-3",children:[{value:"owners_only",icon:ii,label:"Owners Only",desc:"  ",recipients:k},{value:"owners_admins",icon:Yn,label:"Owners + Admins",desc:"  ",recipients:k+M},{value:"all_staff",icon:pr,label:"All Salon Staff",desc:", , ",recipients:k+M+$},{value:"owners_leads",icon:fl,label:"Owners + Leads",desc:"   ",recipients:k+C},{value:"owners_admins_leads",icon:wo,label:"Owners + Admins + Leads",desc:"-",recipients:k+M+C},{value:"everyone",icon:pr,label:"Everyone",desc:"  ",recipients:k+M+$+C}].map(R=>{const D=R.icon,I=m===R.value,q=K.recommended===R.value;return e.jsxs("button",{onClick:()=>p(R.value),className:`p-4 rounded-lg border-2 transition-all text-left relative ${I?"border-purple-500 bg-purple-100 shadow-md":"border-gray-300 bg-white hover:border-gray-400"}`,children:[q&&e.jsx("div",{className:"absolute -top-2 -right-2 bg-green-600 text-white text-xs px-2 py-1 rounded-full",children:" Recommended"}),e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx(D,{className:"w-5 h-5 text-purple-600"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-bold text-sm",children:R.label}),e.jsx("p",{className:"text-xs text-gray-600",children:R.desc})]})]}),e.jsx("p",{className:"text-lg font-bold text-purple-600",children:R.recipients.toLocaleString()})]},R.value)})})]}),e.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 p-4 rounded-xl border-2 border-purple-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("span",{className:"font-bold",children:"Total Recipients:"}),e.jsx("span",{className:"text-3xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent",children:Z.toLocaleString()})]}),e.jsxs("div",{className:"grid grid-cols-4 gap-2",children:[V.owners>0&&e.jsxs("div",{className:"text-center p-2 bg-amber-100 rounded",children:[e.jsx("p",{className:"text-xs",children:" Owners"}),e.jsx("p",{className:"font-bold text-amber-700",children:V.owners.toLocaleString()})]}),V.admins>0&&e.jsxs("div",{className:"text-center p-2 bg-purple-100 rounded",children:[e.jsx("p",{className:"text-xs",children:" Admins"}),e.jsx("p",{className:"font-bold text-purple-700",children:V.admins.toLocaleString()})]}),V.masters>0&&e.jsxs("div",{className:"text-center p-2 bg-pink-100 rounded",children:[e.jsx("p",{className:"text-xs",children:" Masters"}),e.jsx("p",{className:"font-bold text-pink-700",children:V.masters.toLocaleString()})]}),V.leads>0&&e.jsxs("div",{className:"text-center p-2 bg-blue-100 rounded",children:[e.jsx("p",{className:"text-xs",children:" Leads"}),e.jsx("p",{className:"font-bold text-blue-700",children:V.leads.toLocaleString()})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold mb-2",children:"Delivery Method"}),e.jsx("div",{className:"grid grid-cols-3 gap-3",children:[{value:"email",label:"Email Only",icon:Ut},{value:"dashboard",label:"Dashboard Only",icon:FG},{value:"both",label:"Email + Dashboard",icon:Na}].map(R=>{const D=R.icon,I=c===R.value;return e.jsxs("button",{onClick:()=>u(R.value),className:`p-3 rounded-lg border-2 transition-all ${I?"border-orange-500 bg-orange-100":"border-gray-300 bg-white hover:border-gray-400"}`,children:[e.jsx(D,{className:"w-5 h-5 mx-auto mb-1"}),e.jsx("p",{className:"text-sm font-bold",children:R.label})]},R.value)})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold mb-2",children:"Campaign Name"}),e.jsx(He,{placeholder:"e.g., Christmas 2024 Greetings"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold mb-2",children:"Subject Line"}),e.jsx(He,{placeholder:"e.g.,  Merry Christmas from Katia Team!"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-pink-50 to-purple-50 p-5 rounded-xl border-2 border-pink-200",children:[e.jsx("label",{className:"block text-sm font-bold mb-3",children:" Campaign Image (Optional)"}),x?e.jsxs("div",{className:"relative group",children:[e.jsx("img",{src:x,alt:"Campaign",className:"w-full h-48 object-cover rounded-lg"}),e.jsx("button",{onClick:()=>{v(null),y(!1)},className:"absolute top-2 right-2 bg-red-600 text-white p-2 rounded-full hover:bg-red-700 transition-all opacity-0 group-hover:opacity-100",children:e.jsx(ht,{className:"w-4 h-4"})}),e.jsx("div",{className:"absolute bottom-2 left-2 bg-black/60 text-white px-3 py-1 rounded-full text-xs",children:" Image Added"})]}):e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 hover:border-purple-400 transition-all cursor-pointer bg-white",children:[e.jsx("input",{type:"file",accept:"image/*",className:"hidden",id:"image-upload",onChange:R=>{var I;const D=(I=R.target.files)==null?void 0:I[0];if(D){const q=new FileReader;q.onload=J=>{var ie;v((ie=J.target)==null?void 0:ie.result)},q.readAsDataURL(D)}}}),e.jsxs("label",{htmlFor:"image-upload",className:"cursor-pointer flex flex-col items-center",children:[e.jsx(ss,{className:"w-8 h-8 text-purple-600 mb-2"}),e.jsx("p",{className:"text-sm font-bold text-gray-700",children:"Upload Image"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"PNG, JPG, GIF"})]})]}),e.jsxs("button",{onClick:()=>y(!w),className:"border-2 border-dashed border-gray-300 rounded-lg p-6 hover:border-purple-400 transition-all bg-white",children:[e.jsx(No,{className:"w-8 h-8 text-purple-600 mb-2 mx-auto"}),e.jsx("p",{className:"text-sm font-bold text-gray-700",children:"Browse Stock Photos"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Powered by Unsplash"})]})]}),w&&e.jsxs("div",{className:"bg-white p-4 rounded-lg border-2 border-purple-200",children:[e.jsxs("div",{className:"flex gap-2 mb-3",children:[e.jsx(He,{placeholder:"Search images... (e.g., christmas, sale, beauty)",value:j,onChange:R=>S(R.target.value),onKeyPress:R=>{R.key==="Enter"&&j&&(v(`https://source.unsplash.com/800x400/?${j}`),S(""),y(!1))}}),e.jsx(Q,{onClick:()=>{j&&(v(`https://source.unsplash.com/800x400/?${j}`),S(""),y(!1))},className:"bg-purple-600",children:e.jsx(qr,{className:"w-4 h-4"})})]}),e.jsx("div",{className:"grid grid-cols-3 gap-2",children:["christmas","beauty salon","new year","promotion","discount","spa"].map(R=>e.jsx("button",{onClick:()=>{v(`https://source.unsplash.com/800x400/?${R}`),y(!1)},className:"px-3 py-2 text-xs bg-purple-100 hover:bg-purple-200 rounded-lg transition-all",children:R},R))})]}),e.jsx("p",{className:"text-xs text-gray-600 text-center",children:" Images increase email open rates by up to 42%"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold mb-2",children:"Message Content"}),e.jsx("textarea",{className:"w-full p-3 border-2 border-gray-300 rounded-lg min-h-[120px]",placeholder:"Write your message here..."})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold mb-2",children:"Schedule"}),e.jsxs("select",{className:"w-full p-3 border-2 border-gray-300 rounded-lg",children:[e.jsx("option",{children:"Send Immediately"}),e.jsx("option",{children:"Schedule for later"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold mb-2",children:"Priority"}),e.jsxs("select",{className:"w-full p-3 border-2 border-gray-300 rounded-lg",children:[e.jsx("option",{children:"Normal"}),e.jsx("option",{children:"High (with  bell)"})]})]})]}),e.jsxs("div",{className:"flex gap-3 pt-4 border-t",children:[e.jsx(Q,{variant:"outline",onClick:()=>r(!1),className:"flex-1",children:"Cancel"}),e.jsxs(Q,{className:"flex-1 bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700",onClick:()=>{alert(` Campaign created!

Type: ${o}
Role Targeting: ${m}
Delivery: ${c}
Total Recipients: ${Z.toLocaleString()}

Breakdown:
 Owners: ${V.owners.toLocaleString()}
 Admins: ${V.admins.toLocaleString()}
 Masters: ${V.masters.toLocaleString()}
 Leads: ${V.leads.toLocaleString()}`),r(!1)},children:[e.jsx(ys,{className:"w-4 h-4 mr-2"}),"Create & Send"]})]})]})]})})]})}function CCe(){const[t,r]=N.useState("leads"),[n,s]=N.useState(""),[a,i]=N.useState(null),[o,l]=N.useState(null),[c,u]=N.useState(!1),[m,p]=N.useState("all"),x={mrr:324789,mrrGrowth:23.4,arr:3897468,churnRate:2.1,ltv:8450,trialConversion:68.5,avgRevenuePerSalon:298,totalRevenue:1247893},v=[{name:"Free Trial",value:0,count:159,color:"#94A3B8",mrr:0},{name:"Pro (AED 99)",value:68013,count:687,color:"#8B5CF6",mrr:99},{name:"Premium (AED 299)",value:72657,count:243,color:"#EC4899",mrr:299},{name:"Enterprise (AED 499)",value:184119,count:369,color:"#F59E0B",mrr:499}],w=[{status:"Active",count:1089,color:"#10B981",percentage:74.7},{status:"Trial",count:159,color:"#3B82F6",percentage:10.9},{status:"Overdue",count:87,color:"#F59E0B",percentage:6},{status:"Churned",count:123,color:"#EF4444",percentage:8.4}],y=[{id:1,salon:"Glamour Studio",amount:299,reason:"Insufficient funds",date:"2024-12-22",attempts:2},{id:2,salon:"Bella Nails",amount:99,reason:"Card expired",date:"2024-12-22",attempts:1},{id:3,salon:"Style Bar",amount:499,reason:"Bank declined",date:"2024-12-21",attempts:3},{id:4,salon:"Luxe Spa",amount:299,reason:"Invalid card",date:"2024-12-21",attempts:1}],j=[{month:"Jul",mrr:245e3,newMrr:22e3,churnMrr:8500,expansion:5e3},{month:"Aug",mrr:268e3,newMrr:30200,churnMrr:7200,expansion:6e3},{month:"Sep",mrr:285e3,newMrr:24e3,churnMrr:6800,expansion:4800},{month:"Oct",mrr:302e3,newMrr:22900,churnMrr:5900,expansion:5200},{month:"Nov",mrr:315e3,newMrr:19200,churnMrr:6200,expansion:6100},{month:"Dec",mrr:324789,newMrr:16589,churnMrr:6800,expansion:7e3}],S=[{cohort:"Jan 2024",month0:100,month1:92,month2:85,month3:78,month4:72,month5:68},{cohort:"Feb 2024",month0:100,month1:94,month2:87,month3:81,month4:75,month5:70},{cohort:"Mar 2024",month0:100,month1:91,month2:83,month3:76,month4:71,month5:67},{cohort:"Apr 2024",month0:100,month1:93,month2:86,month3:79,month4:73,month5:69}],C=[{id:1,code:"LAUNCH2024",discount:50,type:"%",used:45,limit:100,expires:"2024-12-31"},{id:2,code:"FIRST3MONTHS",discount:30,type:"%",used:128,limit:500,expires:"2025-01-31"},{id:3,code:"ENTERPRISE50",discount:50,type:"AED",used:12,limit:50,expires:"2024-12-25"}],P=[{id:1,name:"AI Smart Scheduling",enabled:!0,rollout:100,salons:1089,impact:"high",category:"Core"},{id:2,name:"Dynamic Pricing",enabled:!0,rollout:35,salons:381,impact:"high",category:"Revenue"},{id:3,name:"SMS Notifications",enabled:!0,rollout:85,salons:926,impact:"medium",category:"Communication"},{id:4,name:"Group Booking",enabled:!1,rollout:0,salons:0,impact:"medium",category:"Core"},{id:5,name:"Voice Booking (Beta)",enabled:!0,rollout:15,salons:163,impact:"low",category:"Experimental"},{id:6,name:"White Label Branding",enabled:!0,rollout:60,salons:653,impact:"high",category:"Enterprise"},{id:7,name:"Loyalty Program",enabled:!0,rollout:45,salons:490,impact:"medium",category:"Revenue"},{id:8,name:"Multi-location Management",enabled:!0,rollout:100,salons:1089,impact:"high",category:"Enterprise"}],T=[{id:1,user:"admin@katia.com",action:"Updated subscription",target:"Glamour Studio",type:"payment",timestamp:"2024-12-22 14:35",ip:"192.168.1.1"},{id:2,user:"owner@glamour.com",action:"Changed pricing",target:"Service: Haircut",type:"settings",timestamp:"2024-12-22 13:20",ip:"192.168.1.45"},{id:3,user:"admin@katia.com",action:"Refunded payment",target:"Bella Nails",type:"payment",timestamp:"2024-12-22 12:10",ip:"192.168.1.1"},{id:4,user:"system",action:"Failed login attempt",target:"suspicious@email.com",type:"security",timestamp:"2024-12-22 11:55",ip:"45.123.45.67"},{id:5,user:"owner@style.com",action:"Added new master",target:"Master: John Doe",type:"user",timestamp:"2024-12-22 10:30",ip:"192.168.1.89"}],_={apiUptime:99.97,avgLatency:87,errorRate:.02,cdnHits:98.5,cpuUsage:45,memoryUsage:62,diskUsage:38},k=[{time:"00:00",latency:85,errors:2,traffic:1200},{time:"04:00",latency:92,errors:1,traffic:800},{time:"08:00",latency:145,errors:5,traffic:3500},{time:"12:00",latency:178,errors:8,traffic:4800},{time:"16:00",latency:156,errors:4,traffic:4200},{time:"20:00",latency:98,errors:2,traffic:2100}],M=[{id:1,salon:"Glamour Studio",client:"John Doe",issue:"Service not completed",amount:150,status:"investigating",created:"2h ago"},{id:2,salon:"Bella Nails",client:"Jane Smith",issue:"Quality complaint",amount:85,status:"pending_refund",created:"1d ago"},{id:3,salon:"Style Bar",client:"Mike Johnson",issue:"No-show dispute",amount:200,status:"resolved",created:"3d ago"}],$=[{id:1,salon:"Suspicious Salon A",risk:87,reason:"Multiple failed payments",action:"Review",date:"2024-12-22"},{id:2,salon:"Test Account B",risk:92,reason:"Duplicate account detected",action:"Blocked",date:"2024-12-21"},{id:3,salon:"Unknown Salon C",risk:65,reason:"Unusual activity pattern",action:"Monitor",date:"2024-12-20"}],B=[{id:1,name:"Welcome Email",category:"Onboarding",openRate:78.5,clickRate:34.2,sent:1240},{id:2,name:"Payment Failed",category:"Billing",openRate:92.3,clickRate:67.8,sent:87},{id:3,name:"Trial Expiring",category:"Conversion",openRate:85.7,clickRate:45.3,sent:159},{id:4,name:"Feature Announcement",category:"Marketing",openRate:56.4,clickRate:18.9,sent:1089}],F=[{id:1,salon:"Glamour Studio",key:"sk_live_abc123...",created:"2024-12-01",requests:45230,status:"active"},{id:2,salon:"Bella Nails",key:"sk_live_def456...",created:"2024-11-15",requests:28950,status:"active"},{id:3,salon:"Style Bar",key:"sk_live_ghi789...",created:"2024-10-20",requests:89670,status:"rate_limited"}],H=[{salon:"New Salon A",progress:85,step:"Upload Photos",stuck:!1,lastActivity:"2h ago"},{salon:"New Salon B",progress:40,step:"Add Services",stuck:!0,lastActivity:"3d ago"},{salon:"New Salon C",progress:100,step:"Completed",stuck:!1,lastActivity:"1d ago"},{salon:"New Salon D",progress:15,step:"Registration",stuck:!0,lastActivity:"7d ago"}],K={avgCompletion:72.5,avgTime:"4.2 days",stuckSalons:23,completedToday:5},Z={monthlyRate:2.1,revenueLost:45670,salonsChurned:123},V=[{reason:"Too expensive",count:42,percentage:34.1},{reason:"Missing features",count:28,percentage:22.8},{reason:"Poor support",count:15,percentage:12.2},{reason:"Technical issues",count:19,percentage:15.4},{reason:"Other",count:19,percentage:15.4}],W=[{salon:"Glamour Studio",score:92,usage:"High",features:85,tickets:1,trend:"up"},{salon:"Bella Nails",score:45,usage:"Low",features:30,tickets:5,trend:"down"},{salon:"Style Bar",score:88,usage:"High",features:90,tickets:0,trend:"up"},{salon:"Luxe Spa",score:62,usage:"Medium",features:55,tickets:2,trend:"stable"}],G=[{name:"Google Calendar",active:892,total:1089,health:"healthy",status:"operational"},{name:"Stripe",active:1089,total:1089,health:"healthy",status:"operational"},{name:"Mailchimp",active:234,total:1089,health:"healthy",status:"operational"},{name:"Zapier",active:156,total:1089,health:"degraded",status:"issues"}],O=[{id:1,name:"Super Admin",email:"admin@katia.com",role:"Full Admin",lastLogin:"2h ago"},{id:2,name:"Support Lead",email:"support@katia.com",role:"Support Admin",lastLogin:"5h ago"},{id:3,name:"Billing Manager",email:"billing@katia.com",role:"Billing Admin",lastLogin:"1d ago"},{id:4,name:"Viewer",email:"viewer@katia.com",role:"View Only",lastLogin:"3d ago"}],R=[{id:"leads",icon:fl,label:"Lead Management",badge:"NEW"},{id:"billing",icon:Zt,label:"Billing & Subscriptions",badge:"23"},{id:"refunds",icon:xn,label:"Refund Requests",badge:"2"},{id:"support",icon:PL,label:"Support Tickets",badge:"5 urgent"},{id:"features",icon:UP,label:"Feature Flags",badge:null},{id:"audit",icon:Ti,label:"Audit Logs",badge:null},{id:"health",icon:Zf,label:"System Health",badge:"99.97%"},{id:"plans",icon:bs,label:"Subscription Plans",badge:"1299"},{id:"disputes",icon:fr,label:"Dispute Resolution",badge:"3"},{id:"fraud",icon:Yn,label:"Fraud Detection",badge:"2"},{id:"emails",icon:Ut,label:"Email Campaigns",badge:"5"},{id:"api",icon:$G,label:"API Management",badge:null},{id:"onboarding",icon:fl,label:"Onboarding Pipeline",badge:"23"},{id:"churn",icon:Bd,label:"Churn Analysis",badge:null},{id:"success",icon:$d,label:"Customer Success",badge:null},{id:"integrations",icon:ZS,label:"Integrations",badge:null},{id:"permissions",icon:Yt,label:"Admin Permissions",badge:null}];return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-purple-50/30 to-pink-50/30",children:[e.jsx("div",{className:"bg-gradient-to-r from-purple-600 via-purple-700 to-pink-600 text-white shadow-2xl sticky top-0 z-50",children:e.jsx("div",{className:"container mx-auto px-6 py-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-14 h-14 bg-white/20 backdrop-blur-lg rounded-xl flex items-center justify-center shadow-xl",children:e.jsx(ii,{className:"w-8 h-8 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Katia Super Admin Dashboard"}),e.jsx("p",{className:"text-purple-100",children:"Platform Control Center  Real-time SaaS Metrics"})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs(Q,{className:"bg-white/20 border-2 border-white/40 text-white hover:bg-white/30 backdrop-blur-lg",children:[e.jsx(Na,{className:"w-5 h-5 mr-2"}),"Alerts (5)"]}),e.jsxs(Q,{className:"bg-white/20 border-2 border-white/40 text-white hover:bg-white/30 backdrop-blur-lg",children:[e.jsx(vr,{className:"w-5 h-5 mr-2"}),"Export"]}),e.jsx(Q,{className:"bg-white/20 border-2 border-white/40 text-white hover:bg-white/30 backdrop-blur-lg",children:e.jsx(Ec,{className:"w-5 h-5"})})]})]})})}),e.jsxs("div",{className:"flex",children:[e.jsx("aside",{className:"w-80 bg-white border-r-2 border-gray-200 h-screen overflow-y-auto sticky top-0 shadow-xl",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"relative mb-6",children:[e.jsx(qr,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx(He,{placeholder:"Search modules...",className:"pl-10",value:n,onChange:D=>s(D.target.value)})]}),e.jsx("nav",{className:"space-y-2",children:R.filter(D=>D.label.toLowerCase().includes(n.toLowerCase())).map(D=>{const I=D.icon;return e.jsxs("button",{onClick:()=>r(D.id),className:`w-full flex items-center justify-between px-4 py-3 rounded-xl transition-all ${t===D.id?"bg-gradient-to-r from-purple-600 to-pink-600 text-white shadow-lg transform scale-105":"text-gray-700 hover:bg-gray-100"}`,children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(I,{className:"w-5 h-5"}),e.jsx("span",{className:"font-semibold text-sm",children:D.label})]}),D.badge&&e.jsx(Oe,{className:t===D.id?"bg-white/20 text-white":"bg-purple-100 text-purple-700",children:D.badge})]},D.id)})}),e.jsxs("div",{className:"mt-8 p-4 bg-gradient-to-br from-red-50 to-orange-50 border-2 border-red-200 rounded-xl",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(fr,{className:"w-5 h-5 text-red-600"}),e.jsx("h4",{className:"font-bold text-red-900",children:"Critical Alerts"})]}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-red-600 rounded-full animate-pulse"}),e.jsx("span",{className:"text-gray-700",children:"5 urgent support tickets"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-orange-600 rounded-full animate-pulse"}),e.jsx("span",{className:"text-gray-700",children:"23 failed payments"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-yellow-600 rounded-full"}),e.jsx("span",{className:"text-gray-700",children:"2 fraud alerts"})]})]})]})]})}),e.jsxs("main",{className:"flex-1 p-8 overflow-y-auto",children:[t==="leads"&&e.jsx("div",{className:"space-y-8",children:e.jsx(NCe,{})}),t==="billing"&&e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Billing & Subscriptions"}),e.jsx("p",{className:"text-gray-600",children:"Revenue management, subscriptions, and financial analytics"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs(Q,{variant:"outline",children:[e.jsx(Hd,{className:"w-4 h-4 mr-2"}),"Filter"]}),e.jsxs(Q,{className:"bg-gradient-to-r from-purple-600 to-pink-600 text-white",children:[e.jsx(vr,{className:"w-4 h-4 mr-2"}),"Export Report"]})]})]}),e.jsxs("div",{className:"grid grid-cols-4 gap-6",children:[e.jsxs(ne,{className:"p-6 border-2 border-green-100 bg-gradient-to-br from-green-50 to-emerald-50",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx(Zt,{className:"w-10 h-10 text-green-600"}),e.jsxs(Oe,{className:"bg-green-600 text-white",children:["+",x.mrrGrowth,"%"]})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Monthly Recurring Revenue"}),e.jsxs("p",{className:"text-3xl font-bold text-green-600",children:["AED ",x.mrr.toLocaleString()]}),e.jsxs("div",{className:"flex items-center gap-1 mt-2 text-sm text-green-600",children:[e.jsx(Xf,{className:"w-4 h-4"}),e.jsx("span",{children:"+AED 18,450 this month"})]})]}),e.jsxs(ne,{className:"p-6 border-2 border-purple-100 bg-gradient-to-br from-purple-50 to-pink-50",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx(xr,{className:"w-10 h-10 text-purple-600"}),e.jsx(Oe,{className:"bg-purple-600 text-white",children:"ARR"})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Annual Recurring Revenue"}),e.jsxs("p",{className:"text-3xl font-bold text-purple-600",children:["AED ",(x.arr/1e6).toFixed(2),"M"]}),e.jsxs("div",{className:"flex items-center gap-1 mt-2 text-sm text-purple-600",children:[e.jsx(Pc,{className:"w-4 h-4"}),e.jsx("span",{children:"Target: AED 4.5M"})]})]}),e.jsxs(ne,{className:"p-6 border-2 border-blue-100 bg-gradient-to-br from-blue-50 to-cyan-50",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx($d,{className:"w-10 h-10 text-blue-600"}),e.jsx(Oe,{className:"bg-blue-600 text-white",children:"LTV"})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Lifetime Value per Salon"}),e.jsxs("p",{className:"text-3xl font-bold text-blue-600",children:["AED ",x.ltv.toLocaleString()]}),e.jsxs("div",{className:"flex items-center gap-1 mt-2 text-sm text-blue-600",children:[e.jsx(Ks,{className:"w-4 h-4"}),e.jsx("span",{children:"LTV/CAC: 6.8x"})]})]}),e.jsxs(ne,{className:"p-6 border-2 border-red-100 bg-gradient-to-br from-red-50 to-orange-50",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx(Bd,{className:"w-10 h-10 text-red-600"}),e.jsx(Oe,{className:"bg-red-600 text-white",children:"Churn"})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Monthly Churn Rate"}),e.jsxs("p",{className:"text-3xl font-bold text-red-600",children:[x.churnRate,"%"]}),e.jsxs("div",{className:"flex items-center gap-1 mt-2 text-sm text-green-600",children:[e.jsx(NL,{className:"w-4 h-4"}),e.jsx("span",{children:"-0.3% vs last month"})]})]})]}),e.jsxs(ne,{className:"p-6 border-2 border-gray-100",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"MRR Growth & Movement"}),e.jsx("p",{className:"text-gray-600",children:"New MRR, Expansion, and Churn breakdown"})]}),e.jsxs(Q,{variant:"outline",children:[e.jsx(vt,{className:"w-4 h-4 mr-2"}),"Last 6 Months"]})]}),e.jsx(Zd,{width:"100%",height:400,children:e.jsxs(mU,{data:j,children:[e.jsx("defs",{children:e.jsxs("linearGradient",{id:"colorMrr",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:"#8B5CF6",stopOpacity:.3}),e.jsx("stop",{offset:"95%",stopColor:"#8B5CF6",stopOpacity:0})]})}),e.jsx(ru,{strokeDasharray:"3 3",stroke:"#E5E7EB"}),e.jsx(zi,{dataKey:"month"}),e.jsx(Ui,{}),e.jsx(xs,{}),e.jsx(Ca,{}),e.jsx(Li,{type:"monotone",dataKey:"mrr",stroke:"#8B5CF6",strokeWidth:3,fillOpacity:1,fill:"url(#colorMrr)",name:"Total MRR"}),e.jsx(Os,{type:"monotone",dataKey:"newMrr",stroke:"#10B981",strokeWidth:2,name:"New MRR"}),e.jsx(Os,{type:"monotone",dataKey:"expansion",stroke:"#3B82F6",strokeWidth:2,name:"Expansion"}),e.jsx(Os,{type:"monotone",dataKey:"churnMrr",stroke:"#EF4444",strokeWidth:2,name:"Churn MRR"})]})})]}),e.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[e.jsxs(ne,{className:"p-6 border-2 border-gray-100",children:[e.jsx("h3",{className:"text-xl font-bold mb-6",children:"Revenue Distribution by Plan"}),e.jsx("div",{className:"space-y-6",children:v.map(D=>e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl",style:{backgroundColor:D.color}}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-lg",children:D.name}),e.jsxs("p",{className:"text-sm text-gray-600",children:[D.count," active salons"]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["AED ",D.value.toLocaleString()]}),e.jsxs("p",{className:"text-sm text-gray-600",children:[(D.value/x.mrr*100).toFixed(1),"% of MRR"]})]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:e.jsx("div",{className:"h-3 rounded-full transition-all",style:{width:`${D.value/x.mrr*100}%`,backgroundColor:D.color}})})]},D.name))})]}),e.jsxs(ne,{className:"p-6 border-2 border-gray-100",children:[e.jsx("h3",{className:"text-xl font-bold mb-6",children:"Subscription Status"}),e.jsx("div",{className:"space-y-4",children:w.map(D=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:D.color}}),e.jsxs("div",{children:[e.jsx("p",{className:"font-bold text-lg",children:D.status}),e.jsxs("p",{className:"text-sm text-gray-600",children:[D.percentage,"% of total"]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-2xl font-bold",style:{color:D.color},children:D.count}),e.jsx("p",{className:"text-xs text-gray-500",children:"salons"})]})]},D.status))})]})]}),e.jsxs(ne,{className:"p-6 border-2 border-red-100 bg-red-50/30",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx(fr,{className:"w-6 h-6 text-red-600"}),e.jsx("h3",{className:"text-2xl font-bold",children:"Failed Payments Requiring Action"}),e.jsxs(Oe,{className:"bg-red-600 text-white",children:[y.length," alerts"]})]}),e.jsx("div",{className:"space-y-4",children:y.map(D=>e.jsx("div",{className:"bg-white p-5 rounded-xl border-2 border-gray-100 hover:border-red-300 transition-all",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("h4",{className:"font-bold text-lg",children:D.salon}),e.jsxs(Oe,{className:"bg-red-100 text-red-700",children:[D.attempts," attempt",D.attempts>1?"s":""]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm text-gray-600",children:[e.jsxs("span",{children:[" AED ",D.amount]}),e.jsxs("span",{children:[" ",D.reason]}),e.jsxs("span",{children:[" ",D.date]})]})]}),e.jsxs("div",{className:"flex gap-2 ml-4",children:[e.jsxs(Q,{size:"sm",className:"bg-green-600 hover:bg-green-700",children:[e.jsx(xn,{className:"w-4 h-4 mr-1"}),"Retry"]}),e.jsxs(Q,{size:"sm",variant:"outline",children:[e.jsx(Ut,{className:"w-4 h-4 mr-1"}),"Contact"]}),e.jsxs(Q,{size:"sm",variant:"outline",children:[e.jsx(Rr,{className:"w-4 h-4 mr-1"}),"Details"]})]})]})},D.id))})]}),e.jsxs(ne,{className:"p-6 border-2 border-gray-100",children:[e.jsx("h3",{className:"text-2xl font-bold mb-6",children:"Cohort Retention Analysis"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b-2 border-gray-200",children:[e.jsx("th",{className:"text-left p-3 font-bold",children:"Cohort"}),e.jsx("th",{className:"text-center p-3 font-bold",children:"Month 0"}),e.jsx("th",{className:"text-center p-3 font-bold",children:"Month 1"}),e.jsx("th",{className:"text-center p-3 font-bold",children:"Month 2"}),e.jsx("th",{className:"text-center p-3 font-bold",children:"Month 3"}),e.jsx("th",{className:"text-center p-3 font-bold",children:"Month 4"}),e.jsx("th",{className:"text-center p-3 font-bold",children:"Month 5"})]})}),e.jsx("tbody",{children:S.map(D=>e.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[e.jsx("td",{className:"p-3 font-semibold",children:D.cohort}),e.jsx("td",{className:"text-center p-3",children:e.jsxs("span",{className:"inline-block px-3 py-1 rounded-lg bg-green-100 text-green-700 font-semibold",children:[D.month0,"%"]})}),e.jsx("td",{className:"text-center p-3",children:e.jsxs("span",{className:"inline-block px-3 py-1 rounded-lg bg-emerald-100 text-emerald-700 font-semibold",children:[D.month1,"%"]})}),e.jsx("td",{className:"text-center p-3",children:e.jsxs("span",{className:"inline-block px-3 py-1 rounded-lg bg-blue-100 text-blue-700 font-semibold",children:[D.month2,"%"]})}),e.jsx("td",{className:"text-center p-3",children:e.jsxs("span",{className:"inline-block px-3 py-1 rounded-lg bg-purple-100 text-purple-700 font-semibold",children:[D.month3,"%"]})}),e.jsx("td",{className:"text-center p-3",children:e.jsxs("span",{className:"inline-block px-3 py-1 rounded-lg bg-orange-100 text-orange-700 font-semibold",children:[D.month4,"%"]})}),e.jsx("td",{className:"text-center p-3",children:e.jsxs("span",{className:"inline-block px-3 py-1 rounded-lg bg-red-100 text-red-700 font-semibold",children:[D.month5,"%"]})})]},D.cohort))})]})})]}),e.jsxs(ne,{className:"p-6 border-2 border-gray-100",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-bold",children:"Coupons & Discount Management"}),e.jsx("p",{className:"text-gray-600",children:"Active promotional codes and usage tracking"})]}),e.jsxs(Q,{className:"bg-gradient-to-r from-purple-600 to-pink-600 text-white",children:[e.jsx(er,{className:"w-4 h-4 mr-2"}),"Create Coupon"]})]}),e.jsx("div",{className:"space-y-4",children:C.map(D=>e.jsxs("div",{className:"flex items-center justify-between p-5 bg-gradient-to-r from-purple-50 to-pink-50 rounded-xl border-2 border-purple-100",children:[e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-purple-600 to-pink-600 rounded-xl flex items-center justify-center",children:e.jsx(dr,{className:"w-8 h-8 text-white"})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("h4",{className:"text-xl font-bold",children:D.code}),e.jsxs(Oe,{className:"bg-purple-600 text-white",children:[D.discount,D.type]})]}),e.jsxs("div",{className:"flex items-center gap-6 text-sm text-gray-600",children:[e.jsxs("span",{children:[" Used: ",D.used,"/",D.limit]}),e.jsxs("span",{children:[" Expires: ",D.expires]}),e.jsxs("span",{children:[" ",(D.used/D.limit*100).toFixed(0),"% utilized"]})]})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(Q,{size:"sm",variant:"outline",children:[e.jsx(oi,{className:"w-4 h-4 mr-1"}),"Edit"]}),e.jsxs(Q,{size:"sm",variant:"outline",className:"text-red-600 border-red-600",children:[e.jsx(cn,{className:"w-4 h-4 mr-1"}),"Delete"]})]})]},D.id))})]}),e.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[e.jsxs(ne,{className:"p-6 border-2 border-blue-100 bg-blue-50/30",children:[e.jsx(vt,{className:"w-10 h-10 text-blue-600 mb-3"}),e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Trial  Paid Conversion"}),e.jsxs("p",{className:"text-3xl font-bold text-blue-600",children:[x.trialConversion,"%"]}),e.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"109 of 159 trials converted"})]}),e.jsxs(ne,{className:"p-6 border-2 border-green-100 bg-green-50/30",children:[e.jsx(QK,{className:"w-10 h-10 text-green-600 mb-3"}),e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Avg Revenue per Salon"}),e.jsxs("p",{className:"text-3xl font-bold text-green-600",children:["AED ",x.avgRevenuePerSalon]}),e.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Per month"})]}),e.jsxs(ne,{className:"p-6 border-2 border-purple-100 bg-purple-50/30",children:[e.jsx(TL,{className:"w-10 h-10 text-purple-600 mb-3"}),e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Total Platform Revenue"}),e.jsxs("p",{className:"text-3xl font-bold text-purple-600",children:["AED ",(x.totalRevenue/1e3).toFixed(0),"K"]}),e.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"This month"})]})]})]}),t==="refunds"&&e.jsx(_Ce,{}),t==="support"&&e.jsx(SCe,{}),t==="features"&&e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Feature Flags Control Center"}),e.jsx("p",{className:"text-gray-600",children:"Enable/disable features and control gradual rollout"})]}),e.jsxs(Q,{className:"bg-gradient-to-r from-purple-600 to-pink-600 text-white",children:[e.jsx(er,{className:"w-4 h-4 mr-2"}),"Create Feature Flag"]})]}),e.jsxs("div",{className:"grid grid-cols-4 gap-6",children:[e.jsxs(ne,{className:"p-6 border-2 border-green-100 bg-green-50/30",children:[e.jsx(UP,{className:"w-10 h-10 text-green-600 mb-3"}),e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Total Features"}),e.jsx("p",{className:"text-3xl font-bold text-green-600",children:P.length})]}),e.jsxs(ne,{className:"p-6 border-2 border-blue-100 bg-blue-50/30",children:[e.jsx(zt,{className:"w-10 h-10 text-blue-600 mb-3"}),e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Enabled"}),e.jsx("p",{className:"text-3xl font-bold text-blue-600",children:P.filter(D=>D.enabled).length})]}),e.jsxs(ne,{className:"p-6 border-2 border-orange-100 bg-orange-50/30",children:[e.jsx(Ks,{className:"w-10 h-10 text-orange-600 mb-3"}),e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"In Rollout"}),e.jsx("p",{className:"text-3xl font-bold text-orange-600",children:P.filter(D=>D.rollout>0&&D.rollout<100).length})]}),e.jsxs(ne,{className:"p-6 border-2 border-purple-100 bg-purple-50/30",children:[e.jsx($d,{className:"w-10 h-10 text-purple-600 mb-3"}),e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"High Impact"}),e.jsx("p",{className:"text-3xl font-bold text-purple-600",children:P.filter(D=>D.impact==="high").length})]})]}),e.jsx("div",{className:"space-y-4",children:P.map(D=>e.jsx(ne,{className:`p-6 border-2 transition-all ${D.enabled?"border-green-200 bg-green-50/30":"border-gray-100"}`,children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[e.jsx("h4",{className:"text-2xl font-bold",children:D.name}),e.jsx(Oe,{className:D.enabled?"bg-green-600 text-white text-sm px-3 py-1":"bg-gray-400 text-white text-sm px-3 py-1",children:D.enabled?" ENABLED":" DISABLED"}),e.jsxs(Oe,{className:D.impact==="high"?"bg-red-100 text-red-700":D.impact==="medium"?"bg-yellow-100 text-yellow-700":"bg-blue-100 text-blue-700",children:[D.impact.toUpperCase()," IMPACT"]}),e.jsx(Oe,{className:"bg-purple-100 text-purple-700",children:D.category})]}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"font-semibold text-gray-700",children:"Rollout Progress:"}),e.jsxs("span",{className:"text-lg font-bold text-purple-600",children:[D.rollout,"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-5",children:e.jsx("div",{className:`h-5 rounded-full transition-all ${D.enabled?"bg-gradient-to-r from-purple-600 to-pink-600":"bg-gray-400"}`,style:{width:`${D.rollout}%`}})})]}),e.jsxs("div",{className:"flex items-center gap-8 text-sm",children:[e.jsxs("span",{className:"font-semibold",children:[" ",D.salons.toLocaleString()," active salons"]}),D.rollout>0&&e.jsxs("span",{className:"text-gray-600",children:[" ",(D.salons/1089*100).toFixed(1),"% of platform"]})]})]}),e.jsxs("div",{className:"flex flex-col gap-3 ml-8",children:[D.enabled?e.jsxs(e.Fragment,{children:[e.jsxs(Q,{className:"bg-orange-600 hover:bg-orange-700",children:[e.jsx(oi,{className:"w-4 h-4 mr-2"}),"Adjust Rollout"]}),e.jsxs(Q,{variant:"outline",className:"border-red-600 text-red-600 hover:bg-red-50",children:[e.jsx(tn,{className:"w-4 h-4 mr-2"}),"Disable"]})]}):e.jsxs(Q,{className:"bg-green-600 hover:bg-green-700",children:[e.jsx(zt,{className:"w-4 h-4 mr-2"}),"Enable Feature"]}),e.jsxs(Q,{variant:"outline",children:[e.jsx(Rr,{className:"w-4 h-4 mr-2"}),"Analytics"]})]})]})},D.id))})]}),t==="audit"&&e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Audit Logs & Activity Tracking"}),e.jsx("p",{className:"text-gray-600",children:"Complete history of all platform actions and events"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs(Q,{variant:"outline",children:[e.jsx(Hd,{className:"w-4 h-4 mr-2"}),"Filter by Type"]}),e.jsxs(Q,{className:"bg-gradient-to-r from-purple-600 to-pink-600 text-white",children:[e.jsx(vr,{className:"w-4 h-4 mr-2"}),"Export Logs"]})]})]}),e.jsx("div",{className:"grid grid-cols-5 gap-4",children:[{label:"Total Events",value:"15,234",color:"gray"},{label:"User Actions",value:"8,945",color:"blue"},{label:"Payment Events",value:"3,421",color:"green"},{label:"Settings Changes",value:"1,876",color:"purple"},{label:"Security Events",value:"892",color:"red"}].map(D=>e.jsxs(ne,{className:`p-5 border-2 border-${D.color}-100 bg-${D.color}-50/30`,children:[e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:D.label}),e.jsx("p",{className:`text-3xl font-bold text-${D.color}-600`,children:D.value})]},D.label))}),e.jsxs(ne,{className:"p-6 border-2 border-gray-100",children:[e.jsx("h3",{className:"text-2xl font-bold mb-6",children:"Recent Activity"}),e.jsx("div",{className:"space-y-3",children:T.map(D=>e.jsx("div",{className:`p-5 rounded-xl border-2 ${D.type==="security"?"bg-red-50 border-red-200":D.type==="payment"?"bg-green-50 border-green-200":"bg-white border-gray-100"}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx(Oe,{className:D.type==="security"?"bg-red-600 text-white":D.type==="payment"?"bg-green-600 text-white":D.type==="settings"?"bg-purple-600 text-white":"bg-blue-600 text-white",children:D.type.toUpperCase()}),e.jsx("h4",{className:"font-bold text-lg",children:D.action})]}),e.jsxs("div",{className:"grid grid-cols-4 gap-4 text-sm text-gray-600",children:[e.jsxs("span",{children:[" ",D.user]}),e.jsxs("span",{children:[" ",D.target]}),e.jsxs("span",{children:[" ",D.timestamp]}),e.jsxs("span",{children:[" IP: ",D.ip]})]})]}),e.jsxs(Q,{size:"sm",variant:"outline",children:[e.jsx(Rr,{className:"w-4 h-4 mr-1"}),"Details"]})]})},D.id))})]})]}),t==="health"&&e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"System Health Monitor"}),e.jsx("p",{className:"text-gray-600",children:"Real-time platform performance and infrastructure metrics"})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-6",children:[e.jsxs(ne,{className:"p-6 border-2 border-green-100 bg-green-50/50",children:[e.jsx(Zf,{className:"w-10 h-10 text-green-600 mb-3"}),e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"API Uptime"}),e.jsxs("p",{className:"text-4xl font-bold text-green-600",children:[_.apiUptime,"%"]}),e.jsx(Oe,{className:"mt-2 bg-green-600 text-white",children:"Excellent"})]}),e.jsxs(ne,{className:"p-6 border-2 border-blue-100 bg-blue-50/50",children:[e.jsx(Ks,{className:"w-10 h-10 text-blue-600 mb-3"}),e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Avg API Latency"}),e.jsxs("p",{className:"text-4xl font-bold text-blue-600",children:[_.avgLatency,"ms"]}),e.jsx(Oe,{className:"mt-2 bg-blue-600 text-white",children:"Fast"})]}),e.jsxs(ne,{className:"p-6 border-2 border-purple-100 bg-purple-50/50",children:[e.jsx(Yn,{className:"w-10 h-10 text-purple-600 mb-3"}),e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Error Rate"}),e.jsxs("p",{className:"text-4xl font-bold text-purple-600",children:[_.errorRate,"%"]}),e.jsx(Oe,{className:"mt-2 bg-purple-600 text-white",children:"Healthy"})]})]}),e.jsxs(ne,{className:"p-6 border-2 border-gray-100",children:[e.jsx("h3",{className:"text-2xl font-bold mb-6",children:"24-Hour Performance Metrics"}),e.jsx(Zd,{width:"100%",height:300,children:e.jsxs(b6,{data:k,children:[e.jsx(ru,{strokeDasharray:"3 3"}),e.jsx(zi,{dataKey:"time"}),e.jsx(Ui,{}),e.jsx(xs,{}),e.jsx(Ca,{}),e.jsx(Os,{type:"monotone",dataKey:"latency",stroke:"#8B5CF6",strokeWidth:3,name:"Latency (ms)"}),e.jsx(Os,{type:"monotone",dataKey:"errors",stroke:"#EF4444",strokeWidth:3,name:"Errors"}),e.jsx(Os,{type:"monotone",dataKey:"traffic",stroke:"#10B981",strokeWidth:3,name:"Traffic"})]})})]}),e.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[e.jsxs(ne,{className:"p-6 border-2 border-gray-100",children:[e.jsx("h3",{className:"text-xl font-bold mb-6",children:"Infrastructure Status"}),e.jsx("div",{className:"space-y-4",children:[{name:"API Servers",status:"operational",value:"8/8 healthy",icon:VP},{name:"Database Cluster",status:"operational",value:"Primary + 2 replicas",icon:kL},{name:"CDN Network",status:"operational",value:`${_.cdnHits}% hit rate`,icon:Oh},{name:"Message Queue",status:"operational",value:"0 delayed jobs",icon:bs},{name:"Cache Layer",status:"operational",value:"99.2% hit rate",icon:Ks}].map((D,I)=>{const q=D.icon;return e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(q,{className:"w-6 h-6 text-gray-600"}),e.jsx("span",{className:"font-semibold",children:D.name})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-sm text-gray-600",children:D.value}),e.jsx(Oe,{className:"bg-green-100 text-green-700",children:D.status})]})]},I)})})]}),e.jsxs(ne,{className:"p-6 border-2 border-gray-100",children:[e.jsx("h3",{className:"text-xl font-bold mb-6",children:"Server Resources"}),e.jsx("div",{className:"space-y-6",children:[{label:"CPU Usage",value:_.cpuUsage,icon:dG,color:"purple"},{label:"Memory Usage",value:_.memoryUsage,icon:VP,color:"blue"},{label:"Disk Usage",value:_.diskUsage,icon:CG,color:"green"}].map(D=>{const I=D.icon;return e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(I,{className:"w-5 h-5 text-gray-600"}),e.jsx("span",{className:"font-semibold",children:D.label})]}),e.jsxs("span",{className:`text-2xl font-bold text-${D.color}-600`,children:[D.value,"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:e.jsx("div",{className:`h-3 bg-${D.color}-600 rounded-full`,style:{width:`${D.value}%`}})})]},D.label)})})]})]})]}),t==="plans"&&e.jsx(wCe,{}),!1,t==="disputes"&&e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Dispute Resolution Center"}),e.jsx("p",{className:"text-gray-600",children:"Manage conflicts between salons and clients"})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-6",children:[e.jsxs(ne,{className:"p-6 border-2 border-orange-100 bg-orange-50/50",children:[e.jsx(fr,{className:"w-10 h-10 text-orange-600 mb-3"}),e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Active Disputes"}),e.jsx("p",{className:"text-3xl font-bold text-orange-600",children:M.filter(D=>D.status!=="resolved").length})]}),e.jsxs(ne,{className:"p-6 border-2 border-green-100 bg-green-50/50",children:[e.jsx(zt,{className:"w-10 h-10 text-green-600 mb-3"}),e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Resolved This Month"}),e.jsx("p",{className:"text-3xl font-bold text-green-600",children:M.filter(D=>D.status==="resolved").length})]}),e.jsxs(ne,{className:"p-6 border-2 border-purple-100 bg-purple-50/50",children:[e.jsx(Zt,{className:"w-10 h-10 text-purple-600 mb-3"}),e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Total Amount in Dispute"}),e.jsxs("p",{className:"text-3xl font-bold text-purple-600",children:["AED ",M.reduce((D,I)=>D+I.amount,0).toLocaleString()]})]})]}),e.jsxs(ne,{className:"p-6 border-2 border-gray-100",children:[e.jsx("h3",{className:"text-2xl font-bold mb-6",children:"Active Disputes"}),e.jsx("div",{className:"space-y-4",children:M.map(D=>e.jsx("div",{className:`p-5 rounded-xl border-2 ${D.status==="resolved"?"bg-green-50 border-green-200":"bg-orange-50 border-orange-200"}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx(Oe,{className:D.status==="resolved"?"bg-green-600 text-white":D.status==="investigating"?"bg-blue-600 text-white":"bg-orange-600 text-white",children:D.status.replace("_"," ").toUpperCase()}),e.jsx("h4",{className:"font-bold text-lg",children:D.issue})]}),e.jsxs("div",{className:"grid grid-cols-4 gap-4 text-sm text-gray-600",children:[e.jsxs("span",{children:[" ",D.salon]}),e.jsxs("span",{children:[" ",D.client]}),e.jsxs("span",{children:[" AED ",D.amount]}),e.jsxs("span",{children:[" ",D.created]})]})]}),e.jsxs("div",{className:"flex gap-2 ml-4",children:[e.jsxs(Q,{size:"sm",className:"bg-purple-600 hover:bg-purple-700",children:[e.jsx(Pa,{className:"w-4 h-4 mr-1"}),"Chat"]}),e.jsxs(Q,{size:"sm",variant:"outline",children:[e.jsx(Rr,{className:"w-4 h-4 mr-1"}),"View"]}),D.status!=="resolved"&&e.jsxs(Q,{size:"sm",className:"bg-green-600 hover:bg-green-700",children:[e.jsx(zt,{className:"w-4 h-4 mr-1"}),"Resolve"]})]})]})},D.id))})]})]}),t==="fraud"&&e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Fraud Detection & Prevention"}),e.jsx("p",{className:"text-gray-600",children:"Monitor suspicious activity and protect the platform"})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-6",children:[e.jsxs(ne,{className:"p-6 border-2 border-red-100 bg-red-50/50",children:[e.jsx(Yn,{className:"w-10 h-10 text-red-600 mb-3"}),e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"High Risk Alerts"}),e.jsx("p",{className:"text-3xl font-bold text-red-600",children:$.filter(D=>D.risk>=80).length})]}),e.jsxs(ne,{className:"p-6 border-2 border-orange-100 bg-orange-50/50",children:[e.jsx(fr,{className:"w-10 h-10 text-orange-600 mb-3"}),e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Under Review"}),e.jsx("p",{className:"text-3xl font-bold text-orange-600",children:$.filter(D=>D.action==="Review").length})]}),e.jsxs(ne,{className:"p-6 border-2 border-gray-100 bg-gray-50/50",children:[e.jsx(Yt,{className:"w-10 h-10 text-gray-600 mb-3"}),e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Blocked Accounts"}),e.jsx("p",{className:"text-3xl font-bold text-gray-600",children:$.filter(D=>D.action==="Blocked").length})]})]}),e.jsxs(ne,{className:"p-6 border-2 border-red-100 bg-red-50/30",children:[e.jsx("h3",{className:"text-2xl font-bold mb-6",children:"Fraud Alerts"}),e.jsx("div",{className:"space-y-4",children:$.map(D=>e.jsx("div",{className:"bg-white p-5 rounded-xl border-2 border-red-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsxs(Oe,{className:D.risk>=80?"bg-red-600 text-white":D.risk>=60?"bg-orange-600 text-white":"bg-yellow-600 text-white",children:["RISK: ",D.risk,"%"]}),e.jsx(Oe,{className:D.action==="Blocked"?"bg-gray-600 text-white":D.action==="Review"?"bg-blue-600 text-white":"bg-green-600 text-white",children:D.action.toUpperCase()}),e.jsx("h4",{className:"font-bold text-lg",children:D.salon})]}),e.jsxs("div",{className:"flex items-center gap-6 text-sm text-gray-600",children:[e.jsxs("span",{children:[" ",D.reason]}),e.jsxs("span",{children:[" ",D.date]})]})]}),e.jsxs("div",{className:"flex gap-2 ml-4",children:[e.jsxs(Q,{size:"sm",className:"bg-red-600 hover:bg-red-700",children:[e.jsx(Yt,{className:"w-4 h-4 mr-1"}),"Block"]}),e.jsxs(Q,{size:"sm",variant:"outline",children:[e.jsx(Rr,{className:"w-4 h-4 mr-1"}),"Investigate"]})]})]})},D.id))})]})]}),t==="emails"&&e.jsx(kCe,{}),t==="emails_old"&&e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Email Templates Manager"}),e.jsx("p",{className:"text-gray-600",children:"Manage automated email communications and campaigns"})]}),e.jsxs(Q,{className:"bg-gradient-to-r from-purple-600 to-pink-600 text-white",children:[e.jsx(er,{className:"w-4 h-4 mr-2"}),"Create Template"]})]}),e.jsx("div",{className:"grid grid-cols-4 gap-6",children:B.map(D=>e.jsxs(ne,{className:"p-6 border-2 border-gray-100 hover:shadow-lg transition-all",children:[e.jsx(Ut,{className:"w-10 h-10 text-purple-600 mb-3"}),e.jsx("h4",{className:"font-bold text-lg mb-2",children:D.name}),e.jsx(Oe,{className:"mb-4 bg-purple-100 text-purple-700",children:D.category}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Open Rate:"}),e.jsxs("span",{className:"font-bold text-green-600",children:[D.openRate,"%"]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Click Rate:"}),e.jsxs("span",{className:"font-bold text-blue-600",children:[D.clickRate,"%"]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Sent:"}),e.jsx("span",{className:"font-bold",children:D.sent})]})]}),e.jsxs("div",{className:"flex gap-2 mt-4",children:[e.jsxs(Q,{size:"sm",variant:"outline",className:"flex-1",children:[e.jsx(oi,{className:"w-4 h-4 mr-1"}),"Edit"]}),e.jsxs(Q,{size:"sm",variant:"outline",className:"flex-1",children:[e.jsx(Rr,{className:"w-4 h-4 mr-1"}),"Preview"]})]})]},D.id))})]}),t==="api"&&e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"API Management"}),e.jsx("p",{className:"text-gray-600",children:"Monitor API usage and manage access keys"})]}),e.jsxs(Q,{className:"bg-gradient-to-r from-purple-600 to-pink-600 text-white",children:[e.jsx(er,{className:"w-4 h-4 mr-2"}),"Generate API Key"]})]}),e.jsxs(ne,{className:"p-6 border-2 border-gray-100",children:[e.jsx("h3",{className:"text-2xl font-bold mb-6",children:"Active API Keys"}),e.jsx("div",{className:"space-y-4",children:F.map(D=>e.jsx("div",{className:"p-5 bg-gray-50 rounded-xl border-2 border-gray-100",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("h4",{className:"font-bold text-lg",children:D.salon}),e.jsx(Oe,{className:D.status==="active"?"bg-green-600 text-white":"bg-orange-600 text-white",children:D.status.replace("_"," ").toUpperCase()})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm text-gray-600",children:[e.jsxs("span",{children:[" ",D.key]}),e.jsxs("span",{children:[" ",D.requests.toLocaleString()," requests"]}),e.jsxs("span",{children:[" Created: ",D.created]})]})]}),e.jsxs("div",{className:"flex gap-2 ml-4",children:[e.jsxs(Q,{size:"sm",variant:"outline",children:[e.jsx(xn,{className:"w-4 h-4 mr-1"}),"Rotate"]}),e.jsxs(Q,{size:"sm",variant:"outline",className:"text-red-600 border-red-600",children:[e.jsx(cn,{className:"w-4 h-4 mr-1"}),"Revoke"]})]})]})},D.id))})]})]}),t==="onboarding"&&e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Onboarding Pipeline"}),e.jsx("p",{className:"text-gray-600",children:"Track salon setup progress and identify stuck salons"})]}),e.jsxs("div",{className:"grid grid-cols-4 gap-6",children:[e.jsxs(ne,{className:"p-6 border-2 border-blue-100 bg-blue-50/50",children:[e.jsx(fl,{className:"w-10 h-10 text-blue-600 mb-3"}),e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Avg Completion Rate"}),e.jsxs("p",{className:"text-3xl font-bold text-blue-600",children:[K.avgCompletion,"%"]})]}),e.jsxs(ne,{className:"p-6 border-2 border-purple-100 bg-purple-50/50",children:[e.jsx(pt,{className:"w-10 h-10 text-purple-600 mb-3"}),e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Avg Time to Complete"}),e.jsx("p",{className:"text-3xl font-bold text-purple-600",children:K.avgTime})]}),e.jsxs(ne,{className:"p-6 border-2 border-orange-100 bg-orange-50/50",children:[e.jsx(fr,{className:"w-10 h-10 text-orange-600 mb-3"}),e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Stuck Salons"}),e.jsx("p",{className:"text-3xl font-bold text-orange-600",children:K.stuckSalons})]}),e.jsxs(ne,{className:"p-6 border-2 border-green-100 bg-green-50/50",children:[e.jsx(zt,{className:"w-10 h-10 text-green-600 mb-3"}),e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Completed Today"}),e.jsx("p",{className:"text-3xl font-bold text-green-600",children:K.completedToday})]})]}),e.jsxs(ne,{className:"p-6 border-2 border-gray-100",children:[e.jsx("h3",{className:"text-2xl font-bold mb-6",children:"Onboarding Progress"}),e.jsx("div",{className:"space-y-4",children:H.map((D,I)=>e.jsxs("div",{className:`p-5 rounded-xl border-2 ${D.stuck?"bg-orange-50 border-orange-200":"bg-white border-gray-100"}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("h4",{className:"font-bold text-lg",children:D.salon}),D.stuck&&e.jsx(Oe,{className:"bg-orange-600 text-white",children:"STUCK"})]}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Current Step: ",D.step,"  Last Activity: ",D.lastActivity]})]}),e.jsx("div",{className:"text-right",children:e.jsxs("p",{className:"text-3xl font-bold text-purple-600",children:[D.progress,"%"]})})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-4",children:e.jsx("div",{className:`h-4 rounded-full ${D.stuck?"bg-orange-600":"bg-gradient-to-r from-purple-600 to-pink-600"}`,style:{width:`${D.progress}%`}})}),D.stuck&&e.jsxs("div",{className:"flex gap-2 mt-3",children:[e.jsxs(Q,{size:"sm",className:"bg-purple-600 hover:bg-purple-700",children:[e.jsx(Ut,{className:"w-4 h-4 mr-1"}),"Send Reminder"]}),e.jsxs(Q,{size:"sm",variant:"outline",children:[e.jsx(En,{className:"w-4 h-4 mr-1"}),"Call Salon"]})]})]},I))})]})]}),t==="churn"&&e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Churn Analysis & Prevention"}),e.jsx("p",{className:"text-gray-600",children:"Understand why salons leave and implement win-back strategies"})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-6",children:[e.jsxs(ne,{className:"p-6 border-2 border-red-100 bg-red-50/50",children:[e.jsx(Bd,{className:"w-10 h-10 text-red-600 mb-3"}),e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Monthly Churn Rate"}),e.jsxs("p",{className:"text-3xl font-bold text-red-600",children:[Z.monthlyRate,"%"]})]}),e.jsxs(ne,{className:"p-6 border-2 border-orange-100 bg-orange-50/50",children:[e.jsx(Zt,{className:"w-10 h-10 text-orange-600 mb-3"}),e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Revenue Lost"}),e.jsxs("p",{className:"text-3xl font-bold text-orange-600",children:["AED ",Z.revenueLost.toLocaleString()]})]}),e.jsxs(ne,{className:"p-6 border-2 border-purple-100 bg-purple-50/50",children:[e.jsx(pr,{className:"w-10 h-10 text-purple-600 mb-3"}),e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Salons Churned"}),e.jsx("p",{className:"text-3xl font-bold text-purple-600",children:Z.salonsChurned})]})]}),e.jsxs(ne,{className:"p-6 border-2 border-gray-100",children:[e.jsx("h3",{className:"text-2xl font-bold mb-6",children:"Churn Reasons"}),e.jsx("div",{className:"space-y-4",children:V.map((D,I)=>e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"font-semibold",children:D.reason}),e.jsxs("span",{className:"text-sm text-gray-600",children:[D.count," salons (",D.percentage,"%)"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:e.jsx("div",{className:"h-3 bg-red-600 rounded-full",style:{width:`${D.percentage}%`}})})]},I))})]})]}),t==="success"&&e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Customer Success Dashboard"}),e.jsx("p",{className:"text-gray-600",children:"Monitor salon health scores and proactive outreach"})]}),e.jsxs(ne,{className:"p-6 border-2 border-gray-100",children:[e.jsx("h3",{className:"text-2xl font-bold mb-6",children:"Health Score Monitoring"}),e.jsx("div",{className:"space-y-4",children:W.map((D,I)=>e.jsx("div",{className:"p-5 bg-gray-50 rounded-xl border-2 border-gray-100",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("h4",{className:"font-bold text-lg",children:D.salon}),e.jsxs(Oe,{className:D.score>=80?"bg-green-600 text-white":D.score>=60?"bg-orange-600 text-white":"bg-red-600 text-white",children:["Health Score: ",D.score,"/100"]}),e.jsxs(Oe,{className:D.trend==="up"?"bg-green-100 text-green-700":D.trend==="down"?"bg-red-100 text-red-700":"bg-gray-100 text-gray-700",children:[D.trend==="up"?"":D.trend==="down"?"":""," ",D.trend.toUpperCase()]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm text-gray-600",children:[e.jsxs("span",{children:[" Usage: ",D.usage]}),e.jsxs("span",{children:[" Features: ",D.features,"%"]}),e.jsxs("span",{children:[" Tickets: ",D.tickets]})]})]}),e.jsxs("div",{className:"flex gap-2 ml-4",children:[D.score<60&&e.jsxs(Q,{size:"sm",className:"bg-red-600 hover:bg-red-700",children:[e.jsx(En,{className:"w-4 h-4 mr-1"}),"Urgent Call"]}),e.jsxs(Q,{size:"sm",variant:"outline",children:[e.jsx(Rr,{className:"w-4 h-4 mr-1"}),"Details"]})]})]})},I))})]})]}),t==="integrations"&&e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Integration Marketplace"}),e.jsx("p",{className:"text-gray-600",children:"Manage third-party integrations and monitor health"})]}),e.jsx("div",{className:"grid grid-cols-2 gap-6",children:G.map((D,I)=>e.jsxs(ne,{className:"p-6 border-2 border-gray-100",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(ZS,{className:"w-10 h-10 text-purple-600"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-xl",children:D.name}),e.jsxs("p",{className:"text-sm text-gray-600",children:[D.active," of ",D.total," salons"]})]})]}),e.jsx(Oe,{className:D.status==="operational"?"bg-green-600 text-white":"bg-orange-600 text-white",children:D.status.toUpperCase()})]}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Adoption Rate"}),e.jsxs("span",{className:"font-bold",children:[(D.active/D.total*100).toFixed(0),"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:e.jsx("div",{className:"h-3 bg-purple-600 rounded-full",style:{width:`${D.active/D.total*100}%`}})})]}),e.jsxs(Q,{variant:"outline",className:"w-full",children:[e.jsx(Ec,{className:"w-4 h-4 mr-2"}),"Configure"]})]},I))})]}),t==="permissions"&&e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Super Admin Permissions"}),e.jsx("p",{className:"text-gray-600",children:"Manage admin team roles and access control"})]}),e.jsxs(Q,{className:"bg-gradient-to-r from-purple-600 to-pink-600 text-white",children:[e.jsx(er,{className:"w-4 h-4 mr-2"}),"Add Admin"]})]}),e.jsx("div",{className:"grid grid-cols-4 gap-6",children:[{role:"Full Admin",count:1,color:"purple"},{role:"Support Admin",count:1,color:"blue"},{role:"Billing Admin",count:1,color:"green"},{role:"View Only",count:1,color:"gray"}].map(D=>e.jsxs(ne,{className:`p-6 border-2 border-${D.color}-100 bg-${D.color}-50/30`,children:[e.jsx(Yt,{className:`w-10 h-10 text-${D.color}-600 mb-3`}),e.jsx("p",{className:"text-sm text-gray-600 mb-1",children:D.role}),e.jsx("p",{className:`text-3xl font-bold text-${D.color}-600`,children:D.count})]},D.role))}),e.jsxs(ne,{className:"p-6 border-2 border-gray-100",children:[e.jsx("h3",{className:"text-2xl font-bold mb-6",children:"Admin Users"}),e.jsx("div",{className:"space-y-4",children:O.map(D=>e.jsx("div",{className:"p-5 bg-gray-50 rounded-xl border-2 border-gray-100",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("h4",{className:"font-bold text-lg",children:D.name}),e.jsx(Oe,{className:D.role==="Full Admin"?"bg-purple-600 text-white":D.role==="Support Admin"?"bg-blue-600 text-white":D.role==="Billing Admin"?"bg-green-600 text-white":"bg-gray-600 text-white",children:D.role})]}),e.jsxs("div",{className:"flex items-center gap-6 text-sm text-gray-600",children:[e.jsxs("span",{children:[" ",D.email]}),e.jsxs("span",{children:[" Last Login: ",D.lastLogin]})]})]}),e.jsxs("div",{className:"flex gap-2 ml-4",children:[e.jsxs(Q,{size:"sm",variant:"outline",children:[e.jsx(oi,{className:"w-4 h-4 mr-1"}),"Edit"]}),e.jsxs(Q,{size:"sm",variant:"outline",className:"text-red-600 border-red-600",children:[e.jsx(cn,{className:"w-4 h-4 mr-1"}),"Remove"]})]})]})},D.id))})]})]})]})]})]})}function PCe(){const[t,r]=N.useState([]),[n,s]=N.useState([]),[a,i]=N.useState(!0),[o,l]=N.useState(""),[c,u]=N.useState("all"),[m,p]=N.useState("all"),x=async()=>{i(!0);try{const P=await fetch(`https://${nr}.supabase.co/functions/v1/make-server-3e5c72fb/leads`,{headers:{Authorization:`Bearer ${cr}`}}),T=await P.json();P.ok&&T.success?(r(T.leads),s(T.leads)):console.error("Failed to fetch leads:",T.error)}catch(P){console.error("Error fetching leads:",P)}finally{i(!1)}};N.useEffect(()=>{x()},[]),N.useEffect(()=>{let P=[...t];o&&(P=P.filter(T=>T.businessName.toLowerCase().includes(o.toLowerCase())||T.fullName.toLowerCase().includes(o.toLowerCase())||T.email.toLowerCase().includes(o.toLowerCase())||T.phoneNumber.includes(o))),c!=="all"&&(P=P.filter(T=>T.status===c)),m!=="all"&&(P=P.filter(T=>T.city===m)),s(P)},[o,c,m,t]);const v=async(P,T)=>{try{const _=await fetch(`https://${nr}.supabase.co/functions/v1/make-server-3e5c72fb/leads/${P}/status`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${cr}`},body:JSON.stringify({status:T})}),k=await _.json();_.ok&&k.success?r(M=>M.map($=>$.id===P?{...$,status:T,updatedAt:new Date().toISOString()}:$)):console.error("Failed to update lead status:",k.error)}catch(_){console.error("Error updating lead status:",_)}},w=async P=>{if(confirm("Are you sure you want to delete this lead?"))try{const T=await fetch(`https://${nr}.supabase.co/functions/v1/make-server-3e5c72fb/leads/${P}`,{method:"DELETE",headers:{Authorization:`Bearer ${cr}`}}),_=await T.json();T.ok&&_.success?r(k=>k.filter(M=>M.id!==P)):console.error("Failed to delete lead:",_.error)}catch(T){console.error("Error deleting lead:",T)}},y=()=>{const P=["Business Name","Full Name","Phone","Email","City","Type","Status","Created At"],T=n.map(B=>[B.businessName,B.fullName,B.phoneNumber,B.email,B.city,B.businessType,B.status,new Date(B.createdAt).toLocaleString()]),_=[P.join(","),...T.map(B=>B.map(F=>`"${F}"`).join(","))].join(`
`),k=new Blob([_],{type:"text/csv"}),M=URL.createObjectURL(k),$=document.createElement("a");$.href=M,$.download=`leads_${new Date().toISOString().split("T")[0]}.csv`,$.click(),URL.revokeObjectURL(M)},j={total:t.length,new:t.filter(P=>P.status==="new").length,contacted:t.filter(P=>P.status==="contacted").length,converted:t.filter(P=>P.status==="converted").length},S={new:"bg-blue-100 text-blue-700",contacted:"bg-yellow-100 text-yellow-700",converted:"bg-green-100 text-green-700",rejected:"bg-red-100 text-red-700"},C={new:pt,contacted:En,converted:zt,rejected:tn};return e.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Partner Leads"}),e.jsx("p",{className:"text-gray-600",children:"Manage incoming partnership requests and track conversions"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[e.jsx(ne,{children:e.jsx(ke,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Total Leads"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:j.total})]}),e.jsx(pr,{className:"w-8 h-8 text-purple-600"})]})})}),e.jsx(ne,{children:e.jsx(ke,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"New"}),e.jsx("p",{className:"text-2xl font-bold text-blue-600",children:j.new})]}),e.jsx(pt,{className:"w-8 h-8 text-blue-600"})]})})}),e.jsx(ne,{children:e.jsx(ke,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Contacted"}),e.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:j.contacted})]}),e.jsx(En,{className:"w-8 h-8 text-yellow-600"})]})})}),e.jsx(ne,{children:e.jsx(ke,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Converted"}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:j.converted})]}),e.jsx(xr,{className:"w-8 h-8 text-green-600"})]})})})]}),e.jsx(ne,{className:"mb-6",children:e.jsx(ke,{className:"pt-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(qr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx(He,{placeholder:"Search by name, email, or phone...",value:o,onChange:P=>l(P.target.value),className:"pl-10"})]})}),e.jsxs(sn,{value:c,onValueChange:u,children:[e.jsx(an,{className:"w-full md:w-48",children:e.jsx(gn,{placeholder:"Status"})}),e.jsxs(on,{children:[e.jsx(Ue,{value:"all",children:"All Statuses"}),e.jsx(Ue,{value:"new",children:"New"}),e.jsx(Ue,{value:"contacted",children:"Contacted"}),e.jsx(Ue,{value:"converted",children:"Converted"}),e.jsx(Ue,{value:"rejected",children:"Rejected"})]})]}),e.jsxs(sn,{value:m,onValueChange:p,children:[e.jsx(an,{className:"w-full md:w-48",children:e.jsx(gn,{placeholder:"City"})}),e.jsxs(on,{children:[e.jsx(Ue,{value:"all",children:"All Cities"}),e.jsx(Ue,{value:"Dubai",children:"Dubai"}),e.jsx(Ue,{value:"New York",children:"New York"}),e.jsx(Ue,{value:"London",children:"London"}),e.jsx(Ue,{value:"Paris",children:"Paris"})]})]}),e.jsxs(Q,{onClick:y,variant:"outline",className:"w-full md:w-auto",disabled:n.length===0,children:[e.jsx(vr,{className:"w-4 h-4 mr-2"}),"Export CSV"]})]})})}),e.jsxs(ne,{children:[e.jsx(Hr,{children:e.jsxs(wn,{className:"flex items-center justify-between",children:[e.jsxs("span",{children:["Leads (",n.length,")"]}),e.jsx(Q,{variant:"outline",size:"sm",onClick:x,children:"Refresh"})]})}),e.jsx(ke,{children:a?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-purple-600"}),e.jsx("p",{className:"mt-2 text-gray-600",children:"Loading leads..."})]}):n.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(pr,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"No leads found"})]}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b",children:[e.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Business"}),e.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Contact"}),e.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Location"}),e.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Status"}),e.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Created"}),e.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Actions"})]})}),e.jsx("tbody",{children:n.map(P=>{const T=C[P.status];return e.jsxs("tr",{className:"border-b hover:bg-gray-50 transition-colors",children:[e.jsx("td",{className:"py-4 px-4",children:e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:P.businessName}),e.jsx("p",{className:"text-sm text-gray-600",children:P.businessType})]})}),e.jsx("td",{className:"py-4 px-4",children:e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(En,{className:"w-3.5 h-3.5 text-gray-400"}),e.jsx("a",{href:`tel:${P.phoneNumber}`,className:"text-blue-600 hover:underline",children:P.phoneNumber})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(Ut,{className:"w-3.5 h-3.5 text-gray-400"}),e.jsx("a",{href:`mailto:${P.email}`,className:"text-blue-600 hover:underline",children:P.email})]})]})}),e.jsx("td",{className:"py-4 px-4",children:e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-700",children:[e.jsx(vs,{className:"w-3.5 h-3.5 text-gray-400"}),P.city]})}),e.jsx("td",{className:"py-4 px-4",children:e.jsxs(sn,{value:P.status,onValueChange:_=>v(P.id,_),children:[e.jsx(an,{className:`w-32 h-8 text-xs ${S[P.status]}`,children:e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(T,{className:"w-3.5 h-3.5"}),e.jsx(gn,{})]})}),e.jsxs(on,{children:[e.jsx(Ue,{value:"new",children:"New"}),e.jsx(Ue,{value:"contacted",children:"Contacted"}),e.jsx(Ue,{value:"converted",children:"Converted"}),e.jsx(Ue,{value:"rejected",children:"Rejected"})]})]})}),e.jsx("td",{className:"py-4 px-4",children:e.jsxs("div",{className:"text-sm text-gray-600",children:[e.jsx("div",{children:new Date(P.createdAt).toLocaleDateString()}),e.jsx("div",{className:"text-xs text-gray-500",children:new Date(P.createdAt).toLocaleTimeString()})]})}),e.jsx("td",{className:"py-4 px-4",children:e.jsx("div",{className:"flex items-center gap-2",children:e.jsx(Q,{variant:"ghost",size:"sm",onClick:()=>w(P.id),className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:e.jsx(cn,{className:"w-4 h-4"})})})})]},P.id)})})]})})})]})]})}function I6({isOpen:t,onClose:r,onSuccess:n}){const[s,a]=N.useState(""),[i,o]=N.useState(""),[l,c]=N.useState(""),[u,m]=N.useState(!1);if(!t)return null;const p=v=>{console.log(`Authenticating with ${v}`),console.log("User info:",{name:s,phone:i}),n()},x=v=>{v.preventDefault(),console.log("Email auth:",{name:s,phone:i,email:l}),n()};return e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 p-6 flex items-center justify-between rounded-t-2xl",children:[e.jsx("h2",{className:"text-2xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent",children:"Sign in to continue"}),e.jsx("button",{onClick:r,className:"w-8 h-8 rounded-full hover:bg-gray-100 flex items-center justify-center transition-colors",children:e.jsx(ht,{className:"w-5 h-5 text-gray-600"})})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsx("div",{className:"bg-purple-50 border border-purple-200 rounded-xl p-4",children:e.jsx("p",{className:"text-sm text-purple-900",children:"Please provide your contact information to receive booking confirmations and reminders"})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name *"}),e.jsx(He,{type:"text",placeholder:"Enter your full name",value:s,onChange:v=>a(v.target.value),className:"h-12",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number *"}),e.jsx(He,{type:"tel",placeholder:"+971 50 123 4567",value:i,onChange:v=>o(v.target.value),className:"h-12",required:!0}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"We'll send booking confirmations to this number"})]})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("div",{className:"w-full border-t border-gray-200"})}),e.jsx("div",{className:"relative flex justify-center text-sm",children:e.jsx("span",{className:"px-4 bg-white text-gray-500",children:"Continue with"})})]}),u?e.jsxs("form",{onSubmit:x,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address *"}),e.jsx(He,{type:"email",placeholder:"your@email.com",value:l,onChange:v=>c(v.target.value),className:"h-12",required:!0})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(Q,{type:"button",onClick:()=>m(!1),variant:"outline",className:"flex-1",children:"Back"}),e.jsx(Q,{type:"submit",disabled:!l,className:"flex-1 bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700",children:"Sign In"})]})]}):e.jsxs("div",{className:"space-y-3",children:[e.jsxs(Q,{onClick:()=>p("google"),disabled:!s||!i,className:"w-full h-12 bg-white border-2 border-gray-300 hover:border-gray-400 text-gray-700 hover:bg-gray-50",variant:"outline",children:[e.jsxs("svg",{className:"w-5 h-5 mr-3",viewBox:"0 0 24 24",children:[e.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),e.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),e.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),e.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continue with Google"]}),e.jsxs(Q,{onClick:()=>p("facebook"),disabled:!s||!i,className:"w-full h-12 bg-[#1877F2] hover:bg-[#166FE5] text-white",children:[e.jsx("svg",{className:"w-5 h-5 mr-3",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})}),"Continue with Facebook"]}),e.jsxs(Q,{onClick:()=>m(!0),disabled:!s||!i,className:"w-full h-12 bg-white border-2 border-gray-300 hover:border-gray-400 text-gray-700 hover:bg-gray-50",variant:"outline",children:[e.jsx("svg",{className:"w-5 h-5 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),"Continue with Email"]})]}),e.jsxs("p",{className:"text-xs text-gray-500 text-center",children:["By continuing, you agree to our"," ",e.jsx("a",{href:"#",className:"text-purple-600 hover:underline",children:"Terms of Service"})," ","and"," ",e.jsx("a",{href:"#",className:"text-purple-600 hover:underline",children:"Privacy Policy"})]})]})]})})}const BI={hairstylist:{label:"Haircuts & Styling",emoji:""},manicure:{label:"Manicure",emoji:""},pedicure:{label:"Pedicure",emoji:""},facial:{label:"Facial Care",emoji:""},massage:{label:"Massage",emoji:""},makeup:{label:"Makeup",emoji:""},waxing:{label:"Waxing",emoji:""},eyebrows:{label:"Brows & Lashes",emoji:""}};function ACe({salon:t,onClose:r}){const{formatPrice:n}=Kt(),{addBooking:s,getAvailableTimeSlots:a}=DJ(),i=vn(),o=N.useRef(null),[l,c]=N.useState([]),[u,m]=N.useState([]),[p,x]=N.useState(""),[v,w]=N.useState(null),[y,j]=N.useState(void 0),[S,C]=N.useState(""),[P,T]=N.useState(null),[_,k]=N.useState(!1),[M,$]=N.useState(!1),[B,F]=N.useState(""),[H,K]=N.useState(""),Z=()=>{const oe=new Set;return t.services.forEach(te=>{te.category&&oe.add(te.category)}),Array.from(oe)},V=()=>Math.floor(Math.random()*3)+1;(()=>{const oe=[];for(let de=9;de<20;de++)for(let fe=0;fe<60;fe+=15){const ye=de>12?de-12:de,he=fe.toString().padStart(2,"0"),Ce=de>=12?"PM":"AM";oe.push(`${ye}:${he} ${Ce}`)}return oe})(),N.useEffect(()=>{var oe;(oe=o.current)==null||oe.scrollIntoView({behavior:"smooth"})},[l]),N.useEffect(()=>{const oe=Z(),te={id:"1",sender:"ai",text:`Welcome to ${t.name}! 

I'm AI Agent Katia and I can help you book services in one click.

Select a service category:`,timestamp:new Date,type:"category-buttons",data:oe};c([te])},[t]);const G=(oe,te,ue)=>{$(!0),setTimeout(()=>{const de={id:Date.now().toString(),sender:"ai",text:oe,timestamp:new Date,type:te,data:ue};c(fe=>[...fe,de]),$(!1)},1e3)},O=oe=>{const te={id:Date.now().toString(),sender:"user",text:oe,timestamp:new Date};c(ue=>[...ue,te])},R=oe=>{var de;x(oe);const te=((de=BI[oe])==null?void 0:de.label)||oe;O(te);const ue=t.services.filter(fe=>fe.category===oe);G(`Great! Select a service from the "${te}" category:`,"service-buttons",ue)},D=oe=>{w(oe),O(oe.name);const te=t.staff.filter(de=>de.specialties&&de.specialties.includes(oe.name)),ue=te.length>0?`Great! ${oe.name} - ${n(oe.price)}, ${oe.duration} minutes.

Select a stylist:`:`Great! ${oe.name} - ${n(oe.price)}, ${oe.duration} minutes.

A stylist will be assigned automatically.

Select a date:`;te.length>0?G(ue,"staff-buttons",te):(T(null),G(ue,"date-buttons"))},I=oe=>{T(oe),O((oe==null?void 0:oe.name)||"Any available stylist"),G("Select a convenient date:","date-buttons")},q=(oe,te)=>{var Ce;let ue="",de;if(oe==="today")de=new Date,ue="Today";else if(oe==="tomorrow")de=new Date,de.setDate(de.getDate()+1),ue="Tomorrow";else if(te)de=te,ue=te.toLocaleDateString("ru-RU",{day:"numeric",month:"long"});else return;j(de),O(ue);const fe=(P==null?void 0:P.id)||((Ce=t.staff[0])==null?void 0:Ce.id)||"any",ye=v.duration/60,he=a(fe,de,ye);he.length===0?G(`Sorry, there are no available slots for ${ue.toLowerCase()}. Please try another date or select a different stylist.`,"date-buttons"):G(` Found ${he.length} available slots on ${ue.toLowerCase()}. Select a convenient time:`,"time-buttons",{availableSlots:he})},J=oe=>{C(oe),O(oe);const te={service:v,staff:P,date:y,time:oe};m(ue=>[...ue,te]),G(`Service "${v.name}" added! 

Do you want to add another service?`,"add-more-buttons")},ie=oe=>{if(oe){O("Yes, add another"),x(""),w(null),T(null),j(void 0),C("");const te=Z();G("Great! Select a category for the next service:","category-buttons",te)}else O("No, finalize booking"),ee()},ee=()=>{const oe=u.reduce((ue,de)=>ue+de.service.price,0);let te=`
 Booking Details:

`;te+=` Salon: ${t.name}
`,te+=` Address: ${t.location}
`,te+=` Phone: ${t.phone||"+1 (555) 123-4567"}

`,te+=` Booked Services:

`,u.forEach((ue,de)=>{var fe;te+=`${de+1}. ${ue.service.name}
`,te+=`    ${((fe=ue.staff)==null?void 0:fe.name)||"Any available"}
`,te+=`    ${ue.date.toLocaleDateString("ru-RU",{day:"numeric",month:"long",year:"numeric"})}
`,te+=`    ${ue.time}
`,te+=`    ${n(ue.service.price)}

`}),te+=` Total Price: ${n(oe)}

`,te+="Confirm booking?",G(te,"confirm-buttons")},ae=oe=>{if(oe)O("Yes, confirm"),G("Great! To finalize the booking, you need to log in."),setTimeout(()=>{const te={id:`ai-booking-${Date.now()}`,salon:t.name,salonId:t.id,salonAddress:t.location,salonPhone:t.phone||"+1 (555) 123-4567",services:u,totalPrice:u.reduce((de,fe)=>de+fe.service.price,0),createdBy:"AI Agent Katia",createdAt:new Date().toISOString(),chatHistory:l,status:"upcoming"},ue=JSON.parse(localStorage.getItem("aiBookings")||"[]");ue.push(te),localStorage.setItem("aiBookings",JSON.stringify(ue)),k(!0)},1e3);else{O("No, change"),m([]),x(""),w(null),T(null),j(void 0),C("");const te=Z();G("Okay, let's start over. Select a service category:","category-buttons",te)}};return e.jsxs("div",{className:"fixed inset-0 z-50 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4",children:[e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-hidden flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b bg-gradient-to-r from-blue-600 to-blue-700",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-full flex items-center justify-center",children:e.jsx(Mi,{className:"w-7 h-7 text-white"})}),e.jsx("div",{className:"absolute bottom-0 right-0 w-3 h-3 bg-green-400 rounded-full border-2 border-white"})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-white",children:"AI Agent Katia"}),e.jsxs("p",{className:"text-xs text-blue-100",children:["Online  ",t.name]})]})]}),e.jsx(Q,{onClick:r,variant:"ghost",size:"icon",className:"text-white hover:bg-white/10 rounded-full",children:e.jsx(ht,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-gray-50",children:[l.map(oe=>{var te;return e.jsxs("div",{children:[e.jsxs("div",{className:`flex gap-3 ${oe.sender==="user"?"justify-end":"justify-start"}`,children:[oe.sender==="ai"&&e.jsx(Ri,{className:"w-8 h-8 flex-shrink-0",children:e.jsx("div",{className:"w-full h-full bg-gradient-to-r from-blue-600 to-blue-700 flex items-center justify-center",children:e.jsx(Mi,{className:"w-5 h-5 text-white"})})}),e.jsxs("div",{className:`max-w-[70%] ${oe.sender==="user"?"ml-auto":""}`,children:[e.jsx("div",{className:`rounded-2xl p-3 ${oe.sender==="ai"?"bg-white border border-gray-200":"bg-gradient-to-r from-purple-600 to-pink-600 text-white"}`,children:e.jsx("p",{className:"whitespace-pre-line text-sm",children:oe.text})}),e.jsx("p",{className:"text-xs text-gray-500 mt-1 px-2",children:oe.timestamp.toLocaleTimeString("ru-RU",{hour:"2-digit",minute:"2-digit"})})]})]}),oe.sender==="ai"&&oe.type==="category-buttons"&&e.jsx("div",{className:"mt-3 ml-11 grid grid-cols-2 gap-2",children:oe.data.map(ue=>{const de=BI[ue]||{label:ue,emoji:""};return e.jsxs(Q,{onClick:()=>R(ue),variant:"outline",className:"h-auto py-3 flex items-center justify-start gap-2 hover:border-purple-500 hover:bg-purple-50 whitespace-normal text-left",children:[e.jsx("span",{className:"text-2xl flex-shrink-0",children:de.emoji}),e.jsx("span",{className:"text-sm font-semibold break-words",children:de.label})]},ue)})}),oe.sender==="ai"&&oe.type==="service-buttons"&&e.jsx("div",{className:"mt-3 ml-11 space-y-2",children:oe.data.map((ue,de)=>{const ye=Math.random()<.4?V():0;return e.jsxs(ne,{className:"p-2.5 hover:border-purple-500 transition-all cursor-pointer group relative overflow-hidden",onClick:()=>D(ue),children:[ye>0&&e.jsx("div",{className:"absolute top-2 right-2",children:e.jsxs(Oe,{className:"bg-pink-500 text-white text-[10px] gap-1 px-2 py-0.5",children:[e.jsx("div",{className:"w-1 h-1 bg-white rounded-full animate-ping absolute left-1"}),e.jsx("div",{className:"w-1 h-1 bg-white rounded-full mr-1"}),ye," ",ye===1?"person":(ye>=2&&ye<=4,"people")," booking"]})}),e.jsxs("div",{className:"flex items-center justify-between gap-2",children:[e.jsxs("div",{className:"flex-1 pr-2",children:[e.jsx("h4",{className:"text-sm font-semibold group-hover:text-purple-600 transition-colors",children:ue.name}),e.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-600 mt-0.5",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(pt,{className:"w-3 h-3"}),ue.duration," min"]}),e.jsx("span",{className:"font-bold text-purple-600",children:n(ue.price)})]})]}),e.jsx(Q,{size:"sm",className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 h-8 px-3 text-xs",children:"Select"})]})]},ue.id)})}),oe.sender==="ai"&&oe.type==="date-buttons"&&e.jsxs("div",{className:"mt-3 ml-11 space-y-3",children:[e.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[e.jsxs(Q,{onClick:()=>q("today"),variant:"outline",className:"h-auto py-3 flex flex-col gap-1 hover:border-purple-500",children:[e.jsx(vt,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm font-semibold",children:"Today"}),e.jsx("span",{className:"text-xs text-gray-500",children:new Date().toLocaleDateString("ru-RU",{day:"numeric",month:"short"})})]}),e.jsxs(Q,{onClick:()=>q("tomorrow"),variant:"outline",className:"h-auto py-3 flex flex-col gap-1 hover:border-purple-500",children:[e.jsx(vt,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm font-semibold",children:"Tomorrow"}),e.jsx("span",{className:"text-xs text-gray-500",children:new Date(Date.now()+864e5).toLocaleDateString("ru-RU",{day:"numeric",month:"short"})})]}),e.jsxs(Q,{onClick:()=>{K(oe.id),F(ue=>ue===oe.id?"":oe.id)},variant:"outline",className:"h-auto py-3 flex flex-col gap-1 hover:border-purple-500",children:[e.jsx(vt,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm font-semibold",children:"Other date"}),e.jsx("span",{className:"text-xs text-gray-500",children:"Select"})]})]}),B===oe.id&&e.jsx(ne,{className:"p-3",children:e.jsx(mb,{mode:"single",selected:y,onSelect:ue=>{ue&&(q("other",ue),F(""))},disabled:ue=>ue<new Date(new Date().setHours(0,0,0,0)),initialFocus:!0,className:"rounded-md"})})]}),oe.sender==="ai"&&oe.type==="time-buttons"&&((te=oe.data)==null?void 0:te.availableSlots)&&e.jsx("div",{className:"mt-3 ml-11 grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-2 max-h-48 overflow-y-auto p-2 bg-white rounded-lg border",children:oe.data.availableSlots.map(ue=>e.jsx(Q,{onClick:()=>J(ue),variant:"outline",size:"sm",className:"hover:border-purple-500 hover:bg-purple-50 whitespace-nowrap text-xs",children:ue},ue))}),oe.sender==="ai"&&oe.type==="staff-buttons"&&e.jsxs("div",{className:"mt-3 ml-11 space-y-2",children:[e.jsx(ne,{className:"p-2.5 hover:border-purple-500 transition-all cursor-pointer",onClick:()=>I(null),children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-purple-600 to-pink-600 rounded-full flex items-center justify-center flex-shrink-0",children:e.jsx(pr,{className:"w-4 h-4 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"text-sm font-semibold",children:"Any available stylist"}),e.jsx("p",{className:"text-xs text-gray-600",children:"First available"})]})]})}),oe.data.map(ue=>e.jsx(ne,{className:"p-2.5 hover:border-purple-500 transition-all cursor-pointer",onClick:()=>I(ue),children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(Ri,{className:"w-8 h-8 flex-shrink-0",children:[e.jsx(jl,{src:ue.image,alt:ue.name}),e.jsx(wl,{className:"text-xs",children:ue.name[0]})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"text-sm font-semibold",children:ue.name}),e.jsxs("p",{className:"text-xs text-gray-600",children:[ue.role,"   ",ue.rating]})]})]})},ue.id))]}),oe.sender==="ai"&&oe.type==="add-more-buttons"&&e.jsxs("div",{className:"mt-3 ml-11 grid grid-cols-2 gap-2",children:[e.jsxs(Q,{onClick:()=>ie(!0),variant:"outline",className:"h-10 gap-2 border-purple-500 text-purple-600 hover:bg-purple-50",children:[e.jsx(er,{className:"w-4 h-4"}),"Yes, add another"]}),e.jsx(Q,{onClick:()=>ie(!1),className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white h-10",children:"Finalize"})]}),oe.sender==="ai"&&oe.type==="confirm-buttons"&&e.jsxs("div",{className:"mt-3 ml-11 grid grid-cols-2 gap-2",children:[e.jsx(Q,{onClick:()=>ae(!0),className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white h-10",children:"Yes, confirm"}),e.jsx(Q,{onClick:()=>ae(!1),variant:"outline",className:"border-purple-500 text-purple-600 hover:bg-purple-50 h-10",children:"No, change"})]})]},oe.id)}),M&&e.jsxs("div",{className:"flex gap-3",children:[e.jsx(Ri,{className:"w-8 h-8",children:e.jsx("div",{className:"w-full h-full bg-gradient-to-r from-blue-600 to-blue-700 flex items-center justify-center",children:e.jsx(Mi,{className:"w-5 h-5 text-white"})})}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-2xl p-3",children:e.jsxs("div",{className:"flex gap-1",children:[e.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),e.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),e.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})})]}),e.jsx("div",{ref:o})]}),e.jsx("div",{className:"border-t p-3 bg-white",children:e.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[e.jsx(tr,{className:"w-3 h-3 text-blue-600"}),e.jsx("span",{children:"Booking through AI Agent Katia"}),u.length>0&&e.jsxs(Oe,{variant:"secondary",className:"ml-auto",children:[u.length," ",u.length===1?"service":"services"]})]})})]}),e.jsx(I6,{isOpen:_,onClose:()=>k(!1),onSuccess:()=>{k(!1),r(),console.log("Booking created by AI Agent Katia",u),i("/dashboard")}})]})}var Yf={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var ECe=Yf.exports,FI;function TCe(){return FI||(FI=1,(function(t,r){(function(n,s){s(r)})(ECe,(function(n){var s="1.9.4";function a(h){var g,A,z,X;for(A=1,z=arguments.length;A<z;A++){X=arguments[A];for(g in X)h[g]=X[g]}return h}var i=Object.create||(function(){function h(){}return function(g){return h.prototype=g,new h}})();function o(h,g){var A=Array.prototype.slice;if(h.bind)return h.bind.apply(h,A.call(arguments,1));var z=A.call(arguments,2);return function(){return h.apply(g,z.length?z.concat(A.call(arguments)):arguments)}}var l=0;function c(h){return"_leaflet_id"in h||(h._leaflet_id=++l),h._leaflet_id}function u(h,g,A){var z,X,le,pe;return pe=function(){z=!1,X&&(le.apply(A,X),X=!1)},le=function(){z?X=arguments:(h.apply(A,arguments),setTimeout(pe,g),z=!0)},le}function m(h,g,A){var z=g[1],X=g[0],le=z-X;return h===z&&A?h:((h-X)%le+le)%le+X}function p(){return!1}function x(h,g){if(g===!1)return h;var A=Math.pow(10,g===void 0?6:g);return Math.round(h*A)/A}function v(h){return h.trim?h.trim():h.replace(/^\s+|\s+$/g,"")}function w(h){return v(h).split(/\s+/)}function y(h,g){Object.prototype.hasOwnProperty.call(h,"options")||(h.options=h.options?i(h.options):{});for(var A in g)h.options[A]=g[A];return h.options}function j(h,g,A){var z=[];for(var X in h)z.push(encodeURIComponent(A?X.toUpperCase():X)+"="+encodeURIComponent(h[X]));return(!g||g.indexOf("?")===-1?"?":"&")+z.join("&")}var S=/\{ *([\w_ -]+) *\}/g;function C(h,g){return h.replace(S,function(A,z){var X=g[z];if(X===void 0)throw new Error("No value provided for variable "+A);return typeof X=="function"&&(X=X(g)),X})}var P=Array.isArray||function(h){return Object.prototype.toString.call(h)==="[object Array]"};function T(h,g){for(var A=0;A<h.length;A++)if(h[A]===g)return A;return-1}var _="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function k(h){return window["webkit"+h]||window["moz"+h]||window["ms"+h]}var M=0;function $(h){var g=+new Date,A=Math.max(0,16-(g-M));return M=g+A,window.setTimeout(h,A)}var B=window.requestAnimationFrame||k("RequestAnimationFrame")||$,F=window.cancelAnimationFrame||k("CancelAnimationFrame")||k("CancelRequestAnimationFrame")||function(h){window.clearTimeout(h)};function H(h,g,A){if(A&&B===$)h.call(g);else return B.call(window,o(h,g))}function K(h){h&&F.call(window,h)}var Z={__proto__:null,extend:a,create:i,bind:o,get lastId(){return l},stamp:c,throttle:u,wrapNum:m,falseFn:p,formatNum:x,trim:v,splitWords:w,setOptions:y,getParamString:j,template:C,isArray:P,indexOf:T,emptyImageUrl:_,requestFn:B,cancelFn:F,requestAnimFrame:H,cancelAnimFrame:K};function V(){}V.extend=function(h){var g=function(){y(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},A=g.__super__=this.prototype,z=i(A);z.constructor=g,g.prototype=z;for(var X in this)Object.prototype.hasOwnProperty.call(this,X)&&X!=="prototype"&&X!=="__super__"&&(g[X]=this[X]);return h.statics&&a(g,h.statics),h.includes&&(W(h.includes),a.apply(null,[z].concat(h.includes))),a(z,h),delete z.statics,delete z.includes,z.options&&(z.options=A.options?i(A.options):{},a(z.options,h.options)),z._initHooks=[],z.callInitHooks=function(){if(!this._initHooksCalled){A.callInitHooks&&A.callInitHooks.call(this),this._initHooksCalled=!0;for(var le=0,pe=z._initHooks.length;le<pe;le++)z._initHooks[le].call(this)}},g},V.include=function(h){var g=this.prototype.options;return a(this.prototype,h),h.options&&(this.prototype.options=g,this.mergeOptions(h.options)),this},V.mergeOptions=function(h){return a(this.prototype.options,h),this},V.addInitHook=function(h){var g=Array.prototype.slice.call(arguments,1),A=typeof h=="function"?h:function(){this[h].apply(this,g)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(A),this};function W(h){if(!(typeof L>"u"||!L||!L.Mixin)){h=P(h)?h:[h];for(var g=0;g<h.length;g++)h[g]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var G={on:function(h,g,A){if(typeof h=="object")for(var z in h)this._on(z,h[z],g);else{h=w(h);for(var X=0,le=h.length;X<le;X++)this._on(h[X],g,A)}return this},off:function(h,g,A){if(!arguments.length)delete this._events;else if(typeof h=="object")for(var z in h)this._off(z,h[z],g);else{h=w(h);for(var X=arguments.length===1,le=0,pe=h.length;le<pe;le++)X?this._off(h[le]):this._off(h[le],g,A)}return this},_on:function(h,g,A,z){if(typeof g!="function"){console.warn("wrong listener type: "+typeof g);return}if(this._listens(h,g,A)===!1){A===this&&(A=void 0);var X={fn:g,ctx:A};z&&(X.once=!0),this._events=this._events||{},this._events[h]=this._events[h]||[],this._events[h].push(X)}},_off:function(h,g,A){var z,X,le;if(this._events&&(z=this._events[h],!!z)){if(arguments.length===1){if(this._firingCount)for(X=0,le=z.length;X<le;X++)z[X].fn=p;delete this._events[h];return}if(typeof g!="function"){console.warn("wrong listener type: "+typeof g);return}var pe=this._listens(h,g,A);if(pe!==!1){var be=z[pe];this._firingCount&&(be.fn=p,this._events[h]=z=z.slice()),z.splice(pe,1)}}},fire:function(h,g,A){if(!this.listens(h,A))return this;var z=a({},g,{type:h,target:this,sourceTarget:g&&g.sourceTarget||this});if(this._events){var X=this._events[h];if(X){this._firingCount=this._firingCount+1||1;for(var le=0,pe=X.length;le<pe;le++){var be=X[le],Ne=be.fn;be.once&&this.off(h,Ne,be.ctx),Ne.call(be.ctx||this,z)}this._firingCount--}}return A&&this._propagateEvent(z),this},listens:function(h,g,A,z){typeof h!="string"&&console.warn('"string" type argument expected');var X=g;typeof g!="function"&&(z=!!g,X=void 0,A=void 0);var le=this._events&&this._events[h];if(le&&le.length&&this._listens(h,X,A)!==!1)return!0;if(z){for(var pe in this._eventParents)if(this._eventParents[pe].listens(h,g,A,z))return!0}return!1},_listens:function(h,g,A){if(!this._events)return!1;var z=this._events[h]||[];if(!g)return!!z.length;A===this&&(A=void 0);for(var X=0,le=z.length;X<le;X++)if(z[X].fn===g&&z[X].ctx===A)return X;return!1},once:function(h,g,A){if(typeof h=="object")for(var z in h)this._on(z,h[z],g,!0);else{h=w(h);for(var X=0,le=h.length;X<le;X++)this._on(h[X],g,A,!0)}return this},addEventParent:function(h){return this._eventParents=this._eventParents||{},this._eventParents[c(h)]=h,this},removeEventParent:function(h){return this._eventParents&&delete this._eventParents[c(h)],this},_propagateEvent:function(h){for(var g in this._eventParents)this._eventParents[g].fire(h.type,a({layer:h.target,propagatedFrom:h.target},h),!0)}};G.addEventListener=G.on,G.removeEventListener=G.clearAllEventListeners=G.off,G.addOneTimeEventListener=G.once,G.fireEvent=G.fire,G.hasEventListeners=G.listens;var O=V.extend(G);function R(h,g,A){this.x=A?Math.round(h):h,this.y=A?Math.round(g):g}var D=Math.trunc||function(h){return h>0?Math.floor(h):Math.ceil(h)};R.prototype={clone:function(){return new R(this.x,this.y)},add:function(h){return this.clone()._add(I(h))},_add:function(h){return this.x+=h.x,this.y+=h.y,this},subtract:function(h){return this.clone()._subtract(I(h))},_subtract:function(h){return this.x-=h.x,this.y-=h.y,this},divideBy:function(h){return this.clone()._divideBy(h)},_divideBy:function(h){return this.x/=h,this.y/=h,this},multiplyBy:function(h){return this.clone()._multiplyBy(h)},_multiplyBy:function(h){return this.x*=h,this.y*=h,this},scaleBy:function(h){return new R(this.x*h.x,this.y*h.y)},unscaleBy:function(h){return new R(this.x/h.x,this.y/h.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=D(this.x),this.y=D(this.y),this},distanceTo:function(h){h=I(h);var g=h.x-this.x,A=h.y-this.y;return Math.sqrt(g*g+A*A)},equals:function(h){return h=I(h),h.x===this.x&&h.y===this.y},contains:function(h){return h=I(h),Math.abs(h.x)<=Math.abs(this.x)&&Math.abs(h.y)<=Math.abs(this.y)},toString:function(){return"Point("+x(this.x)+", "+x(this.y)+")"}};function I(h,g,A){return h instanceof R?h:P(h)?new R(h[0],h[1]):h==null?h:typeof h=="object"&&"x"in h&&"y"in h?new R(h.x,h.y):new R(h,g,A)}function q(h,g){if(h)for(var A=g?[h,g]:h,z=0,X=A.length;z<X;z++)this.extend(A[z])}q.prototype={extend:function(h){var g,A;if(!h)return this;if(h instanceof R||typeof h[0]=="number"||"x"in h)g=A=I(h);else if(h=J(h),g=h.min,A=h.max,!g||!A)return this;return!this.min&&!this.max?(this.min=g.clone(),this.max=A.clone()):(this.min.x=Math.min(g.x,this.min.x),this.max.x=Math.max(A.x,this.max.x),this.min.y=Math.min(g.y,this.min.y),this.max.y=Math.max(A.y,this.max.y)),this},getCenter:function(h){return I((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,h)},getBottomLeft:function(){return I(this.min.x,this.max.y)},getTopRight:function(){return I(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(h){var g,A;return typeof h[0]=="number"||h instanceof R?h=I(h):h=J(h),h instanceof q?(g=h.min,A=h.max):g=A=h,g.x>=this.min.x&&A.x<=this.max.x&&g.y>=this.min.y&&A.y<=this.max.y},intersects:function(h){h=J(h);var g=this.min,A=this.max,z=h.min,X=h.max,le=X.x>=g.x&&z.x<=A.x,pe=X.y>=g.y&&z.y<=A.y;return le&&pe},overlaps:function(h){h=J(h);var g=this.min,A=this.max,z=h.min,X=h.max,le=X.x>g.x&&z.x<A.x,pe=X.y>g.y&&z.y<A.y;return le&&pe},isValid:function(){return!!(this.min&&this.max)},pad:function(h){var g=this.min,A=this.max,z=Math.abs(g.x-A.x)*h,X=Math.abs(g.y-A.y)*h;return J(I(g.x-z,g.y-X),I(A.x+z,A.y+X))},equals:function(h){return h?(h=J(h),this.min.equals(h.getTopLeft())&&this.max.equals(h.getBottomRight())):!1}};function J(h,g){return!h||h instanceof q?h:new q(h,g)}function ie(h,g){if(h)for(var A=g?[h,g]:h,z=0,X=A.length;z<X;z++)this.extend(A[z])}ie.prototype={extend:function(h){var g=this._southWest,A=this._northEast,z,X;if(h instanceof ae)z=h,X=h;else if(h instanceof ie){if(z=h._southWest,X=h._northEast,!z||!X)return this}else return h?this.extend(oe(h)||ee(h)):this;return!g&&!A?(this._southWest=new ae(z.lat,z.lng),this._northEast=new ae(X.lat,X.lng)):(g.lat=Math.min(z.lat,g.lat),g.lng=Math.min(z.lng,g.lng),A.lat=Math.max(X.lat,A.lat),A.lng=Math.max(X.lng,A.lng)),this},pad:function(h){var g=this._southWest,A=this._northEast,z=Math.abs(g.lat-A.lat)*h,X=Math.abs(g.lng-A.lng)*h;return new ie(new ae(g.lat-z,g.lng-X),new ae(A.lat+z,A.lng+X))},getCenter:function(){return new ae((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new ae(this.getNorth(),this.getWest())},getSouthEast:function(){return new ae(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(h){typeof h[0]=="number"||h instanceof ae||"lat"in h?h=oe(h):h=ee(h);var g=this._southWest,A=this._northEast,z,X;return h instanceof ie?(z=h.getSouthWest(),X=h.getNorthEast()):z=X=h,z.lat>=g.lat&&X.lat<=A.lat&&z.lng>=g.lng&&X.lng<=A.lng},intersects:function(h){h=ee(h);var g=this._southWest,A=this._northEast,z=h.getSouthWest(),X=h.getNorthEast(),le=X.lat>=g.lat&&z.lat<=A.lat,pe=X.lng>=g.lng&&z.lng<=A.lng;return le&&pe},overlaps:function(h){h=ee(h);var g=this._southWest,A=this._northEast,z=h.getSouthWest(),X=h.getNorthEast(),le=X.lat>g.lat&&z.lat<A.lat,pe=X.lng>g.lng&&z.lng<A.lng;return le&&pe},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(h,g){return h?(h=ee(h),this._southWest.equals(h.getSouthWest(),g)&&this._northEast.equals(h.getNorthEast(),g)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function ee(h,g){return h instanceof ie?h:new ie(h,g)}function ae(h,g,A){if(isNaN(h)||isNaN(g))throw new Error("Invalid LatLng object: ("+h+", "+g+")");this.lat=+h,this.lng=+g,A!==void 0&&(this.alt=+A)}ae.prototype={equals:function(h,g){if(!h)return!1;h=oe(h);var A=Math.max(Math.abs(this.lat-h.lat),Math.abs(this.lng-h.lng));return A<=(g===void 0?1e-9:g)},toString:function(h){return"LatLng("+x(this.lat,h)+", "+x(this.lng,h)+")"},distanceTo:function(h){return ue.distance(this,oe(h))},wrap:function(){return ue.wrapLatLng(this)},toBounds:function(h){var g=180*h/40075017,A=g/Math.cos(Math.PI/180*this.lat);return ee([this.lat-g,this.lng-A],[this.lat+g,this.lng+A])},clone:function(){return new ae(this.lat,this.lng,this.alt)}};function oe(h,g,A){return h instanceof ae?h:P(h)&&typeof h[0]!="object"?h.length===3?new ae(h[0],h[1],h[2]):h.length===2?new ae(h[0],h[1]):null:h==null?h:typeof h=="object"&&"lat"in h?new ae(h.lat,"lng"in h?h.lng:h.lon,h.alt):g===void 0?null:new ae(h,g,A)}var te={latLngToPoint:function(h,g){var A=this.projection.project(h),z=this.scale(g);return this.transformation._transform(A,z)},pointToLatLng:function(h,g){var A=this.scale(g),z=this.transformation.untransform(h,A);return this.projection.unproject(z)},project:function(h){return this.projection.project(h)},unproject:function(h){return this.projection.unproject(h)},scale:function(h){return 256*Math.pow(2,h)},zoom:function(h){return Math.log(h/256)/Math.LN2},getProjectedBounds:function(h){if(this.infinite)return null;var g=this.projection.bounds,A=this.scale(h),z=this.transformation.transform(g.min,A),X=this.transformation.transform(g.max,A);return new q(z,X)},infinite:!1,wrapLatLng:function(h){var g=this.wrapLng?m(h.lng,this.wrapLng,!0):h.lng,A=this.wrapLat?m(h.lat,this.wrapLat,!0):h.lat,z=h.alt;return new ae(A,g,z)},wrapLatLngBounds:function(h){var g=h.getCenter(),A=this.wrapLatLng(g),z=g.lat-A.lat,X=g.lng-A.lng;if(z===0&&X===0)return h;var le=h.getSouthWest(),pe=h.getNorthEast(),be=new ae(le.lat-z,le.lng-X),Ne=new ae(pe.lat-z,pe.lng-X);return new ie(be,Ne)}},ue=a({},te,{wrapLng:[-180,180],R:6371e3,distance:function(h,g){var A=Math.PI/180,z=h.lat*A,X=g.lat*A,le=Math.sin((g.lat-h.lat)*A/2),pe=Math.sin((g.lng-h.lng)*A/2),be=le*le+Math.cos(z)*Math.cos(X)*pe*pe,Ne=2*Math.atan2(Math.sqrt(be),Math.sqrt(1-be));return this.R*Ne}}),de=6378137,fe={R:de,MAX_LATITUDE:85.0511287798,project:function(h){var g=Math.PI/180,A=this.MAX_LATITUDE,z=Math.max(Math.min(A,h.lat),-A),X=Math.sin(z*g);return new R(this.R*h.lng*g,this.R*Math.log((1+X)/(1-X))/2)},unproject:function(h){var g=180/Math.PI;return new ae((2*Math.atan(Math.exp(h.y/this.R))-Math.PI/2)*g,h.x*g/this.R)},bounds:(function(){var h=de*Math.PI;return new q([-h,-h],[h,h])})()};function ye(h,g,A,z){if(P(h)){this._a=h[0],this._b=h[1],this._c=h[2],this._d=h[3];return}this._a=h,this._b=g,this._c=A,this._d=z}ye.prototype={transform:function(h,g){return this._transform(h.clone(),g)},_transform:function(h,g){return g=g||1,h.x=g*(this._a*h.x+this._b),h.y=g*(this._c*h.y+this._d),h},untransform:function(h,g){return g=g||1,new R((h.x/g-this._b)/this._a,(h.y/g-this._d)/this._c)}};function he(h,g,A,z){return new ye(h,g,A,z)}var Ce=a({},ue,{code:"EPSG:3857",projection:fe,transformation:(function(){var h=.5/(Math.PI*fe.R);return he(h,.5,-h,.5)})()}),Se=a({},Ce,{code:"EPSG:900913"});function $e(h){return document.createElementNS("http://www.w3.org/2000/svg",h)}function qe(h,g){var A="",z,X,le,pe,be,Ne;for(z=0,le=h.length;z<le;z++){for(be=h[z],X=0,pe=be.length;X<pe;X++)Ne=be[X],A+=(X?"L":"M")+Ne.x+" "+Ne.y;A+=g?Ye.svg?"z":"x":""}return A||"M0 0"}var Fe=document.documentElement.style,it="ActiveXObject"in window,rt=it&&!document.addEventListener,yt="msLaunchUri"in navigator&&!("documentMode"in document),Pt=bn("webkit"),Et=bn("android"),Te=bn("android 2")||bn("android 3"),$t=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Dt=Et&&bn("Google")&&$t<537&&!("AudioNode"in window),De=!!window.opera,Ge=!yt&&bn("chrome"),Je=bn("gecko")&&!Pt&&!De&&!it,Jt=!Ge&&bn("safari"),bt=bn("phantom"),kr="OTransition"in Fe,dn=navigator.platform.indexOf("Win")===0,yr=it&&"transition"in Fe,js="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Te,ws="MozPerspective"in Fe,ta=!window.L_DISABLE_3D&&(yr||js||ws)&&!kr&&!bt,is=typeof orientation<"u"||bn("mobile"),ra=is&&Pt,$r=is&&js,Sn=!window.PointerEvent&&window.MSPointerEvent,Zr=!!(window.PointerEvent||Sn),Rt="ontouchstart"in window||!!window.TouchEvent,Ns=!window.L_NO_TOUCH&&(Rt||Zr),_t=is&&De,br=is&&Je,Cr=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Br=(function(){var h=!1;try{var g=Object.defineProperty({},"passive",{get:function(){h=!0}});window.addEventListener("testPassiveEventSupport",p,g),window.removeEventListener("testPassiveEventSupport",p,g)}catch{}return h})(),Da=(function(){return!!document.createElement("canvas").getContext})(),Pr=!!(document.createElementNS&&$e("svg").createSVGRect),un=!!Pr&&(function(){var h=document.createElement("div");return h.innerHTML="<svg/>",(h.firstChild&&h.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),Ra=!Pr&&(function(){try{var h=document.createElement("div");h.innerHTML='<v:shape adj="1"/>';var g=h.firstChild;return g.style.behavior="url(#default#VML)",g&&typeof g.adj=="object"}catch{return!1}})(),yn=navigator.platform.indexOf("Mac")===0,Xn=navigator.platform.indexOf("Linux")===0;function bn(h){return navigator.userAgent.toLowerCase().indexOf(h)>=0}var Ye={ie:it,ielt9:rt,edge:yt,webkit:Pt,android:Et,android23:Te,androidStock:Dt,opera:De,chrome:Ge,gecko:Je,safari:Jt,phantom:bt,opera12:kr,win:dn,ie3d:yr,webkit3d:js,gecko3d:ws,any3d:ta,mobile:is,mobileWebkit:ra,mobileWebkit3d:$r,msPointer:Sn,pointer:Zr,touch:Ns,touchNative:Rt,mobileOpera:_t,mobileGecko:br,retina:Cr,passiveEvents:Br,canvas:Da,svg:Pr,vml:Ra,inlineSvg:un,mac:yn,linux:Xn},Zi=Ye.msPointer?"MSPointerDown":"pointerdown",hi=Ye.msPointer?"MSPointerMove":"pointermove",Xi=Ye.msPointer?"MSPointerUp":"pointerup",pu=Ye.msPointer?"MSPointerCancel":"pointercancel",zc={touchstart:Zi,touchmove:hi,touchend:Xi,touchcancel:pu},os={touchstart:Ar,touchmove:Ro,touchend:Ro,touchcancel:Ro},Ia={},Do=!1;function xu(h,g,A){return g==="touchstart"&&gu(),os[g]?(A=os[g].bind(this,A),h.addEventListener(zc[g],A,!1),A):(console.warn("wrong event specified:",g),p)}function Uc(h,g,A){if(!zc[g]){console.warn("wrong event specified:",g);return}h.removeEventListener(zc[g],A,!1)}function Hc(h){Ia[h.pointerId]=h}function Wc(h){Ia[h.pointerId]&&(Ia[h.pointerId]=h)}function Ol(h){delete Ia[h.pointerId]}function gu(){Do||(document.addEventListener(Zi,Hc,!0),document.addEventListener(hi,Wc,!0),document.addEventListener(Xi,Ol,!0),document.addEventListener(pu,Ol,!0),Do=!0)}function Ro(h,g){if(g.pointerType!==(g.MSPOINTER_TYPE_MOUSE||"mouse")){g.touches=[];for(var A in Ia)g.touches.push(Ia[A]);g.changedTouches=[g],h(g)}}function Ar(h,g){g.MSPOINTER_TYPE_TOUCH&&g.pointerType===g.MSPOINTER_TYPE_TOUCH&&Xr(g),Ro(h,g)}function vu(h){var g={},A,z;for(z in h)A=h[z],g[z]=A&&A.bind?A.bind(h):A;return h=g,g.type="dblclick",g.detail=2,g.isTrusted=!1,g._simulated=!0,g}var Ml=200;function qc(h,g){h.addEventListener("dblclick",g);var A=0,z;function X(le){if(le.detail!==1){z=le.detail;return}if(!(le.pointerType==="mouse"||le.sourceCapabilities&&!le.sourceCapabilities.firesTouchEvents)){var pe=Bo(le);if(!(pe.some(function(Ne){return Ne instanceof HTMLLabelElement&&Ne.attributes.for})&&!pe.some(function(Ne){return Ne instanceof HTMLInputElement||Ne instanceof HTMLSelectElement}))){var be=Date.now();be-A<=Ml?(z++,z===2&&g(vu(le))):z=1,A=be}}}return h.addEventListener("click",X),{dblclick:g,simDblclick:X}}function Io(h,g){h.removeEventListener("dblclick",g.dblclick),h.removeEventListener("click",g.simDblclick)}var re=Il(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Ee=Il(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Qe=Ee==="webkitTransition"||Ee==="OTransition"?Ee+"End":"transitionend";function Vr(h){return typeof h=="string"?document.getElementById(h):h}function na(h,g){var A=h.style[g]||h.currentStyle&&h.currentStyle[g];if((!A||A==="auto")&&document.defaultView){var z=document.defaultView.getComputedStyle(h,null);A=z?z[g]:null}return A==="auto"?null:A}function Tt(h,g,A){var z=document.createElement(h);return z.className=g||"",A&&A.appendChild(z),z}function Fr(h){var g=h.parentNode;g&&g.removeChild(h)}function yu(h){for(;h.firstChild;)h.removeChild(h.firstChild)}function Dl(h){var g=h.parentNode;g&&g.lastChild!==h&&g.appendChild(h)}function mi(h){var g=h.parentNode;g&&g.firstChild!==h&&g.insertBefore(h,g.firstChild)}function Rl(h,g){if(h.classList!==void 0)return h.classList.contains(g);var A=bu(h);return A.length>0&&new RegExp("(^|\\s)"+g+"(\\s|$)").test(A)}function Ot(h,g){if(h.classList!==void 0)for(var A=w(g),z=0,X=A.length;z<X;z++)h.classList.add(A[z]);else if(!Rl(h,g)){var le=bu(h);Bm(h,(le?le+" ":"")+g)}}function Er(h,g){h.classList!==void 0?h.classList.remove(g):Bm(h,v((" "+bu(h)+" ").replace(" "+g+" "," ")))}function Bm(h,g){h.className.baseVal===void 0?h.className=g:h.className.baseVal=g}function bu(h){return h.correspondingElement&&(h=h.correspondingElement),h.className.baseVal===void 0?h.className:h.className.baseVal}function ls(h,g){"opacity"in h.style?h.style.opacity=g:"filter"in h.style&&Dx(h,g)}function Dx(h,g){var A=!1,z="DXImageTransform.Microsoft.Alpha";try{A=h.filters.item(z)}catch{if(g===1)return}g=Math.round(g*100),A?(A.Enabled=g!==100,A.Opacity=g):h.style.filter+=" progid:"+z+"(opacity="+g+")"}function Il(h){for(var g=document.documentElement.style,A=0;A<h.length;A++)if(h[A]in g)return h[A];return!1}function sa(h,g,A){var z=g||new R(0,0);h.style[re]=(Ye.ie3d?"translate("+z.x+"px,"+z.y+"px)":"translate3d("+z.x+"px,"+z.y+"px,0)")+(A?" scale("+A+")":"")}function hn(h,g){h._leaflet_pos=g,Ye.any3d?sa(h,g):(h.style.left=g.x+"px",h.style.top=g.y+"px")}function fi(h){return h._leaflet_pos||new R(0,0)}var Qt,Ll,ju;if("onselectstart"in document)Qt=function(){kt(window,"selectstart",Xr)},Ll=function(){jr(window,"selectstart",Xr)};else{var Lo=Il(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Qt=function(){if(Lo){var h=document.documentElement.style;ju=h[Lo],h[Lo]="none"}},Ll=function(){Lo&&(document.documentElement.style[Lo]=ju,ju=void 0)}}function wu(){kt(window,"dragstart",Xr)}function Nu(){jr(window,"dragstart",Xr)}var Vc,Gc;function $l(h){for(;h.tabIndex===-1;)h=h.parentNode;h.style&&(aa(),Vc=h,Gc=h.style.outlineStyle,h.style.outlineStyle="none",kt(window,"keydown",aa))}function aa(){Vc&&(Vc.style.outlineStyle=Gc,Vc=void 0,Gc=void 0,jr(window,"keydown",aa))}function pi(h){do h=h.parentNode;while((!h.offsetWidth||!h.offsetHeight)&&h!==document.body);return h}function La(h){var g=h.getBoundingClientRect();return{x:g.width/h.offsetWidth||1,y:g.height/h.offsetHeight||1,boundingClientRect:g}}var Kc={__proto__:null,TRANSFORM:re,TRANSITION:Ee,TRANSITION_END:Qe,get:Vr,getStyle:na,create:Tt,remove:Fr,empty:yu,toFront:Dl,toBack:mi,hasClass:Rl,addClass:Ot,removeClass:Er,setClass:Bm,getClass:bu,setOpacity:ls,testProp:Il,setTransform:sa,setPosition:hn,getPosition:fi,get disableTextSelection(){return Qt},get enableTextSelection(){return Ll},disableImageDrag:wu,enableImageDrag:Nu,preventOutline:$l,restoreOutline:aa,getSizedParentNode:pi,getScale:La};function kt(h,g,A,z){if(g&&typeof g=="object")for(var X in g)zm(h,X,g[X],A);else{g=w(g);for(var le=0,pe=g.length;le<pe;le++)zm(h,g[le],A,z)}return this}var On="_leaflet_events";function jr(h,g,A,z){if(arguments.length===1)Fm(h),delete h[On];else if(g&&typeof g=="object")for(var X in g)Su(h,X,g[X],A);else if(g=w(g),arguments.length===2)Fm(h,function(be){return T(g,be)!==-1});else for(var le=0,pe=g.length;le<pe;le++)Su(h,g[le],A,z);return this}function Fm(h,g){for(var A in h[On]){var z=A.split(/\d/)[0];(!g||g(z))&&Su(h,z,null,null,A)}}var $o={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function zm(h,g,A,z){var X=g+c(A)+(z?"_"+c(z):"");if(h[On]&&h[On][X])return this;var le=function(be){return A.call(z||h,be||window.event)},pe=le;!Ye.touchNative&&Ye.pointer&&g.indexOf("touch")===0?le=xu(h,g,le):Ye.touch&&g==="dblclick"?le=qc(h,le):"addEventListener"in h?g==="touchstart"||g==="touchmove"||g==="wheel"||g==="mousewheel"?h.addEventListener($o[g]||g,le,Ye.passiveEvents?{passive:!1}:!1):g==="mouseenter"||g==="mouseleave"?(le=function(be){be=be||window.event,Xc(h,be)&&pe(be)},h.addEventListener($o[g],le,!1)):h.addEventListener(g,pe,!1):h.attachEvent("on"+g,le),h[On]=h[On]||{},h[On][X]=le}function Su(h,g,A,z,X){X=X||g+c(A)+(z?"_"+c(z):"");var le=h[On]&&h[On][X];if(!le)return this;!Ye.touchNative&&Ye.pointer&&g.indexOf("touch")===0?Uc(h,g,le):Ye.touch&&g==="dblclick"?Io(h,le):"removeEventListener"in h?h.removeEventListener($o[g]||g,le,!1):h.detachEvent("on"+g,le),h[On][X]=null}function $a(h){return h.stopPropagation?h.stopPropagation():h.originalEvent?h.originalEvent._stopped=!0:h.cancelBubble=!0,this}function _u(h){return zm(h,"wheel",$a),this}function Yc(h){return kt(h,"mousedown touchstart dblclick contextmenu",$a),h._leaflet_disable_click=!0,this}function Xr(h){return h.preventDefault?h.preventDefault():h.returnValue=!1,this}function ia(h){return Xr(h),$a(h),this}function Bo(h){if(h.composedPath)return h.composedPath();for(var g=[],A=h.target;A;)g.push(A),A=A.parentNode;return g}function Zc(h,g){if(!g)return new R(h.clientX,h.clientY);var A=La(g),z=A.boundingClientRect;return new R((h.clientX-z.left)/A.x-g.clientLeft,(h.clientY-z.top)/A.y-g.clientTop)}var fb=Ye.linux&&Ye.chrome?window.devicePixelRatio:Ye.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Rx(h){return Ye.edge?h.wheelDeltaY/2:h.deltaY&&h.deltaMode===0?-h.deltaY/fb:h.deltaY&&h.deltaMode===1?-h.deltaY*20:h.deltaY&&h.deltaMode===2?-h.deltaY*60:h.deltaX||h.deltaZ?0:h.wheelDelta?(h.wheelDeltaY||h.wheelDelta)/2:h.detail&&Math.abs(h.detail)<32765?-h.detail*20:h.detail?h.detail/-32765*60:0}function Xc(h,g){var A=g.relatedTarget;if(!A)return!0;try{for(;A&&A!==h;)A=A.parentNode}catch{return!1}return A!==h}var ku={__proto__:null,on:kt,off:jr,stopPropagation:$a,disableScrollPropagation:_u,disableClickPropagation:Yc,preventDefault:Xr,stop:ia,getPropagationPath:Bo,getMousePosition:Zc,getWheelDelta:Rx,isExternalTarget:Xc,addListener:kt,removeListener:jr},Cu=O.extend({run:function(h,g,A,z){this.stop(),this._el=h,this._inProgress=!0,this._duration=A||.25,this._easeOutPower=1/Math.max(z||.5,.2),this._startPos=fi(h),this._offset=g.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=H(this._animate,this),this._step()},_step:function(h){var g=+new Date-this._startTime,A=this._duration*1e3;g<A?this._runFrame(this._easeOut(g/A),h):(this._runFrame(1),this._complete())},_runFrame:function(h,g){var A=this._startPos.add(this._offset.multiplyBy(h));g&&A._round(),hn(this._el,A),this.fire("step")},_complete:function(){K(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(h){return 1-Math.pow(1-h,this._easeOutPower)}}),qt=O.extend({options:{crs:Ce,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(h,g){g=y(this,g),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(h),this._initLayout(),this._onResize=o(this._onResize,this),this._initEvents(),g.maxBounds&&this.setMaxBounds(g.maxBounds),g.zoom!==void 0&&(this._zoom=this._limitZoom(g.zoom)),g.center&&g.zoom!==void 0&&this.setView(oe(g.center),g.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Ee&&Ye.any3d&&!Ye.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),kt(this._proxy,Qe,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(h,g,A){if(g=g===void 0?this._zoom:this._limitZoom(g),h=this._limitCenter(oe(h),g,this.options.maxBounds),A=A||{},this._stop(),this._loaded&&!A.reset&&A!==!0){A.animate!==void 0&&(A.zoom=a({animate:A.animate},A.zoom),A.pan=a({animate:A.animate,duration:A.duration},A.pan));var z=this._zoom!==g?this._tryAnimatedZoom&&this._tryAnimatedZoom(h,g,A.zoom):this._tryAnimatedPan(h,A.pan);if(z)return clearTimeout(this._sizeTimer),this}return this._resetView(h,g,A.pan&&A.pan.noMoveStart),this},setZoom:function(h,g){return this._loaded?this.setView(this.getCenter(),h,{zoom:g}):(this._zoom=h,this)},zoomIn:function(h,g){return h=h||(Ye.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+h,g)},zoomOut:function(h,g){return h=h||(Ye.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-h,g)},setZoomAround:function(h,g,A){var z=this.getZoomScale(g),X=this.getSize().divideBy(2),le=h instanceof R?h:this.latLngToContainerPoint(h),pe=le.subtract(X).multiplyBy(1-1/z),be=this.containerPointToLatLng(X.add(pe));return this.setView(be,g,{zoom:A})},_getBoundsCenterZoom:function(h,g){g=g||{},h=h.getBounds?h.getBounds():ee(h);var A=I(g.paddingTopLeft||g.padding||[0,0]),z=I(g.paddingBottomRight||g.padding||[0,0]),X=this.getBoundsZoom(h,!1,A.add(z));if(X=typeof g.maxZoom=="number"?Math.min(g.maxZoom,X):X,X===1/0)return{center:h.getCenter(),zoom:X};var le=z.subtract(A).divideBy(2),pe=this.project(h.getSouthWest(),X),be=this.project(h.getNorthEast(),X),Ne=this.unproject(pe.add(be).divideBy(2).add(le),X);return{center:Ne,zoom:X}},fitBounds:function(h,g){if(h=ee(h),!h.isValid())throw new Error("Bounds are not valid.");var A=this._getBoundsCenterZoom(h,g);return this.setView(A.center,A.zoom,g)},fitWorld:function(h){return this.fitBounds([[-90,-180],[90,180]],h)},panTo:function(h,g){return this.setView(h,this._zoom,{pan:g})},panBy:function(h,g){if(h=I(h).round(),g=g||{},!h.x&&!h.y)return this.fire("moveend");if(g.animate!==!0&&!this.getSize().contains(h))return this._resetView(this.unproject(this.project(this.getCenter()).add(h)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Cu,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),g.noMoveStart||this.fire("movestart"),g.animate!==!1){Ot(this._mapPane,"leaflet-pan-anim");var A=this._getMapPanePos().subtract(h).round();this._panAnim.run(this._mapPane,A,g.duration||.25,g.easeLinearity)}else this._rawPanBy(h),this.fire("move").fire("moveend");return this},flyTo:function(h,g,A){if(A=A||{},A.animate===!1||!Ye.any3d)return this.setView(h,g,A);this._stop();var z=this.project(this.getCenter()),X=this.project(h),le=this.getSize(),pe=this._zoom;h=oe(h),g=g===void 0?pe:g;var be=Math.max(le.x,le.y),Ne=be*this.getZoomScale(pe,g),Me=X.distanceTo(z)||1,Ve=1.42,ft=Ve*Ve;function Bt(ur){var Ql=ur?-1:1,Pb=ur?Ne:be,Ab=Ne*Ne-be*be+Ql*ft*ft*Me*Me,Vo=2*Pb*ft*Me,Go=Ab/Vo,Ko=Math.sqrt(Go*Go+1)-Go,zu=Ko<1e-9?-18:Math.log(Ko);return zu}function Mn(ur){return(Math.exp(ur)-Math.exp(-ur))/2}function _n(ur){return(Math.exp(ur)+Math.exp(-ur))/2}function ks(ur){return Mn(ur)/_n(ur)}var ds=Bt(0);function Xl(ur){return be*(_n(ds)/_n(ds+Ve*ur))}function cf(ur){return be*(_n(ds)*ks(ds+Ve*ur)-Mn(ds))/ft}function ao(ur){return 1-Math.pow(1-ur,1.5)}var rg=Date.now(),qo=(Bt(1)-ds)/Ve,Ua=A.duration?1e3*A.duration:1e3*qo*.8;function Jl(){var ur=(Date.now()-rg)/Ua,Ql=ao(ur)*qo;ur<=1?(this._flyToFrame=H(Jl,this),this._move(this.unproject(z.add(X.subtract(z).multiplyBy(cf(Ql)/Me)),pe),this.getScaleZoom(be/Xl(Ql),pe),{flyTo:!0})):this._move(h,g)._moveEnd(!0)}return this._moveStart(!0,A.noMoveStart),Jl.call(this),this},flyToBounds:function(h,g){var A=this._getBoundsCenterZoom(h,g);return this.flyTo(A.center,A.zoom,g)},setMaxBounds:function(h){return h=ee(h),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),h.isValid()?(this.options.maxBounds=h,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(h){var g=this.options.minZoom;return this.options.minZoom=h,this._loaded&&g!==h&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(h):this},setMaxZoom:function(h){var g=this.options.maxZoom;return this.options.maxZoom=h,this._loaded&&g!==h&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(h):this},panInsideBounds:function(h,g){this._enforcingBounds=!0;var A=this.getCenter(),z=this._limitCenter(A,this._zoom,ee(h));return A.equals(z)||this.panTo(z,g),this._enforcingBounds=!1,this},panInside:function(h,g){g=g||{};var A=I(g.paddingTopLeft||g.padding||[0,0]),z=I(g.paddingBottomRight||g.padding||[0,0]),X=this.project(this.getCenter()),le=this.project(h),pe=this.getPixelBounds(),be=J([pe.min.add(A),pe.max.subtract(z)]),Ne=be.getSize();if(!be.contains(le)){this._enforcingBounds=!0;var Me=le.subtract(be.getCenter()),Ve=be.extend(le).getSize().subtract(Ne);X.x+=Me.x<0?-Ve.x:Ve.x,X.y+=Me.y<0?-Ve.y:Ve.y,this.panTo(this.unproject(X),g),this._enforcingBounds=!1}return this},invalidateSize:function(h){if(!this._loaded)return this;h=a({animate:!1,pan:!0},h===!0?{animate:!0}:h);var g=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var A=this.getSize(),z=g.divideBy(2).round(),X=A.divideBy(2).round(),le=z.subtract(X);return!le.x&&!le.y?this:(h.animate&&h.pan?this.panBy(le):(h.pan&&this._rawPanBy(le),this.fire("move"),h.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(o(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:g,newSize:A}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(h){if(h=this._locateOptions=a({timeout:1e4,watch:!1},h),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var g=o(this._handleGeolocationResponse,this),A=o(this._handleGeolocationError,this);return h.watch?this._locationWatchId=navigator.geolocation.watchPosition(g,A,h):navigator.geolocation.getCurrentPosition(g,A,h),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(h){if(this._container._leaflet_id){var g=h.code,A=h.message||(g===1?"permission denied":g===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:g,message:"Geolocation error: "+A+"."})}},_handleGeolocationResponse:function(h){if(this._container._leaflet_id){var g=h.coords.latitude,A=h.coords.longitude,z=new ae(g,A),X=z.toBounds(h.coords.accuracy*2),le=this._locateOptions;if(le.setView){var pe=this.getBoundsZoom(X);this.setView(z,le.maxZoom?Math.min(pe,le.maxZoom):pe)}var be={latlng:z,bounds:X,timestamp:h.timestamp};for(var Ne in h.coords)typeof h.coords[Ne]=="number"&&(be[Ne]=h.coords[Ne]);this.fire("locationfound",be)}},addHandler:function(h,g){if(!g)return this;var A=this[h]=new g(this);return this._handlers.push(A),this.options[h]&&A.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Fr(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(K(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var h;for(h in this._layers)this._layers[h].remove();for(h in this._panes)Fr(this._panes[h]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(h,g){var A="leaflet-pane"+(h?" leaflet-"+h.replace("Pane","")+"-pane":""),z=Tt("div",A,g||this._mapPane);return h&&(this._panes[h]=z),z},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var h=this.getPixelBounds(),g=this.unproject(h.getBottomLeft()),A=this.unproject(h.getTopRight());return new ie(g,A)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(h,g,A){h=ee(h),A=I(A||[0,0]);var z=this.getZoom()||0,X=this.getMinZoom(),le=this.getMaxZoom(),pe=h.getNorthWest(),be=h.getSouthEast(),Ne=this.getSize().subtract(A),Me=J(this.project(be,z),this.project(pe,z)).getSize(),Ve=Ye.any3d?this.options.zoomSnap:1,ft=Ne.x/Me.x,Bt=Ne.y/Me.y,Mn=g?Math.max(ft,Bt):Math.min(ft,Bt);return z=this.getScaleZoom(Mn,z),Ve&&(z=Math.round(z/(Ve/100))*(Ve/100),z=g?Math.ceil(z/Ve)*Ve:Math.floor(z/Ve)*Ve),Math.max(X,Math.min(le,z))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new R(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(h,g){var A=this._getTopLeftPoint(h,g);return new q(A,A.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(h){return this.options.crs.getProjectedBounds(h===void 0?this.getZoom():h)},getPane:function(h){return typeof h=="string"?this._panes[h]:h},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(h,g){var A=this.options.crs;return g=g===void 0?this._zoom:g,A.scale(h)/A.scale(g)},getScaleZoom:function(h,g){var A=this.options.crs;g=g===void 0?this._zoom:g;var z=A.zoom(h*A.scale(g));return isNaN(z)?1/0:z},project:function(h,g){return g=g===void 0?this._zoom:g,this.options.crs.latLngToPoint(oe(h),g)},unproject:function(h,g){return g=g===void 0?this._zoom:g,this.options.crs.pointToLatLng(I(h),g)},layerPointToLatLng:function(h){var g=I(h).add(this.getPixelOrigin());return this.unproject(g)},latLngToLayerPoint:function(h){var g=this.project(oe(h))._round();return g._subtract(this.getPixelOrigin())},wrapLatLng:function(h){return this.options.crs.wrapLatLng(oe(h))},wrapLatLngBounds:function(h){return this.options.crs.wrapLatLngBounds(ee(h))},distance:function(h,g){return this.options.crs.distance(oe(h),oe(g))},containerPointToLayerPoint:function(h){return I(h).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(h){return I(h).add(this._getMapPanePos())},containerPointToLatLng:function(h){var g=this.containerPointToLayerPoint(I(h));return this.layerPointToLatLng(g)},latLngToContainerPoint:function(h){return this.layerPointToContainerPoint(this.latLngToLayerPoint(oe(h)))},mouseEventToContainerPoint:function(h){return Zc(h,this._container)},mouseEventToLayerPoint:function(h){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(h))},mouseEventToLatLng:function(h){return this.layerPointToLatLng(this.mouseEventToLayerPoint(h))},_initContainer:function(h){var g=this._container=Vr(h);if(g){if(g._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");kt(g,"scroll",this._onScroll,this),this._containerId=c(g)},_initLayout:function(){var h=this._container;this._fadeAnimated=this.options.fadeAnimation&&Ye.any3d,Ot(h,"leaflet-container"+(Ye.touch?" leaflet-touch":"")+(Ye.retina?" leaflet-retina":"")+(Ye.ielt9?" leaflet-oldie":"")+(Ye.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var g=na(h,"position");g!=="absolute"&&g!=="relative"&&g!=="fixed"&&g!=="sticky"&&(h.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var h=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),hn(this._mapPane,new R(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Ot(h.markerPane,"leaflet-zoom-hide"),Ot(h.shadowPane,"leaflet-zoom-hide"))},_resetView:function(h,g,A){hn(this._mapPane,new R(0,0));var z=!this._loaded;this._loaded=!0,g=this._limitZoom(g),this.fire("viewprereset");var X=this._zoom!==g;this._moveStart(X,A)._move(h,g)._moveEnd(X),this.fire("viewreset"),z&&this.fire("load")},_moveStart:function(h,g){return h&&this.fire("zoomstart"),g||this.fire("movestart"),this},_move:function(h,g,A,z){g===void 0&&(g=this._zoom);var X=this._zoom!==g;return this._zoom=g,this._lastCenter=h,this._pixelOrigin=this._getNewPixelOrigin(h),z?A&&A.pinch&&this.fire("zoom",A):((X||A&&A.pinch)&&this.fire("zoom",A),this.fire("move",A)),this},_moveEnd:function(h){return h&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return K(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(h){hn(this._mapPane,this._getMapPanePos().subtract(h))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(h){this._targets={},this._targets[c(this._container)]=this;var g=h?jr:kt;g(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&g(window,"resize",this._onResize,this),Ye.any3d&&this.options.transform3DLimit&&(h?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){K(this._resizeRequest),this._resizeRequest=H(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var h=this._getMapPanePos();Math.max(Math.abs(h.x),Math.abs(h.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(h,g){for(var A=[],z,X=g==="mouseout"||g==="mouseover",le=h.target||h.srcElement,pe=!1;le;){if(z=this._targets[c(le)],z&&(g==="click"||g==="preclick")&&this._draggableMoved(z)){pe=!0;break}if(z&&z.listens(g,!0)&&(X&&!Xc(le,h)||(A.push(z),X))||le===this._container)break;le=le.parentNode}return!A.length&&!pe&&!X&&this.listens(g,!0)&&(A=[this]),A},_isClickDisabled:function(h){for(;h&&h!==this._container;){if(h._leaflet_disable_click)return!0;h=h.parentNode}},_handleDOMEvent:function(h){var g=h.target||h.srcElement;if(!(!this._loaded||g._leaflet_disable_events||h.type==="click"&&this._isClickDisabled(g))){var A=h.type;A==="mousedown"&&$l(g),this._fireDOMEvent(h,A)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(h,g,A){if(h.type==="click"){var z=a({},h);z.type="preclick",this._fireDOMEvent(z,z.type,A)}var X=this._findEventTargets(h,g);if(A){for(var le=[],pe=0;pe<A.length;pe++)A[pe].listens(g,!0)&&le.push(A[pe]);X=le.concat(X)}if(X.length){g==="contextmenu"&&Xr(h);var be=X[0],Ne={originalEvent:h};if(h.type!=="keypress"&&h.type!=="keydown"&&h.type!=="keyup"){var Me=be.getLatLng&&(!be._radius||be._radius<=10);Ne.containerPoint=Me?this.latLngToContainerPoint(be.getLatLng()):this.mouseEventToContainerPoint(h),Ne.layerPoint=this.containerPointToLayerPoint(Ne.containerPoint),Ne.latlng=Me?be.getLatLng():this.layerPointToLatLng(Ne.layerPoint)}for(pe=0;pe<X.length;pe++)if(X[pe].fire(g,Ne,!0),Ne.originalEvent._stopped||X[pe].options.bubblingMouseEvents===!1&&T(this._mouseEvents,g)!==-1)return}},_draggableMoved:function(h){return h=h.dragging&&h.dragging.enabled()?h:this,h.dragging&&h.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var h=0,g=this._handlers.length;h<g;h++)this._handlers[h].disable()},whenReady:function(h,g){return this._loaded?h.call(g||this,{target:this}):this.on("load",h,g),this},_getMapPanePos:function(){return fi(this._mapPane)||new R(0,0)},_moved:function(){var h=this._getMapPanePos();return h&&!h.equals([0,0])},_getTopLeftPoint:function(h,g){var A=h&&g!==void 0?this._getNewPixelOrigin(h,g):this.getPixelOrigin();return A.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(h,g){var A=this.getSize()._divideBy(2);return this.project(h,g)._subtract(A)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(h,g,A){var z=this._getNewPixelOrigin(A,g);return this.project(h,g)._subtract(z)},_latLngBoundsToNewLayerBounds:function(h,g,A){var z=this._getNewPixelOrigin(A,g);return J([this.project(h.getSouthWest(),g)._subtract(z),this.project(h.getNorthWest(),g)._subtract(z),this.project(h.getSouthEast(),g)._subtract(z),this.project(h.getNorthEast(),g)._subtract(z)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(h){return this.latLngToLayerPoint(h).subtract(this._getCenterLayerPoint())},_limitCenter:function(h,g,A){if(!A)return h;var z=this.project(h,g),X=this.getSize().divideBy(2),le=new q(z.subtract(X),z.add(X)),pe=this._getBoundsOffset(le,A,g);return Math.abs(pe.x)<=1&&Math.abs(pe.y)<=1?h:this.unproject(z.add(pe),g)},_limitOffset:function(h,g){if(!g)return h;var A=this.getPixelBounds(),z=new q(A.min.add(h),A.max.add(h));return h.add(this._getBoundsOffset(z,g))},_getBoundsOffset:function(h,g,A){var z=J(this.project(g.getNorthEast(),A),this.project(g.getSouthWest(),A)),X=z.min.subtract(h.min),le=z.max.subtract(h.max),pe=this._rebound(X.x,-le.x),be=this._rebound(X.y,-le.y);return new R(pe,be)},_rebound:function(h,g){return h+g>0?Math.round(h-g)/2:Math.max(0,Math.ceil(h))-Math.max(0,Math.floor(g))},_limitZoom:function(h){var g=this.getMinZoom(),A=this.getMaxZoom(),z=Ye.any3d?this.options.zoomSnap:1;return z&&(h=Math.round(h/z)*z),Math.max(g,Math.min(A,h))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Er(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(h,g){var A=this._getCenterOffset(h)._trunc();return(g&&g.animate)!==!0&&!this.getSize().contains(A)?!1:(this.panBy(A,g),!0)},_createAnimProxy:function(){var h=this._proxy=Tt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(h),this.on("zoomanim",function(g){var A=re,z=this._proxy.style[A];sa(this._proxy,this.project(g.center,g.zoom),this.getZoomScale(g.zoom,1)),z===this._proxy.style[A]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Fr(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var h=this.getCenter(),g=this.getZoom();sa(this._proxy,this.project(h,g),this.getZoomScale(g,1))},_catchTransitionEnd:function(h){this._animatingZoom&&h.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(h,g,A){if(this._animatingZoom)return!0;if(A=A||{},!this._zoomAnimated||A.animate===!1||this._nothingToAnimate()||Math.abs(g-this._zoom)>this.options.zoomAnimationThreshold)return!1;var z=this.getZoomScale(g),X=this._getCenterOffset(h)._divideBy(1-1/z);return A.animate!==!0&&!this.getSize().contains(X)?!1:(H(function(){this._moveStart(!0,A.noMoveStart||!1)._animateZoom(h,g,!0)},this),!0)},_animateZoom:function(h,g,A,z){this._mapPane&&(A&&(this._animatingZoom=!0,this._animateToCenter=h,this._animateToZoom=g,Ot(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:h,zoom:g,noUpdate:z}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(o(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Er(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Ji(h,g){return new qt(h,g)}var Ss=V.extend({options:{position:"topright"},initialize:function(h){y(this,h)},getPosition:function(){return this.options.position},setPosition:function(h){var g=this._map;return g&&g.removeControl(this),this.options.position=h,g&&g.addControl(this),this},getContainer:function(){return this._container},addTo:function(h){this.remove(),this._map=h;var g=this._container=this.onAdd(h),A=this.getPosition(),z=h._controlCorners[A];return Ot(g,"leaflet-control"),A.indexOf("bottom")!==-1?z.insertBefore(g,z.firstChild):z.appendChild(g),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Fr(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(h){this._map&&h&&h.screenX>0&&h.screenY>0&&this._map.getContainer().focus()}}),Qi=function(h){return new Ss(h)};qt.include({addControl:function(h){return h.addTo(this),this},removeControl:function(h){return h.remove(),this},_initControlPos:function(){var h=this._controlCorners={},g="leaflet-",A=this._controlContainer=Tt("div",g+"control-container",this._container);function z(X,le){var pe=g+X+" "+g+le;h[X+le]=Tt("div",pe,A)}z("top","left"),z("top","right"),z("bottom","left"),z("bottom","right")},_clearControlPos:function(){for(var h in this._controlCorners)Fr(this._controlCorners[h]);Fr(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Um=Ss.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(h,g,A,z){return A<z?-1:z<A?1:0}},initialize:function(h,g,A){y(this,A),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var z in h)this._addLayer(h[z],z);for(z in g)this._addLayer(g[z],z,!0)},onAdd:function(h){this._initLayout(),this._update(),this._map=h,h.on("zoomend",this._checkDisabledLayers,this);for(var g=0;g<this._layers.length;g++)this._layers[g].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(h){return Ss.prototype.addTo.call(this,h),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var h=0;h<this._layers.length;h++)this._layers[h].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(h,g){return this._addLayer(h,g),this._map?this._update():this},addOverlay:function(h,g){return this._addLayer(h,g,!0),this._map?this._update():this},removeLayer:function(h){h.off("add remove",this._onLayerChange,this);var g=this._getLayer(c(h));return g&&this._layers.splice(this._layers.indexOf(g),1),this._map?this._update():this},expand:function(){Ot(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var h=this._map.getSize().y-(this._container.offsetTop+50);return h<this._section.clientHeight?(Ot(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=h+"px"):Er(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Er(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var h="leaflet-control-layers",g=this._container=Tt("div",h),A=this.options.collapsed;g.setAttribute("aria-haspopup",!0),Yc(g),_u(g);var z=this._section=Tt("section",h+"-list");A&&(this._map.on("click",this.collapse,this),kt(g,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var X=this._layersLink=Tt("a",h+"-toggle",g);X.href="#",X.title="Layers",X.setAttribute("role","button"),kt(X,{keydown:function(le){le.keyCode===13&&this._expandSafely()},click:function(le){Xr(le),this._expandSafely()}},this),A||this.expand(),this._baseLayersList=Tt("div",h+"-base",z),this._separator=Tt("div",h+"-separator",z),this._overlaysList=Tt("div",h+"-overlays",z),g.appendChild(z)},_getLayer:function(h){for(var g=0;g<this._layers.length;g++)if(this._layers[g]&&c(this._layers[g].layer)===h)return this._layers[g]},_addLayer:function(h,g,A){this._map&&h.on("add remove",this._onLayerChange,this),this._layers.push({layer:h,name:g,overlay:A}),this.options.sortLayers&&this._layers.sort(o(function(z,X){return this.options.sortFunction(z.layer,X.layer,z.name,X.name)},this)),this.options.autoZIndex&&h.setZIndex&&(this._lastZIndex++,h.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;yu(this._baseLayersList),yu(this._overlaysList),this._layerControlInputs=[];var h,g,A,z,X=0;for(A=0;A<this._layers.length;A++)z=this._layers[A],this._addItem(z),g=g||z.overlay,h=h||!z.overlay,X+=z.overlay?0:1;return this.options.hideSingleBase&&(h=h&&X>1,this._baseLayersList.style.display=h?"":"none"),this._separator.style.display=g&&h?"":"none",this},_onLayerChange:function(h){this._handlingClick||this._update();var g=this._getLayer(c(h.target)),A=g.overlay?h.type==="add"?"overlayadd":"overlayremove":h.type==="add"?"baselayerchange":null;A&&this._map.fire(A,g)},_createRadioElement:function(h,g){var A='<input type="radio" class="leaflet-control-layers-selector" name="'+h+'"'+(g?' checked="checked"':"")+"/>",z=document.createElement("div");return z.innerHTML=A,z.firstChild},_addItem:function(h){var g=document.createElement("label"),A=this._map.hasLayer(h.layer),z;h.overlay?(z=document.createElement("input"),z.type="checkbox",z.className="leaflet-control-layers-selector",z.defaultChecked=A):z=this._createRadioElement("leaflet-base-layers_"+c(this),A),this._layerControlInputs.push(z),z.layerId=c(h.layer),kt(z,"click",this._onInputClick,this);var X=document.createElement("span");X.innerHTML=" "+h.name;var le=document.createElement("span");g.appendChild(le),le.appendChild(z),le.appendChild(X);var pe=h.overlay?this._overlaysList:this._baseLayersList;return pe.appendChild(g),this._checkDisabledLayers(),g},_onInputClick:function(){if(!this._preventClick){var h=this._layerControlInputs,g,A,z=[],X=[];this._handlingClick=!0;for(var le=h.length-1;le>=0;le--)g=h[le],A=this._getLayer(g.layerId).layer,g.checked?z.push(A):g.checked||X.push(A);for(le=0;le<X.length;le++)this._map.hasLayer(X[le])&&this._map.removeLayer(X[le]);for(le=0;le<z.length;le++)this._map.hasLayer(z[le])||this._map.addLayer(z[le]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var h=this._layerControlInputs,g,A,z=this._map.getZoom(),X=h.length-1;X>=0;X--)g=h[X],A=this._getLayer(g.layerId).layer,g.disabled=A.options.minZoom!==void 0&&z<A.options.minZoom||A.options.maxZoom!==void 0&&z>A.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var h=this._section;this._preventClick=!0,kt(h,"click",Xr),this.expand();var g=this;setTimeout(function(){jr(h,"click",Xr),g._preventClick=!1})}}),Pu=function(h,g,A){return new Um(h,g,A)},Bl=Ss.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(h){var g="leaflet-control-zoom",A=Tt("div",g+" leaflet-bar"),z=this.options;return this._zoomInButton=this._createButton(z.zoomInText,z.zoomInTitle,g+"-in",A,this._zoomIn),this._zoomOutButton=this._createButton(z.zoomOutText,z.zoomOutTitle,g+"-out",A,this._zoomOut),this._updateDisabled(),h.on("zoomend zoomlevelschange",this._updateDisabled,this),A},onRemove:function(h){h.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(h){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(h.shiftKey?3:1))},_zoomOut:function(h){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(h.shiftKey?3:1))},_createButton:function(h,g,A,z,X){var le=Tt("a",A,z);return le.innerHTML=h,le.href="#",le.title=g,le.setAttribute("role","button"),le.setAttribute("aria-label",g),Yc(le),kt(le,"click",ia),kt(le,"click",X,this),kt(le,"click",this._refocusOnMap,this),le},_updateDisabled:function(){var h=this._map,g="leaflet-disabled";Er(this._zoomInButton,g),Er(this._zoomOutButton,g),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||h._zoom===h.getMinZoom())&&(Ot(this._zoomOutButton,g),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||h._zoom===h.getMaxZoom())&&(Ot(this._zoomInButton,g),this._zoomInButton.setAttribute("aria-disabled","true"))}});qt.mergeOptions({zoomControl:!0}),qt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Bl,this.addControl(this.zoomControl))});var Ix=function(h){return new Bl(h)},cs=Ss.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(h){var g="leaflet-control-scale",A=Tt("div",g),z=this.options;return this._addScales(z,g+"-line",A),h.on(z.updateWhenIdle?"moveend":"move",this._update,this),h.whenReady(this._update,this),A},onRemove:function(h){h.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(h,g,A){h.metric&&(this._mScale=Tt("div",g,A)),h.imperial&&(this._iScale=Tt("div",g,A))},_update:function(){var h=this._map,g=h.getSize().y/2,A=h.distance(h.containerPointToLatLng([0,g]),h.containerPointToLatLng([this.options.maxWidth,g]));this._updateScales(A)},_updateScales:function(h){this.options.metric&&h&&this._updateMetric(h),this.options.imperial&&h&&this._updateImperial(h)},_updateMetric:function(h){var g=this._getRoundNum(h),A=g<1e3?g+" m":g/1e3+" km";this._updateScale(this._mScale,A,g/h)},_updateImperial:function(h){var g=h*3.2808399,A,z,X;g>5280?(A=g/5280,z=this._getRoundNum(A),this._updateScale(this._iScale,z+" mi",z/A)):(X=this._getRoundNum(g),this._updateScale(this._iScale,X+" ft",X/g))},_updateScale:function(h,g,A){h.style.width=Math.round(this.options.maxWidth*A)+"px",h.innerHTML=g},_getRoundNum:function(h){var g=Math.pow(10,(Math.floor(h)+"").length-1),A=h/g;return A=A>=10?10:A>=5?5:A>=3?3:A>=2?2:1,g*A}}),Fl=function(h){return new cs(h)},Hm='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Fo=Ss.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Ye.inlineSvg?Hm+" ":"")+"Leaflet</a>"},initialize:function(h){y(this,h),this._attributions={}},onAdd:function(h){h.attributionControl=this,this._container=Tt("div","leaflet-control-attribution"),Yc(this._container);for(var g in h._layers)h._layers[g].getAttribution&&this.addAttribution(h._layers[g].getAttribution());return this._update(),h.on("layeradd",this._addAttribution,this),this._container},onRemove:function(h){h.off("layeradd",this._addAttribution,this)},_addAttribution:function(h){h.layer.getAttribution&&(this.addAttribution(h.layer.getAttribution()),h.layer.once("remove",function(){this.removeAttribution(h.layer.getAttribution())},this))},setPrefix:function(h){return this.options.prefix=h,this._update(),this},addAttribution:function(h){return h?(this._attributions[h]||(this._attributions[h]=0),this._attributions[h]++,this._update(),this):this},removeAttribution:function(h){return h?(this._attributions[h]&&(this._attributions[h]--,this._update()),this):this},_update:function(){if(this._map){var h=[];for(var g in this._attributions)this._attributions[g]&&h.push(g);var A=[];this.options.prefix&&A.push(this.options.prefix),h.length&&A.push(h.join(", ")),this._container.innerHTML=A.join(' <span aria-hidden="true">|</span> ')}}});qt.mergeOptions({attributionControl:!0}),qt.addInitHook(function(){this.options.attributionControl&&new Fo().addTo(this)});var pb=function(h){return new Fo(h)};Ss.Layers=Um,Ss.Zoom=Bl,Ss.Scale=cs,Ss.Attribution=Fo,Qi.layers=Pu,Qi.zoom=Ix,Qi.scale=Fl,Qi.attribution=pb;var $s=V.extend({initialize:function(h){this._map=h},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});$s.addTo=function(h,g){return h.addHandler(g,this),this};var Wm={Events:G},zl=Ye.touch?"touchstart mousedown":"mousedown",oa=O.extend({options:{clickTolerance:3},initialize:function(h,g,A,z){y(this,z),this._element=h,this._dragStartTarget=g||h,this._preventOutline=A},enable:function(){this._enabled||(kt(this._dragStartTarget,zl,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(oa._dragging===this&&this.finishDrag(!0),jr(this._dragStartTarget,zl,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(h){if(this._enabled&&(this._moved=!1,!Rl(this._element,"leaflet-zoom-anim"))){if(h.touches&&h.touches.length!==1){oa._dragging===this&&this.finishDrag();return}if(!(oa._dragging||h.shiftKey||h.which!==1&&h.button!==1&&!h.touches)&&(oa._dragging=this,this._preventOutline&&$l(this._element),wu(),Qt(),!this._moving)){this.fire("down");var g=h.touches?h.touches[0]:h,A=pi(this._element);this._startPoint=new R(g.clientX,g.clientY),this._startPos=fi(this._element),this._parentScale=La(A);var z=h.type==="mousedown";kt(document,z?"mousemove":"touchmove",this._onMove,this),kt(document,z?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(h){if(this._enabled){if(h.touches&&h.touches.length>1){this._moved=!0;return}var g=h.touches&&h.touches.length===1?h.touches[0]:h,A=new R(g.clientX,g.clientY)._subtract(this._startPoint);!A.x&&!A.y||Math.abs(A.x)+Math.abs(A.y)<this.options.clickTolerance||(A.x/=this._parentScale.x,A.y/=this._parentScale.y,Xr(h),this._moved||(this.fire("dragstart"),this._moved=!0,Ot(document.body,"leaflet-dragging"),this._lastTarget=h.target||h.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Ot(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(A),this._moving=!0,this._lastEvent=h,this._updatePosition())}},_updatePosition:function(){var h={originalEvent:this._lastEvent};this.fire("predrag",h),hn(this._element,this._newPos),this.fire("drag",h)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(h){Er(document.body,"leaflet-dragging"),this._lastTarget&&(Er(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),jr(document,"mousemove touchmove",this._onMove,this),jr(document,"mouseup touchend touchcancel",this._onUp,this),Nu(),Ll();var g=this._moved&&this._moving;this._moving=!1,oa._dragging=!1,g&&this.fire("dragend",{noInertia:h,distance:this._newPos.distanceTo(this._startPos)})}});function qm(h,g,A){var z,X=[1,4,2,8],le,pe,be,Ne,Me,Ve,ft,Bt;for(le=0,Ve=h.length;le<Ve;le++)h[le]._code=zo(h[le],g);for(be=0;be<4;be++){for(ft=X[be],z=[],le=0,Ve=h.length,pe=Ve-1;le<Ve;pe=le++)Ne=h[le],Me=h[pe],Ne._code&ft?Me._code&ft||(Bt=Eu(Me,Ne,ft,g,A),Bt._code=zo(Bt,g),z.push(Bt)):(Me._code&ft&&(Bt=Eu(Me,Ne,ft,g,A),Bt._code=zo(Bt,g),z.push(Bt)),z.push(Ne));h=z}return h}function Lx(h,g){var A,z,X,le,pe,be,Ne,Me,Ve;if(!h||h.length===0)throw new Error("latlngs not passed");Bs(h)||(console.warn("latlngs are not flat! Only the first ring will be used"),h=h[0]);var ft=oe([0,0]),Bt=ee(h),Mn=Bt.getNorthWest().distanceTo(Bt.getSouthWest())*Bt.getNorthEast().distanceTo(Bt.getNorthWest());Mn<1700&&(ft=Vm(h));var _n=h.length,ks=[];for(A=0;A<_n;A++){var ds=oe(h[A]);ks.push(g.project(oe([ds.lat-ft.lat,ds.lng-ft.lng])))}for(be=Ne=Me=0,A=0,z=_n-1;A<_n;z=A++)X=ks[A],le=ks[z],pe=X.y*le.x-le.y*X.x,Ne+=(X.x+le.x)*pe,Me+=(X.y+le.y)*pe,be+=pe*3;be===0?Ve=ks[0]:Ve=[Ne/be,Me/be];var Xl=g.unproject(I(Ve));return oe([Xl.lat+ft.lat,Xl.lng+ft.lng])}function Vm(h){for(var g=0,A=0,z=0,X=0;X<h.length;X++){var le=oe(h[X]);g+=le.lat,A+=le.lng,z++}return oe([g/z,A/z])}var xb={__proto__:null,clipPolygon:qm,polygonCenter:Lx,centroid:Vm};function Au(h,g){if(!g||!h.length)return h.slice();var A=g*g;return h=yb(h,A),h=vb(h,A),h}function $x(h,g,A){return Math.sqrt(Uo(h,g,A,!0))}function gb(h,g,A){return Uo(h,g,A)}function vb(h,g){var A=h.length,z=typeof Uint8Array<"u"?Uint8Array:Array,X=new z(A);X[0]=X[A-1]=1,Gm(h,X,g,0,A-1);var le,pe=[];for(le=0;le<A;le++)X[le]&&pe.push(h[le]);return pe}function Gm(h,g,A,z,X){var le=0,pe,be,Ne;for(be=z+1;be<=X-1;be++)Ne=Uo(h[be],h[z],h[X],!0),Ne>le&&(pe=be,le=Ne);le>A&&(g[pe]=1,Gm(h,g,A,z,pe),Gm(h,g,A,pe,X))}function yb(h,g){for(var A=[h[0]],z=1,X=0,le=h.length;z<le;z++)bb(h[z],h[X])>g&&(A.push(h[z]),X=z);return X<le-1&&A.push(h[le-1]),A}var Km;function Bx(h,g,A,z,X){var le=z?Km:zo(h,A),pe=zo(g,A),be,Ne,Me;for(Km=pe;;){if(!(le|pe))return[h,g];if(le&pe)return!1;be=le||pe,Ne=Eu(h,g,be,A,X),Me=zo(Ne,A),be===le?(h=Ne,le=Me):(g=Ne,pe=Me)}}function Eu(h,g,A,z,X){var le=g.x-h.x,pe=g.y-h.y,be=z.min,Ne=z.max,Me,Ve;return A&8?(Me=h.x+le*(Ne.y-h.y)/pe,Ve=Ne.y):A&4?(Me=h.x+le*(be.y-h.y)/pe,Ve=be.y):A&2?(Me=Ne.x,Ve=h.y+pe*(Ne.x-h.x)/le):A&1&&(Me=be.x,Ve=h.y+pe*(be.x-h.x)/le),new R(Me,Ve,X)}function zo(h,g){var A=0;return h.x<g.min.x?A|=1:h.x>g.max.x&&(A|=2),h.y<g.min.y?A|=4:h.y>g.max.y&&(A|=8),A}function bb(h,g){var A=g.x-h.x,z=g.y-h.y;return A*A+z*z}function Uo(h,g,A,z){var X=g.x,le=g.y,pe=A.x-X,be=A.y-le,Ne=pe*pe+be*be,Me;return Ne>0&&(Me=((h.x-X)*pe+(h.y-le)*be)/Ne,Me>1?(X=A.x,le=A.y):Me>0&&(X+=pe*Me,le+=be*Me)),pe=h.x-X,be=h.y-le,z?pe*pe+be*be:new R(X,le)}function Bs(h){return!P(h[0])||typeof h[0][0]!="object"&&typeof h[0][0]<"u"}function Fx(h){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Bs(h)}function zx(h,g){var A,z,X,le,pe,be,Ne,Me;if(!h||h.length===0)throw new Error("latlngs not passed");Bs(h)||(console.warn("latlngs are not flat! Only the first ring will be used"),h=h[0]);var Ve=oe([0,0]),ft=ee(h),Bt=ft.getNorthWest().distanceTo(ft.getSouthWest())*ft.getNorthEast().distanceTo(ft.getNorthWest());Bt<1700&&(Ve=Vm(h));var Mn=h.length,_n=[];for(A=0;A<Mn;A++){var ks=oe(h[A]);_n.push(g.project(oe([ks.lat-Ve.lat,ks.lng-Ve.lng])))}for(A=0,z=0;A<Mn-1;A++)z+=_n[A].distanceTo(_n[A+1])/2;if(z===0)Me=_n[0];else for(A=0,le=0;A<Mn-1;A++)if(pe=_n[A],be=_n[A+1],X=pe.distanceTo(be),le+=X,le>z){Ne=(le-z)/X,Me=[be.x-Ne*(be.x-pe.x),be.y-Ne*(be.y-pe.y)];break}var ds=g.unproject(I(Me));return oe([ds.lat+Ve.lat,ds.lng+Ve.lng])}var Ux={__proto__:null,simplify:Au,pointToSegmentDistance:$x,closestPointOnSegment:gb,clipSegment:Bx,_getEdgeIntersection:Eu,_getBitCode:zo,_sqClosestPointOnSegment:Uo,isFlat:Bs,_flat:Fx,polylineCenter:zx},Ym={project:function(h){return new R(h.lng,h.lat)},unproject:function(h){return new ae(h.y,h.x)},bounds:new q([-180,-90],[180,90])},Zm={R:6378137,R_MINOR:6356752314245179e-9,bounds:new q([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(h){var g=Math.PI/180,A=this.R,z=h.lat*g,X=this.R_MINOR/A,le=Math.sqrt(1-X*X),pe=le*Math.sin(z),be=Math.tan(Math.PI/4-z/2)/Math.pow((1-pe)/(1+pe),le/2);return z=-A*Math.log(Math.max(be,1e-10)),new R(h.lng*g*A,z)},unproject:function(h){for(var g=180/Math.PI,A=this.R,z=this.R_MINOR/A,X=Math.sqrt(1-z*z),le=Math.exp(-h.y/A),pe=Math.PI/2-2*Math.atan(le),be=0,Ne=.1,Me;be<15&&Math.abs(Ne)>1e-7;be++)Me=X*Math.sin(pe),Me=Math.pow((1-Me)/(1+Me),X/2),Ne=Math.PI/2-2*Math.atan(le*Me)-pe,pe+=Ne;return new ae(pe*g,h.x*g/A)}},jb={__proto__:null,LonLat:Ym,Mercator:Zm,SphericalMercator:fe},wb=a({},ue,{code:"EPSG:3395",projection:Zm,transformation:(function(){var h=.5/(Math.PI*Zm.R);return he(h,.5,-h,.5)})()}),Hx=a({},ue,{code:"EPSG:4326",projection:Ym,transformation:he(1/180,1,-1/180,.5)}),Nb=a({},te,{projection:Ym,transformation:he(1,0,-1,0),scale:function(h){return Math.pow(2,h)},zoom:function(h){return Math.log(h)/Math.LN2},distance:function(h,g){var A=g.lng-h.lng,z=g.lat-h.lat;return Math.sqrt(A*A+z*z)},infinite:!0});te.Earth=ue,te.EPSG3395=wb,te.EPSG3857=Ce,te.EPSG900913=Se,te.EPSG4326=Hx,te.Simple=Nb;var la=O.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(h){return h.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(h){return h&&h.removeLayer(this),this},getPane:function(h){return this._map.getPane(h?this.options[h]||h:this.options.pane)},addInteractiveTarget:function(h){return this._map._targets[c(h)]=this,this},removeInteractiveTarget:function(h){return delete this._map._targets[c(h)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(h){var g=h.target;if(g.hasLayer(this)){if(this._map=g,this._zoomAnimated=g._zoomAnimated,this.getEvents){var A=this.getEvents();g.on(A,this),this.once("remove",function(){g.off(A,this)},this)}this.onAdd(g),this.fire("add"),g.fire("layeradd",{layer:this})}}});qt.include({addLayer:function(h){if(!h._layerAdd)throw new Error("The provided object is not a Layer.");var g=c(h);return this._layers[g]?this:(this._layers[g]=h,h._mapToAdd=this,h.beforeAdd&&h.beforeAdd(this),this.whenReady(h._layerAdd,h),this)},removeLayer:function(h){var g=c(h);return this._layers[g]?(this._loaded&&h.onRemove(this),delete this._layers[g],this._loaded&&(this.fire("layerremove",{layer:h}),h.fire("remove")),h._map=h._mapToAdd=null,this):this},hasLayer:function(h){return c(h)in this._layers},eachLayer:function(h,g){for(var A in this._layers)h.call(g,this._layers[A]);return this},_addLayers:function(h){h=h?P(h)?h:[h]:[];for(var g=0,A=h.length;g<A;g++)this.addLayer(h[g])},_addZoomLimit:function(h){(!isNaN(h.options.maxZoom)||!isNaN(h.options.minZoom))&&(this._zoomBoundLayers[c(h)]=h,this._updateZoomLevels())},_removeZoomLimit:function(h){var g=c(h);this._zoomBoundLayers[g]&&(delete this._zoomBoundLayers[g],this._updateZoomLevels())},_updateZoomLevels:function(){var h=1/0,g=-1/0,A=this._getZoomSpan();for(var z in this._zoomBoundLayers){var X=this._zoomBoundLayers[z].options;h=X.minZoom===void 0?h:Math.min(h,X.minZoom),g=X.maxZoom===void 0?g:Math.max(g,X.maxZoom)}this._layersMaxZoom=g===-1/0?void 0:g,this._layersMinZoom=h===1/0?void 0:h,A!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var eo=la.extend({initialize:function(h,g){y(this,g),this._layers={};var A,z;if(h)for(A=0,z=h.length;A<z;A++)this.addLayer(h[A])},addLayer:function(h){var g=this.getLayerId(h);return this._layers[g]=h,this._map&&this._map.addLayer(h),this},removeLayer:function(h){var g=h in this._layers?h:this.getLayerId(h);return this._map&&this._layers[g]&&this._map.removeLayer(this._layers[g]),delete this._layers[g],this},hasLayer:function(h){var g=typeof h=="number"?h:this.getLayerId(h);return g in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(h){var g=Array.prototype.slice.call(arguments,1),A,z;for(A in this._layers)z=this._layers[A],z[h]&&z[h].apply(z,g);return this},onAdd:function(h){this.eachLayer(h.addLayer,h)},onRemove:function(h){this.eachLayer(h.removeLayer,h)},eachLayer:function(h,g){for(var A in this._layers)h.call(g,this._layers[A]);return this},getLayer:function(h){return this._layers[h]},getLayers:function(){var h=[];return this.eachLayer(h.push,h),h},setZIndex:function(h){return this.invoke("setZIndex",h)},getLayerId:function(h){return c(h)}}),Jc=function(h,g){return new eo(h,g)},xi=eo.extend({addLayer:function(h){return this.hasLayer(h)?this:(h.addEventParent(this),eo.prototype.addLayer.call(this,h),this.fire("layeradd",{layer:h}))},removeLayer:function(h){return this.hasLayer(h)?(h in this._layers&&(h=this._layers[h]),h.removeEventParent(this),eo.prototype.removeLayer.call(this,h),this.fire("layerremove",{layer:h})):this},setStyle:function(h){return this.invoke("setStyle",h)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var h=new ie;for(var g in this._layers){var A=this._layers[g];h.extend(A.getBounds?A.getBounds():A.getLatLng())}return h}}),Wx=function(h,g){return new xi(h,g)},Ho=V.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(h){y(this,h)},createIcon:function(h){return this._createIcon("icon",h)},createShadow:function(h){return this._createIcon("shadow",h)},_createIcon:function(h,g){var A=this._getIconUrl(h);if(!A){if(h==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var z=this._createImg(A,g&&g.tagName==="IMG"?g:null);return this._setIconStyles(z,h),(this.options.crossOrigin||this.options.crossOrigin==="")&&(z.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),z},_setIconStyles:function(h,g){var A=this.options,z=A[g+"Size"];typeof z=="number"&&(z=[z,z]);var X=I(z),le=I(g==="shadow"&&A.shadowAnchor||A.iconAnchor||X&&X.divideBy(2,!0));h.className="leaflet-marker-"+g+" "+(A.className||""),le&&(h.style.marginLeft=-le.x+"px",h.style.marginTop=-le.y+"px"),X&&(h.style.width=X.x+"px",h.style.height=X.y+"px")},_createImg:function(h,g){return g=g||document.createElement("img"),g.src=h,g},_getIconUrl:function(h){return Ye.retina&&this.options[h+"RetinaUrl"]||this.options[h+"Url"]}});function qx(h){return new Ho(h)}var Ul=Ho.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(h){return typeof Ul.imagePath!="string"&&(Ul.imagePath=this._detectIconPath()),(this.options.imagePath||Ul.imagePath)+Ho.prototype._getIconUrl.call(this,h)},_stripUrl:function(h){var g=function(A,z,X){var le=z.exec(A);return le&&le[X]};return h=g(h,/^url\((['"])?(.+)\1\)$/,2),h&&g(h,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var h=Tt("div","leaflet-default-icon-path",document.body),g=na(h,"background-image")||na(h,"backgroundImage");if(document.body.removeChild(h),g=this._stripUrl(g),g)return g;var A=document.querySelector('link[href$="leaflet.css"]');return A?A.href.substring(0,A.href.length-11-1):""}}),Xm=$s.extend({initialize:function(h){this._marker=h},addHooks:function(){var h=this._marker._icon;this._draggable||(this._draggable=new oa(h,h,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Ot(h,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Er(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(h){var g=this._marker,A=g._map,z=this._marker.options.autoPanSpeed,X=this._marker.options.autoPanPadding,le=fi(g._icon),pe=A.getPixelBounds(),be=A.getPixelOrigin(),Ne=J(pe.min._subtract(be).add(X),pe.max._subtract(be).subtract(X));if(!Ne.contains(le)){var Me=I((Math.max(Ne.max.x,le.x)-Ne.max.x)/(pe.max.x-Ne.max.x)-(Math.min(Ne.min.x,le.x)-Ne.min.x)/(pe.min.x-Ne.min.x),(Math.max(Ne.max.y,le.y)-Ne.max.y)/(pe.max.y-Ne.max.y)-(Math.min(Ne.min.y,le.y)-Ne.min.y)/(pe.min.y-Ne.min.y)).multiplyBy(z);A.panBy(Me,{animate:!1}),this._draggable._newPos._add(Me),this._draggable._startPos._add(Me),hn(g._icon,this._draggable._newPos),this._onDrag(h),this._panRequest=H(this._adjustPan.bind(this,h))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(h){this._marker.options.autoPan&&(K(this._panRequest),this._panRequest=H(this._adjustPan.bind(this,h)))},_onDrag:function(h){var g=this._marker,A=g._shadow,z=fi(g._icon),X=g._map.layerPointToLatLng(z);A&&hn(A,z),g._latlng=X,h.latlng=X,h.oldLatLng=this._oldLatLng,g.fire("move",h).fire("drag",h)},_onDragEnd:function(h){K(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",h)}}),gi=la.extend({options:{icon:new Ul,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(h,g){y(this,g),this._latlng=oe(h)},onAdd:function(h){this._zoomAnimated=this._zoomAnimated&&h.options.markerZoomAnimation,this._zoomAnimated&&h.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(h){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&h.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(h){var g=this._latlng;return this._latlng=oe(h),this.update(),this.fire("move",{oldLatLng:g,latlng:this._latlng})},setZIndexOffset:function(h){return this.options.zIndexOffset=h,this.update()},getIcon:function(){return this.options.icon},setIcon:function(h){return this.options.icon=h,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var h=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(h)}return this},_initIcon:function(){var h=this.options,g="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),A=h.icon.createIcon(this._icon),z=!1;A!==this._icon&&(this._icon&&this._removeIcon(),z=!0,h.title&&(A.title=h.title),A.tagName==="IMG"&&(A.alt=h.alt||"")),Ot(A,g),h.keyboard&&(A.tabIndex="0",A.setAttribute("role","button")),this._icon=A,h.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&kt(A,"focus",this._panOnFocus,this);var X=h.icon.createShadow(this._shadow),le=!1;X!==this._shadow&&(this._removeShadow(),le=!0),X&&(Ot(X,g),X.alt=""),this._shadow=X,h.opacity<1&&this._updateOpacity(),z&&this.getPane().appendChild(this._icon),this._initInteraction(),X&&le&&this.getPane(h.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&jr(this._icon,"focus",this._panOnFocus,this),Fr(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Fr(this._shadow),this._shadow=null},_setPos:function(h){this._icon&&hn(this._icon,h),this._shadow&&hn(this._shadow,h),this._zIndex=h.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(h){this._icon&&(this._icon.style.zIndex=this._zIndex+h)},_animateZoom:function(h){var g=this._map._latLngToNewLayerPoint(this._latlng,h.zoom,h.center).round();this._setPos(g)},_initInteraction:function(){if(this.options.interactive&&(Ot(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Xm)){var h=this.options.draggable;this.dragging&&(h=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Xm(this),h&&this.dragging.enable()}},setOpacity:function(h){return this.options.opacity=h,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var h=this.options.opacity;this._icon&&ls(this._icon,h),this._shadow&&ls(this._shadow,h)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var h=this._map;if(h){var g=this.options.icon.options,A=g.iconSize?I(g.iconSize):I(0,0),z=g.iconAnchor?I(g.iconAnchor):I(0,0);h.panInside(this._latlng,{paddingTopLeft:z,paddingBottomRight:A.subtract(z)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Sb(h,g){return new gi(h,g)}var to=la.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(h){this._renderer=h.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(h){return y(this,h),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&h&&Object.prototype.hasOwnProperty.call(h,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Tu=to.extend({options:{fill:!0,radius:10},initialize:function(h,g){y(this,g),this._latlng=oe(h),this._radius=this.options.radius},setLatLng:function(h){var g=this._latlng;return this._latlng=oe(h),this.redraw(),this.fire("move",{oldLatLng:g,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(h){return this.options.radius=this._radius=h,this.redraw()},getRadius:function(){return this._radius},setStyle:function(h){var g=h&&h.radius||this._radius;return to.prototype.setStyle.call(this,h),this.setRadius(g),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var h=this._radius,g=this._radiusY||h,A=this._clickTolerance(),z=[h+A,g+A];this._pxBounds=new q(this._point.subtract(z),this._point.add(z))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(h){return h.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Vx(h,g){return new Tu(h,g)}var Ou=Tu.extend({initialize:function(h,g,A){if(typeof g=="number"&&(g=a({},A,{radius:g})),y(this,g),this._latlng=oe(h),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(h){return this._mRadius=h,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var h=[this._radius,this._radiusY||this._radius];return new ie(this._map.layerPointToLatLng(this._point.subtract(h)),this._map.layerPointToLatLng(this._point.add(h)))},setStyle:to.prototype.setStyle,_project:function(){var h=this._latlng.lng,g=this._latlng.lat,A=this._map,z=A.options.crs;if(z.distance===ue.distance){var X=Math.PI/180,le=this._mRadius/ue.R/X,pe=A.project([g+le,h]),be=A.project([g-le,h]),Ne=pe.add(be).divideBy(2),Me=A.unproject(Ne).lat,Ve=Math.acos((Math.cos(le*X)-Math.sin(g*X)*Math.sin(Me*X))/(Math.cos(g*X)*Math.cos(Me*X)))/X;(isNaN(Ve)||Ve===0)&&(Ve=le/Math.cos(Math.PI/180*g)),this._point=Ne.subtract(A.getPixelOrigin()),this._radius=isNaN(Ve)?0:Ne.x-A.project([Me,h-Ve]).x,this._radiusY=Ne.y-pe.y}else{var ft=z.unproject(z.project(this._latlng).subtract([this._mRadius,0]));this._point=A.latLngToLayerPoint(this._latlng),this._radius=this._point.x-A.latLngToLayerPoint(ft).x}this._updateBounds()}});function Qc(h,g,A){return new Ou(h,g,A)}var _s=to.extend({options:{smoothFactor:1,noClip:!1},initialize:function(h,g){y(this,g),this._setLatLngs(h)},getLatLngs:function(){return this._latlngs},setLatLngs:function(h){return this._setLatLngs(h),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(h){for(var g=1/0,A=null,z=Uo,X,le,pe=0,be=this._parts.length;pe<be;pe++)for(var Ne=this._parts[pe],Me=1,Ve=Ne.length;Me<Ve;Me++){X=Ne[Me-1],le=Ne[Me];var ft=z(h,X,le,!0);ft<g&&(g=ft,A=z(h,X,le))}return A&&(A.distance=Math.sqrt(g)),A},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return zx(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(h,g){return g=g||this._defaultShape(),h=oe(h),g.push(h),this._bounds.extend(h),this.redraw()},_setLatLngs:function(h){this._bounds=new ie,this._latlngs=this._convertLatLngs(h)},_defaultShape:function(){return Bs(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(h){for(var g=[],A=Bs(h),z=0,X=h.length;z<X;z++)A?(g[z]=oe(h[z]),this._bounds.extend(g[z])):g[z]=this._convertLatLngs(h[z]);return g},_project:function(){var h=new q;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,h),this._bounds.isValid()&&h.isValid()&&(this._rawPxBounds=h,this._updateBounds())},_updateBounds:function(){var h=this._clickTolerance(),g=new R(h,h);this._rawPxBounds&&(this._pxBounds=new q([this._rawPxBounds.min.subtract(g),this._rawPxBounds.max.add(g)]))},_projectLatlngs:function(h,g,A){var z=h[0]instanceof ae,X=h.length,le,pe;if(z){for(pe=[],le=0;le<X;le++)pe[le]=this._map.latLngToLayerPoint(h[le]),A.extend(pe[le]);g.push(pe)}else for(le=0;le<X;le++)this._projectLatlngs(h[le],g,A)},_clipPoints:function(){var h=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(h))){if(this.options.noClip){this._parts=this._rings;return}var g=this._parts,A,z,X,le,pe,be,Ne;for(A=0,X=0,le=this._rings.length;A<le;A++)for(Ne=this._rings[A],z=0,pe=Ne.length;z<pe-1;z++)be=Bx(Ne[z],Ne[z+1],h,z,!0),be&&(g[X]=g[X]||[],g[X].push(be[0]),(be[1]!==Ne[z+1]||z===pe-2)&&(g[X].push(be[1]),X++))}},_simplifyPoints:function(){for(var h=this._parts,g=this.options.smoothFactor,A=0,z=h.length;A<z;A++)h[A]=Au(h[A],g)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(h,g){var A,z,X,le,pe,be,Ne=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(h))return!1;for(A=0,le=this._parts.length;A<le;A++)for(be=this._parts[A],z=0,pe=be.length,X=pe-1;z<pe;X=z++)if(!(!g&&z===0)&&$x(h,be[X],be[z])<=Ne)return!0;return!1}});function _b(h,g){return new _s(h,g)}_s._flat=Fx;var vi=_s.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Lx(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(h){var g=_s.prototype._convertLatLngs.call(this,h),A=g.length;return A>=2&&g[0]instanceof ae&&g[0].equals(g[A-1])&&g.pop(),g},_setLatLngs:function(h){_s.prototype._setLatLngs.call(this,h),Bs(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Bs(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var h=this._renderer._bounds,g=this.options.weight,A=new R(g,g);if(h=new q(h.min.subtract(A),h.max.add(A)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(h))){if(this.options.noClip){this._parts=this._rings;return}for(var z=0,X=this._rings.length,le;z<X;z++)le=qm(this._rings[z],h,!0),le.length&&this._parts.push(le)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(h){var g=!1,A,z,X,le,pe,be,Ne,Me;if(!this._pxBounds||!this._pxBounds.contains(h))return!1;for(le=0,Ne=this._parts.length;le<Ne;le++)for(A=this._parts[le],pe=0,Me=A.length,be=Me-1;pe<Me;be=pe++)z=A[pe],X=A[be],z.y>h.y!=X.y>h.y&&h.x<(X.x-z.x)*(h.y-z.y)/(X.y-z.y)+z.x&&(g=!g);return g||_s.prototype._containsPoint.call(this,h,!0)}});function kb(h,g){return new vi(h,g)}var Ba=xi.extend({initialize:function(h,g){y(this,g),this._layers={},h&&this.addData(h)},addData:function(h){var g=P(h)?h:h.features,A,z,X;if(g){for(A=0,z=g.length;A<z;A++)X=g[A],(X.geometries||X.geometry||X.features||X.coordinates)&&this.addData(X);return this}var le=this.options;if(le.filter&&!le.filter(h))return this;var pe=Hl(h,le);return pe?(pe.feature=Lu(h),pe.defaultOptions=pe.options,this.resetStyle(pe),le.onEachFeature&&le.onEachFeature(h,pe),this.addLayer(pe)):this},resetStyle:function(h){return h===void 0?this.eachLayer(this.resetStyle,this):(h.options=a({},h.defaultOptions),this._setLayerStyle(h,this.options.style),this)},setStyle:function(h){return this.eachLayer(function(g){this._setLayerStyle(g,h)},this)},_setLayerStyle:function(h,g){h.setStyle&&(typeof g=="function"&&(g=g(h.feature)),h.setStyle(g))}});function Hl(h,g){var A=h.type==="Feature"?h.geometry:h,z=A?A.coordinates:null,X=[],le=g&&g.pointToLayer,pe=g&&g.coordsToLatLng||Du,be,Ne,Me,Ve;if(!z&&!A)return null;switch(A.type){case"Point":return be=pe(z),Mu(le,h,be,g);case"MultiPoint":for(Me=0,Ve=z.length;Me<Ve;Me++)be=pe(z[Me]),X.push(Mu(le,h,be,g));return new xi(X);case"LineString":case"MultiLineString":return Ne=ed(z,A.type==="LineString"?0:1,pe),new _s(Ne,g);case"Polygon":case"MultiPolygon":return Ne=ed(z,A.type==="Polygon"?1:2,pe),new vi(Ne,g);case"GeometryCollection":for(Me=0,Ve=A.geometries.length;Me<Ve;Me++){var ft=Hl({geometry:A.geometries[Me],type:"Feature",properties:h.properties},g);ft&&X.push(ft)}return new xi(X);case"FeatureCollection":for(Me=0,Ve=A.features.length;Me<Ve;Me++){var Bt=Hl(A.features[Me],g);Bt&&X.push(Bt)}return new xi(X);default:throw new Error("Invalid GeoJSON object.")}}function Mu(h,g,A,z){return h?h(g,A):new gi(A,z&&z.markersInheritOptions&&z)}function Du(h){return new ae(h[1],h[0],h[2])}function ed(h,g,A){for(var z=[],X=0,le=h.length,pe;X<le;X++)pe=g?ed(h[X],g-1,A):(A||Du)(h[X]),z.push(pe);return z}function Ru(h,g){return h=oe(h),h.alt!==void 0?[x(h.lng,g),x(h.lat,g),x(h.alt,g)]:[x(h.lng,g),x(h.lat,g)]}function Iu(h,g,A,z){for(var X=[],le=0,pe=h.length;le<pe;le++)X.push(g?Iu(h[le],Bs(h[le])?0:g-1,A,z):Ru(h[le],z));return!g&&A&&X.length>0&&X.push(X[0].slice()),X}function Wl(h,g){return h.feature?a({},h.feature,{geometry:g}):Lu(g)}function Lu(h){return h.type==="Feature"||h.type==="FeatureCollection"?h:{type:"Feature",properties:{},geometry:h}}var Jm={toGeoJSON:function(h){return Wl(this,{type:"Point",coordinates:Ru(this.getLatLng(),h)})}};gi.include(Jm),Ou.include(Jm),Tu.include(Jm),_s.include({toGeoJSON:function(h){var g=!Bs(this._latlngs),A=Iu(this._latlngs,g?1:0,!1,h);return Wl(this,{type:(g?"Multi":"")+"LineString",coordinates:A})}}),vi.include({toGeoJSON:function(h){var g=!Bs(this._latlngs),A=g&&!Bs(this._latlngs[0]),z=Iu(this._latlngs,A?2:g?1:0,!0,h);return g||(z=[z]),Wl(this,{type:(A?"Multi":"")+"Polygon",coordinates:z})}}),eo.include({toMultiPoint:function(h){var g=[];return this.eachLayer(function(A){g.push(A.toGeoJSON(h).geometry.coordinates)}),Wl(this,{type:"MultiPoint",coordinates:g})},toGeoJSON:function(h){var g=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(g==="MultiPoint")return this.toMultiPoint(h);var A=g==="GeometryCollection",z=[];return this.eachLayer(function(X){if(X.toGeoJSON){var le=X.toGeoJSON(h);if(A)z.push(le.geometry);else{var pe=Lu(le);pe.type==="FeatureCollection"?z.push.apply(z,pe.features):z.push(pe)}}}),A?Wl(this,{geometries:z,type:"GeometryCollection"}):{type:"FeatureCollection",features:z}}});function Gx(h,g){return new Ba(h,g)}var ca=Gx,ro=la.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(h,g,A){this._url=h,this._bounds=ee(g),y(this,A)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Ot(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Fr(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(h){return this.options.opacity=h,this._image&&this._updateOpacity(),this},setStyle:function(h){return h.opacity&&this.setOpacity(h.opacity),this},bringToFront:function(){return this._map&&Dl(this._image),this},bringToBack:function(){return this._map&&mi(this._image),this},setUrl:function(h){return this._url=h,this._image&&(this._image.src=h),this},setBounds:function(h){return this._bounds=ee(h),this._map&&this._reset(),this},getEvents:function(){var h={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(h.zoomanim=this._animateZoom),h},setZIndex:function(h){return this.options.zIndex=h,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var h=this._url.tagName==="IMG",g=this._image=h?this._url:Tt("img");if(Ot(g,"leaflet-image-layer"),this._zoomAnimated&&Ot(g,"leaflet-zoom-animated"),this.options.className&&Ot(g,this.options.className),g.onselectstart=p,g.onmousemove=p,g.onload=o(this.fire,this,"load"),g.onerror=o(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(g.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),h){this._url=g.src;return}g.src=this._url,g.alt=this.options.alt},_animateZoom:function(h){var g=this._map.getZoomScale(h.zoom),A=this._map._latLngBoundsToNewLayerBounds(this._bounds,h.zoom,h.center).min;sa(this._image,A,g)},_reset:function(){var h=this._image,g=new q(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),A=g.getSize();hn(h,g.min),h.style.width=A.x+"px",h.style.height=A.y+"px"},_updateOpacity:function(){ls(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var h=this.options.errorOverlayUrl;h&&this._url!==h&&(this._url=h,this._image.src=h)},getCenter:function(){return this._bounds.getCenter()}}),Kx=function(h,g,A){return new ro(h,g,A)},Qm=ro.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var h=this._url.tagName==="VIDEO",g=this._image=h?this._url:Tt("video");if(Ot(g,"leaflet-image-layer"),this._zoomAnimated&&Ot(g,"leaflet-zoom-animated"),this.options.className&&Ot(g,this.options.className),g.onselectstart=p,g.onmousemove=p,g.onloadeddata=o(this.fire,this,"load"),h){for(var A=g.getElementsByTagName("source"),z=[],X=0;X<A.length;X++)z.push(A[X].src);this._url=A.length>0?z:[g.src];return}P(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(g.style,"objectFit")&&(g.style.objectFit="fill"),g.autoplay=!!this.options.autoplay,g.loop=!!this.options.loop,g.muted=!!this.options.muted,g.playsInline=!!this.options.playsInline;for(var le=0;le<this._url.length;le++){var pe=Tt("source");pe.src=this._url[le],g.appendChild(pe)}}});function Yx(h,g,A){return new Qm(h,g,A)}var ef=ro.extend({_initImage:function(){var h=this._image=this._url;Ot(h,"leaflet-image-layer"),this._zoomAnimated&&Ot(h,"leaflet-zoom-animated"),this.options.className&&Ot(h,this.options.className),h.onselectstart=p,h.onmousemove=p}});function tf(h,g,A){return new ef(h,g,A)}var Fa=la.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(h,g){h&&(h instanceof ae||P(h))?(this._latlng=oe(h),y(this,g)):(y(this,h),this._source=g),this.options.content&&(this._content=this.options.content)},openOn:function(h){return h=arguments.length?h:this._source._map,h.hasLayer(this)||h.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(h){return this._map?this.close():(arguments.length?this._source=h:h=this._source,this._prepareOpen(),this.openOn(h._map)),this},onAdd:function(h){this._zoomAnimated=h._zoomAnimated,this._container||this._initLayout(),h._fadeAnimated&&ls(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),h._fadeAnimated&&ls(this._container,1),this.bringToFront(),this.options.interactive&&(Ot(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(h){h._fadeAnimated?(ls(this._container,0),this._removeTimeout=setTimeout(o(Fr,void 0,this._container),200)):Fr(this._container),this.options.interactive&&(Er(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(h){return this._latlng=oe(h),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(h){return this._content=h,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var h={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(h.zoomanim=this._animateZoom),h},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Dl(this._container),this},bringToBack:function(){return this._map&&mi(this._container),this},_prepareOpen:function(h){var g=this._source;if(!g._map)return!1;if(g instanceof xi){g=null;var A=this._source._layers;for(var z in A)if(A[z]._map){g=A[z];break}if(!g)return!1;this._source=g}if(!h)if(g.getCenter)h=g.getCenter();else if(g.getLatLng)h=g.getLatLng();else if(g.getBounds)h=g.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(h),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var h=this._contentNode,g=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof g=="string")h.innerHTML=g;else{for(;h.hasChildNodes();)h.removeChild(h.firstChild);h.appendChild(g)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var h=this._map.latLngToLayerPoint(this._latlng),g=I(this.options.offset),A=this._getAnchor();this._zoomAnimated?hn(this._container,h.add(A)):g=g.add(h).add(A);var z=this._containerBottom=-g.y,X=this._containerLeft=-Math.round(this._containerWidth/2)+g.x;this._container.style.bottom=z+"px",this._container.style.left=X+"px"}},_getAnchor:function(){return[0,0]}});qt.include({_initOverlay:function(h,g,A,z){var X=g;return X instanceof h||(X=new h(z).setContent(g)),A&&X.setLatLng(A),X}}),la.include({_initOverlay:function(h,g,A,z){var X=A;return X instanceof h?(y(X,z),X._source=this):(X=g&&!z?g:new h(z,this),X.setContent(A)),X}});var $u=Fa.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(h){return h=arguments.length?h:this._source._map,!h.hasLayer(this)&&h._popup&&h._popup.options.autoClose&&h.removeLayer(h._popup),h._popup=this,Fa.prototype.openOn.call(this,h)},onAdd:function(h){Fa.prototype.onAdd.call(this,h),h.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof to||this._source.on("preclick",$a))},onRemove:function(h){Fa.prototype.onRemove.call(this,h),h.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof to||this._source.off("preclick",$a))},getEvents:function(){var h=Fa.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(h.preclick=this.close),this.options.keepInView&&(h.moveend=this._adjustPan),h},_initLayout:function(){var h="leaflet-popup",g=this._container=Tt("div",h+" "+(this.options.className||"")+" leaflet-zoom-animated"),A=this._wrapper=Tt("div",h+"-content-wrapper",g);if(this._contentNode=Tt("div",h+"-content",A),Yc(g),_u(this._contentNode),kt(g,"contextmenu",$a),this._tipContainer=Tt("div",h+"-tip-container",g),this._tip=Tt("div",h+"-tip",this._tipContainer),this.options.closeButton){var z=this._closeButton=Tt("a",h+"-close-button",g);z.setAttribute("role","button"),z.setAttribute("aria-label","Close popup"),z.href="#close",z.innerHTML='<span aria-hidden="true">&#215;</span>',kt(z,"click",function(X){Xr(X),this.close()},this)}},_updateLayout:function(){var h=this._contentNode,g=h.style;g.width="",g.whiteSpace="nowrap";var A=h.offsetWidth;A=Math.min(A,this.options.maxWidth),A=Math.max(A,this.options.minWidth),g.width=A+1+"px",g.whiteSpace="",g.height="";var z=h.offsetHeight,X=this.options.maxHeight,le="leaflet-popup-scrolled";X&&z>X?(g.height=X+"px",Ot(h,le)):Er(h,le),this._containerWidth=this._container.offsetWidth},_animateZoom:function(h){var g=this._map._latLngToNewLayerPoint(this._latlng,h.zoom,h.center),A=this._getAnchor();hn(this._container,g.add(A))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var h=this._map,g=parseInt(na(this._container,"marginBottom"),10)||0,A=this._container.offsetHeight+g,z=this._containerWidth,X=new R(this._containerLeft,-A-this._containerBottom);X._add(fi(this._container));var le=h.layerPointToContainerPoint(X),pe=I(this.options.autoPanPadding),be=I(this.options.autoPanPaddingTopLeft||pe),Ne=I(this.options.autoPanPaddingBottomRight||pe),Me=h.getSize(),Ve=0,ft=0;le.x+z+Ne.x>Me.x&&(Ve=le.x+z-Me.x+Ne.x),le.x-Ve-be.x<0&&(Ve=le.x-be.x),le.y+A+Ne.y>Me.y&&(ft=le.y+A-Me.y+Ne.y),le.y-ft-be.y<0&&(ft=le.y-be.y),(Ve||ft)&&(this.options.keepInView&&(this._autopanning=!0),h.fire("autopanstart").panBy([Ve,ft]))}},_getAnchor:function(){return I(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),ql=function(h,g){return new $u(h,g)};qt.mergeOptions({closePopupOnClick:!0}),qt.include({openPopup:function(h,g,A){return this._initOverlay($u,h,g,A).openOn(this),this},closePopup:function(h){return h=arguments.length?h:this._popup,h&&h.close(),this}}),la.include({bindPopup:function(h,g){return this._popup=this._initOverlay($u,this._popup,h,g),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(h){return this._popup&&(this instanceof xi||(this._popup._source=this),this._popup._prepareOpen(h||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(h){return this._popup&&this._popup.setContent(h),this},getPopup:function(){return this._popup},_openPopup:function(h){if(!(!this._popup||!this._map)){ia(h);var g=h.layer||h.target;if(this._popup._source===g&&!(g instanceof to)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(h.latlng);return}this._popup._source=g,this.openPopup(h.latlng)}},_movePopup:function(h){this._popup.setLatLng(h.latlng)},_onKeyPress:function(h){h.originalEvent.keyCode===13&&this._openPopup(h)}});var Vl=Fa.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(h){Fa.prototype.onAdd.call(this,h),this.setOpacity(this.options.opacity),h.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(h){Fa.prototype.onRemove.call(this,h),h.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var h=Fa.prototype.getEvents.call(this);return this.options.permanent||(h.preclick=this.close),h},_initLayout:function(){var h="leaflet-tooltip",g=h+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Tt("div",g),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+c(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(h){var g,A,z=this._map,X=this._container,le=z.latLngToContainerPoint(z.getCenter()),pe=z.layerPointToContainerPoint(h),be=this.options.direction,Ne=X.offsetWidth,Me=X.offsetHeight,Ve=I(this.options.offset),ft=this._getAnchor();be==="top"?(g=Ne/2,A=Me):be==="bottom"?(g=Ne/2,A=0):be==="center"?(g=Ne/2,A=Me/2):be==="right"?(g=0,A=Me/2):be==="left"?(g=Ne,A=Me/2):pe.x<le.x?(be="right",g=0,A=Me/2):(be="left",g=Ne+(Ve.x+ft.x)*2,A=Me/2),h=h.subtract(I(g,A,!0)).add(Ve).add(ft),Er(X,"leaflet-tooltip-right"),Er(X,"leaflet-tooltip-left"),Er(X,"leaflet-tooltip-top"),Er(X,"leaflet-tooltip-bottom"),Ot(X,"leaflet-tooltip-"+be),hn(X,h)},_updatePosition:function(){var h=this._map.latLngToLayerPoint(this._latlng);this._setPosition(h)},setOpacity:function(h){this.options.opacity=h,this._container&&ls(this._container,h)},_animateZoom:function(h){var g=this._map._latLngToNewLayerPoint(this._latlng,h.zoom,h.center);this._setPosition(g)},_getAnchor:function(){return I(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),td=function(h,g){return new Vl(h,g)};qt.include({openTooltip:function(h,g,A){return this._initOverlay(Vl,h,g,A).openOn(this),this},closeTooltip:function(h){return h.close(),this}}),la.include({bindTooltip:function(h,g){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Vl,this._tooltip,h,g),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(h){if(!(!h&&this._tooltipHandlersAdded)){var g=h?"off":"on",A={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?A.add=this._openTooltip:(A.mouseover=this._openTooltip,A.mouseout=this.closeTooltip,A.click=this._openTooltip,this._map?this._addFocusListeners():A.add=this._addFocusListeners),this._tooltip.options.sticky&&(A.mousemove=this._moveTooltip),this[g](A),this._tooltipHandlersAdded=!h}},openTooltip:function(h){return this._tooltip&&(this instanceof xi||(this._tooltip._source=this),this._tooltip._prepareOpen(h)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(h){return this._tooltip&&this._tooltip.setContent(h),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(h){var g=typeof h.getElement=="function"&&h.getElement();g&&(kt(g,"focus",function(){this._tooltip._source=h,this.openTooltip()},this),kt(g,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(h){var g=typeof h.getElement=="function"&&h.getElement();g&&g.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(h){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var g=this;this._map.once("moveend",function(){g._openOnceFlag=!1,g._openTooltip(h)});return}this._tooltip._source=h.layer||h.target,this.openTooltip(this._tooltip.options.sticky?h.latlng:void 0)}},_moveTooltip:function(h){var g=h.latlng,A,z;this._tooltip.options.sticky&&h.originalEvent&&(A=this._map.mouseEventToContainerPoint(h.originalEvent),z=this._map.containerPointToLayerPoint(A),g=this._map.layerPointToLatLng(z)),this._tooltip.setLatLng(g)}});var Bu=Ho.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(h){var g=h&&h.tagName==="DIV"?h:document.createElement("div"),A=this.options;if(A.html instanceof Element?(yu(g),g.appendChild(A.html)):g.innerHTML=A.html!==!1?A.html:"",A.bgPos){var z=I(A.bgPos);g.style.backgroundPosition=-z.x+"px "+-z.y+"px"}return this._setIconStyles(g,"icon"),g},createShadow:function(){return null}});function Zx(h){return new Bu(h)}Ho.Default=Ul;var no=la.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Ye.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(h){y(this,h)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(h){h._addZoomLimit(this)},onRemove:function(h){this._removeAllTiles(),Fr(this._container),h._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Dl(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(mi(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(h){return this.options.opacity=h,this._updateOpacity(),this},setZIndex:function(h){return this.options.zIndex=h,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var h=this._clampZoom(this._map.getZoom());h!==this._tileZoom&&(this._tileZoom=h,this._updateLevels()),this._update()}return this},getEvents:function(){var h={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=u(this._onMoveEnd,this.options.updateInterval,this)),h.move=this._onMove),this._zoomAnimated&&(h.zoomanim=this._animateZoom),h},createTile:function(){return document.createElement("div")},getTileSize:function(){var h=this.options.tileSize;return h instanceof R?h:new R(h,h)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(h){for(var g=this.getPane().children,A=-h(-1/0,1/0),z=0,X=g.length,le;z<X;z++)le=g[z].style.zIndex,g[z]!==this._container&&le&&(A=h(A,+le));isFinite(A)&&(this.options.zIndex=A+h(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Ye.ielt9){ls(this._container,this.options.opacity);var h=+new Date,g=!1,A=!1;for(var z in this._tiles){var X=this._tiles[z];if(!(!X.current||!X.loaded)){var le=Math.min(1,(h-X.loaded)/200);ls(X.el,le),le<1?g=!0:(X.active?A=!0:this._onOpaqueTile(X),X.active=!0)}}A&&!this._noPrune&&this._pruneTiles(),g&&(K(this._fadeFrame),this._fadeFrame=H(this._updateOpacity,this))}},_onOpaqueTile:p,_initContainer:function(){this._container||(this._container=Tt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var h=this._tileZoom,g=this.options.maxZoom;if(h!==void 0){for(var A in this._levels)A=Number(A),this._levels[A].el.children.length||A===h?(this._levels[A].el.style.zIndex=g-Math.abs(h-A),this._onUpdateLevel(A)):(Fr(this._levels[A].el),this._removeTilesAtZoom(A),this._onRemoveLevel(A),delete this._levels[A]);var z=this._levels[h],X=this._map;return z||(z=this._levels[h]={},z.el=Tt("div","leaflet-tile-container leaflet-zoom-animated",this._container),z.el.style.zIndex=g,z.origin=X.project(X.unproject(X.getPixelOrigin()),h).round(),z.zoom=h,this._setZoomTransform(z,X.getCenter(),X.getZoom()),p(z.el.offsetWidth),this._onCreateLevel(z)),this._level=z,z}},_onUpdateLevel:p,_onRemoveLevel:p,_onCreateLevel:p,_pruneTiles:function(){if(this._map){var h,g,A=this._map.getZoom();if(A>this.options.maxZoom||A<this.options.minZoom){this._removeAllTiles();return}for(h in this._tiles)g=this._tiles[h],g.retain=g.current;for(h in this._tiles)if(g=this._tiles[h],g.current&&!g.active){var z=g.coords;this._retainParent(z.x,z.y,z.z,z.z-5)||this._retainChildren(z.x,z.y,z.z,z.z+2)}for(h in this._tiles)this._tiles[h].retain||this._removeTile(h)}},_removeTilesAtZoom:function(h){for(var g in this._tiles)this._tiles[g].coords.z===h&&this._removeTile(g)},_removeAllTiles:function(){for(var h in this._tiles)this._removeTile(h)},_invalidateAll:function(){for(var h in this._levels)Fr(this._levels[h].el),this._onRemoveLevel(Number(h)),delete this._levels[h];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(h,g,A,z){var X=Math.floor(h/2),le=Math.floor(g/2),pe=A-1,be=new R(+X,+le);be.z=+pe;var Ne=this._tileCoordsToKey(be),Me=this._tiles[Ne];return Me&&Me.active?(Me.retain=!0,!0):(Me&&Me.loaded&&(Me.retain=!0),pe>z?this._retainParent(X,le,pe,z):!1)},_retainChildren:function(h,g,A,z){for(var X=2*h;X<2*h+2;X++)for(var le=2*g;le<2*g+2;le++){var pe=new R(X,le);pe.z=A+1;var be=this._tileCoordsToKey(pe),Ne=this._tiles[be];if(Ne&&Ne.active){Ne.retain=!0;continue}else Ne&&Ne.loaded&&(Ne.retain=!0);A+1<z&&this._retainChildren(X,le,A+1,z)}},_resetView:function(h){var g=h&&(h.pinch||h.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),g,g)},_animateZoom:function(h){this._setView(h.center,h.zoom,!0,h.noUpdate)},_clampZoom:function(h){var g=this.options;return g.minNativeZoom!==void 0&&h<g.minNativeZoom?g.minNativeZoom:g.maxNativeZoom!==void 0&&g.maxNativeZoom<h?g.maxNativeZoom:h},_setView:function(h,g,A,z){var X=Math.round(g);this.options.maxZoom!==void 0&&X>this.options.maxZoom||this.options.minZoom!==void 0&&X<this.options.minZoom?X=void 0:X=this._clampZoom(X);var le=this.options.updateWhenZooming&&X!==this._tileZoom;(!z||le)&&(this._tileZoom=X,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),X!==void 0&&this._update(h),A||this._pruneTiles(),this._noPrune=!!A),this._setZoomTransforms(h,g)},_setZoomTransforms:function(h,g){for(var A in this._levels)this._setZoomTransform(this._levels[A],h,g)},_setZoomTransform:function(h,g,A){var z=this._map.getZoomScale(A,h.zoom),X=h.origin.multiplyBy(z).subtract(this._map._getNewPixelOrigin(g,A)).round();Ye.any3d?sa(h.el,X,z):hn(h.el,X)},_resetGrid:function(){var h=this._map,g=h.options.crs,A=this._tileSize=this.getTileSize(),z=this._tileZoom,X=this._map.getPixelWorldBounds(this._tileZoom);X&&(this._globalTileRange=this._pxBoundsToTileRange(X)),this._wrapX=g.wrapLng&&!this.options.noWrap&&[Math.floor(h.project([0,g.wrapLng[0]],z).x/A.x),Math.ceil(h.project([0,g.wrapLng[1]],z).x/A.y)],this._wrapY=g.wrapLat&&!this.options.noWrap&&[Math.floor(h.project([g.wrapLat[0],0],z).y/A.x),Math.ceil(h.project([g.wrapLat[1],0],z).y/A.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(h){var g=this._map,A=g._animatingZoom?Math.max(g._animateToZoom,g.getZoom()):g.getZoom(),z=g.getZoomScale(A,this._tileZoom),X=g.project(h,this._tileZoom).floor(),le=g.getSize().divideBy(z*2);return new q(X.subtract(le),X.add(le))},_update:function(h){var g=this._map;if(g){var A=this._clampZoom(g.getZoom());if(h===void 0&&(h=g.getCenter()),this._tileZoom!==void 0){var z=this._getTiledPixelBounds(h),X=this._pxBoundsToTileRange(z),le=X.getCenter(),pe=[],be=this.options.keepBuffer,Ne=new q(X.getBottomLeft().subtract([be,-be]),X.getTopRight().add([be,-be]));if(!(isFinite(X.min.x)&&isFinite(X.min.y)&&isFinite(X.max.x)&&isFinite(X.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var Me in this._tiles){var Ve=this._tiles[Me].coords;(Ve.z!==this._tileZoom||!Ne.contains(new R(Ve.x,Ve.y)))&&(this._tiles[Me].current=!1)}if(Math.abs(A-this._tileZoom)>1){this._setView(h,A);return}for(var ft=X.min.y;ft<=X.max.y;ft++)for(var Bt=X.min.x;Bt<=X.max.x;Bt++){var Mn=new R(Bt,ft);if(Mn.z=this._tileZoom,!!this._isValidTile(Mn)){var _n=this._tiles[this._tileCoordsToKey(Mn)];_n?_n.current=!0:pe.push(Mn)}}if(pe.sort(function(ds,Xl){return ds.distanceTo(le)-Xl.distanceTo(le)}),pe.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var ks=document.createDocumentFragment();for(Bt=0;Bt<pe.length;Bt++)this._addTile(pe[Bt],ks);this._level.el.appendChild(ks)}}}},_isValidTile:function(h){var g=this._map.options.crs;if(!g.infinite){var A=this._globalTileRange;if(!g.wrapLng&&(h.x<A.min.x||h.x>A.max.x)||!g.wrapLat&&(h.y<A.min.y||h.y>A.max.y))return!1}if(!this.options.bounds)return!0;var z=this._tileCoordsToBounds(h);return ee(this.options.bounds).overlaps(z)},_keyToBounds:function(h){return this._tileCoordsToBounds(this._keyToTileCoords(h))},_tileCoordsToNwSe:function(h){var g=this._map,A=this.getTileSize(),z=h.scaleBy(A),X=z.add(A),le=g.unproject(z,h.z),pe=g.unproject(X,h.z);return[le,pe]},_tileCoordsToBounds:function(h){var g=this._tileCoordsToNwSe(h),A=new ie(g[0],g[1]);return this.options.noWrap||(A=this._map.wrapLatLngBounds(A)),A},_tileCoordsToKey:function(h){return h.x+":"+h.y+":"+h.z},_keyToTileCoords:function(h){var g=h.split(":"),A=new R(+g[0],+g[1]);return A.z=+g[2],A},_removeTile:function(h){var g=this._tiles[h];g&&(Fr(g.el),delete this._tiles[h],this.fire("tileunload",{tile:g.el,coords:this._keyToTileCoords(h)}))},_initTile:function(h){Ot(h,"leaflet-tile");var g=this.getTileSize();h.style.width=g.x+"px",h.style.height=g.y+"px",h.onselectstart=p,h.onmousemove=p,Ye.ielt9&&this.options.opacity<1&&ls(h,this.options.opacity)},_addTile:function(h,g){var A=this._getTilePos(h),z=this._tileCoordsToKey(h),X=this.createTile(this._wrapCoords(h),o(this._tileReady,this,h));this._initTile(X),this.createTile.length<2&&H(o(this._tileReady,this,h,null,X)),hn(X,A),this._tiles[z]={el:X,coords:h,current:!0},g.appendChild(X),this.fire("tileloadstart",{tile:X,coords:h})},_tileReady:function(h,g,A){g&&this.fire("tileerror",{error:g,tile:A,coords:h});var z=this._tileCoordsToKey(h);A=this._tiles[z],A&&(A.loaded=+new Date,this._map._fadeAnimated?(ls(A.el,0),K(this._fadeFrame),this._fadeFrame=H(this._updateOpacity,this)):(A.active=!0,this._pruneTiles()),g||(Ot(A.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:A.el,coords:h})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Ye.ielt9||!this._map._fadeAnimated?H(this._pruneTiles,this):setTimeout(o(this._pruneTiles,this),250)))},_getTilePos:function(h){return h.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(h){var g=new R(this._wrapX?m(h.x,this._wrapX):h.x,this._wrapY?m(h.y,this._wrapY):h.y);return g.z=h.z,g},_pxBoundsToTileRange:function(h){var g=this.getTileSize();return new q(h.min.unscaleBy(g).floor(),h.max.unscaleBy(g).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var h in this._tiles)if(!this._tiles[h].loaded)return!1;return!0}});function Gl(h){return new no(h)}var so=no.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(h,g){this._url=h,g=y(this,g),g.detectRetina&&Ye.retina&&g.maxZoom>0?(g.tileSize=Math.floor(g.tileSize/2),g.zoomReverse?(g.zoomOffset--,g.minZoom=Math.min(g.maxZoom,g.minZoom+1)):(g.zoomOffset++,g.maxZoom=Math.max(g.minZoom,g.maxZoom-1)),g.minZoom=Math.max(0,g.minZoom)):g.zoomReverse?g.minZoom=Math.min(g.maxZoom,g.minZoom):g.maxZoom=Math.max(g.minZoom,g.maxZoom),typeof g.subdomains=="string"&&(g.subdomains=g.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(h,g){return this._url===h&&g===void 0&&(g=!0),this._url=h,g||this.redraw(),this},createTile:function(h,g){var A=document.createElement("img");return kt(A,"load",o(this._tileOnLoad,this,g,A)),kt(A,"error",o(this._tileOnError,this,g,A)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(A.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(A.referrerPolicy=this.options.referrerPolicy),A.alt="",A.src=this.getTileUrl(h),A},getTileUrl:function(h){var g={r:Ye.retina?"@2x":"",s:this._getSubdomain(h),x:h.x,y:h.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var A=this._globalTileRange.max.y-h.y;this.options.tms&&(g.y=A),g["-y"]=A}return C(this._url,a(g,this.options))},_tileOnLoad:function(h,g){Ye.ielt9?setTimeout(o(h,this,null,g),0):h(null,g)},_tileOnError:function(h,g,A){var z=this.options.errorTileUrl;z&&g.getAttribute("src")!==z&&(g.src=z),h(A,g)},_onTileRemove:function(h){h.tile.onload=null},_getZoomForUrl:function(){var h=this._tileZoom,g=this.options.maxZoom,A=this.options.zoomReverse,z=this.options.zoomOffset;return A&&(h=g-h),h+z},_getSubdomain:function(h){var g=Math.abs(h.x+h.y)%this.options.subdomains.length;return this.options.subdomains[g]},_abortLoading:function(){var h,g;for(h in this._tiles)if(this._tiles[h].coords.z!==this._tileZoom&&(g=this._tiles[h].el,g.onload=p,g.onerror=p,!g.complete)){g.src=_;var A=this._tiles[h].coords;Fr(g),delete this._tiles[h],this.fire("tileabort",{tile:g,coords:A})}},_removeTile:function(h){var g=this._tiles[h];if(g)return g.el.setAttribute("src",_),no.prototype._removeTile.call(this,h)},_tileReady:function(h,g,A){if(!(!this._map||A&&A.getAttribute("src")===_))return no.prototype._tileReady.call(this,h,g,A)}});function rf(h,g){return new so(h,g)}var rd=so.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(h,g){this._url=h;var A=a({},this.defaultWmsParams);for(var z in g)z in this.options||(A[z]=g[z]);g=y(this,g);var X=g.detectRetina&&Ye.retina?2:1,le=this.getTileSize();A.width=le.x*X,A.height=le.y*X,this.wmsParams=A},onAdd:function(h){this._crs=this.options.crs||h.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var g=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[g]=this._crs.code,so.prototype.onAdd.call(this,h)},getTileUrl:function(h){var g=this._tileCoordsToNwSe(h),A=this._crs,z=J(A.project(g[0]),A.project(g[1])),X=z.min,le=z.max,pe=(this._wmsVersion>=1.3&&this._crs===Hx?[X.y,X.x,le.y,le.x]:[X.x,X.y,le.x,le.y]).join(","),be=so.prototype.getTileUrl.call(this,h);return be+j(this.wmsParams,be,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+pe},setParams:function(h,g){return a(this.wmsParams,h),g||this.redraw(),this}});function Xx(h,g){return new rd(h,g)}so.WMS=rd,rf.wms=Xx;var za=la.extend({options:{padding:.1},initialize:function(h){y(this,h),c(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Ot(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var h={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(h.zoomanim=this._onAnimZoom),h},_onAnimZoom:function(h){this._updateTransform(h.center,h.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(h,g){var A=this._map.getZoomScale(g,this._zoom),z=this._map.getSize().multiplyBy(.5+this.options.padding),X=this._map.project(this._center,g),le=z.multiplyBy(-A).add(X).subtract(this._map._getNewPixelOrigin(h,g));Ye.any3d?sa(this._container,le,A):hn(this._container,le)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var h in this._layers)this._layers[h]._reset()},_onZoomEnd:function(){for(var h in this._layers)this._layers[h]._project()},_updatePaths:function(){for(var h in this._layers)this._layers[h]._update()},_update:function(){var h=this.options.padding,g=this._map.getSize(),A=this._map.containerPointToLayerPoint(g.multiplyBy(-h)).round();this._bounds=new q(A,A.add(g.multiplyBy(1+h*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),nf=za.extend({options:{tolerance:0},getEvents:function(){var h=za.prototype.getEvents.call(this);return h.viewprereset=this._onViewPreReset,h},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){za.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var h=this._container=document.createElement("canvas");kt(h,"mousemove",this._onMouseMove,this),kt(h,"click dblclick mousedown mouseup contextmenu",this._onClick,this),kt(h,"mouseout",this._handleMouseOut,this),h._leaflet_disable_events=!0,this._ctx=h.getContext("2d")},_destroyContainer:function(){K(this._redrawRequest),delete this._ctx,Fr(this._container),jr(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var h;this._redrawBounds=null;for(var g in this._layers)h=this._layers[g],h._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){za.prototype._update.call(this);var h=this._bounds,g=this._container,A=h.getSize(),z=Ye.retina?2:1;hn(g,h.min),g.width=z*A.x,g.height=z*A.y,g.style.width=A.x+"px",g.style.height=A.y+"px",Ye.retina&&this._ctx.scale(2,2),this._ctx.translate(-h.min.x,-h.min.y),this.fire("update")}},_reset:function(){za.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(h){this._updateDashArray(h),this._layers[c(h)]=h;var g=h._order={layer:h,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=g),this._drawLast=g,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(h){this._requestRedraw(h)},_removePath:function(h){var g=h._order,A=g.next,z=g.prev;A?A.prev=z:this._drawLast=z,z?z.next=A:this._drawFirst=A,delete h._order,delete this._layers[c(h)],this._requestRedraw(h)},_updatePath:function(h){this._extendRedrawBounds(h),h._project(),h._update(),this._requestRedraw(h)},_updateStyle:function(h){this._updateDashArray(h),this._requestRedraw(h)},_updateDashArray:function(h){if(typeof h.options.dashArray=="string"){var g=h.options.dashArray.split(/[, ]+/),A=[],z,X;for(X=0;X<g.length;X++){if(z=Number(g[X]),isNaN(z))return;A.push(z)}h.options._dashArray=A}else h.options._dashArray=h.options.dashArray},_requestRedraw:function(h){this._map&&(this._extendRedrawBounds(h),this._redrawRequest=this._redrawRequest||H(this._redraw,this))},_extendRedrawBounds:function(h){if(h._pxBounds){var g=(h.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new q,this._redrawBounds.extend(h._pxBounds.min.subtract([g,g])),this._redrawBounds.extend(h._pxBounds.max.add([g,g]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var h=this._redrawBounds;if(h){var g=h.getSize();this._ctx.clearRect(h.min.x,h.min.y,g.x,g.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var h,g=this._redrawBounds;if(this._ctx.save(),g){var A=g.getSize();this._ctx.beginPath(),this._ctx.rect(g.min.x,g.min.y,A.x,A.y),this._ctx.clip()}this._drawing=!0;for(var z=this._drawFirst;z;z=z.next)h=z.layer,(!g||h._pxBounds&&h._pxBounds.intersects(g))&&h._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(h,g){if(this._drawing){var A,z,X,le,pe=h._parts,be=pe.length,Ne=this._ctx;if(be){for(Ne.beginPath(),A=0;A<be;A++){for(z=0,X=pe[A].length;z<X;z++)le=pe[A][z],Ne[z?"lineTo":"moveTo"](le.x,le.y);g&&Ne.closePath()}this._fillStroke(Ne,h)}}},_updateCircle:function(h){if(!(!this._drawing||h._empty())){var g=h._point,A=this._ctx,z=Math.max(Math.round(h._radius),1),X=(Math.max(Math.round(h._radiusY),1)||z)/z;X!==1&&(A.save(),A.scale(1,X)),A.beginPath(),A.arc(g.x,g.y/X,z,0,Math.PI*2,!1),X!==1&&A.restore(),this._fillStroke(A,h)}},_fillStroke:function(h,g){var A=g.options;A.fill&&(h.globalAlpha=A.fillOpacity,h.fillStyle=A.fillColor||A.color,h.fill(A.fillRule||"evenodd")),A.stroke&&A.weight!==0&&(h.setLineDash&&h.setLineDash(g.options&&g.options._dashArray||[]),h.globalAlpha=A.opacity,h.lineWidth=A.weight,h.strokeStyle=A.color,h.lineCap=A.lineCap,h.lineJoin=A.lineJoin,h.stroke())},_onClick:function(h){for(var g=this._map.mouseEventToLayerPoint(h),A,z,X=this._drawFirst;X;X=X.next)A=X.layer,A.options.interactive&&A._containsPoint(g)&&(!(h.type==="click"||h.type==="preclick")||!this._map._draggableMoved(A))&&(z=A);this._fireEvent(z?[z]:!1,h)},_onMouseMove:function(h){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var g=this._map.mouseEventToLayerPoint(h);this._handleMouseHover(h,g)}},_handleMouseOut:function(h){var g=this._hoveredLayer;g&&(Er(this._container,"leaflet-interactive"),this._fireEvent([g],h,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(h,g){if(!this._mouseHoverThrottled){for(var A,z,X=this._drawFirst;X;X=X.next)A=X.layer,A.options.interactive&&A._containsPoint(g)&&(z=A);z!==this._hoveredLayer&&(this._handleMouseOut(h),z&&(Ot(this._container,"leaflet-interactive"),this._fireEvent([z],h,"mouseover"),this._hoveredLayer=z)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,h),this._mouseHoverThrottled=!0,setTimeout(o(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(h,g,A){this._map._fireDOMEvent(g,A||g.type,h)},_bringToFront:function(h){var g=h._order;if(g){var A=g.next,z=g.prev;if(A)A.prev=z;else return;z?z.next=A:A&&(this._drawFirst=A),g.prev=this._drawLast,this._drawLast.next=g,g.next=null,this._drawLast=g,this._requestRedraw(h)}},_bringToBack:function(h){var g=h._order;if(g){var A=g.next,z=g.prev;if(z)z.next=A;else return;A?A.prev=z:z&&(this._drawLast=z),g.prev=null,g.next=this._drawFirst,this._drawFirst.prev=g,this._drawFirst=g,this._requestRedraw(h)}}});function sf(h){return Ye.canvas?new nf(h):null}var Kl=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(h){return document.createElement("<lvml:"+h+' class="lvml">')}}catch{}return function(h){return document.createElement("<"+h+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),Jx={_initContainer:function(){this._container=Tt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(za.prototype._update.call(this),this.fire("update"))},_initPath:function(h){var g=h._container=Kl("shape");Ot(g,"leaflet-vml-shape "+(this.options.className||"")),g.coordsize="1 1",h._path=Kl("path"),g.appendChild(h._path),this._updateStyle(h),this._layers[c(h)]=h},_addPath:function(h){var g=h._container;this._container.appendChild(g),h.options.interactive&&h.addInteractiveTarget(g)},_removePath:function(h){var g=h._container;Fr(g),h.removeInteractiveTarget(g),delete this._layers[c(h)]},_updateStyle:function(h){var g=h._stroke,A=h._fill,z=h.options,X=h._container;X.stroked=!!z.stroke,X.filled=!!z.fill,z.stroke?(g||(g=h._stroke=Kl("stroke")),X.appendChild(g),g.weight=z.weight+"px",g.color=z.color,g.opacity=z.opacity,z.dashArray?g.dashStyle=P(z.dashArray)?z.dashArray.join(" "):z.dashArray.replace(/( *, *)/g," "):g.dashStyle="",g.endcap=z.lineCap.replace("butt","flat"),g.joinstyle=z.lineJoin):g&&(X.removeChild(g),h._stroke=null),z.fill?(A||(A=h._fill=Kl("fill")),X.appendChild(A),A.color=z.fillColor||z.color,A.opacity=z.fillOpacity):A&&(X.removeChild(A),h._fill=null)},_updateCircle:function(h){var g=h._point.round(),A=Math.round(h._radius),z=Math.round(h._radiusY||A);this._setPath(h,h._empty()?"M0 0":"AL "+g.x+","+g.y+" "+A+","+z+" 0,"+65535*360)},_setPath:function(h,g){h._path.v=g},_bringToFront:function(h){Dl(h._container)},_bringToBack:function(h){mi(h._container)}},da=Ye.vml?Kl:$e,Wo=za.extend({_initContainer:function(){this._container=da("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=da("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Fr(this._container),jr(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){za.prototype._update.call(this);var h=this._bounds,g=h.getSize(),A=this._container;(!this._svgSize||!this._svgSize.equals(g))&&(this._svgSize=g,A.setAttribute("width",g.x),A.setAttribute("height",g.y)),hn(A,h.min),A.setAttribute("viewBox",[h.min.x,h.min.y,g.x,g.y].join(" ")),this.fire("update")}},_initPath:function(h){var g=h._path=da("path");h.options.className&&Ot(g,h.options.className),h.options.interactive&&Ot(g,"leaflet-interactive"),this._updateStyle(h),this._layers[c(h)]=h},_addPath:function(h){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(h._path),h.addInteractiveTarget(h._path)},_removePath:function(h){Fr(h._path),h.removeInteractiveTarget(h._path),delete this._layers[c(h)]},_updatePath:function(h){h._project(),h._update()},_updateStyle:function(h){var g=h._path,A=h.options;g&&(A.stroke?(g.setAttribute("stroke",A.color),g.setAttribute("stroke-opacity",A.opacity),g.setAttribute("stroke-width",A.weight),g.setAttribute("stroke-linecap",A.lineCap),g.setAttribute("stroke-linejoin",A.lineJoin),A.dashArray?g.setAttribute("stroke-dasharray",A.dashArray):g.removeAttribute("stroke-dasharray"),A.dashOffset?g.setAttribute("stroke-dashoffset",A.dashOffset):g.removeAttribute("stroke-dashoffset")):g.setAttribute("stroke","none"),A.fill?(g.setAttribute("fill",A.fillColor||A.color),g.setAttribute("fill-opacity",A.fillOpacity),g.setAttribute("fill-rule",A.fillRule||"evenodd")):g.setAttribute("fill","none"))},_updatePoly:function(h,g){this._setPath(h,qe(h._parts,g))},_updateCircle:function(h){var g=h._point,A=Math.max(Math.round(h._radius),1),z=Math.max(Math.round(h._radiusY),1)||A,X="a"+A+","+z+" 0 1,0 ",le=h._empty()?"M0 0":"M"+(g.x-A)+","+g.y+X+A*2+",0 "+X+-A*2+",0 ";this._setPath(h,le)},_setPath:function(h,g){h._path.setAttribute("d",g)},_bringToFront:function(h){Dl(h._path)},_bringToBack:function(h){mi(h._path)}});Ye.vml&&Wo.include(Jx);function Fu(h){return Ye.svg||Ye.vml?new Wo(h):null}qt.include({getRenderer:function(h){var g=h.options.renderer||this._getPaneRenderer(h.options.pane)||this.options.renderer||this._renderer;return g||(g=this._renderer=this._createRenderer()),this.hasLayer(g)||this.addLayer(g),g},_getPaneRenderer:function(h){if(h==="overlayPane"||h===void 0)return!1;var g=this._paneRenderers[h];return g===void 0&&(g=this._createRenderer({pane:h}),this._paneRenderers[h]=g),g},_createRenderer:function(h){return this.options.preferCanvas&&sf(h)||Fu(h)}});var Qx=vi.extend({initialize:function(h,g){vi.prototype.initialize.call(this,this._boundsToLatLngs(h),g)},setBounds:function(h){return this.setLatLngs(this._boundsToLatLngs(h))},_boundsToLatLngs:function(h){return h=ee(h),[h.getSouthWest(),h.getNorthWest(),h.getNorthEast(),h.getSouthEast()]}});function Cb(h,g){return new Qx(h,g)}Wo.create=da,Wo.pointsToPath=qe,Ba.geometryToLayer=Hl,Ba.coordsToLatLng=Du,Ba.coordsToLatLngs=ed,Ba.latLngToCoords=Ru,Ba.latLngsToCoords=Iu,Ba.getFeature=Wl,Ba.asFeature=Lu,qt.mergeOptions({boxZoom:!0});var Yl=$s.extend({initialize:function(h){this._map=h,this._container=h._container,this._pane=h._panes.overlayPane,this._resetStateTimeout=0,h.on("unload",this._destroy,this)},addHooks:function(){kt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){jr(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Fr(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(h){if(!h.shiftKey||h.which!==1&&h.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Qt(),wu(),this._startPoint=this._map.mouseEventToContainerPoint(h),kt(document,{contextmenu:ia,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(h){this._moved||(this._moved=!0,this._box=Tt("div","leaflet-zoom-box",this._container),Ot(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(h);var g=new q(this._point,this._startPoint),A=g.getSize();hn(this._box,g.min),this._box.style.width=A.x+"px",this._box.style.height=A.y+"px"},_finish:function(){this._moved&&(Fr(this._box),Er(this._container,"leaflet-crosshair")),Ll(),Nu(),jr(document,{contextmenu:ia,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(h){if(!(h.which!==1&&h.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(o(this._resetState,this),0);var g=new ie(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(g).fire("boxzoomend",{boxZoomBounds:g})}},_onKeyDown:function(h){h.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});qt.addInitHook("addHandler","boxZoom",Yl),qt.mergeOptions({doubleClickZoom:!0});var eg=$s.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(h){var g=this._map,A=g.getZoom(),z=g.options.zoomDelta,X=h.originalEvent.shiftKey?A-z:A+z;g.options.doubleClickZoom==="center"?g.setZoom(X):g.setZoomAround(h.containerPoint,X)}});qt.addInitHook("addHandler","doubleClickZoom",eg),qt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var af=$s.extend({addHooks:function(){if(!this._draggable){var h=this._map;this._draggable=new oa(h._mapPane,h._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),h.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),h.on("zoomend",this._onZoomEnd,this),h.whenReady(this._onZoomEnd,this))}Ot(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Er(this._map._container,"leaflet-grab"),Er(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var h=this._map;if(h._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var g=ee(this._map.options.maxBounds);this._offsetLimit=J(this._map.latLngToContainerPoint(g.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(g.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;h.fire("movestart").fire("dragstart"),h.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(h){if(this._map.options.inertia){var g=this._lastTime=+new Date,A=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(A),this._times.push(g),this._prunePositions(g)}this._map.fire("move",h).fire("drag",h)},_prunePositions:function(h){for(;this._positions.length>1&&h-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var h=this._map.getSize().divideBy(2),g=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=g.subtract(h).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(h,g){return h-(h-g)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var h=this._draggable._newPos.subtract(this._draggable._startPos),g=this._offsetLimit;h.x<g.min.x&&(h.x=this._viscousLimit(h.x,g.min.x)),h.y<g.min.y&&(h.y=this._viscousLimit(h.y,g.min.y)),h.x>g.max.x&&(h.x=this._viscousLimit(h.x,g.max.x)),h.y>g.max.y&&(h.y=this._viscousLimit(h.y,g.max.y)),this._draggable._newPos=this._draggable._startPos.add(h)}},_onPreDragWrap:function(){var h=this._worldWidth,g=Math.round(h/2),A=this._initialWorldOffset,z=this._draggable._newPos.x,X=(z-g+A)%h+g-A,le=(z+g+A)%h-g-A,pe=Math.abs(X+A)<Math.abs(le+A)?X:le;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=pe},_onDragEnd:function(h){var g=this._map,A=g.options,z=!A.inertia||h.noInertia||this._times.length<2;if(g.fire("dragend",h),z)g.fire("moveend");else{this._prunePositions(+new Date);var X=this._lastPos.subtract(this._positions[0]),le=(this._lastTime-this._times[0])/1e3,pe=A.easeLinearity,be=X.multiplyBy(pe/le),Ne=be.distanceTo([0,0]),Me=Math.min(A.inertiaMaxSpeed,Ne),Ve=be.multiplyBy(Me/Ne),ft=Me/(A.inertiaDeceleration*pe),Bt=Ve.multiplyBy(-ft/2).round();!Bt.x&&!Bt.y?g.fire("moveend"):(Bt=g._limitOffset(Bt,g.options.maxBounds),H(function(){g.panBy(Bt,{duration:ft,easeLinearity:pe,noMoveStart:!0,animate:!0})}))}}});qt.addInitHook("addHandler","dragging",af),qt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var of=$s.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(h){this._map=h,this._setPanDelta(h.options.keyboardPanDelta),this._setZoomDelta(h.options.zoomDelta)},addHooks:function(){var h=this._map._container;h.tabIndex<=0&&(h.tabIndex="0"),kt(h,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),jr(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var h=document.body,g=document.documentElement,A=h.scrollTop||g.scrollTop,z=h.scrollLeft||g.scrollLeft;this._map._container.focus(),window.scrollTo(z,A)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(h){var g=this._panKeys={},A=this.keyCodes,z,X;for(z=0,X=A.left.length;z<X;z++)g[A.left[z]]=[-1*h,0];for(z=0,X=A.right.length;z<X;z++)g[A.right[z]]=[h,0];for(z=0,X=A.down.length;z<X;z++)g[A.down[z]]=[0,h];for(z=0,X=A.up.length;z<X;z++)g[A.up[z]]=[0,-1*h]},_setZoomDelta:function(h){var g=this._zoomKeys={},A=this.keyCodes,z,X;for(z=0,X=A.zoomIn.length;z<X;z++)g[A.zoomIn[z]]=h;for(z=0,X=A.zoomOut.length;z<X;z++)g[A.zoomOut[z]]=-h},_addHooks:function(){kt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){jr(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(h){if(!(h.altKey||h.ctrlKey||h.metaKey)){var g=h.keyCode,A=this._map,z;if(g in this._panKeys){if(!A._panAnim||!A._panAnim._inProgress)if(z=this._panKeys[g],h.shiftKey&&(z=I(z).multiplyBy(3)),A.options.maxBounds&&(z=A._limitOffset(I(z),A.options.maxBounds)),A.options.worldCopyJump){var X=A.wrapLatLng(A.unproject(A.project(A.getCenter()).add(z)));A.panTo(X)}else A.panBy(z)}else if(g in this._zoomKeys)A.setZoom(A.getZoom()+(h.shiftKey?3:1)*this._zoomKeys[g]);else if(g===27&&A._popup&&A._popup.options.closeOnEscapeKey)A.closePopup();else return;ia(h)}}});qt.addInitHook("addHandler","keyboard",of),qt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var wr=$s.extend({addHooks:function(){kt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){jr(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(h){var g=Rx(h),A=this._map.options.wheelDebounceTime;this._delta+=g,this._lastMousePos=this._map.mouseEventToContainerPoint(h),this._startTime||(this._startTime=+new Date);var z=Math.max(A-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(o(this._performZoom,this),z),ia(h)},_performZoom:function(){var h=this._map,g=h.getZoom(),A=this._map.options.zoomSnap||0;h._stop();var z=this._delta/(this._map.options.wheelPxPerZoomLevel*4),X=4*Math.log(2/(1+Math.exp(-Math.abs(z))))/Math.LN2,le=A?Math.ceil(X/A)*A:X,pe=h._limitZoom(g+(this._delta>0?le:-le))-g;this._delta=0,this._startTime=null,pe&&(h.options.scrollWheelZoom==="center"?h.setZoom(g+pe):h.setZoomAround(this._lastMousePos,g+pe))}});qt.addInitHook("addHandler","scrollWheelZoom",wr);var lf=600;qt.mergeOptions({tapHold:Ye.touchNative&&Ye.safari&&Ye.mobile,tapTolerance:15});var nd=$s.extend({addHooks:function(){kt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){jr(this._map._container,"touchstart",this._onDown,this)},_onDown:function(h){if(clearTimeout(this._holdTimeout),h.touches.length===1){var g=h.touches[0];this._startPos=this._newPos=new R(g.clientX,g.clientY),this._holdTimeout=setTimeout(o(function(){this._cancel(),this._isTapValid()&&(kt(document,"touchend",Xr),kt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",g))},this),lf),kt(document,"touchend touchcancel contextmenu",this._cancel,this),kt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function h(){jr(document,"touchend",Xr),jr(document,"touchend touchcancel",h)},_cancel:function(){clearTimeout(this._holdTimeout),jr(document,"touchend touchcancel contextmenu",this._cancel,this),jr(document,"touchmove",this._onMove,this)},_onMove:function(h){var g=h.touches[0];this._newPos=new R(g.clientX,g.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(h,g){var A=new MouseEvent(h,{bubbles:!0,cancelable:!0,view:window,screenX:g.screenX,screenY:g.screenY,clientX:g.clientX,clientY:g.clientY});A._simulated=!0,g.target.dispatchEvent(A)}});qt.addInitHook("addHandler","tapHold",nd),qt.mergeOptions({touchZoom:Ye.touch,bounceAtZoomLimits:!0});var Zl=$s.extend({addHooks:function(){Ot(this._map._container,"leaflet-touch-zoom"),kt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Er(this._map._container,"leaflet-touch-zoom"),jr(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(h){var g=this._map;if(!(!h.touches||h.touches.length!==2||g._animatingZoom||this._zooming)){var A=g.mouseEventToContainerPoint(h.touches[0]),z=g.mouseEventToContainerPoint(h.touches[1]);this._centerPoint=g.getSize()._divideBy(2),this._startLatLng=g.containerPointToLatLng(this._centerPoint),g.options.touchZoom!=="center"&&(this._pinchStartLatLng=g.containerPointToLatLng(A.add(z)._divideBy(2))),this._startDist=A.distanceTo(z),this._startZoom=g.getZoom(),this._moved=!1,this._zooming=!0,g._stop(),kt(document,"touchmove",this._onTouchMove,this),kt(document,"touchend touchcancel",this._onTouchEnd,this),Xr(h)}},_onTouchMove:function(h){if(!(!h.touches||h.touches.length!==2||!this._zooming)){var g=this._map,A=g.mouseEventToContainerPoint(h.touches[0]),z=g.mouseEventToContainerPoint(h.touches[1]),X=A.distanceTo(z)/this._startDist;if(this._zoom=g.getScaleZoom(X,this._startZoom),!g.options.bounceAtZoomLimits&&(this._zoom<g.getMinZoom()&&X<1||this._zoom>g.getMaxZoom()&&X>1)&&(this._zoom=g._limitZoom(this._zoom)),g.options.touchZoom==="center"){if(this._center=this._startLatLng,X===1)return}else{var le=A._add(z)._divideBy(2)._subtract(this._centerPoint);if(X===1&&le.x===0&&le.y===0)return;this._center=g.unproject(g.project(this._pinchStartLatLng,this._zoom).subtract(le),this._zoom)}this._moved||(g._moveStart(!0,!1),this._moved=!0),K(this._animRequest);var pe=o(g._move,g,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=H(pe,this,!0),Xr(h)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,K(this._animRequest),jr(document,"touchmove",this._onTouchMove,this),jr(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});qt.addInitHook("addHandler","touchZoom",Zl),qt.BoxZoom=Yl,qt.DoubleClickZoom=eg,qt.Drag=af,qt.Keyboard=of,qt.ScrollWheelZoom=wr,qt.TapHold=nd,qt.TouchZoom=Zl,n.Bounds=q,n.Browser=Ye,n.CRS=te,n.Canvas=nf,n.Circle=Ou,n.CircleMarker=Tu,n.Class=V,n.Control=Ss,n.DivIcon=Bu,n.DivOverlay=Fa,n.DomEvent=ku,n.DomUtil=Kc,n.Draggable=oa,n.Evented=O,n.FeatureGroup=xi,n.GeoJSON=Ba,n.GridLayer=no,n.Handler=$s,n.Icon=Ho,n.ImageOverlay=ro,n.LatLng=ae,n.LatLngBounds=ie,n.Layer=la,n.LayerGroup=eo,n.LineUtil=Ux,n.Map=qt,n.Marker=gi,n.Mixin=Wm,n.Path=to,n.Point=R,n.PolyUtil=xb,n.Polygon=vi,n.Polyline=_s,n.Popup=$u,n.PosAnimation=Cu,n.Projection=jb,n.Rectangle=Qx,n.Renderer=za,n.SVG=Wo,n.SVGOverlay=ef,n.TileLayer=so,n.Tooltip=Vl,n.Transformation=ye,n.Util=Z,n.VideoOverlay=Qm,n.bind=o,n.bounds=J,n.canvas=sf,n.circle=Qc,n.circleMarker=Vx,n.control=Qi,n.divIcon=Zx,n.extend=a,n.featureGroup=Wx,n.geoJSON=Gx,n.geoJson=ca,n.gridLayer=Gl,n.icon=qx,n.imageOverlay=Kx,n.latLng=oe,n.latLngBounds=ee,n.layerGroup=Jc,n.map=Ji,n.marker=Sb,n.point=I,n.polygon=kb,n.polyline=_b,n.popup=ql,n.rectangle=Cb,n.setOptions=y,n.stamp=c,n.svg=Fu,n.svgOverlay=tf,n.tileLayer=rf,n.tooltip=td,n.transformation=he,n.version=s,n.videoOverlay=Yx;var tg=window.L;n.noConflict=function(){return window.L=tg,this},window.L=n}))})(Yf,Yf.exports)),Yf.exports}var OCe=TCe();const yh=ar(OCe);function MCe({salon:t,onClose:r}){const[n,s]=N.useState(!1),[a,i]=N.useState(null),[o,l]=N.useState(null),c=N.useRef(null),u=N.useRef(null),m={lat:40.758,lng:-73.9855};N.useEffect(()=>{if(!c.current||u.current)return;const v=yh.map(c.current).setView([m.lat,m.lng],15);return yh.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}).addTo(v),yh.marker([m.lat,m.lng]).addTo(v).bindPopup(`
      <div style="padding: 8px;">
        <h4 style="font-weight: bold; margin-bottom: 4px;">${t.name}</h4>
        <p style="font-size: 14px; color: #666; margin-bottom: 4px;">${t.location}</p>
        <p style="font-size: 14px; color: #666;"> ${t.rating} (${t.reviewCount} reviews)</p>
      </div>
    `),u.current=v,()=>{u.current&&(u.current.remove(),u.current=null)}},[t]),N.useEffect(()=>{navigator.geolocation&&navigator.geolocation.getCurrentPosition(v=>{const w={lat:v.coords.latitude,lng:v.coords.longitude};if(i(w),u.current){const C=yh.divIcon({className:"custom-user-marker",html:'<div style="background-color: #3B82F6; width: 12px; height: 12px; border-radius: 50%; border: 2px solid white; box-shadow: 0 0 0 2px rgba(59, 130, 246, 0.3);"></div>',iconSize:[12,12],iconAnchor:[6,6]});yh.marker([w.lat,w.lng],{icon:C}).addTo(u.current).bindPopup(`
              <div style="padding: 8px;">
                <p style="font-size: 14px; font-weight: 600;">Your location</p>
              </div>
            `);const T=yh.latLngBounds([[w.lat,w.lng],[m.lat,m.lng]]);u.current.fitBounds(T,{padding:[50,50]})}const y=p(w.lat,w.lng,m.lat,m.lng),j=Math.round(y*3),S=Math.round(y*12);l({driving:j<60?`${j} min`:`${Math.round(j/60)} h ${j%60} min`,walking:S<60?`${S} min`:`${Math.round(S/60)} h ${S%60} min`})},v=>{console.log("Geolocation error:",v)})},[]);const p=(v,w,y,j)=>{const C=(y-v)*Math.PI/180,P=(j-w)*Math.PI/180,T=Math.sin(C/2)*Math.sin(C/2)+Math.cos(v*Math.PI/180)*Math.cos(y*Math.PI/180)*Math.sin(P/2)*Math.sin(P/2);return 6371*(2*Math.atan2(Math.sqrt(T),Math.sqrt(1-T)))},x=()=>{const v=`https://www.google.com/maps/dir/?api=1&destination=${m.lat},${m.lng}`;window.open(v,"_blank")};return e.jsx("div",{className:"fixed inset-0 z-50 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4",children:e.jsxs("div",{className:`bg-white rounded-2xl shadow-2xl overflow-hidden transition-all duration-300 ${n?"w-full h-full":"w-full max-w-4xl max-h-[80vh]"} flex flex-col`,children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b bg-gradient-to-r from-purple-600 to-pink-600",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(vs,{className:"w-6 h-6 text-white"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-white",children:t.name}),e.jsx("p",{className:"text-sm text-purple-100",children:t.location})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Q,{onClick:()=>s(!n),variant:"ghost",size:"icon",className:"text-white hover:bg-white/10 rounded-full",children:n?e.jsx(wC,{className:"w-5 h-5"}):e.jsx(jC,{className:"w-5 h-5"})}),e.jsx(Q,{onClick:r,variant:"ghost",size:"icon",className:"text-white hover:bg-white/10 rounded-full",children:e.jsx(ht,{className:"w-5 h-5"})})]})]}),o&&a&&e.jsx("div",{className:"p-4 bg-purple-50 border-b",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(ne,{className:"p-3 bg-white",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-full flex items-center justify-center",children:e.jsx(pt,{className:"w-5 h-5 text-purple-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600",children:"By car"}),e.jsx("p",{className:"font-bold text-purple-600",children:o.driving})]})]})}),e.jsx(ne,{className:"p-3 bg-white",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-10 h-10 bg-pink-100 rounded-full flex items-center justify-center",children:e.jsx(pt,{className:"w-5 h-5 text-pink-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600",children:"Walking"}),e.jsx("p",{className:"font-bold text-pink-600",children:o.walking})]})]})})]})}),e.jsx("div",{className:"flex-1 relative",children:e.jsx("div",{ref:c,style:{height:"100%",width:"100%"}})}),e.jsx("div",{className:"p-4 border-t bg-white",children:e.jsxs(Q,{onClick:x,className:"w-full bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white gap-2",children:[e.jsx(AL,{className:"w-4 h-4"}),"Open route in Google Maps"]})})]})})}function DCe({salonName:t,salonLocation:r,salonRating:n,isOpen:s,onClose:a}){if(!s)return null;const i=window.location.href,o=`Check out ${t} on Katia! ${n} rated salon in ${r}`,l=c=>{const u={whatsapp:`https://wa.me/?text=${encodeURIComponent(o+" "+i)}`,telegram:`https://t.me/share/url?url=${encodeURIComponent(i)}&text=${encodeURIComponent(o)}`,instagram:i,facebook:`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(i)}`,twitter:`https://twitter.com/intent/tweet?text=${encodeURIComponent(o)}&url=${encodeURIComponent(i)}`};c==="instagram"||c==="copy"?(navigator.clipboard.writeText(i),ve.success(" Link copied to clipboard!")):(window.open(u[c],"_blank","width=600,height=400"),ve.success(`Sharing to ${c}!`)),a()};return e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full overflow-hidden",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Share Salon"}),e.jsx("button",{onClick:a,className:"w-8 h-8 rounded-lg hover:bg-gray-100 flex items-center justify-center transition-colors",children:e.jsx(ht,{className:"w-5 h-5 text-gray-500"})})]}),e.jsxs("div",{className:"p-6 space-y-3",children:[e.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["Share ",t," with your friends"]}),e.jsxs("button",{onClick:()=>l("whatsapp"),className:"w-full flex items-center gap-4 p-4 border-2 border-gray-200 rounded-xl hover:border-green-500 hover:bg-green-50 transition-all group",children:[e.jsx("div",{className:"w-12 h-12 bg-green-500 rounded-full flex items-center justify-center group-hover:scale-110 transition-transform",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z"})})}),e.jsxs("div",{className:"flex-1 text-left",children:[e.jsx("p",{className:"font-semibold text-gray-900",children:"WhatsApp"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Share via WhatsApp"})]})]}),e.jsxs("button",{onClick:()=>l("telegram"),className:"w-full flex items-center gap-4 p-4 border-2 border-gray-200 rounded-xl hover:border-blue-500 hover:bg-blue-50 transition-all group",children:[e.jsx("div",{className:"w-12 h-12 bg-blue-500 rounded-full flex items-center justify-center group-hover:scale-110 transition-transform",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M11.944 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0a12 12 0 0 0-.056 0zm4.962 7.224c.1-.002.321.023.465.14a.506.506 0 0 1 .171.325c.016.093.036.306.02.472-.18 1.898-.962 6.502-1.36 8.627-.168.9-.499 1.201-.82 1.23-.696.065-1.225-.46-1.9-.902-1.056-.693-1.653-1.124-2.678-1.8-1.185-.78-.417-1.21.258-1.91.177-.184 3.247-2.977 3.307-3.23.007-.032.014-.15-.056-.212s-.174-.041-.249-.024c-.106.024-1.793 1.14-5.061 3.345-.48.33-.913.49-1.302.48-.428-.008-1.252-.241-1.865-.44-.752-.245-1.349-.374-1.297-.789.027-.216.325-.437.893-.663 3.498-1.524 5.83-2.529 6.998-3.014 3.332-1.386 4.025-1.627 4.476-1.635z"})})}),e.jsxs("div",{className:"flex-1 text-left",children:[e.jsx("p",{className:"font-semibold text-gray-900",children:"Telegram"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Share via Telegram"})]})]}),e.jsxs("button",{onClick:()=>l("instagram"),className:"w-full flex items-center gap-4 p-4 border-2 border-gray-200 rounded-xl hover:border-pink-500 hover:bg-pink-50 transition-all group",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-tr from-yellow-400 via-pink-500 to-purple-600 rounded-full flex items-center justify-center group-hover:scale-110 transition-transform",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M12 0C8.74 0 8.333.015 7.053.072 5.775.132 4.905.333 4.14.63c-.789.306-1.459.717-2.126 1.384S.935 3.35.63 4.14C.333 4.905.131 5.775.072 7.053.012 8.333 0 8.74 0 12s.015 3.667.072 4.947c.06 1.277.261 2.148.558 2.913.306.788.717 1.459 1.384 2.126.667.666 1.336 1.079 2.126 1.384.766.296 1.636.499 2.913.558C8.333 23.988 8.74 24 12 24s3.667-.015 4.947-.072c1.277-.06 2.148-.262 2.913-.558.788-.306 1.459-.718 2.126-1.384.666-.667 1.079-1.335 1.384-2.126.296-.765.499-1.636.558-2.913.06-1.28.072-1.687.072-4.947s-.015-3.667-.072-4.947c-.06-1.277-.262-2.149-.558-2.913-.306-.789-.718-1.459-1.384-2.126C21.319 1.347 20.651.935 19.86.63c-.765-.297-1.636-.499-2.913-.558C15.667.012 15.26 0 12 0zm0 2.16c3.203 0 3.585.016 4.85.071 1.17.055 1.805.249 2.227.415.562.217.96.477 1.382.896.419.42.679.819.896 1.381.164.422.36 1.057.413 2.227.057 1.266.07 1.646.07 4.85s-.015 3.585-.074 4.85c-.061 1.17-.256 1.805-.421 2.227-.224.562-.479.96-.899 1.382-.419.419-.824.679-1.38.896-.42.164-1.065.36-2.235.413-1.274.057-1.649.07-4.859.07-3.211 0-3.586-.015-4.859-.074-1.171-.061-1.816-.256-2.236-.421-.569-.224-.96-.479-1.379-.899-.421-.419-.69-.824-.9-1.38-.165-.42-.359-1.065-.42-2.235-.045-1.26-.061-1.649-.061-4.844 0-3.196.016-3.586.061-4.861.061-1.17.255-1.814.42-2.234.21-.57.479-.96.9-1.381.419-.419.81-.689 1.379-.898.42-.166 1.051-.361 2.221-.421 1.275-.045 1.65-.06 4.859-.06l.045.03zm0 3.678c-3.405 0-6.162 2.76-6.162 6.162 0 3.405 2.76 6.162 6.162 6.162 3.405 0 6.162-2.76 6.162-6.162 0-3.405-2.76-6.162-6.162-6.162zM12 16c-2.21 0-4-1.79-4-4s1.79-4 4-4 4 1.79 4 4-1.79 4-4 4zm7.846-10.405c0 .795-.646 1.44-1.44 1.44-.795 0-1.44-.646-1.44-1.44 0-.794.646-1.439 1.44-1.439.793-.001 1.44.645 1.44 1.439z"})})}),e.jsxs("div",{className:"flex-1 text-left",children:[e.jsx("p",{className:"font-semibold text-gray-900",children:"Instagram"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Copy link to share"})]})]}),e.jsxs("button",{onClick:()=>l("facebook"),className:"w-full flex items-center gap-4 p-4 border-2 border-gray-200 rounded-xl hover:border-blue-600 hover:bg-blue-50 transition-all group",children:[e.jsx("div",{className:"w-12 h-12 bg-blue-600 rounded-full flex items-center justify-center group-hover:scale-110 transition-transform",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})})}),e.jsxs("div",{className:"flex-1 text-left",children:[e.jsx("p",{className:"font-semibold text-gray-900",children:"Facebook"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Share on Facebook"})]})]}),e.jsxs("button",{onClick:()=>l("copy"),className:"w-full flex items-center gap-4 p-4 border-2 border-purple-200 bg-purple-50 rounded-xl hover:border-purple-400 hover:bg-purple-100 transition-all group",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-purple-600 to-pink-600 rounded-full flex items-center justify-center group-hover:scale-110 transition-transform",children:e.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})})}),e.jsxs("div",{className:"flex-1 text-left",children:[e.jsx("p",{className:"font-semibold text-gray-900",children:"Copy Link"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Copy to clipboard"})]})]})]})]})})}const UU={birthday:{id:"birthday",name:"Birthday",emoji:"",description:"Perfect for birthday celebrations",backgroundColor:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",textColor:"#ffffff",accentColor:"#ffd700",backgroundPattern:"confetti",defaultMessage:"Happy Birthday! Wishing you a day filled with beauty and joy! ",defaultSubject:"Happy Birthday Gift Card"},wedding:{id:"wedding",name:"Wedding",emoji:"",description:"For the special couple",backgroundColor:"linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%)",textColor:"#4a4a4a",accentColor:"#d4af37",backgroundPattern:"hearts",defaultMessage:"Congratulations on your wedding! May your love story be filled with beauty! ",defaultSubject:"Wedding Gift Card"},"mothers-day":{id:"mothers-day",name:"Mother's Day",emoji:"",description:"Show mom some love",backgroundColor:"linear-gradient(135deg, #f093fb 0%, #f5576c 100%)",textColor:"#ffffff",accentColor:"#ffe5e5",backgroundPattern:"flowers",defaultMessage:"Happy Mother's Day to the most amazing mom! You deserve to be pampered! ",defaultSubject:"Mother's Day Gift Card"},valentines:{id:"valentines",name:"Valentine's Day",emoji:"",description:"For your special someone",backgroundColor:"linear-gradient(135deg, #ff6b6b 0%, #ee5a6f 100%)",textColor:"#ffffff",accentColor:"#ffe0e0",backgroundPattern:"hearts",defaultMessage:"Happy Valentine's Day! You deserve all the pampering in the world! ",defaultSubject:"Valentine's Day Gift Card"},anniversary:{id:"anniversary",name:"Anniversary",emoji:"",description:"Celebrate your milestone",backgroundColor:"linear-gradient(135deg, #fa709a 0%, #fee140 100%)",textColor:"#4a4a4a",accentColor:"#ffffff",backgroundPattern:"stars",defaultMessage:"Happy Anniversary! Here's to many more beautiful years together! ",defaultSubject:"Anniversary Gift Card"},"just-because":{id:"just-because",name:"Just Because",emoji:"",description:"No reason needed",backgroundColor:"linear-gradient(135deg, #a8edea 0%, #fed6e3 100%)",textColor:"#4a4a4a",accentColor:"#667eea",backgroundPattern:"confetti",defaultMessage:"Just because you're amazing! Enjoy some well-deserved pampering! ",defaultSubject:"Gift Card for You"},christmas:{id:"christmas",name:"Christmas",emoji:"",description:"Festive holiday cheer",backgroundColor:"linear-gradient(135deg, #0f2027 0%, #203a43 50%, #2c5364 100%)",textColor:"#ffffff",accentColor:"#ff6b6b",backgroundPattern:"snowflakes",defaultMessage:"Merry Christmas! Wishing you joy, beauty, and relaxation this holiday season! ",defaultSubject:"Christmas Gift Card"},"new-year":{id:"new-year",name:"New Year",emoji:"",description:"Start the year fresh",backgroundColor:"linear-gradient(135deg, #00d2ff 0%, #3a47d5 100%)",textColor:"#ffffff",accentColor:"#ffd700",backgroundPattern:"stars",defaultMessage:"Happy New Year! Start the year looking and feeling your best! ",defaultSubject:"New Year Gift Card"},graduation:{id:"graduation",name:"Graduation",emoji:"",description:"Celebrate achievement",backgroundColor:"linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)",textColor:"#ffffff",accentColor:"#ffd700",backgroundPattern:"stars",defaultMessage:"Congratulations on your graduation! You've earned some celebration! ",defaultSubject:"Graduation Gift Card"},"thank-you":{id:"thank-you",name:"Thank You",emoji:"",description:"Express gratitude",backgroundColor:"linear-gradient(135deg, #c2e9fb 0%, #a1c4fd 100%)",textColor:"#4a4a4a",accentColor:"#667eea",defaultMessage:"Thank you for being amazing! This is a small token of my appreciation! ",defaultSubject:"Thank You Gift Card"},custom:{id:"custom",name:"Custom",emoji:"",description:"Create your own design",backgroundColor:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",textColor:"#ffffff",accentColor:"#ffffff",defaultMessage:"",defaultSubject:"Gift Card"}};function RCe({code:t="PREVIEW",amount:r,salonName:n,theme:s,recipientName:a="",senderName:i="",purchaserName:o="",personalMessage:l="",message:c="",salonBranding:u,onShare:m}){var y;const{formatPrice:p}=Kt(),x=UU[s],v=i||o,w=l||c;return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"relative w-full aspect-[4/3] sm:aspect-[16/10] rounded-3xl overflow-hidden shadow-2xl transform transition-transform hover:scale-[1.02]",children:[e.jsx("div",{className:"absolute inset-0",style:{background:((y=u==null?void 0:u.brandColors)==null?void 0:y.primary)||x.backgroundColor}}),e.jsx("div",{className:"absolute inset-0 opacity-30",style:{background:`radial-gradient(circle at 30% 50%, ${x.accentColor}40 0%, transparent 50%),
                         radial-gradient(circle at 70% 50%, ${x.textColor}20 0%, transparent 50%)`}}),e.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[e.jsx("div",{className:"absolute -top-10 -left-10 w-40 h-40 rounded-full blur-3xl opacity-20 animate-pulse",style:{background:x.accentColor}}),e.jsx("div",{className:"absolute -bottom-10 -right-10 w-40 h-40 rounded-full blur-3xl opacity-20 animate-pulse",style:{background:x.accentColor,animationDelay:"1s"}}),e.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-60 h-60 rounded-full blur-3xl opacity-10",style:{background:x.textColor}})]}),x.backgroundPattern&&e.jsx("div",{className:"absolute inset-0 opacity-15",children:e.jsx(ICe,{pattern:x.backgroundPattern})}),e.jsx("div",{className:"absolute top-2 sm:top-4 left-2 sm:left-4 text-yellow-300 opacity-60 animate-pulse",children:e.jsx(tr,{className:"w-4 h-4 sm:w-6 sm:h-6"})}),e.jsx("div",{className:"absolute bottom-2 sm:bottom-4 right-2 sm:right-4 text-yellow-300 opacity-60 animate-pulse",style:{animationDelay:"0.5s"},children:e.jsx(tr,{className:"w-4 h-4 sm:w-6 sm:h-6"})}),e.jsx("div",{className:"absolute inset-0 rounded-3xl border-2 border-white/20"}),e.jsx("div",{className:"absolute inset-0 rounded-3xl",style:{background:"linear-gradient(45deg, transparent 0%, rgba(255,255,255,0.1) 50%, transparent 100%)",backgroundSize:"200% 200%",animation:"shimmer 3s infinite"}}),e.jsxs("div",{className:"relative h-full flex flex-col p-3 sm:p-6 md:p-8",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2 sm:mb-auto",children:[u!=null&&u.logo?e.jsx("div",{className:"bg-white/95 backdrop-blur-sm rounded-lg sm:rounded-xl shadow-lg px-2 py-1 sm:px-4 sm:py-3 border border-white/50",children:e.jsx("img",{src:u.logo,alt:n,className:"h-5 sm:h-10 w-auto object-contain"})}):e.jsx("div",{className:"bg-white/98 backdrop-blur-sm rounded-lg sm:rounded-xl shadow-lg px-2 py-1 sm:px-5 sm:py-3 border-2 border-white/80 max-w-[55%]",children:e.jsx("h3",{className:"font-bold text-[10px] sm:text-lg md:text-xl leading-tight text-gray-900",children:n})}),e.jsxs("div",{className:"relative flex-shrink-0",children:[e.jsx("div",{className:"absolute inset-0 blur-xl opacity-50",style:{background:x.accentColor}}),e.jsx("div",{className:"relative text-xl sm:text-4xl md:text-5xl drop-shadow-lg",children:x.emoji})]})]}),e.jsxs("div",{className:"text-center space-y-1 sm:space-y-3 md:space-y-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-sm sm:text-xl md:text-2xl lg:text-3xl font-bold mb-0.5 sm:mb-1 md:mb-2 drop-shadow-lg tracking-wide",style:{color:x.textColor},children:"GIFT CARD"}),e.jsx("p",{className:"text-[9px] sm:text-xs md:text-sm opacity-90 font-medium",style:{color:x.textColor},children:x.name})]}),e.jsxs("div",{className:"relative inline-block",children:[e.jsx("div",{className:"absolute inset-0 blur-2xl opacity-30",style:{background:x.accentColor}}),e.jsx("div",{className:"relative text-xl sm:text-3xl md:text-4xl lg:text-5xl xl:text-6xl font-black tracking-tight drop-shadow-2xl",style:{color:x.accentColor,textShadow:`0 0 20px ${x.accentColor}40, 0 4px 10px rgba(0,0,0,0.3)`},children:p(r)})]}),a&&e.jsx("div",{className:"hidden sm:inline-block",children:e.jsx("div",{className:"bg-white/20 backdrop-blur-md rounded-full px-2.5 py-0.5 sm:px-4 sm:py-1.5 md:px-5 md:py-2 border border-white/30 shadow-lg",style:{color:x.textColor},children:e.jsxs("span",{className:"text-[10px] sm:text-sm md:text-base",children:["For: ",e.jsx("span",{className:"font-bold",children:a})]})})}),w&&e.jsx("div",{className:"max-w-md mx-auto hidden sm:block",children:e.jsx("div",{className:"bg-white/15 backdrop-blur-md rounded-2xl p-3 sm:p-4 md:p-5 border border-white/30 shadow-xl",style:{color:x.textColor},children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-xl sm:text-2xl opacity-60",children:'"'}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-xs sm:text-sm md:text-base italic leading-relaxed line-clamp-3",children:w}),v&&e.jsxs("p",{className:"text-xs sm:text-sm mt-1 sm:mt-2 opacity-80 font-medium",children:[" ",v]})]}),e.jsx("span",{className:"text-xl sm:text-2xl opacity-60 self-end",children:'"'})]})})})]}),e.jsxs("div",{className:"mt-auto space-y-1.5 sm:space-y-3",children:[e.jsxs("div",{className:"bg-white/98 backdrop-blur-sm rounded-xl sm:rounded-2xl p-2 sm:p-4 text-center shadow-xl border-2 border-white/80",children:[e.jsx("p",{className:"text-[9px] sm:text-xs text-gray-500 mb-0.5 sm:mb-1 font-medium tracking-wide",children:"Gift Card Code"}),e.jsx("p",{className:"text-sm sm:text-lg md:text-xl font-mono font-black text-gray-900 tracking-wider sm:tracking-widest",children:t}),e.jsx("div",{className:"mt-0.5 sm:mt-1 h-0.5 sm:h-1 w-12 sm:w-16 mx-auto rounded-full",style:{background:x.accentColor}}),a&&e.jsx("div",{className:"mt-2 sm:mt-3",children:e.jsx("p",{className:"text-[11px] sm:text-sm text-gray-900 font-bold",children:a})})]}),(u==null?void 0:u.ownerSignature)&&e.jsx("div",{className:"text-center text-sm",style:{color:x.textColor},children:u.ownerSignature.signatureImage?e.jsx("img",{src:u.ownerSignature.signatureImage,alt:"Signature",className:"h-8 mx-auto opacity-80 drop-shadow-lg"}):e.jsxs("div",{className:"opacity-90 drop-shadow-md",children:[e.jsx("p",{className:"font-cursive text-lg",children:u.ownerSignature.name}),e.jsx("p",{className:"text-xs mt-1",children:u.ownerSignature.title})]})}),(u==null?void 0:u.customFooter)&&e.jsx("p",{className:"text-xs text-center opacity-80 font-medium",style:{color:x.textColor},children:u.customFooter})]})]}),e.jsx("div",{className:"absolute top-0 left-0 w-32 h-32 opacity-25 blur-2xl",style:{background:`radial-gradient(circle at top left, ${x.accentColor} 0%, transparent 70%)`}}),e.jsx("div",{className:"absolute bottom-0 right-0 w-32 h-32 opacity-25 blur-2xl",style:{background:`radial-gradient(circle at bottom right, ${x.accentColor} 0%, transparent 70%)`}}),e.jsx("div",{className:"absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-transparent via-white/50 to-transparent"})]}),m&&e.jsxs(ne,{className:"p-4 bg-gradient-to-br from-purple-50 to-pink-50 border-2 border-purple-200",children:[e.jsxs("h4",{className:"font-semibold mb-3 text-sm text-gray-900 flex items-center gap-2",children:[e.jsx(_o,{className:"w-4 h-4 text-purple-600"}),"Share Gift Card"]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:[e.jsxs(Q,{variant:"outline",size:"sm",onClick:()=>m("download"),className:"gap-2 hover:bg-purple-100 hover:border-purple-400",children:[e.jsx(vr,{className:"w-4 h-4"}),"Download"]}),e.jsxs(Q,{variant:"outline",size:"sm",onClick:()=>m("email"),className:"gap-2 hover:bg-purple-100 hover:border-purple-400",children:[e.jsx(ys,{className:"w-4 h-4"}),"Email"]}),e.jsxs(Q,{variant:"outline",size:"sm",onClick:()=>m("whatsapp"),className:"gap-2 hover:bg-purple-100 hover:border-purple-400",children:[e.jsx(_o,{className:"w-4 h-4"}),"WhatsApp"]}),e.jsxs(Q,{variant:"outline",size:"sm",onClick:()=>m("instagram"),className:"gap-2 hover:bg-purple-100 hover:border-purple-400",children:[e.jsx(IG,{className:"w-4 h-4"}),"Instagram"]})]}),e.jsxs("p",{className:"text-xs text-gray-600 mt-3 flex items-center gap-1",children:[" ",e.jsx("span",{children:"Download the image to share on social media or print it!"})]})]}),e.jsx("style",{children:`
        @keyframes shimmer {
          0% {
            background-position: -200% 0;
          }
          100% {
            background-position: 200% 0;
          }
        }
      `})]})}function ICe({pattern:t}){const n={hearts:"",flowers:"",stars:"",confetti:"",snowflakes:""}[t];return e.jsx("div",{className:"w-full h-full relative",children:Array.from({length:25}).map((s,a)=>e.jsx("div",{className:"absolute text-xl sm:text-2xl animate-pulse",style:{left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,animationDelay:`${Math.random()*3}s`,opacity:Math.random()*.4+.2,transform:`rotate(${Math.random()*360}deg) scale(${Math.random()*.5+.7})`},children:n},a))})}function LCe({salonId:t,salonName:r,onClose:n}){const{formatPrice:s}=Kt(),[a,i]=N.useState(!1),[o,l]=N.useState(!1),[c,u]=N.useState("just-because"),[m,p]=N.useState(""),[x,v]=N.useState(""),[w,y]=N.useState(""),[j,S]=N.useState(""),[C,P]=N.useState(""),[T,_]=N.useState(""),[k,M]=N.useState(""),[$,B]=N.useState(!0),[F,H]=N.useState(""),K=[100,200,300,500,1e3],Z={salonId:t,logoPosition:"top-left",defaultTheme:"just-because",allowCustomThemes:!0},V=m&&parseFloat(m)>=10&&x&&w&&j,W=()=>{if(!V){ve.error("Please fill in all required fields");return}i(!0),setTimeout(()=>{var O;(O=document.getElementById("payment-section"))==null||O.scrollIntoView({behavior:"smooth"})},100)},G=()=>{const O=`GIFT-${Date.now().toString(36).toUpperCase()}-${Math.random().toString(36).substr(2,6).toUpperCase()}`;H(O),console.log("Gift card purchased:",{salonId:t,code:O,amount:parseFloat(m),purchaserName:x,purchaserEmail:w,purchaserPhone:j,recipientName:C||void 0,recipientEmail:T||void 0,message:k||void 0,sendNow:$}),l(!0),ve.success("Gift card purchased successfully! "),setTimeout(()=>{var R;(R=document.getElementById("success-section"))==null||R.scrollIntoView({behavior:"smooth"})},100)};return e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-2 sm:p-4",children:e.jsxs("div",{className:"bg-white rounded-xl max-w-4xl w-full max-h-[95vh] overflow-y-auto",children:[e.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-3 sm:px-6 py-3 sm:py-4 flex items-center justify-between z-10",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-base sm:text-xl font-bold text-gray-900 flex items-center gap-2",children:[e.jsx(dr,{className:"w-5 h-5 sm:w-6 sm:h-6 text-purple-600"}),o?" Complete":" Buy Gift Card"]}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:r})]}),e.jsx("button",{onClick:n,className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(ht,{className:"w-5 h-5 sm:w-6 sm:h-6"})})]}),e.jsx("div",{className:"p-3 sm:p-6 space-y-4 sm:space-y-8",children:o?e.jsxs("div",{id:"success-section",className:"text-center py-8 space-y-6",children:[e.jsx("div",{className:"w-20 h-20 rounded-full bg-green-100 flex items-center justify-center mx-auto animate-bounce",children:e.jsx(or,{className:"w-10 h-10 text-green-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Gift Card Purchased! "}),e.jsx("p",{className:"text-gray-600",children:"Your gift card has been created and sent to your email"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-purple-600 to-pink-600 rounded-xl p-8 text-white max-w-md mx-auto",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("div",{className:"text-sm opacity-90 mb-1",children:r}),e.jsx("div",{className:"text-4xl font-bold mb-2",children:s(parseFloat(m))}),e.jsx("div",{className:"text-sm opacity-90",children:"Gift Card"})]}),e.jsxs("div",{className:"bg-white/20 rounded-lg p-4 mb-4",children:[e.jsx("div",{className:"text-xs opacity-90 mb-1",children:"Gift Card Code"}),e.jsx("div",{className:"font-mono text-2xl font-bold tracking-wider",children:F})]}),k&&e.jsx("div",{className:"bg-white/20 rounded-lg p-3 mb-4",children:e.jsxs("p",{className:"text-sm italic",children:['"',k,'"']})}),e.jsxs("div",{className:"text-sm opacity-90 text-left",children:[e.jsxs("div",{children:["From: ",x]}),C&&e.jsxs("div",{children:["To: ",C]})]})]}),e.jsxs("div",{className:"bg-blue-50 rounded-lg p-6 text-left max-w-md mx-auto",children:[e.jsxs("h4",{className:"font-semibold text-blue-900 mb-3 flex items-center gap-2",children:[e.jsx(Ut,{className:"w-5 h-5"}),"What's Next?"]}),e.jsxs("ul",{className:"space-y-3 text-sm text-blue-800",children:[e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(Ut,{className:"w-4 h-4 mt-0.5 flex-shrink-0"}),e.jsxs("span",{children:["A confirmation email has been sent to ",e.jsx("strong",{children:w})]})]}),T&&$&&e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(dr,{className:"w-4 h-4 mt-0.5 flex-shrink-0"}),e.jsxs("span",{children:["The gift card has been sent to ",e.jsx("strong",{children:T})]})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(Wr,{className:"w-4 h-4 mt-0.5 flex-shrink-0"}),e.jsxs("span",{children:["The gift card can be used for any service at ",r]})]})]})]}),e.jsxs("div",{className:"flex gap-3 justify-center",children:[e.jsx(Q,{onClick:()=>{navigator.clipboard.writeText(F),ve.success("Gift card code copied!")},variant:"outline",className:"gap-2",size:"lg",children:" Copy Code"}),e.jsx(Q,{onClick:n,className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white",size:"lg",children:" Done"})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center justify-center gap-1 sm:gap-2 overflow-x-auto pb-2",children:[e.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[e.jsx("div",{className:"w-6 h-6 sm:w-8 sm:h-8 rounded-full bg-gradient-to-r from-purple-600 to-pink-600 text-white flex items-center justify-center text-xs sm:text-sm font-semibold",children:"1"}),e.jsx("span",{className:"text-xs sm:text-sm font-medium text-gray-900 hidden sm:inline",children:"Theme"})]}),e.jsx("div",{className:"w-6 sm:w-12 h-0.5 bg-gradient-to-r from-purple-600 to-pink-600"}),e.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[e.jsx("div",{className:`w-6 h-6 sm:w-8 sm:h-8 rounded-full flex items-center justify-center text-xs sm:text-sm font-semibold ${m?"bg-gradient-to-r from-purple-600 to-pink-600 text-white":"bg-gray-200 text-gray-600"}`,children:"2"}),e.jsx("span",{className:`text-xs sm:text-sm font-medium ${m?"text-gray-900":"text-gray-600"} hidden sm:inline`,children:"Amount"})]}),e.jsx("div",{className:`w-6 sm:w-12 h-0.5 ${m?"bg-gradient-to-r from-purple-600 to-pink-600":"bg-gray-200"}`}),e.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[e.jsx("div",{className:`w-6 h-6 sm:w-8 sm:h-8 rounded-full flex items-center justify-center text-xs sm:text-sm font-semibold ${V?"bg-gradient-to-r from-purple-600 to-pink-600 text-white":"bg-gray-200 text-gray-600"}`,children:"3"}),e.jsx("span",{className:`text-xs sm:text-sm font-medium ${V?"text-gray-900":"text-gray-600"} hidden sm:inline`,children:"Details"})]}),e.jsx("div",{className:`w-6 sm:w-12 h-0.5 ${V?"bg-gradient-to-r from-purple-600 to-pink-600":"bg-gray-200"}`}),e.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[e.jsx("div",{className:`w-6 h-6 sm:w-8 sm:h-8 rounded-full flex items-center justify-center text-xs sm:text-sm font-semibold ${a?"bg-gradient-to-r from-purple-600 to-pink-600 text-white":"bg-gray-200 text-gray-600"}`,children:"4"}),e.jsx("span",{className:`text-xs sm:text-sm font-medium ${a?"text-gray-900":"text-gray-600"} hidden sm:inline`,children:"Payment"})]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-pink-50 rounded-lg sm:rounded-xl p-3 sm:p-6 border-2 border-purple-200",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3 sm:mb-4",children:[e.jsx(tr,{className:"w-4 h-4 sm:w-5 sm:h-5 text-purple-600"}),e.jsx("h3",{className:"text-sm sm:text-base font-semibold text-gray-900",children:"1. Select Theme"})]}),e.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-6 gap-2 sm:gap-3",children:Object.entries(UU).map(([O,R])=>e.jsxs("button",{onClick:()=>u(O),className:`p-2 sm:p-4 rounded-lg sm:rounded-xl border-2 transition-all ${c===O?"border-purple-600 bg-white shadow-lg scale-105":"border-white bg-white/50 hover:border-purple-300 hover:shadow-md hover:scale-102"}`,children:[e.jsx("div",{className:"text-2xl sm:text-3xl mb-1 sm:mb-2",children:R.emoji}),e.jsx("div",{className:"text-[10px] sm:text-xs font-semibold text-gray-900 leading-tight",children:R.name})]},O))})]}),e.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 rounded-lg sm:rounded-xl p-3 sm:p-6 border-2 border-green-200",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3 sm:mb-4",children:[e.jsx(Wr,{className:"w-4 h-4 sm:w-5 sm:h-5 text-green-600"}),e.jsx("h3",{className:"text-sm sm:text-base font-semibold text-gray-900",children:"2. Amount *"})]}),e.jsx("div",{className:"grid grid-cols-5 gap-2 sm:gap-3 mb-3 sm:mb-4",children:K.map(O=>e.jsx("button",{onClick:()=>p(O.toString()),className:`p-2 sm:p-4 rounded-lg sm:rounded-xl border-2 transition-all ${m===O.toString()?"border-green-600 bg-white shadow-lg scale-105":"border-white bg-white/50 hover:border-green-300 hover:shadow-md"}`,children:e.jsx("div",{className:"font-bold text-xs sm:text-lg text-gray-900",children:s(O)})},O))}),e.jsx(He,{type:"number",placeholder:"Or custom amount...",value:m,onChange:O=>p(O.target.value),className:"w-full bg-white text-sm sm:text-base",min:"10"}),m&&parseFloat(m)<10&&e.jsxs("p",{className:"text-xs text-red-600 mt-2",children:[" Minimum ",s(10)]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 rounded-lg sm:rounded-xl p-3 sm:p-6 border-2 border-blue-200",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3 sm:mb-4",children:[e.jsx(zn,{className:"w-4 h-4 sm:w-5 sm:h-5 text-blue-600"}),e.jsx("h3",{className:"text-sm sm:text-base font-semibold text-gray-900",children:"3. Your Info"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 sm:gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-1.5 sm:mb-2",children:"Full Name *"}),e.jsx(He,{value:x,onChange:O=>v(O.target.value),placeholder:"John Doe",className:"bg-white text-sm sm:text-base"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-1.5 sm:mb-2",children:"Phone *"}),e.jsx(He,{type:"tel",value:j,onChange:O=>S(O.target.value),placeholder:"+971 50 123 4567",className:"bg-white text-sm sm:text-base"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-1.5 sm:mb-2",children:"Email *"}),e.jsx(He,{type:"email",value:w,onChange:O=>y(O.target.value),placeholder:"john@email.com",className:"bg-white text-sm sm:text-base"}),e.jsx("p",{className:"text-xs text-gray-600 mt-1",children:" Gift card sent to this email"})]})]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-pink-50 to-rose-50 rounded-lg sm:rounded-xl p-3 sm:p-6 border-2 border-pink-200",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(dr,{className:"w-4 h-4 sm:w-5 sm:h-5 text-pink-600"}),e.jsx("h3",{className:"text-sm sm:text-base font-semibold text-gray-900",children:"4. Recipient (Optional)"})]}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-600 mb-3 sm:mb-4",children:" Send to someone special or yourself"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 sm:gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-1.5 sm:mb-2",children:"Recipient Name"}),e.jsx(He,{value:C,onChange:O=>P(O.target.value),placeholder:"Jane Smith",className:"bg-white text-sm sm:text-base"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 mb-1.5 sm:mb-2",children:["Recipient Email ",e.jsx("span",{className:"text-gray-500 font-normal",children:"(Optional)"})]}),e.jsx(He,{type:"email",value:T,onChange:O=>_(O.target.value),placeholder:"jane@email.com (optional)",className:"bg-white text-sm sm:text-base"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1.5",children:" Leave empty to share manually after purchase"})]})]}),T&&e.jsx("div",{className:"mt-3 sm:mt-4",children:e.jsxs("label",{className:"flex items-center gap-2 sm:gap-3 p-3 sm:p-4 bg-white rounded-lg cursor-pointer border-2 border-pink-300 hover:border-pink-400 transition-colors",children:[e.jsx("input",{type:"checkbox",checked:$,onChange:O=>B(O.target.checked),className:"w-4 h-4 text-pink-600"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"text-xs sm:text-sm font-medium text-gray-900",children:" Send immediately"}),e.jsx("div",{className:"text-xs text-gray-600",children:"Gift card will be sent via email after purchase"})]})]})})]}),e.jsxs("div",{className:"bg-gradient-to-br from-amber-50 to-yellow-50 rounded-lg sm:rounded-xl p-3 sm:p-6 border-2 border-amber-200",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3 sm:mb-4",children:[e.jsx(Pa,{className:"w-4 h-4 sm:w-5 sm:h-5 text-amber-600"}),e.jsx("h3",{className:"text-sm sm:text-base font-semibold text-gray-900",children:"5. Message (Optional)"})]}),e.jsx("textarea",{value:k,onChange:O=>M(O.target.value),placeholder:"Happy Birthday! ",className:"w-full px-3 sm:px-4 py-2 sm:py-3 text-sm sm:text-base border-2 border-amber-300 rounded-lg sm:rounded-xl focus:outline-none focus:ring-2 focus:ring-amber-500 bg-white min-h-[80px] sm:min-h-[100px]",maxLength:200}),e.jsxs("p",{className:"text-xs text-gray-600 mt-2",children:[" ",k.length,"/200"]})]}),m&&parseFloat(m)>=10&&e.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-pink-50 rounded-lg sm:rounded-xl p-3 sm:p-6 border-2 border-purple-200",children:[e.jsxs("h3",{className:"text-sm sm:text-base font-semibold text-gray-900 mb-3 sm:mb-4 flex items-center gap-2",children:[e.jsx(tr,{className:"w-4 h-4 sm:w-5 sm:h-5 text-purple-600"}),"6. Preview Your Gift Card"]}),e.jsx("div",{className:"max-w-sm sm:max-w-none mx-auto",children:e.jsx(RCe,{salonName:r,amount:parseFloat(m),purchaserName:x,recipientName:C,message:k,theme:c,salonBranding:Z})})]}),e.jsxs("div",{id:"payment-section",className:`rounded-xl p-6 border-2 transition-all ${a?"bg-gradient-to-br from-green-50 to-emerald-50 border-green-200":"bg-gray-50 border-gray-200"}`,children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(Wr,{className:`w-5 h-5 ${a?"text-green-600":"text-gray-400"}`}),e.jsx("h3",{className:`font-semibold ${a?"text-gray-900":"text-gray-500"}`,children:"7. Payment"})]}),a?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-white rounded-lg p-4 border-2 border-green-300",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Order Summary"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Gift Card Amount"}),e.jsx("span",{className:"font-semibold text-gray-900",children:s(parseFloat(m))})]}),e.jsxs("div",{className:"flex items-center justify-between pt-2 border-t border-gray-200",children:[e.jsx("span",{className:"font-semibold text-gray-900",children:"Total"}),e.jsx("span",{className:"font-bold text-xl text-green-600",children:s(parseFloat(m))})]})]})]}),e.jsx(NC,{isOpen:!0,onClose:()=>i(!1),amount:parseFloat(m),currency:"AED",description:`Gift Card - ${r}`,onSuccess:G})]}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx("p",{className:"text-gray-600 mb-4",children:"Complete all required fields to proceed to payment"}),e.jsxs(Q,{onClick:W,disabled:!V,className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white disabled:opacity-50 disabled:cursor-not-allowed",size:"lg",children:["Proceed to Payment",e.jsx(Wr,{className:"w-4 h-4 ml-2"})]})]})]})]})})]})})}function $Ce(){const{salonId:t}=rL(),r=vn(),n=Oa(),{formatPrice:s,currency:a}=Kt(),i=ja.find(W=>W.id===t),[o,l]=N.useState(!1),[c,u]=N.useState(!1),[m,p]=N.useState(!1),[x,v]=N.useState(!1),[w,y]=N.useState([]),[j,S]=N.useState(null),[C,P]=N.useState(!1),[T,_]=N.useState(!1),[k,M]=N.useState(!1),$={presetAmounts:[100,200,300,500,1e3],minAmount:50,maxAmount:5e3},B=async()=>{P(!C),C?ve.success(`${i.name} removed from favorites`):ve.success(` ${i.name} added to favorites!`)};if(N.useEffect(()=>{const W=n.state;W!=null&&W.openBooking&&(u(!0),W!=null&&W.selectedService&&S(W.selectedService),window.history.replaceState({},document.title))},[n]),N.useEffect(()=>{window.scrollTo(0,0)},[t]),!i)return e.jsx("div",{className:"container mx-auto px-4 py-8",children:"Salon not found"});const F=i.services.reduce((W,G)=>(W[G.category]||(W[G.category]=[]),W[G.category].push(G),W),{}),H=[...new Set(i.services.map(W=>W.category))],K=ja.filter(W=>{if(W.id===i.id||W.city!==i.city)return!1;const G=[...new Set(W.services.map(R=>R.category))];return H.some(R=>G.includes(R))}).slice(0,6),Z=[{day:"Monday",hours:"9:00 AM - 10:00 PM",isOpen:!0},{day:"Tuesday",hours:"9:00 AM - 10:00 PM",isOpen:!0},{day:"Wednesday",hours:"9:00 AM - 10:00 PM",isOpen:!0},{day:"Thursday",hours:"9:00 AM - 10:00 PM",isOpen:!0},{day:"Friday",hours:"9:00 AM - 10:00 PM",isOpen:!0},{day:"Saturday",hours:"9:00 AM - 10:00 PM",isOpen:!0},{day:"Sunday",hours:"9:00 AM - 10:00 PM",isOpen:!0}],V=[{icon:or,label:"Instant Confirmation"},{icon:Wr,label:"Pay by app"},{icon:jV,label:"Kid-friendly"},{icon:$V,label:"Parking available"},{icon:pr,label:"Woman-owned"}];return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(lu,{}),e.jsxs("div",{className:"container mx-auto px-4 md:px-6 py-6",children:[e.jsxs("button",{onClick:()=>r(-1),className:"flex items-center gap-2 text-gray-600 hover:text-purple-600 mb-6 transition-colors",children:[e.jsx(Vi,{className:"w-5 h-5"}),e.jsx("span",{className:"font-medium",children:"Back"})]}),i.gallery&&i.gallery.length>0?e.jsxs("div",{className:"relative w-full mb-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-1 md:gap-2 h-[250px] md:h-[350px] rounded-lg overflow-hidden",children:[e.jsxs("div",{className:"md:col-span-3 relative group overflow-hidden cursor-pointer h-full",onClick:()=>l(!0),children:[e.jsx("img",{src:i.gallery[0],alt:`${i.name} - Main`,className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-105"}),e.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/10 transition-all duration-300"})]}),e.jsx("div",{className:"hidden md:grid md:grid-rows-2 gap-2 h-full",children:i.gallery.slice(1,3).map((W,G)=>e.jsxs("div",{className:"relative group overflow-hidden cursor-pointer h-full",onClick:()=>l(!0),children:[e.jsx("img",{src:W,alt:`${i.name} - ${G+2}`,className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-105"}),e.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/10 transition-all duration-300"}),G===1&&i.gallery.length>3&&e.jsx("div",{className:"absolute inset-0 bg-black/60 flex items-center justify-center backdrop-blur-sm",children:e.jsxs("div",{className:"text-white text-center",children:[e.jsx(HP,{className:"w-6 h-6 mx-auto mb-1"}),e.jsxs("span",{className:"font-semibold text-sm",children:["+",i.gallery.length-3," photos"]})]})})]},G))})]}),e.jsxs(Q,{onClick:()=>l(!0),variant:"outline",size:"sm",className:"absolute top-3 right-3 bg-white/95 backdrop-blur-sm border-gray-300 text-gray-900 hover:bg-white shadow-lg text-xs",children:[e.jsx(HP,{className:"w-3 h-3 mr-1"}),"See all photos"]})]}):e.jsx("div",{className:"relative w-full h-[250px] md:h-[350px] overflow-hidden rounded-lg mb-6",children:e.jsx("img",{src:i.image,alt:i.name,className:"w-full h-full object-cover"})}),e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900",children:i.name}),i.isFeatured&&e.jsx(Oe,{className:"bg-gradient-to-r from-purple-500 to-pink-500 text-white border-0",children:"Featured"}),i.isNew&&e.jsx(Oe,{className:"bg-green-500 text-white border-0",children:"New"})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-gray-600",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Gt,{className:"w-5 h-5 fill-yellow-400 text-yellow-400"}),e.jsx("span",{className:"font-semibold text-gray-900",children:i.rating}),e.jsxs("span",{children:["(",i.reviewCount," reviews)"]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(vs,{className:"w-5 h-5"}),e.jsx("span",{children:i.location})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(pt,{className:"w-5 h-5"}),e.jsx("span",{children:i.openHours})]})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(Q,{onClick:B,className:`flex items-center gap-2 px-4 py-2 h-auto transition-all ${C?"bg-gradient-to-r from-pink-500 to-rose-500 hover:from-pink-600 hover:to-rose-600 text-white shadow-lg":"bg-white border-2 border-gray-300 hover:border-pink-400 hover:bg-pink-50 text-gray-700"}`,children:[e.jsx(Kn,{className:`w-5 h-5 ${C?"fill-white":""}`}),e.jsx("span",{className:"font-medium text-sm hidden md:inline",children:C?"Saved":"Save"})]}),e.jsxs(Q,{onClick:()=>_(!0),className:"flex items-center gap-2 px-4 py-2 h-auto bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white shadow-lg transition-all",children:[e.jsx(_o,{className:"w-5 h-5"}),e.jsx("span",{className:"font-medium text-sm hidden md:inline",children:"Share"})]})]})]})})]}),o&&i.gallery&&e.jsx("div",{className:"fixed inset-0 z-50 bg-black/95 backdrop-blur-sm flex items-center justify-center p-4",children:e.jsxs("div",{className:"relative w-full max-w-6xl max-h-screen overflow-auto",children:[e.jsxs("div",{className:"sticky top-0 z-10 flex items-center justify-between p-4 bg-black/50 backdrop-blur-sm",children:[e.jsxs("h2",{className:"text-white text-2xl font-bold",children:[i.name," - Gallery"]}),e.jsx(Q,{onClick:()=>l(!1),variant:"ghost",size:"icon",className:"text-white hover:bg-white/10",children:e.jsx(ht,{className:"w-6 h-6"})})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 p-4",children:i.gallery.map((W,G)=>e.jsx("div",{className:"relative aspect-square overflow-hidden rounded-lg",children:e.jsx("img",{src:W,alt:`${i.name} - Photo ${G+1}`,className:"w-full h-full object-cover hover:scale-110 transition-transform duration-300"})},G))})]})}),e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsx("div",{className:"lg:hidden mb-4",children:e.jsx(ne,{className:"p-3 bg-gradient-to-r from-purple-50 to-pink-50 border-purple-200",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-purple-600 to-pink-600 rounded-lg flex items-center justify-center flex-shrink-0",children:e.jsx(Mi,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"font-bold text-sm text-gray-900",children:"AI Booking Assistant"}),e.jsx("p",{className:"text-xs text-gray-600",children:"Available 24/7  Instant help"})]}),e.jsxs(Q,{onClick:()=>p(!0),size:"sm",className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 gap-1",children:[e.jsx(Fh,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden xs:inline",children:"Chat"})]})]})})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[e.jsx("div",{className:"lg:col-span-8",children:e.jsxs(_p,{defaultValue:"services",className:"space-y-6",children:[e.jsxs(kp,{className:"bg-white border border-gray-200",children:[e.jsx(rn,{value:"services",children:"Services"}),e.jsxs(rn,{value:"giftcards",children:[e.jsx(dr,{className:"w-4 h-4 mr-1"}),"Gift Cards"]}),e.jsx(rn,{value:"staff",children:"Staff"}),e.jsx(rn,{value:"reviews",children:"Reviews"}),e.jsx(rn,{value:"about",children:"About"})]}),e.jsx(nn,{value:"services",className:"space-y-4",children:Object.entries(F).map(([W,G])=>e.jsxs(ne,{className:"p-4",children:[e.jsx("h3",{className:"text-lg font-bold capitalize mb-3",children:W}),e.jsx("div",{className:"space-y-3",children:G.map(O=>e.jsxs("div",{className:"flex items-center justify-between p-3 hover:bg-gray-50 rounded-lg transition-colors",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-semibold",children:O.name}),e.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-600 mt-1",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(pt,{className:"w-3 h-3"}),O.duration," min"]}),e.jsx("span",{className:"font-bold text-purple-600",children:s(O.price)})]})]}),e.jsx(Q,{onClick:()=>r(`/booking/${i.id}/${O.id}`),size:"sm",className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700",children:"Book"})]},O.id))})]},W))}),e.jsxs(nn,{value:"giftcards",className:"space-y-4",children:[e.jsx(ne,{className:"overflow-hidden",children:e.jsxs("div",{className:"grid md:grid-cols-2 gap-0",children:[e.jsxs("div",{className:"relative h-64 md:h-auto",children:[e.jsx("img",{src:"https://images.unsplash.com/photo-1759563871370-692ab3de97ed?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxsdXh1cnklMjBnaWZ0JTIwY2FyZCUyMHByZXNlbnR8ZW58MXx8fHwxNzY2NjU1MTM5fDA&ixlib=rb-4.1.0&q=80&w=1080&utm_source=figma&utm_medium=referral",alt:"Gift Card",className:"w-full h-full object-cover"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-600/20 to-pink-600/20"})]}),e.jsxs("div",{className:"p-6 md:p-8 flex flex-col justify-center bg-gradient-to-br from-purple-50 to-pink-50",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-r from-purple-600 to-pink-600 flex items-center justify-center",children:e.jsx(dr,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"Gift Cards"}),e.jsx("p",{className:"text-sm text-purple-600",children:"Perfect for any occasion"})]})]}),e.jsxs("p",{className:"text-gray-700 mb-6",children:["Give the gift of relaxation and beauty with a gift card from ",i.name,". Perfect for birthdays, anniversaries, holidays, or just to show someone you care."]}),e.jsxs("div",{className:"space-y-3 mb-6",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-700",children:[e.jsx(or,{className:"w-4 h-4 text-green-600 flex-shrink-0"}),e.jsxs("span",{children:["Valid for all services at ",i.name]})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-700",children:[e.jsx(or,{className:"w-4 h-4 text-green-600 flex-shrink-0"}),e.jsx("span",{children:"Can be used in multiple visits"})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-700",children:[e.jsx(or,{className:"w-4 h-4 text-green-600 flex-shrink-0"}),e.jsx("span",{children:"Delivered instantly via email"})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-700",children:[e.jsx(or,{className:"w-4 h-4 text-green-600 flex-shrink-0"}),e.jsx("span",{children:"Never expires"})]})]}),e.jsxs(Q,{onClick:()=>M(!0),className:"w-full bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white shadow-lg",size:"lg",children:[e.jsx(dr,{className:"w-5 h-5 mr-2"}),"Buy Gift Card Now"]})]})]})}),e.jsxs(ne,{className:"p-6",children:[e.jsx("h3",{className:"font-bold text-lg mb-4",children:"Choose an Amount"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-3",children:$.presetAmounts.map(W=>e.jsxs("button",{onClick:()=>M(!0),className:"group relative p-6 rounded-xl border-2 border-gray-200 hover:border-purple-500 hover:shadow-lg transition-all duration-200 bg-white hover:bg-purple-50",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-gray-900 group-hover:text-purple-600 transition-colors",children:s(W)}),e.jsx("div",{className:"text-xs text-gray-500 mt-1 group-hover:text-purple-600 transition-colors",children:"Gift Card"})]}),e.jsx("div",{className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx("div",{className:"w-6 h-6 rounded-full bg-purple-600 flex items-center justify-center",children:e.jsx(or,{className:"w-4 h-4 text-white"})})})]},W))}),e.jsxs("div",{className:"mt-4 p-4 bg-blue-50 rounded-lg border border-blue-100",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-blue-900",children:[e.jsx(Wr,{className:"w-4 h-4"}),e.jsx("span",{className:"font-medium",children:"Want a custom amount?"})]}),e.jsxs("p",{className:"text-xs text-blue-700 mt-1",children:["Choose any amount from ",s($.minAmount)," to ",s($.maxAmount)," during checkout"]})]})]}),e.jsxs(ne,{className:"p-6",children:[e.jsx("h3",{className:"font-bold text-lg mb-4",children:"How It Works"}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-purple-100 text-purple-600 flex items-center justify-center mx-auto mb-3 font-bold",children:"1"}),e.jsx("h4",{className:"font-semibold mb-2",children:"Select Amount"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Choose a preset amount or enter a custom value"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-purple-100 text-purple-600 flex items-center justify-center mx-auto mb-3 font-bold",children:"2"}),e.jsx("h4",{className:"font-semibold mb-2",children:"Personalize"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Add recipient info and a personal message"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-purple-100 text-purple-600 flex items-center justify-center mx-auto mb-3 font-bold",children:"3"}),e.jsx("h4",{className:"font-semibold mb-2",children:"Send Instantly"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Gift card delivered via email right away"})]})]})]})]}),e.jsx(nn,{value:"staff",className:"space-y-4",children:i.staff.length>0?e.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:i.staff.map(W=>e.jsx(ne,{className:"p-4",children:e.jsxs("div",{className:"flex flex-col items-center text-center",children:[e.jsxs(Ri,{className:"w-20 h-20 mb-3",children:[e.jsx(jl,{src:W.image,alt:W.name}),e.jsx(wl,{children:W.name[0]})]}),e.jsx("h3",{className:"font-semibold",children:W.name}),e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:W.role}),e.jsxs("div",{className:"flex items-center gap-1 mb-3",children:[e.jsx(Gt,{className:"w-4 h-4 fill-yellow-400 text-yellow-400"}),e.jsx("span",{className:"text-sm font-medium",children:W.rating})]}),e.jsx("div",{className:"flex flex-wrap gap-2 justify-center",children:W.specialties.map((G,O)=>e.jsx(Oe,{variant:"secondary",className:"text-xs",children:G},O))})]})},W.id))}):e.jsx(ne,{className:"p-8 text-center text-gray-500",children:"No staff information available"})}),e.jsx(nn,{value:"reviews",className:"space-y-4",children:i.reviews.length>0?i.reviews.map(W=>e.jsx(ne,{className:"p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsxs(Ri,{className:"w-10 h-10",children:[e.jsx(jl,{src:W.avatar,alt:W.author}),e.jsx(wl,{children:W.author[0]})]}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-sm",children:W.author}),e.jsx("p",{className:"text-xs text-gray-500",children:W.date})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Gt,{className:"w-4 h-4 fill-yellow-400 text-yellow-400"}),e.jsx("span",{className:"font-semibold text-sm",children:W.rating})]})]}),e.jsx("p",{className:"text-sm text-gray-700",children:W.comment})]})]})},W.id)):e.jsx(ne,{className:"p-8 text-center text-gray-500",children:"No reviews yet"})}),e.jsxs(nn,{value:"about",className:"space-y-4",children:[e.jsxs(ne,{className:"p-4",children:[e.jsx("h3",{className:"text-lg font-bold mb-2",children:"About"}),e.jsx("p",{className:"text-sm text-gray-700",children:i.about})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs(ne,{className:"p-4",children:[e.jsx("h3",{className:"text-lg font-bold mb-3",children:"Opening times"}),e.jsx("div",{className:"space-y-2",children:Z.map((W,G)=>e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[W.isOpen&&e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),e.jsx("span",{className:W.isOpen?"text-gray-900":"text-gray-400",children:W.day})]}),e.jsx("span",{className:"text-gray-600 text-sm",children:W.hours})]},G))})]}),e.jsxs(ne,{className:"p-4",children:[e.jsx("h3",{className:"text-lg font-bold mb-3",children:"Additional information"}),e.jsx("div",{className:"space-y-2",children:V.map((W,G)=>{const O=W.icon;return e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(or,{className:"w-4 h-4 text-green-600"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(O,{className:"w-4 h-4 text-gray-600"}),e.jsx("span",{className:"text-gray-900",children:W.label})]})]},G)})})]})]}),e.jsxs(ne,{className:"p-4",children:[e.jsx("h3",{className:"text-lg font-bold mb-3",children:"Location"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-700",children:[e.jsx(vs,{className:"w-4 h-4"}),e.jsx("span",{children:i.location})]}),e.jsx("div",{className:"w-full h-48 bg-gray-100 rounded-lg flex items-center justify-center border border-gray-200",children:e.jsxs("div",{className:"text-center text-gray-500",children:[e.jsx(vs,{className:"w-10 h-10 mx-auto mb-2 text-purple-600"}),e.jsx("p",{className:"font-semibold text-sm",children:"Map view"}),e.jsx("p",{className:"text-xs",children:i.location})]})})]})]}),e.jsxs(ne,{className:"p-4",children:[e.jsx("h3",{className:"text-lg font-bold mb-3",children:"Contact"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(En,{className:"w-4 h-4 text-gray-600"}),e.jsx("span",{className:"text-gray-900",children:"+1 (555) 123-4567"})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(Ut,{className:"w-4 h-4 text-gray-600"}),e.jsxs("span",{className:"text-gray-900",children:["contact@",i.name.toLowerCase().replace(/\s+/g,""),".com"]})]})]})]})]})]})}),e.jsx("div",{className:"lg:col-span-4",children:e.jsxs("div",{className:"sticky top-24 space-y-4",children:[e.jsx(ne,{className:"p-4",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs(Q,{onClick:()=>p(!0),className:"w-full gap-2 bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700",size:"lg",children:[e.jsx(Mi,{className:"w-5 h-5"}),"Book via AI Agent"]}),e.jsxs(Q,{onClick:()=>{const W=i.services[0];r(`/booking/${i.id}/${W.id}`)},variant:"outline",className:"w-full gap-2 border-2",size:"lg",children:[e.jsx(vt,{className:"w-5 h-5"}),"Book Appointment"]})]})}),e.jsxs(ne,{className:"p-4 bg-blue-50 border-blue-100",children:[e.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-600 rounded-lg flex items-center justify-center flex-shrink-0",children:e.jsx(Mi,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-blue-900",children:"Need Help Booking?"}),e.jsx("p",{className:"text-sm text-blue-700",children:"Available 24/7"})]})]}),e.jsx("p",{className:"text-sm text-blue-800 mb-3",children:"Our AI assistant can help you find the perfect slot, answer questions about services, or manage your booking instantly."}),e.jsxs(Q,{onClick:()=>p(!0),className:"w-full bg-blue-600 hover:bg-blue-700 text-white gap-2",children:[e.jsx(Fh,{className:"w-4 h-4"}),"Chat with Assistant"]})]}),e.jsxs(ne,{className:"p-4",children:[e.jsx("h3",{className:"font-bold mb-3",children:"Contact & Location"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(vs,{className:"w-4 h-4 text-purple-600"}),e.jsx("span",{className:"text-gray-700",children:i.location})]}),e.jsxs(Q,{variant:"outline",className:"w-full gap-2 text-purple-600 border-purple-600 hover:bg-purple-50",onClick:()=>v(!0),children:[e.jsx(AL,{className:"w-4 h-4"}),"Get Directions"]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(En,{className:"w-4 h-4 text-gray-600"}),e.jsx("span",{className:"text-gray-700",children:"+1 (555) 123-4567"})]})]})]}),e.jsxs(ne,{className:"p-4",children:[e.jsx("h3",{className:"font-bold mb-3",children:"Opening Hours"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-gray-700",children:"Monday - Friday"}),e.jsx("span",{className:"text-green-600 font-medium",children:"09:00 - 20:00"})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-gray-700",children:"Saturday"}),e.jsx("span",{className:"text-green-600 font-medium",children:"10:00 - 18:00"})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-gray-700",children:"Sunday"}),e.jsx("span",{className:"text-red-600 font-medium",children:"Closed"})]})]})]})]})})]}),K.length>0&&e.jsx("section",{className:"mt-12 mb-8 bg-gradient-to-b from-white to-purple-50 -mx-4 px-4 py-12",children:e.jsxs("div",{className:"container mx-auto",children:[e.jsx("div",{className:"flex items-center justify-between mb-6",children:e.jsxs("div",{children:[e.jsxs("h2",{className:"text-2xl md:text-3xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent flex items-center gap-2",children:[e.jsx(vs,{className:"w-8 h-8 text-purple-500"}),"Venues Nearby"]}),e.jsxs("p",{className:"text-gray-600 text-sm mt-1",children:["Similar salons in ",i.city," offering ",H.slice(0,2).join(", "),H.length>2&&" and more"]})]})}),e.jsx("div",{className:"hidden md:block",children:e.jsxs(Qa,{opts:{align:"start",loop:!0},className:"w-full",children:[e.jsx(ei,{className:"-ml-2 md:-ml-4",children:K.map(W=>e.jsx(ti,{className:"pl-2 md:pl-4 md:basis-1/2 lg:basis-1/3 xl:basis-1/4",children:e.jsx(Es,{salon:W})},W.id))}),e.jsx(Nh,{className:"hidden md:flex"}),e.jsx(Sh,{className:"hidden md:flex"})]})}),e.jsx("div",{className:"md:hidden",children:e.jsx(Qa,{opts:{align:"start",loop:!0},className:"w-full",children:e.jsx(ei,{className:"-ml-2",children:K.map(W=>e.jsx(ti,{className:"pl-2 basis-[85%]",children:e.jsx(Es,{salon:W})},W.id))})})})]})})]}),c&&e.jsx(BCe,{salon:i,onClose:()=>u(!1),preSelectedService:j}),m&&e.jsx(ACe,{salon:i,onClose:()=>p(!1)}),x&&e.jsx(MCe,{salon:i,onClose:()=>v(!1)}),e.jsx(DCe,{salonName:i.name,salonLocation:i.location,salonRating:i.rating,isOpen:T,onClose:()=>_(!1)}),k&&e.jsx(LCe,{salonId:i.id,salonName:i.name,onClose:()=>M(!1)}),e.jsx(Cl,{})]},a.code)}function BCe({salon:t,onClose:r,preSelectedService:n}){const{formatPrice:s}=Kt(),{services:a}=au(),i=vn(),[o,l]=N.useState(null),[c,u]=N.useState(""),[m,p]=N.useState(void 0),[x,v]=N.useState(""),[w,y]=N.useState(!1);N.useEffect(()=>{if(n){const T=a.find(_=>_.name.toLowerCase()===n.name.toLowerCase()||_.category.toLowerCase()===n.category.toLowerCase());l(T||{id:"temp-"+Date.now(),name:n.name,category:n.category,price:n.price*(1-(n.discount||0)/100),originalPrice:n.price,discount:n.discount,duration:n.duration})}},[n,a]);const S=(()=>{const T=[];for(let M=9;M<20;M++)for(let $=0;$<60;$+=15){const B=M>12?M-12:M,F=$.toString().padStart(2,"0"),H=M>=12?"PM":"AM";T.push(`${B}:${F} ${H}`)}return T})(),C=["9:00 AM","9:15 AM","10:30 AM","11:00 AM","2:00 PM","3:30 PM"],P=o&&c&&m&&x;return e.jsxs("div",{className:"fixed inset-0 z-50 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4",children:[e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-6xl max-h-[90vh] overflow-hidden flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b sticky top-0 bg-white z-10",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("img",{src:t.image,alt:t.name,className:"w-16 h-16 rounded-lg object-cover"}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold",children:t.name}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[e.jsx(vs,{className:"w-4 h-4"}),e.jsx("span",{children:t.location})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[e.jsx(pt,{className:"w-4 h-4"}),e.jsx("span",{children:t.openHours})]})]})]}),e.jsx(Q,{onClick:r,variant:"ghost",size:"icon",className:"rounded-full",children:e.jsx(ht,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"flex-1 overflow-auto p-6",children:e.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold mb-4",children:"Services"}),e.jsxs(ne,{className:"p-4 border-2 border-purple-100",children:[e.jsxs(sn,{value:(o==null?void 0:o.id)||"",onValueChange:T=>{const _=a.find(k=>k.id===T);l(_)},children:[e.jsx(an,{className:"w-full",children:e.jsx(gn,{placeholder:"Select a service"})}),e.jsx(on,{children:a.map(T=>e.jsx(Ue,{value:T.id,children:e.jsxs("div",{className:"flex items-center justify-between w-full gap-4",children:[e.jsxs("div",{className:"flex flex-col items-start",children:[e.jsx("span",{className:"font-medium",children:T.name}),e.jsx("span",{className:"text-xs text-gray-500",children:T.category})]}),e.jsx("div",{className:"flex flex-col items-end",children:T.discount&&T.discount>0?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-xs text-gray-400 line-through",children:s(T.originalPrice||T.price)}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("span",{className:"text-purple-600 font-semibold",children:s(T.price)}),e.jsxs("span",{className:"text-xs bg-red-500 text-white px-1 rounded",children:["-",T.discount,"%"]})]})]}):e.jsx("span",{className:"text-purple-600 font-semibold",children:s(T.price)})})]})},T.id))})]}),o&&e.jsxs("div",{className:"mt-3 p-3 bg-purple-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-semibold",children:o.name}),e.jsx("p",{className:"text-xs text-gray-600",children:o.category})]}),e.jsx("div",{className:"text-right",children:o.discount&&o.discount>0?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"text-xs text-gray-400 line-through",children:s(o.originalPrice||o.price)}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-purple-600 font-bold",children:s(o.price)}),e.jsxs("span",{className:"text-xs bg-red-500 text-white px-1.5 py-0.5 rounded font-bold",children:["-",o.discount,"%"]})]})]}):e.jsx("span",{className:"text-purple-600 font-bold",children:s(o.price)})})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 mt-2",children:[e.jsx(pt,{className:"w-3 h-3"}),e.jsxs("span",{children:[o.duration," min"]})]}),o.description&&e.jsx("p",{className:"text-xs text-gray-600 mt-2 border-t border-purple-100 pt-2",children:o.description})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold mb-4",children:"Select Master"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(ne,{className:`p-4 cursor-pointer transition-all ${c==="any"?"border-2 border-purple-500 bg-purple-50":"border-2 border-gray-200 hover:border-purple-300"}`,onClick:()=>u("any"),children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold",children:"Any Available Master"}),e.jsx("p",{className:"text-sm text-gray-600",children:"First available specialist"})]}),c==="any"&&e.jsx(or,{className:"w-6 h-6 text-purple-600"})]})}),t.staff.map(T=>e.jsx(ne,{className:`p-4 cursor-pointer transition-all ${c===T.id?"border-2 border-purple-500 bg-purple-50":"border-2 border-gray-200 hover:border-purple-300"}`,onClick:()=>u(T.id),children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(Ri,{className:"w-12 h-12",children:[e.jsx(jl,{src:T.image,alt:T.name}),e.jsx(wl,{children:T.name[0]})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-semibold",children:T.name}),e.jsx("p",{className:"text-sm text-gray-600",children:T.role}),e.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[e.jsx(Gt,{className:"w-3 h-3 fill-yellow-400 text-yellow-400"}),e.jsx("span",{className:"text-sm font-medium",children:T.rating})]})]}),c===T.id&&e.jsx(or,{className:"w-6 h-6 text-purple-600"})]})},T.id))]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold mb-4",children:"Select Date & Time"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-3",children:"Pick a Date"}),e.jsx(ne,{className:"p-4 border-2 border-purple-100",children:e.jsx(mb,{mode:"single",selected:m,onSelect:p,disabled:T=>T<new Date,className:"rounded-md"})})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-3",children:"Available Times"}),e.jsx(ne,{className:"p-4 border-2 border-purple-100",children:m?e.jsx("div",{className:"grid grid-cols-3 gap-2 max-h-80 overflow-y-auto",children:S.map(T=>{const _=C.includes(T);return e.jsx(Q,{variant:x===T?"default":"outline",size:"sm",disabled:_,onClick:()=>v(T),className:`${x===T?"bg-gradient-to-r from-purple-600 to-pink-600":""} ${_?"opacity-50 cursor-not-allowed":""}`,children:T},T)})}):e.jsxs("div",{className:"text-center py-12 text-gray-500",children:[e.jsx(pt,{className:"w-12 h-12 mx-auto mb-3 text-gray-400"}),e.jsx("p",{className:"font-semibold",children:"Please select a date first"})]})})]})]})]})]}),e.jsx("div",{className:"lg:col-span-1",children:e.jsx("div",{className:"sticky top-0",children:e.jsxs(ne,{className:"p-4 border-2 border-purple-100 bg-purple-50",children:[e.jsx("h3",{className:"font-bold mb-4",children:"Subtotal"}),o?e.jsxs("div",{className:"space-y-3 mb-4",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-gray-700",children:"Services"}),e.jsx("span",{className:"font-semibold",children:"1"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-700",children:"Subtotal"}),e.jsx("span",{className:"font-bold text-lg text-purple-600",children:s(o.price)})]})]}):e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"No service selected"}),e.jsxs("div",{className:"border-t border-purple-200 pt-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("span",{className:"font-bold text-lg",children:"Total"}),e.jsx("span",{className:"font-bold text-2xl bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent",children:s(o?o.price:0)})]}),e.jsx(Q,{disabled:!P,onClick:()=>y(!0),className:"w-full bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white py-6",size:"lg",children:P?"Complete Booking":"Please complete all selections"})]})]})})})]})})]}),e.jsx(I6,{isOpen:w,onClose:()=>y(!1),onSuccess:()=>{y(!1),r(),i("/dashboard")}})]})}function zI(){const{salonId:t,serviceId:r}=rL(),n=vn(),{formatPrice:s,currency:a}=Kt(),[i,o]=N.useState(!1),[l,c]=N.useState(!1),[u,m]=N.useState("single"),[p,x]=N.useState("weekly"),[v,w]=N.useState(12),[y,j]=N.useState(2),[S,C]=N.useState({groupDiscounts:{tier1:{minPeople:2,maxPeople:3,discount:5},tier2:{minPeople:4,maxPeople:5,discount:10},tier3:{minPeople:6,maxPeople:99,discount:15}},packageDealsDiscount:20,recurringDiscount:10,enableGroupBooking:!0,enablePackageDeals:!0,enableRecurringBooking:!0});N.useEffect(()=>{const ie=localStorage.getItem("bookingSettings");if(ie){const ee=JSON.parse(ie);console.log(" LOADED BOOKING SETTINGS:",ee),C(ee)}else console.log(" NO BOOKING SETTINGS IN localStorage - using defaults")},[]);const P=ie=>{const{tier1:ee,tier2:ae,tier3:oe}=S.groupDiscounts;return console.log(` Calculating discount for ${ie} people:`,{tier1:ee,tier2:ae,tier3:oe}),ie>=oe.minPeople?(console.log(` Tier 3: ${oe.discount}%`),oe.discount):ie>=ae.minPeople&&ie<=ae.maxPeople?(console.log(` Tier 2: ${ae.discount}%`),ae.discount):ie>=ee.minPeople&&ie<=ee.maxPeople?(console.log(` Tier 1: ${ee.discount}%`),ee.discount):(console.log(" No discount tier matched"),0)},T=ja.find(ie=>ie.id===t),_=T==null?void 0:T.services.find(ie=>ie.id===r),[k,M]=N.useState([{id:Date.now().toString(),service:_,staffId:null,date:void 0,time:null}]),[$,B]=N.useState(0);if(!T||!_)return e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsx("p",{className:"text-center text-gray-600",children:"Booking not found"})});const H=(()=>{const ie=[];for(let oe=9;oe<20;oe++)for(let te=0;te<60;te+=15){const ue=oe>12?oe-12:oe,de=te.toString().padStart(2,"0"),fe=oe>=12?"PM":"AM";ie.push(`${ue}:${de} ${fe}`)}return ie})(),K=["9:00 AM","9:15 AM","10:30 AM","11:00 AM","2:00 PM","3:30 PM"],Z=(ie,ee)=>{if(!ee)return!0;const ae=new Date;return!(ee.toDateString()===ae.toDateString()&&K.includes(ie))},V=ie=>{const ee=T.services.find(ae=>ae.id===ie);ee&&(M([...k,{id:Date.now().toString(),service:ee,staffId:null,date:void 0,time:null}]),B(k.length))},W=ie=>{if(k.length>1){const ee=k.filter((ae,oe)=>oe!==ie);M(ee),B(Math.max(0,ie-1))}},G=(ie,ee,ae)=>{const oe=[...k];oe[ie]={...oe[ie],[ee]:ae},M(oe)},O=(ie,ee)=>{const ae=T.services.find(oe=>oe.id===ee);if(ae){const oe=[...k];oe[ie].service=ae,M(oe)}},R=()=>k.reduce((ie,ee)=>ie+ee.service.price,0),D=()=>k.every(ie=>ie.staffId&&ie.date&&ie.time),I=()=>{l?n("/dashboard"):o(!0)},q=()=>{c(!0),o(!1),n("/dashboard")},J=k[$];return e.jsxs("div",{className:"min-h-screen bg-gray-50 py-8",children:[e.jsxs("div",{className:"container mx-auto px-4 max-w-7xl",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("button",{onClick:()=>n(-1),className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-4",children:[e.jsx(Bh,{className:"w-5 h-5"}),"Back to salon"]}),e.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-sm",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("img",{src:T.image,alt:T.name,className:"w-20 h-20 rounded-xl object-cover"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:T.name}),e.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-gray-600",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(vs,{className:"w-4 h-4"}),e.jsx("span",{children:T.location})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Gt,{className:"w-4 h-4 fill-yellow-400 text-yellow-400"}),e.jsxs("span",{children:[T.rating," (",T.reviewCount," reviews)"]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(pt,{className:"w-4 h-4"}),e.jsx("span",{children:T.openHours})]})]})]})]})})]}),e.jsx("div",{className:"mb-6",children:e.jsxs(ne,{className:"p-4",children:[e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsx("span",{className:"text-sm font-semibold text-gray-700",children:"Booking Type:"}),e.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[e.jsxs("button",{onClick:()=>m("single"),className:`flex-1 min-w-[140px] px-4 py-2 rounded-lg text-sm font-medium transition-all flex items-center justify-center gap-2 ${u==="single"?"bg-gradient-to-r from-purple-600 to-pink-600 text-white shadow-md":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[e.jsx(pt,{className:"w-4 h-4"}),"Single Visit"]}),e.jsxs("button",{onClick:()=>m("package"),className:`flex-1 min-w-[140px] px-4 py-2 rounded-lg text-sm font-medium transition-all flex items-center justify-center gap-2 ${u==="package"?"bg-gradient-to-r from-purple-600 to-pink-600 text-white shadow-md":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[e.jsx(dr,{className:"w-4 h-4"}),e.jsx("span",{className:"whitespace-nowrap",children:"Package Deal"}),e.jsx("span",{className:"text-xs bg-white/20 px-2 py-0.5 rounded",children:"Save 20%"})]}),e.jsxs("button",{onClick:()=>m("recurring"),className:`flex-1 min-w-[140px] px-4 py-2 rounded-lg text-sm font-medium transition-all flex items-center justify-center gap-2 ${u==="recurring"?"bg-gradient-to-r from-purple-600 to-pink-600 text-white shadow-md":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[e.jsx(OL,{className:"w-4 h-4"}),"Recurring",e.jsx("span",{className:"text-xs bg-white/20 px-2 py-0.5 rounded",children:"Auto-book"})]}),e.jsxs("button",{onClick:()=>m("group"),className:`flex-1 min-w-[140px] px-4 py-2 rounded-lg text-sm font-medium transition-all flex items-center justify-center gap-2 ${u==="group"?"bg-gradient-to-r from-purple-600 to-pink-600 text-white shadow-md":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[e.jsx(pr,{className:"w-4 h-4"}),"Group Booking",e.jsxs("span",{className:"text-xs bg-white/20 px-2 py-0.5 rounded",children:["Book for ",y," people"]})]})]})]}),u==="recurring"&&e.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Frequency"}),e.jsxs("select",{value:p,onChange:ie=>x(ie.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-purple-500",children:[e.jsx("option",{value:"weekly",children:"Every Week"}),e.jsx("option",{value:"biweekly",children:"Every 2 Weeks"}),e.jsx("option",{value:"triweekly",children:"Every 3 Weeks"}),e.jsx("option",{value:"monthly",children:"Every Month"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Number of Appointments"}),e.jsx("input",{type:"number",value:v,onChange:ie=>w(Number(ie.target.value)),min:1,max:52,className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-purple-500"})]})]}),e.jsx("div",{className:"mt-3 p-3 bg-purple-50 rounded-lg",children:e.jsxs("p",{className:"text-sm text-purple-900",children:[e.jsx("strong",{children:" You'll be booked for:"})," ",v," appointments,"," ",p==="weekly"?"every week":p==="biweekly"?"every 2 weeks":p==="triweekly"?"every 3 weeks":"every month"," ","(",Math.ceil(v*(p==="weekly"?1:p==="biweekly"?2:p==="triweekly"?3:4)/4)," months total)"]})})]}),u==="package"&&e.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:e.jsx("div",{className:"p-4 bg-gradient-to-r from-purple-50 to-pink-50 rounded-lg",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(bs,{className:"w-6 h-6 text-purple-600 flex-shrink-0 mt-1"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:" Popular Package: Manicure + Pedicure"}),e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Get both services together and save 20%"}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-sm text-gray-500 line-through",children:s(120)}),e.jsx("span",{className:"text-xl font-bold text-purple-600 ml-2",children:s(96)})]}),e.jsxs("span",{className:"text-xs bg-red-500 text-white px-2 py-1 rounded",children:["Save ",s(24)]})]})]})]})})}),u==="group"&&e.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Number of People"}),e.jsx("input",{type:"number",value:y,onChange:ie=>j(Math.max(2,Number(ie.target.value))),min:2,max:20,className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-purple-500"})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Group Discount"}),e.jsx("div",{className:"px-3 py-2 bg-green-50 border border-green-200 rounded-lg",children:e.jsxs("span",{className:"text-lg font-bold text-green-600",children:[P(y),"% OFF"]})})]})]}),e.jsx("div",{className:"p-4 bg-gradient-to-r from-blue-50 to-purple-50 rounded-lg",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(pr,{className:"w-6 h-6 text-blue-600 flex-shrink-0 mt-1"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:" Group Booking Benefits"}),e.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[e.jsx("li",{children:" Same time slot for everyone"}),e.jsx("li",{children:" Multiple masters assigned automatically"}),e.jsxs("li",{children:[" Group discount: ",P(y),"% off per person"]}),e.jsx("li",{children:" Perfect for events: Weddings, Birthdays, Corporate"})]}),e.jsx("div",{className:"mt-3 pt-3 border-t border-blue-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Total for ",y," people:"]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-xs text-gray-500 line-through",children:s(R()*y)}),e.jsx("div",{className:"text-xl font-bold text-purple-600",children:s(R()*y*(1-P(y)/100))})]})]})})]})]})})]})})]})}),e.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-1 space-y-4",children:[e.jsxs(ne,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-lg font-bold text-gray-900",children:"Services"}),e.jsxs(sn,{onValueChange:V,children:[e.jsxs(an,{className:"w-[180px] bg-white hover:bg-gray-50 text-purple-600 border-2 border-purple-600 font-semibold",children:[e.jsx(er,{className:"w-4 h-4 mr-1"}),e.jsx(gn,{placeholder:"Add Service"})]}),e.jsx(on,{children:T.services.map(ie=>e.jsx(Ue,{value:ie.id,children:e.jsxs("div",{className:"flex items-center justify-between w-full gap-3",children:[e.jsx("span",{className:"font-medium",children:ie.name}),e.jsxs("span",{className:"text-xs text-gray-500",children:[ie.duration," min  ",s(ie.price)]})]})},ie.id))})]})]}),e.jsx("div",{className:"space-y-3",children:k.map((ie,ee)=>e.jsxs("div",{className:`p-4 rounded-lg border-2 cursor-pointer transition-all ${$===ee?"border-purple-600 bg-purple-50":"border-gray-200 hover:border-gray-300 bg-white"}`,onClick:()=>B(ee),children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsxs("div",{className:"flex-1",onClick:ae=>ae.stopPropagation(),children:[e.jsxs(sn,{value:ie.service.id,onValueChange:ae=>O(ee,ae),children:[e.jsx(an,{className:"w-full mb-2 h-auto p-0 border-0 hover:bg-transparent",children:e.jsx("p",{className:"font-semibold text-gray-900 text-sm text-left",children:ie.service.name})}),e.jsx(on,{children:T.services.map(ae=>e.jsx(Ue,{value:ae.id,children:e.jsxs("div",{className:"flex items-center justify-between w-full gap-3",children:[e.jsx("span",{className:"font-medium",children:ae.name}),e.jsxs("span",{className:"text-xs text-gray-500",children:[ae.duration," min  ",s(ae.price)]})]})},ae.id))})]}),e.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-600",children:[e.jsx(pt,{className:"w-3 h-3"}),e.jsxs("span",{children:[ie.service.duration," min"]}),e.jsx("span",{className:"text-purple-600 font-semibold",children:s(ie.service.price)})]})]}),k.length>1&&e.jsx("button",{onClick:ae=>{ae.stopPropagation(),W(ee)},className:"text-gray-400 hover:text-red-600 transition-colors",children:e.jsx(cn,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsxs("div",{className:`flex items-center gap-1 text-xs ${ie.staffId?"text-green-600":"text-gray-400"}`,children:[e.jsx(Sc,{className:"w-3 h-3"}),e.jsx("span",{children:"Staff"})]}),e.jsxs("div",{className:`flex items-center gap-1 text-xs ${ie.date?"text-green-600":"text-gray-400"}`,children:[e.jsx(Sc,{className:"w-3 h-3"}),e.jsx("span",{children:"Date"})]}),e.jsxs("div",{className:`flex items-center gap-1 text-xs ${ie.time?"text-green-600":"text-gray-400"}`,children:[e.jsx(Sc,{className:"w-3 h-3"}),e.jsx("span",{children:"Time"})]})]})]},ie.id))})]}),e.jsx(ne,{className:"p-6 bg-gradient-to-br from-purple-50 to-pink-50 border-2 border-purple-200",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[e.jsx("span",{children:"Subtotal"}),e.jsx("span",{children:s(R())})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[e.jsx("span",{children:"Services"}),e.jsx("span",{children:k.length})]}),e.jsx("div",{className:"pt-3 border-t border-purple-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"font-bold text-gray-900",children:"Total"}),e.jsx("span",{className:"text-2xl font-bold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent",children:s(R())})]})})]})})]}),e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs(ne,{className:"p-6",children:[e.jsxs("h3",{className:"font-bold text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx(zn,{className:"w-5 h-5 text-purple-600"}),"Select Master"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{onClick:()=>G($,"staffId","any"),className:`p-4 rounded-lg border-2 cursor-pointer transition-all ${J.staffId==="any"?"border-purple-600 bg-purple-50":"border-gray-200 hover:border-purple-300"}`,children:[e.jsx("p",{className:"font-semibold text-gray-900",children:"Any Available Master"}),e.jsx("p",{className:"text-sm text-gray-600",children:"First available specialist"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:T.staff.map(ie=>e.jsxs("div",{onClick:()=>G($,"staffId",ie.id),className:`p-4 rounded-lg border-2 cursor-pointer transition-all ${J.staffId===ie.id?"border-purple-600 bg-purple-50":"border-gray-200 hover:border-purple-300"}`,children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsxs(Ri,{className:"w-12 h-12",children:[e.jsx(jl,{src:ie.image,alt:ie.name}),e.jsx(wl,{children:ie.name[0]})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-semibold text-gray-900",children:ie.name}),e.jsx("p",{className:"text-xs text-gray-600",children:ie.role})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Gt,{className:"w-3 h-3 fill-yellow-400 text-yellow-400"}),e.jsx("span",{className:"text-xs text-gray-600",children:ie.rating})]}),e.jsx("div",{className:"flex-1 text-xs text-gray-500",children:ie.specialties.join(", ")})]})]},ie.id))})]})]}),e.jsxs(ne,{className:"p-6",children:[e.jsxs("h3",{className:"font-bold text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx(vt,{className:"w-5 h-5 text-purple-600"}),"Select Date & Time"]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-3",children:"Pick a Date"}),e.jsx(mb,{mode:"single",selected:J.date,onSelect:ie=>G($,"date",ie),className:"rounded-lg border",disabled:ie=>{const ee=new Date;return ee.setHours(0,0,0,0),ie<ee}})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-3",children:"Available Times"}),J.date?e.jsx("div",{className:"grid grid-cols-3 gap-2 max-h-96 overflow-y-auto pr-2",children:H.map(ie=>{const ee=Z(ie,J.date);return e.jsx(Q,{variant:J.time===ie?"default":"outline",disabled:!ee,className:`h-10 text-xs ${J.time===ie?"bg-gradient-to-r from-purple-600 to-pink-600":ee?"":"opacity-40"}`,onClick:()=>G($,"time",ie),children:ie},ie)})}):e.jsx("div",{className:"flex items-center justify-center h-96 text-gray-400",children:e.jsxs("div",{className:"text-center",children:[e.jsx(vt,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),e.jsx("p",{className:"text-sm",children:"Please select a date first"})]})})]})]})]}),e.jsx(Q,{onClick:I,disabled:!D(),className:"w-full h-14 text-lg bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 disabled:opacity-50 disabled:cursor-not-allowed",children:D()?"Complete Booking":"Please complete all selections"})]})]})]}),e.jsx(I6,{isOpen:i,onClose:()=>o(!1),onSuccess:q}),e.jsx(Cl,{})]},a.code)}function FCe({post:t,currentUserId:r,onDelete:n,onLike:s}){var j,S;const[a,i]=N.useState(!1),[o,l]=N.useState(!1),c=((j=t.likes)==null?void 0:j.includes(r||""))||!1,u=((S=t.likes)==null?void 0:S.length)||0,m=t.viewsCount||0,p=r&&t.authorId===r,x=()=>!t.originalPrice||!t.discountPrice?0:Math.round((t.originalPrice-t.discountPrice)/t.originalPrice*100),v=C=>C>=1e3?`${(C/1e3).toFixed(1)}k`:C.toString(),w=["from-cyan-400 to-blue-500","from-pink-400 to-red-500","from-purple-400 to-indigo-500","from-green-400 to-emerald-500","from-orange-400 to-pink-500","from-blue-400 to-purple-500","from-yellow-400 to-orange-500","from-rose-400 to-pink-500"],y=t.category?t.category.charCodeAt(0)%w.length:Math.floor(Math.random()*w.length);return e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("div",{className:"relative group cursor-pointer aspect-square overflow-hidden rounded-sm bg-gray-100 shadow-sm hover:shadow-xl transition-all duration-300",children:[t.imageUrl&&!a?e.jsx("img",{src:t.imageUrl,alt:t.title,className:"absolute inset-0 w-full h-full object-cover",onError:()=>i(!0)}):e.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${w[y]}`}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-black/20 to-transparent"}),e.jsxs("div",{className:"absolute top-1 sm:top-2 left-1 sm:left-2 flex gap-0.5 sm:gap-1 z-10",children:[t.type==="last-minute"&&e.jsx("div",{className:"bg-yellow-500 text-white px-1.5 sm:px-2 py-0.5 sm:py-1 rounded text-[8px] sm:text-[10px] font-bold shadow-lg uppercase",children:"Last Minute"}),x()>0&&e.jsxs("div",{className:"bg-red-500 text-white px-1.5 sm:px-2 py-0.5 sm:py-1 rounded text-[8px] sm:text-[10px] font-bold shadow-lg",children:["-",x(),"%"]}),t.isPremium&&e.jsx("div",{className:"bg-orange-500 text-white px-1.5 sm:px-2 py-0.5 sm:py-1 rounded text-[8px] sm:text-[10px] font-bold shadow-lg uppercase",children:"Premium"})]}),p&&n&&e.jsx("button",{onClick:C=>{C.stopPropagation(),confirm("Are you sure you want to delete this post?")&&n(t.id)},className:"absolute top-1 sm:top-2 right-1 sm:right-2 z-10 p-1 sm:p-1.5 bg-red-500 hover:bg-red-600 rounded-full opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx(cn,{className:"w-3 h-3 sm:w-3.5 sm:h-3.5 text-white"})}),e.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-1.5 sm:p-2 z-10",children:[e.jsx("h3",{className:"text-white font-bold text-[10px] sm:text-xs mb-0.5 sm:mb-1 line-clamp-1",children:t.title}),e.jsx("p",{className:"text-white/90 text-[8px] sm:text-[10px] mb-0.5 sm:mb-1 line-clamp-1",children:t.salonName}),t.discountPrice&&e.jsxs("div",{className:"flex items-center gap-1 mb-1 sm:mb-1.5",children:[t.originalPrice&&e.jsxs("span",{className:"text-white/70 line-through text-[8px] sm:text-[10px]",children:[t.originalPrice," AED"]}),e.jsxs("span",{className:"text-white font-bold text-[10px] sm:text-xs",children:[t.discountPrice," AED"]})]}),e.jsx("button",{className:"w-full bg-white hover:bg-gray-100 text-purple-600 font-bold py-1 sm:py-1.5 px-2 rounded text-[10px] sm:text-xs transition-colors shadow-md",children:"Book"})]}),e.jsxs("div",{className:"absolute inset-0 bg-black/80 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex flex-col items-center justify-center p-2 sm:p-3 z-20",children:[e.jsx("p",{className:"text-white text-center text-[10px] sm:text-xs mb-2 sm:mb-3 line-clamp-3",children:t.description}),t.category&&e.jsx("span",{className:"text-white/80 text-[8px] sm:text-[10px] mb-2",children:t.category}),e.jsx("button",{className:"bg-white hover:bg-gray-100 text-purple-600 font-bold py-1.5 sm:py-2 px-3 sm:px-4 rounded-full text-[10px] sm:text-xs transition-colors shadow-lg",children:"View Details"})]})]}),e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 mt-1 sm:mt-1.5 px-0.5",children:[e.jsxs("div",{className:"flex items-center gap-0.5 sm:gap-1",children:[e.jsx(Rr,{className:"w-3 h-3 sm:w-3.5 sm:h-3.5 text-gray-600"}),e.jsx("span",{className:"text-gray-700 font-medium text-[10px] sm:text-xs",children:v(m)})]}),e.jsxs("button",{onClick:C=>{C.stopPropagation(),s==null||s(t.id)},className:"flex items-center gap-0.5 sm:gap-1 hover:opacity-80 transition-opacity",disabled:!s,children:[e.jsx(Kn,{className:`w-3 h-3 sm:w-3.5 sm:h-3.5 transition-colors ${c?"fill-red-500 text-red-500":"text-gray-600"}`}),e.jsx("span",{className:`font-medium text-[10px] sm:text-xs ${c?"text-red-500":"text-gray-700"}`,children:v(u)})]}),e.jsxs("button",{onClick:C=>{C.stopPropagation(),l(!0)},className:"flex items-center gap-0.5 sm:gap-1 hover:opacity-80 transition-opacity",children:[e.jsx(_o,{className:"w-3 h-3 sm:w-3.5 sm:h-3.5 text-gray-600"}),e.jsx("span",{className:"text-gray-700 font-medium text-[10px] sm:text-xs",children:"Share"})]})]}),e.jsx(l8,{isOpen:o,onClose:()=>l(!1),title:"Share Post",description:`Share "${t.title}" from ${t.salonName} with your friends`,shareUrl:`${window.location.origin}/feed/${t.id}`,shareText:`Check out this amazing ${t.type==="last-minute"?"last-minute deal":"post"}: ${t.title} at ${t.salonName}!`})]})}var L6="Radio",[zCe,HU]=Is(L6),[UCe,HCe]=zCe(L6),WU=N.forwardRef((t,r)=>{const{__scopeRadio:n,name:s,checked:a=!1,required:i,disabled:o,value:l="on",onCheck:c,form:u,...m}=t,[p,x]=N.useState(null),v=Xt(r,j=>x(j)),w=N.useRef(!1),y=p?u||!!p.closest("form"):!0;return e.jsxs(UCe,{scope:n,checked:a,disabled:o,children:[e.jsx(mt.button,{type:"button",role:"radio","aria-checked":a,"data-state":GU(a),"data-disabled":o?"":void 0,disabled:o,value:l,...m,ref:v,onClick:Ze(t.onClick,j=>{a||c==null||c(),y&&(w.current=j.isPropagationStopped(),w.current||j.stopPropagation())})}),y&&e.jsx(WCe,{control:p,bubbles:!w.current,name:s,value:l,checked:a,required:i,disabled:o,form:u,style:{transform:"translateX(-100%)"}})]})});WU.displayName=L6;var qU="RadioIndicator",VU=N.forwardRef((t,r)=>{const{__scopeRadio:n,forceMount:s,...a}=t,i=HCe(qU,n);return e.jsx(Gi,{present:s||i.checked,children:e.jsx(mt.span,{"data-state":GU(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:r})})});VU.displayName=qU;var WCe=t=>{const{control:r,checked:n,bubbles:s=!0,...a}=t,i=N.useRef(null),o=px(n),l=fx(r);return N.useEffect(()=>{const c=i.current,u=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(u,"checked").set;if(o!==n&&p){const x=new Event("click",{bubbles:s});p.call(c,n),c.dispatchEvent(x)}},[o,n,s]),e.jsx("input",{type:"radio","aria-hidden":!0,defaultChecked:n,...a,tabIndex:-1,ref:i,style:{...t.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function GU(t){return t?"checked":"unchecked"}var qCe=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],$6="RadioGroup",[VCe]=Is($6,[Pm,HU]),KU=Pm(),YU=HU(),[GCe,KCe]=VCe($6),ZU=N.forwardRef((t,r)=>{const{__scopeRadioGroup:n,name:s,defaultValue:a,value:i,required:o=!1,disabled:l=!1,orientation:c,dir:u,loop:m=!0,onValueChange:p,...x}=t,v=KU(n),w=Sm(u),[y,j]=Co({prop:i,defaultProp:a,onChange:p});return e.jsx(GCe,{scope:n,name:s,required:o,disabled:l,value:y,onValueChange:j,children:e.jsx(VC,{asChild:!0,...v,orientation:c,dir:w,loop:m,children:e.jsx(mt.div,{role:"radiogroup","aria-required":o,"aria-orientation":c,"data-disabled":l?"":void 0,dir:w,...x,ref:r})})})});ZU.displayName=$6;var XU="RadioGroupItem",JU=N.forwardRef((t,r)=>{const{__scopeRadioGroup:n,disabled:s,...a}=t,i=KCe(XU,n),o=i.disabled||s,l=KU(n),c=YU(n),u=N.useRef(null),m=Xt(r,u),p=i.value===a.value,x=N.useRef(!1);return N.useEffect(()=>{const v=y=>{qCe.includes(y.key)&&(x.current=!0)},w=()=>x.current=!1;return document.addEventListener("keydown",v),document.addEventListener("keyup",w),()=>{document.removeEventListener("keydown",v),document.removeEventListener("keyup",w)}},[]),e.jsx(GC,{asChild:!0,...l,focusable:!o,active:p,children:e.jsx(WU,{disabled:o,required:i.required,checked:p,...c,...a,name:i.name,ref:m,onCheck:()=>i.onValueChange(a.value),onKeyDown:Ze(v=>{v.key==="Enter"&&v.preventDefault()}),onFocus:Ze(a.onFocus,()=>{var v;x.current&&((v=u.current)==null||v.click())})})})});JU.displayName=XU;var YCe="RadioGroupIndicator",QU=N.forwardRef((t,r)=>{const{__scopeRadioGroup:n,...s}=t,a=YU(n);return e.jsx(VU,{...a,...s,ref:r})});QU.displayName=YCe;var ZCe=ZU,XCe=JU,JCe=QU;function QCe({className:t,...r}){return e.jsx(ZCe,{"data-slot":"radio-group",className:lt("grid gap-3",t),...r})}function UI({className:t,...r}){return e.jsx(XCe,{"data-slot":"radio-group-item",className:lt("border-input text-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 aspect-square size-4 shrink-0 rounded-full border shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",t),...r,children:e.jsx(JCe,{"data-slot":"radio-group-indicator",className:"relative flex items-center justify-center",children:e.jsx(iG,{className:"fill-primary absolute top-1/2 left-1/2 size-2 -translate-x-1/2 -translate-y-1/2"})})})}function e4e({isOpen:t,onClose:r,onSuccess:n,salonId:s,salonName:a,accessToken:i}){const[o,l]=N.useState("post"),[c,u]=N.useState(""),[m,p]=N.useState(""),[x,v]=N.useState(""),[w,y]=N.useState(null),[j,S]=N.useState(""),[C,P]=N.useState(!1),[T,_]=N.useState(""),[k,M]=N.useState(""),[$,B]=N.useState(""),[F,H]=N.useState(""),[K,Z]=N.useState(""),V=R=>{var I;const D=(I=R.target.files)==null?void 0:I[0];if(D){y(D);const q=new FileReader;q.onloadend=()=>{S(q.result)},q.readAsDataURL(D)}},W=async R=>{const D=new FormData;D.append("file",R),D.append("folder","feed");const I=await fetch(`https://${nr}.supabase.co/functions/v1/make-server-3e5c72fb/storage/upload`,{method:"POST",headers:{Authorization:`Bearer ${cr}`},body:D});if(!I.ok)throw new Error("Failed to upload image");return(await I.json()).publicUrl},G=async R=>{if(R.preventDefault(),!c.trim()){ve.error("Please enter a title");return}if(o==="last-minute"){if(!T.trim()){ve.error("Please enter service name for last-minute booking");return}if((k||$)&&(!k||!$)){ve.error("Please fill both original price and discount price, or leave both empty");return}}try{P(!0);let D="";w&&(ve.info("Uploading image..."),D=await W(w));const I={salonId:s,salonName:a,type:o,title:c,description:m,category:x,imageUrl:D,...o==="last-minute"&&{serviceName:T,originalPrice:parseFloat(k),discountPrice:parseFloat($),availableDate:F,availableTime:K}},q=await fetch(`https://${nr}.supabase.co/functions/v1/make-server-3e5c72fb/feed/posts`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${i}`},body:JSON.stringify(I)});if(!q.ok){const J=await q.json();throw new Error(J.error||"Failed to create post")}ve.success("Post created successfully!"),n(),r(),O()}catch(D){console.error("Error creating post:",D),ve.error(D instanceof Error?D.message:"Failed to create post")}finally{P(!1)}},O=()=>{l("post"),u(""),p(""),v(""),y(null),S(""),_(""),M(""),B(""),H(""),Z("")};return t?e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 p-4 flex items-center justify-between",children:[e.jsx("h2",{className:"text-xl font-semibold bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent",children:"Create New Post"}),e.jsx(Q,{variant:"ghost",size:"sm",onClick:r,children:e.jsx(ht,{className:"w-5 h-5"})})]}),e.jsxs("form",{onSubmit:G,className:"p-6 space-y-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx(We,{children:"Post Type"}),e.jsxs(QCe,{value:o,onValueChange:R=>l(R),children:[e.jsxs("div",{className:"flex items-center space-x-2 p-3 border border-gray-200 rounded-lg hover:border-purple-300 transition-colors cursor-pointer",children:[e.jsx(UI,{value:"post",id:"post"}),e.jsxs(We,{htmlFor:"post",className:"cursor-pointer flex-1",children:[e.jsx("div",{className:"font-medium",children:"Regular Post"}),e.jsx("div",{className:"text-sm text-gray-500",children:"Share news, updates, or promotions"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2 p-3 border border-gray-200 rounded-lg hover:border-purple-300 transition-colors cursor-pointer",children:[e.jsx(UI,{value:"last-minute",id:"last-minute"}),e.jsxs(We,{htmlFor:"last-minute",className:"cursor-pointer flex-1",children:[e.jsx("div",{className:"font-medium",children:"Last Minute Deal"}),e.jsx("div",{className:"text-sm text-gray-500",children:"Offer discounted slots available today"})]})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(We,{htmlFor:"title",children:"Title *"}),e.jsx(He,{id:"title",placeholder:"Enter post title...",value:c,onChange:R=>u(R.target.value),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(We,{htmlFor:"description",children:"Description"}),e.jsx(Wh,{id:"description",placeholder:"Tell your story...",value:m,onChange:R=>p(R.target.value),rows:4})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(We,{htmlFor:"category",children:"Category"}),e.jsx(He,{id:"category",placeholder:"Enter category...",value:x,onChange:R=>v(R.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(We,{children:"Image"}),j?e.jsxs("div",{className:"relative aspect-video rounded-lg overflow-hidden border border-gray-200",children:[e.jsx("img",{src:j,alt:"Preview",className:"w-full h-full object-cover"}),e.jsx(Q,{type:"button",variant:"ghost",size:"sm",className:"absolute top-2 right-2 bg-white/90 hover:bg-white",onClick:()=>{y(null),S("")},children:e.jsx(ht,{className:"w-4 h-4"})})]}):e.jsxs("label",{className:"flex flex-col items-center justify-center aspect-video border-2 border-dashed border-gray-300 rounded-lg hover:border-purple-400 transition-colors cursor-pointer bg-gray-50",children:[e.jsx(No,{className:"w-12 h-12 text-gray-400 mb-2"}),e.jsx("span",{className:"text-sm text-gray-600",children:"Click to upload image"}),e.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:V})]})]}),o==="last-minute"&&e.jsxs("div",{className:"space-y-4 p-4 bg-gradient-to-r from-purple-50 to-pink-50 rounded-lg border border-purple-200",children:[e.jsx("h3",{className:"font-semibold text-purple-900",children:"Last Minute Details"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(We,{htmlFor:"serviceName",children:"Service Name *"}),e.jsx(He,{id:"serviceName",placeholder:"e.g., Haircut & Styling",value:T,onChange:R=>_(R.target.value),required:o==="last-minute"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(We,{htmlFor:"originalPrice",children:"Original Price (AED)"}),e.jsx(He,{id:"originalPrice",type:"number",step:"0.01",placeholder:"150 (optional)",value:k,onChange:R=>M(R.target.value)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(We,{htmlFor:"discountPrice",children:"Discount Price (AED)"}),e.jsx(He,{id:"discountPrice",type:"number",step:"0.01",placeholder:"99 (optional)",value:$,onChange:R=>B(R.target.value)})]})]}),e.jsx("p",{className:"text-xs text-gray-600 italic",children:' If prices are not provided, this will show as "LAST MINUTE" without a discount badge'}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(We,{htmlFor:"availableDate",children:"Available Date *"}),e.jsx(He,{id:"availableDate",type:"date",value:F,onChange:R=>H(R.target.value),required:o==="last-minute"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(We,{htmlFor:"availableTime",children:"Available Time *"}),e.jsx(He,{id:"availableTime",type:"time",value:K,onChange:R=>Z(R.target.value),required:o==="last-minute"})]})]})]}),e.jsxs("div",{className:"flex gap-3 pt-4 border-t border-gray-200",children:[e.jsx(Q,{type:"button",variant:"outline",onClick:r,className:"flex-1",disabled:C,children:"Cancel"}),e.jsx(Q,{type:"submit",className:"flex-1 bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700",disabled:C,children:C?e.jsxs(e.Fragment,{children:[e.jsx(ss,{className:"w-4 h-4 mr-2 animate-spin"}),"Creating..."]}):"Create Post"})]})]})]})}):null}const t4e=[{salonId:"vlv-beauty-dubai",salonName:"VLV Beauty Dubai",type:"post",title:"Lash & Brow Training",description:"Professional training seminars - 6 seminars available now! Book your spot today.",category:"Education & Training",imageUrl:"https://images.unsplash.com/photo-1560066984-138dadb4c032?w=800",serviceId:"lash-brow-training"},{salonId:"mbs-business-school",salonName:"MBS Business School",type:"post",title:"Business Seminars",description:"Grow your beauty business with our expert seminars",category:"Business Training",imageUrl:"https://images.unsplash.com/photo-1552664730-d307ca884978?w=800",serviceId:"business-seminar"},{salonId:"elegant-wedding-venue",salonName:"Elegant Wedding & Events",type:"post",title:"Luxury Wedding Venue",description:"23.2k views - The perfect venue for your special day",category:"Wedding & Events",imageUrl:"https://images.unsplash.com/photo-1519225421980-715cb0215aed?w=800",serviceId:"wedding-venue"},{salonId:"vlv-beauty-dubai",salonName:"VLV Beauty Dubai",type:"last-minute",title:"Eyelash Extension",description:"Classic or Volume lashes - Special price for today only!",category:"Lash & Brow",imageUrl:"https://images.unsplash.com/photo-1583001931096-959e991ba510?w=800",serviceId:"lash-extension",serviceName:"Eyelash Extension",originalPrice:300,discountPrice:225,availableDate:new Date().toISOString().split("T")[0],availableTime:"14:00"},{salonId:"luxury-spa-wellness",salonName:"Luxury Spa & Wellness",type:"post",title:"Professional Coaching",description:"1.586 views - Transform your life with our coaching sessions",category:"Coaching & Wellness",imageUrl:"https://images.unsplash.com/photo-1544367567-0f2fcb009e0b?w=800",serviceId:"life-coaching"},{salonId:"glamour-studio-dubai",salonName:"Glamour Studio Dubai",type:"post",title:"Beauty & Style Consultation",description:"9.776 views - Personal styling and beauty consultation",category:"Consultation",imageUrl:"https://images.unsplash.com/photo-1487412912498-0447578fcca8?w=800",serviceId:"style-consultation"},{salonId:"elite-hair-spa",salonName:"Elite Hair & Spa",type:"last-minute",title:"Keratin Hair Treatment",description:"Smooth and shiny hair - Last slot available today!",category:"Hair Treatment",imageUrl:"https://images.unsplash.com/photo-1522337660859-02fbefca4702?w=800",serviceId:"keratin-treatment",serviceName:"Keratin Hair Treatment",originalPrice:350,discountPrice:245,availableDate:new Date().toISOString().split("T")[0],availableTime:"16:00"},{salonId:"royal-beauty-center",salonName:"Royal Beauty Center",type:"post",title:"Salon Management App",description:"1.034 views - Automate your salon bookings in minutes",category:"Business Tools",imageUrl:"https://images.unsplash.com/photo-1551650975-87deedd944c3?w=800",serviceId:"app-demo"},{salonId:"beauty-paradise-spa",salonName:"Beauty Paradise Spa",type:"post",title:"Stress Relief Package",description:"86 views - Optimize your routine with our wellness package",category:"Spa & Wellness",imageUrl:"https://images.unsplash.com/photo-1540555700478-4be289fbecef?w=800",serviceId:"wellness-package"},{salonId:"glamour-studio-dubai",salonName:"Glamour Studio Dubai",type:"last-minute",title:"Balayage Hair Color",description:"Beautiful balayage transformation - Today only!",category:"Hair Coloring",imageUrl:"https://images.unsplash.com/photo-1560066984-138dadb4c035?w=800",serviceId:"balayage-color",serviceName:"Balayage Hair Coloring",originalPrice:400,discountPrice:280,availableDate:new Date().toISOString().split("T")[0],availableTime:"11:00"},{salonId:"modern-beauty-hub",salonName:"Modern Beauty Hub",type:"post",title:"Mobile Booking Platform",description:"1.139 views - User-friendly app for salon bookings",category:"Technology",imageUrl:"https://images.unsplash.com/photo-1512941937669-90a1b58e7e9c?w=800",serviceId:"mobile-app"},{salonId:"elegant-nails-studio",salonName:"Elegant Nails Studio",type:"post",title:"Inspirational Journey",description:"3.448 views - Go wherever the wind takes you",category:"Lifestyle",imageUrl:"https://images.unsplash.com/photo-1487412912498-0447578fcca8?w=800",serviceId:"lifestyle-coaching"},{salonId:"luxury-spa-wellness",salonName:"Luxury Spa & Wellness",type:"last-minute",title:"Deep Tissue Massage",description:"Relief from muscle tension - Available now!",category:"Massage Therapy",imageUrl:"https://images.unsplash.com/photo-1544161515-4ab6ce6db874?w=800",serviceId:"deep-massage",serviceName:"Deep Tissue Massage",originalPrice:280,discountPrice:210,availableDate:new Date().toISOString().split("T")[0],availableTime:"18:00"}];async function r4e(t){try{let r=0,n=0;for(const s of t4e)try{(await fetch(`https://${nr}.supabase.co/functions/v1/make-server-3e5c72fb/feed/posts`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify(s)})).ok?r++:(n++,console.error(`Failed to create post: ${s.title}`))}catch(a){n++,console.error(`Error creating post: ${s.title}`,a)}return{success:!0,message:`Feed seeding completed! Created ${r} posts, ${n} errors.`}}catch(r){return console.error("Feed seeding error:",r),{success:!1,message:"Failed to seed feed posts"}}}function n4e(){const{user:t,session:r}=Ma(),[n,s]=N.useState([]),[a,i]=N.useState([]),[o,l]=N.useState(!0),[c,u]=N.useState("all"),[m,p]=N.useState(!1),[x,v]=N.useState("UAE"),[w,y]=N.useState(""),[j,S]=N.useState(""),[C,P]=N.useState(!1),[T,_]=N.useState(!1),[k,M]=N.useState(!1),$=[{id:"1-demo",salonId:"vlv-beauty-dubai",salonName:"VLV Beauty Dubai",type:"post",title:"Lash & Brow Training",description:"Professional training seminars",category:"Education & Training",imageUrl:"",createdAt:new Date().toISOString(),authorName:"VLV Beauty",authorId:"demo-author",serviceId:"lash-brow-training",likes:[],viewsCount:23200,city:"Dubai",country:"UAE",isPremium:!0},{id:"2-demo",salonId:"mbs-business-school",salonName:"MBS Business School",type:"last-minute",title:"Business Seminars",description:"Grow your beauty business",category:"Business Training",imageUrl:"",createdAt:new Date().toISOString(),authorName:"MBS School",authorId:"demo-author",serviceId:"business-seminar",serviceName:"Business Seminar",originalPrice:500,discountPrice:350,likes:["user1","user2"],viewsCount:8942,city:"Dubai",country:"UAE",isPremium:!0},{id:"3-demo",salonId:"elegant-wedding-venue",salonName:"Elegant Wedding & Events",type:"last-minute",title:"Luxury Wedding Venue",description:"Perfect venue for your special day",category:"Wedding & Events",imageUrl:"",createdAt:new Date().toISOString(),authorName:"Elegant Events",authorId:"demo-author",serviceId:"wedding-venue",serviceName:"Wedding Venue",likes:["user1","user2","user3"],viewsCount:15340,city:"Abu Dhabi",country:"UAE"},{id:"4-demo",salonId:"glamour-studio-dubai",salonName:"Glamour Studio Dubai",type:"last-minute",title:"Eyelash Extension",description:"Classic or Volume lashes",category:"Lash & Brow",imageUrl:"",createdAt:new Date().toISOString(),authorName:"Glamour Studio",authorId:"demo-author",serviceId:"lash-extension",serviceName:"Eyelash Extension",originalPrice:300,discountPrice:225,likes:["user1"],viewsCount:5621,city:"Dubai",country:"UAE"},{id:"5-demo",salonId:"luxury-spa-wellness",salonName:"Luxury Spa & Wellness",type:"post",title:"Professional Coaching",description:"Transform your life",category:"Coaching & Wellness",imageUrl:"",createdAt:new Date().toISOString(),authorName:"Luxury Spa",authorId:"demo-author",serviceId:"life-coaching",likes:[],viewsCount:1586,city:"New York",country:"USA",isPremium:!1},{id:"6-demo",salonId:"glamour-studio-dubai",salonName:"Glamour Studio Dubai",type:"post",title:"Beauty & Style Consultation",description:"Personal styling and beauty",category:"Consultation",imageUrl:"",createdAt:new Date().toISOString(),authorName:"Glamour Studio",authorId:"demo-author",serviceId:"style-consultation",likes:["user1","user2","user3","user4"],viewsCount:9776,city:"Dubai",country:"UAE",isPremium:!0},{id:"7-demo",salonId:"elite-hair-spa",salonName:"Elite Hair & Spa",type:"last-minute",title:"Keratin Hair Treatment",description:"Smooth and shiny hair",category:"Hair Treatment",imageUrl:"",createdAt:new Date().toISOString(),authorName:"Elite Hair",authorId:"demo-author",serviceId:"keratin-treatment",serviceName:"Keratin Treatment",originalPrice:350,discountPrice:245,likes:["user1","user2"],viewsCount:4892,city:"Sharjah",country:"UAE"},{id:"8-demo",salonId:"royal-beauty-center",salonName:"Royal Beauty Center",type:"last-minute",title:"Salon Management App",description:"Automate your salon bookings",category:"Business Tools",imageUrl:"",createdAt:new Date().toISOString(),authorName:"Royal Beauty",authorId:"demo-author",serviceId:"app-demo",serviceName:"App Demo",likes:["user1"],viewsCount:1034,city:"Los Angeles",country:"USA"},{id:"9-demo",salonId:"beauty-paradise-spa",salonName:"Beauty Paradise Spa",type:"post",title:"Stress Relief Package",description:"Optimize your wellness routine",category:"Spa & Wellness",imageUrl:"",createdAt:new Date().toISOString(),authorName:"Beauty Paradise",authorId:"demo-author",serviceId:"wellness-package",likes:[],viewsCount:86,city:"Dubai",country:"UAE"},{id:"10-demo",salonId:"glamour-studio-dubai",salonName:"Glamour Studio Dubai",type:"last-minute",title:"Balayage Hair Color",description:"Beautiful transformation",category:"Hair Coloring",imageUrl:"",createdAt:new Date().toISOString(),authorName:"Glamour Studio",authorId:"demo-author",serviceId:"balayage-color",serviceName:"Balayage Color",originalPrice:400,discountPrice:280,likes:["user1","user2","user3"],viewsCount:7234,city:"Dubai",country:"UAE",isPremium:!0},{id:"11-demo",salonId:"modern-beauty-hub",salonName:"Modern Beauty Hub",type:"post",title:"Mobile Booking Platform",description:"User-friendly app for salons",category:"Technology",imageUrl:"",createdAt:new Date().toISOString(),authorName:"Modern Beauty",authorId:"demo-author",serviceId:"mobile-app",likes:["user1","user2"],viewsCount:1139,city:"London",country:"UK"},{id:"12-demo",salonId:"elegant-nails-studio",salonName:"Elegant Nails Studio",type:"post",title:"Inspirational Journey",description:"Go wherever the wind takes you",category:"Lifestyle",imageUrl:"",createdAt:new Date().toISOString(),authorName:"Elegant Nails",authorId:"demo-author",serviceId:"lifestyle-coaching",likes:["user1","user2","user3","user4","user5"],viewsCount:3448,city:"Dubai",country:"UAE"}];N.useEffect(()=>{F(),B()},[]),N.useEffect(()=>{const V=k?$:n,W=x==="All"?V:V.filter(G=>G.country===x);i(c==="all"?W:c==="sale"?W.filter(G=>G.originalPrice&&G.discountPrice&&G.originalPrice>G.discountPrice):W.filter(G=>G.type===c))},[c,n,k,x]);const B=async()=>{var V;if(!t||!r){P(!1);return}try{const W=await fetch(`https://${nr}.supabase.co/functions/v1/make-server-3e5c72fb/salons/user/${t.id}`,{headers:{Authorization:`Bearer ${cr}`}});if(W.ok){const G=await W.json();if(G.salon){y(G.salon.id),S(G.salon.name);const O=(V=t.user_metadata)==null?void 0:V.role;P(O==="owner"||O==="admin")}}}catch(W){console.error("Error checking user permissions:",W)}},F=async()=>{try{l(!0);const V=await fetch(`https://${nr}.supabase.co/functions/v1/make-server-3e5c72fb/feed/posts`,{headers:{Authorization:`Bearer ${cr}`}});if(!V.ok)throw new Error("Failed to load posts");const G=((await V.json()).posts||[]).map(O=>({...O,viewsCount:Math.floor(Math.random()*1e4)+500}));s(G)}catch(V){console.error("Error loading posts:",V),ve.error("Failed to load feed posts")}finally{l(!1)}},H=async V=>{if(!(r!=null&&r.access_token)){ve.error("You must be logged in to delete posts");return}try{const W=await fetch(`https://${nr}.supabase.co/functions/v1/make-server-3e5c72fb/feed/posts/${V}`,{method:"DELETE",headers:{Authorization:`Bearer ${r.access_token}`}});if(!W.ok){const G=await W.json();throw new Error(G.error||"Failed to delete post")}ve.success("Post deleted successfully"),F()}catch(W){console.error("Error deleting post:",W),ve.error(W instanceof Error?W.message:"Failed to delete post")}},K=async V=>{if(!(r!=null&&r.access_token)){ve.error("You must be logged in to like posts");return}try{if(!(await fetch(`https://${nr}.supabase.co/functions/v1/make-server-3e5c72fb/feed/posts/${V}/like`,{method:"POST",headers:{Authorization:`Bearer ${r.access_token}`}})).ok)throw new Error("Failed to like post");s(G=>G.map(O=>{if(O.id===V){const R=O.likes||[],D=(t==null?void 0:t.id)||"";return R.includes(D)?{...O,likes:R.filter(I=>I!==D)}:{...O,likes:[...R,D]}}return O}))}catch(W){console.error("Error liking post:",W),ve.error("Failed to like post")}},Z=async()=>{if(!(r!=null&&r.access_token)){ve.error("You must be logged in to seed demo posts");return}try{_(!0),ve.info("Seeding demo posts...");const V=await r4e(r.access_token);V.success?(ve.success(V.message),F()):ve.error(V.message)}catch(V){console.error("Error seeding posts:",V),ve.error("Failed to seed demo posts")}finally{_(!1)}};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-pink-50 to-purple-50",children:[e.jsx(lu,{}),e.jsxs("main",{className:"container mx-auto px-4 py-8 mt-20 pb-20",children:[e.jsxs("div",{className:"mb-8 text-center",children:[e.jsx("div",{className:"flex items-center justify-center gap-3 mb-4",children:e.jsx("div",{className:"p-4 bg-gradient-to-r from-purple-600 to-pink-600 rounded-2xl text-white shadow-lg",children:e.jsx(zh,{className:"w-8 h-8"})})}),e.jsx("h1",{className:"text-4xl font-bold text-purple-600 mb-2",children:"Beauty Feed"}),e.jsx("p",{className:"text-gray-700 text-lg",children:"Discover the latest from salons and exclusive last-minute deals"})]}),e.jsx("div",{className:"flex flex-col gap-4 mb-8",children:e.jsxs("div",{className:"flex flex-col gap-4 items-center",children:[e.jsxs("div",{className:"flex gap-2 sm:gap-3 flex-wrap sm:flex-nowrap justify-center",children:[e.jsx(Q,{variant:c==="all"?"default":"outline",onClick:()=>u("all"),className:`rounded-full px-4 sm:px-6 py-2 text-sm font-medium transition-all whitespace-nowrap ${c==="all"?"bg-gradient-to-r from-purple-600 to-pink-600 text-white shadow-lg hover:shadow-xl":"bg-white border-2 border-gray-200 text-gray-700 hover:border-purple-300 hover:text-purple-600"}`,children:"All Posts"}),e.jsx(Q,{variant:c==="post"?"default":"outline",onClick:()=>u("post"),className:`rounded-full px-4 sm:px-6 py-2 text-sm font-medium transition-all whitespace-nowrap ${c==="post"?"bg-gradient-to-r from-purple-600 to-pink-600 text-white shadow-lg hover:shadow-xl":"bg-white border-2 border-gray-200 text-gray-700 hover:border-purple-300 hover:text-purple-600"}`,children:"Updates"}),e.jsx(Q,{variant:c==="last-minute"?"default":"outline",onClick:()=>u("last-minute"),className:`rounded-full px-4 sm:px-6 py-2 text-sm font-medium transition-all whitespace-nowrap ${c==="last-minute"?"bg-gradient-to-r from-purple-600 to-pink-600 text-white shadow-lg hover:shadow-xl":"bg-white border-2 border-gray-200 text-gray-700 hover:border-purple-300 hover:text-purple-600"}`,children:"Last Minute"}),e.jsx(Q,{variant:c==="sale"?"default":"outline",onClick:()=>u("sale"),className:`rounded-full px-4 sm:px-6 py-2 text-sm font-medium transition-all whitespace-nowrap ${c==="sale"?"bg-gradient-to-r from-purple-600 to-pink-600 text-white shadow-lg hover:shadow-xl":"bg-white border-2 border-gray-200 text-gray-700 hover:border-purple-300 hover:text-purple-600"}`,children:"Sales"})]}),C&&e.jsxs(Q,{onClick:()=>p(!0),className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 rounded-full px-6 shadow-lg",children:[e.jsx(zP,{className:"w-4 h-4 mr-2"}),"Create Post"]})]})}),o?e.jsx("div",{className:"grid grid-cols-3 lg:grid-cols-4 gap-1 sm:gap-2",children:[...Array(12)].map((V,W)=>e.jsx("div",{className:"aspect-square bg-gray-200 animate-pulse rounded-sm"},W))}):a.length===0?e.jsxs("div",{className:"text-center py-20",children:[e.jsx("div",{className:"w-20 h-20 bg-gradient-to-r from-purple-100 to-pink-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(zh,{className:"w-10 h-10 text-purple-600"})}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No posts yet"}),e.jsx("p",{className:"text-gray-600 mb-6",children:c==="all"?"Be the first to create a post!":c==="sale"?"No sales available right now":`No ${c==="last-minute"?"last-minute deals":"regular posts"} available`}),e.jsxs("div",{className:"flex gap-3 justify-center",children:[e.jsxs(Q,{onClick:()=>M(!0),className:"bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700",children:[e.jsx(tr,{className:"w-4 h-4 mr-2"}),"View Demo Feed"]}),C&&e.jsxs(Q,{onClick:()=>p(!0),variant:"outline",className:"border-purple-300 hover:bg-purple-50",children:[e.jsx(zP,{className:"w-4 h-4 mr-2"}),"Create Post"]}),r&&e.jsxs(Q,{onClick:Z,disabled:T,variant:"outline",className:"border-purple-300 hover:bg-purple-50",children:[e.jsx(tr,{className:"w-4 h-4 mr-2"}),T?"Loading...":"Load Real Posts"]})]})]}):e.jsx("div",{className:"grid grid-cols-3 lg:grid-cols-4 gap-1 sm:gap-2",children:a.map(V=>e.jsx(FCe,{post:V,currentUserId:t==null?void 0:t.id,onDelete:H,onLike:K},V.id))})]}),C&&r&&e.jsx(e4e,{isOpen:m,onClose:()=>p(!1),onSuccess:F,salonId:w,salonName:j,accessToken:r.access_token})]})}const HI=()=>{const t=localStorage.getItem("auth_registration_type");return localStorage.removeItem("auth_registration_type"),t||"client"};function s4e(){const{user:t,loading:r}=Ma(),n=vn(),[s,a]=N.useState(!0);N.useEffect(()=>{if(!r){if(!t){n("/auth");return}o()}},[t,r]);const i=async(l,c)=>{try{const{data:u,error:m}=await uo.from("super_admins").select("id, user_id").ilike("email",c.toLowerCase()).maybeSingle();if(m)return console.error("Error checking super admin:",m),!1;if(u)return u.user_id||await uo.from("super_admins").update({user_id:l}).eq("id",u.id),!0;const{data:p,error:x}=await uo.from("super_admins").select("id").eq("user_id",l).maybeSingle();return x?(console.error("Error checking super admin by user_id:",x),!1):!!p}catch(u){return console.error("Error checking super admin:",u),!1}},o=async()=>{if(t)try{if(a(!0),await i(t.id,t.email||"")){ve.success("Welcome back, Super Admin!"),n("/superadmin");return}const u=await(await fetch(`https://${nr}.supabase.co/functions/v1/make-server-3e5c72fb/salon-role/${t.id}`,{headers:{Authorization:`Bearer ${cr}`}})).json();if(u.role)switch(u.role.role){case"owner":ve.success("Welcome back! Redirecting to salon dashboard..."),n("/owner");break;case"admin":ve.success("Welcome back! Redirecting to admin dashboard..."),n("/admin");break;case"master":ve.success("Welcome back! Redirecting to master dashboard..."),n("/master");break;default:n("/client")}else HI()==="salon"?(ve.info("Please complete your salon registration"),n("/register")):(ve.success("Welcome to Katia!"),n("/client"))}catch(l){console.error("Error checking user role:",l),ve.error("Failed to load your dashboard");const c=HI();n(c==="salon"?"/register":"/client")}finally{a(!1)}};return r||s?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-pink-50 to-purple-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 border-4 border-purple-200 border-t-purple-600 rounded-full animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 text-lg",children:"Loading your dashboard..."}),e.jsx("p",{className:"text-gray-400 text-sm mt-2",children:"Please wait while we set up your account"})]})}):null}function a4e({salon:t,onReactivate:r}){const[n,s]=N.useState(!1),[a,i]=N.useState(!1),l=(()=>{switch(t.blockReason){case"payment_failed":return{title:"Subscription Payment Failed",description:"Your last payment was unsuccessful. Please update your payment method to reactivate your salon.",icon:Wr,color:"text-red-600",bgColor:"bg-red-50",borderColor:"border-red-200",canRestore:!0,restoreAction:"Update Payment & Reactivate"};case"refund_processed":return{title:"Refund Processed - Account Paused",description:"Your refund has been processed. Your salon data is safely stored and you can reactivate anytime.",icon:xn,color:"text-orange-600",bgColor:"bg-orange-50",borderColor:"border-orange-200",canRestore:!0,restoreAction:"Subscribe Again & Restore"};case"subscription_expired":return{title:"Subscription Expired",description:"Your subscription has expired. Renew now to regain access to your salon dashboard.",icon:vt,color:"text-amber-600",bgColor:"bg-amber-50",borderColor:"border-amber-200",canRestore:!0,restoreAction:"Renew Subscription"};case"manual_block":return{title:"Account Suspended",description:"Your account has been suspended. Please contact support for assistance.",icon:Yn,color:"text-red-600",bgColor:"bg-red-50",borderColor:"border-red-200",canRestore:!1,restoreAction:"Contact Support"};default:return{title:"Account Blocked",description:"Your account is currently blocked.",icon:Yt,color:"text-gray-600",bgColor:"bg-gray-50",borderColor:"border-gray-200",canRestore:!1,restoreAction:"Contact Support"}}})(),c=l.icon,u=async()=>{i(!0),await new Promise(m=>setTimeout(m,2e3)),r?r():alert("Redirecting to payment page..."),i(!1),s(!1)};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-100 to-gray-200 flex items-center justify-center p-4",children:[e.jsxs(ne,{className:`max-w-2xl w-full border-4 ${l.borderColor}`,children:[e.jsxs("div",{className:`${l.bgColor} p-8 border-b-4 ${l.borderColor}`,children:[e.jsx("div",{className:"flex items-center justify-center mb-4",children:e.jsx("div",{className:`w-20 h-20 rounded-full ${l.bgColor} border-4 ${l.borderColor} flex items-center justify-center`,children:e.jsx(c,{className:`w-10 h-10 ${l.color}`})})}),e.jsx("h1",{className:`text-3xl font-bold text-center mb-2 ${l.color}`,children:l.title}),e.jsx("p",{className:"text-center text-gray-700 max-w-md mx-auto",children:l.description})]}),e.jsxs("div",{className:"p-8 space-y-6",children:[e.jsxs("div",{className:"bg-white p-6 rounded-xl border-2 border-gray-200",children:[e.jsxs("h3",{className:"font-bold text-lg mb-4 flex items-center gap-2",children:[e.jsx(Yt,{className:"w-5 h-5 text-gray-600"}),"Blocked Salon Details"]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 mb-1",children:"Salon Name:"}),e.jsx("p",{className:"font-bold",children:t.name})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 mb-1",children:"Owner:"}),e.jsx("p",{className:"font-bold",children:t.owner})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 mb-1",children:"Email:"}),e.jsx("p",{className:"font-bold",children:t.email})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 mb-1",children:"Blocked Date:"}),e.jsx("p",{className:"font-bold",children:t.blockedDate})]}),t.subscriptionPlan&&e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 mb-1",children:"Previous Plan:"}),e.jsx(Oe,{className:"bg-purple-100 text-purple-700",children:t.subscriptionPlan})]}),t.amountDue&&e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 mb-1",children:"Amount Due:"}),e.jsxs("p",{className:"font-bold text-red-600",children:["AED ",t.amountDue.toFixed(2)]})]})]})]}),e.jsx(ne,{className:"p-5 border-2 border-green-200 bg-green-50",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(zt,{className:"w-6 h-6 text-green-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-green-900 mb-1",children:"Your Data is Safe! "}),e.jsxs("p",{className:"text-sm text-green-800 mb-2",children:["All your salon data is securely stored for ",e.jsx("strong",{children:"90 days"}),":"]}),e.jsxs("ul",{className:"text-sm text-green-800 space-y-1",children:[e.jsx("li",{children:" Client list and contact information"}),e.jsx("li",{children:" Booking history and appointments"}),e.jsx("li",{children:" Staff members and schedules"}),e.jsx("li",{children:" Services and pricing"}),e.jsx("li",{children:" Photos and salon profile"})]}),e.jsx("p",{className:"text-sm text-green-800 mt-3 font-semibold",children:" Reactivate anytime to restore everything instantly!"})]})]})}),e.jsx(ne,{className:"p-5 border-2 border-blue-200 bg-blue-50",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(vC,{className:"w-6 h-6 text-blue-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-blue-900 mb-2",children:"What Happens Now?"}),e.jsxs("div",{className:"space-y-3 text-sm text-blue-800",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"font-bold",children:"1."}),e.jsxs("span",{children:["Your salon is temporarily ",e.jsx("strong",{children:"hidden"})," from public listings"]})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"font-bold",children:"2."}),e.jsx("span",{children:"Clients cannot make new bookings"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"font-bold",children:"3."}),e.jsxs("span",{children:["Existing appointments are ",e.jsx("strong",{children:"preserved"})]})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"font-bold",children:"4."}),e.jsx("span",{children:"Data remains safe for 90 days"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"font-bold",children:"5."}),e.jsx("span",{children:"After 90 days without reactivation, data will be permanently deleted"})]})]})]})]})}),e.jsxs("div",{className:"space-y-3",children:[l.canRestore?e.jsxs(Q,{onClick:()=>s(!0),className:"w-full bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white h-14 text-lg",children:[e.jsx(xn,{className:"w-5 h-5 mr-2"}),l.restoreAction,e.jsx(ul,{className:"w-5 h-5 ml-2"})]}):e.jsxs(Q,{onClick:()=>window.location.href="mailto:support@katia.beauty",className:"w-full bg-gradient-to-r from-blue-600 to-cyan-600 hover:from-blue-700 hover:to-cyan-700 text-white h-14 text-lg",children:[e.jsx(Ut,{className:"w-5 h-5 mr-2"}),"Contact Support"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs(Q,{variant:"outline",onClick:()=>window.location.href="mailto:support@katia.beauty",className:"h-12",children:[e.jsx(Ut,{className:"w-4 h-4 mr-2"}),"Email Us"]}),e.jsxs(Q,{variant:"outline",onClick:()=>window.location.href="tel:+971XXXXXXXX",className:"h-12",children:[e.jsx(En,{className:"w-4 h-4 mr-2"}),"Call Support"]})]})]}),e.jsxs("div",{className:"bg-gray-50 p-5 rounded-lg border-2 border-gray-200",children:[e.jsxs("h4",{className:"font-bold text-gray-900 mb-3 flex items-center gap-2",children:[e.jsx(pt,{className:"w-5 h-5"}),"Reactivation Timeline"]}),e.jsxs("div",{className:"space-y-2 text-sm text-gray-700",children:[e.jsxs("p",{children:[" ",e.jsx("strong",{children:"Instant:"})," Pay & reactivate immediately"]}),e.jsxs("p",{children:[" ",e.jsx("strong",{children:"5 minutes:"})," All data fully restored"]}),e.jsxs("p",{children:[" ",e.jsx("strong",{children:"15 minutes:"})," Salon live on public listings"]}),e.jsxs("p",{children:[" ",e.jsx("strong",{children:"24 hours:"})," Clients notified you're back"]})]})]})]})]}),n&&e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:()=>!a&&s(!1),children:e.jsx(ne,{className:"max-w-md w-full",onClick:m=>m.stopPropagation(),children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("div",{className:"w-16 h-16 rounded-full bg-gradient-to-r from-purple-100 to-pink-100 flex items-center justify-center mx-auto mb-4",children:e.jsx(xn,{className:"w-8 h-8 text-purple-600"})}),e.jsx("h3",{className:"text-2xl font-bold mb-2",children:"Reactivate Your Salon"}),e.jsx("p",{className:"text-gray-600",children:"Welcome back! Let's get your salon running again."})]}),e.jsxs(ne,{className:"p-4 bg-purple-50 border-2 border-purple-200 mb-6",children:[e.jsx("h4",{className:"font-bold text-purple-900 mb-2",children:"What you'll get:"}),e.jsxs("ul",{className:"text-sm text-purple-800 space-y-1",children:[e.jsx("li",{children:" All your data restored instantly"}),e.jsx("li",{children:" Salon visible to clients again"}),e.jsx("li",{children:" Booking system reactivated"}),e.jsx("li",{children:" Full access to dashboard"})]})]}),t.amountDue&&e.jsxs("div",{className:"bg-white p-4 rounded-lg border-2 border-gray-200 mb-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"text-gray-600",children:"Amount Due:"}),e.jsxs("span",{className:"text-2xl font-bold text-green-600",children:["AED ",t.amountDue.toFixed(2)]})]}),t.subscriptionPlan&&e.jsxs("p",{className:"text-sm text-gray-600",children:[t.subscriptionPlan," Plan - Monthly"]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(Q,{onClick:u,disabled:a,className:"w-full bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 h-12",children:a?e.jsxs(e.Fragment,{children:[e.jsx(xn,{className:"w-4 h-4 mr-2 animate-spin"}),"Processing..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Wr,{className:"w-4 h-4 mr-2"}),"Pay & Reactivate Now"]})}),e.jsx(Q,{variant:"outline",onClick:()=>s(!1),disabled:a,className:"w-full",children:"Cancel"})]})]})})})]})}function i4e(){const t=vn(),[r,n]=N.useState("payment_failed"),s={payment_failed:{id:1,name:"Beauty Corner",owner:"Maria Ivanova",email:"maria@beauty.com",phone:"+971501234567",blockReason:"payment_failed",blockedDate:"2024-12-20",lastPaymentDate:"2024-11-20",subscriptionPlan:"Basic",amountDue:99},refund_processed:{id:2,name:"Glamour Studio",owner:"Victoria Laurent",email:"victoria@glamour.com",phone:"+971501111111",blockReason:"refund_processed",blockedDate:"2024-12-22",lastPaymentDate:"2024-12-15",subscriptionPlan:"Standard",amountDue:299},subscription_expired:{id:3,name:"Quick Cuts",owner:"John Smith",email:"john@cuts.com",phone:"+971507654321",blockReason:"subscription_expired",blockedDate:"2024-12-15",lastPaymentDate:"2023-12-15",subscriptionPlan:"Basic",amountDue:99},manual_block:{id:4,name:"Suspicious Salon",owner:"Test User",email:"test@example.com",phone:"+971501234567",blockReason:"manual_block",blockedDate:"2024-12-10",subscriptionPlan:"Standard"}},a=()=>{alert("Redirecting to payment page... (Demo mode)"),setTimeout(()=>{confirm("Salon reactivated successfully! Return to owner dashboard?")&&t("/owner?demo=true")},1e3)};return e.jsxs("div",{className:"min-h-screen bg-gray-100",children:[e.jsx("div",{className:"bg-white border-b shadow-sm",children:e.jsxs("div",{className:"container mx-auto px-4 py-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs(Q,{variant:"outline",onClick:()=>t("/dashboard"),children:[e.jsx(Vi,{className:"w-4 h-4 mr-2"}),"Back to Dashboard Selector"]}),e.jsx(Oe,{className:"bg-blue-600 text-white",children:"DEMO MODE"})]}),e.jsxs(ne,{className:"p-4",children:[e.jsx("h3",{className:"font-bold mb-3",children:" Demo: Blocked Salon Scenarios"}),e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Select a scenario to see how the blocked salon view looks for different reasons:"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:[e.jsx(Q,{variant:r==="payment_failed"?"default":"outline",onClick:()=>n("payment_failed"),className:r==="payment_failed"?"bg-red-600":"",size:"sm",children:" Payment Failed"}),e.jsx(Q,{variant:r==="refund_processed"?"default":"outline",onClick:()=>n("refund_processed"),className:r==="refund_processed"?"bg-orange-600":"",size:"sm",children:" Refund Processed"}),e.jsx(Q,{variant:r==="subscription_expired"?"default":"outline",onClick:()=>n("subscription_expired"),className:r==="subscription_expired"?"bg-amber-600":"",size:"sm",children:" Subscription Expired"}),e.jsx(Q,{variant:r==="manual_block"?"default":"outline",onClick:()=>n("manual_block"),className:r==="manual_block"?"bg-gray-600":"",size:"sm",children:" Manual Block"})]})]})]})}),e.jsx(a4e,{salon:s[r],onReactivate:a})]})}const o4e=xC("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function l4e({className:t,variant:r,...n}){return e.jsx("div",{"data-slot":"alert",role:"alert",className:lt(o4e({variant:r}),t),...n})}function c4e({className:t,...r}){return e.jsx("div",{"data-slot":"alert-description",className:lt("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",t),...r})}function d4e(){const[t,r]=N.useState(Jre()),[n,s]=N.useState(!1),[a,i]=N.useState(!1);return N.useEffect(()=>{const o=()=>{r(!0),s(!1),i(!0),setTimeout(()=>{i(!1)},5e3)},l=()=>{r(!1),i(!1),s(!0)},c=Qre(o),u=ene(l);return()=>{c(),u()}},[]),t?a?e.jsxs(l4e,{className:"fixed top-4 right-4 z-50 w-auto bg-green-500 text-white border-none shadow-lg animate-in slide-in-from-right-5",children:[e.jsx(nY,{className:"h-4 w-4"}),e.jsx(c4e,{children:"   "})]}):null:e.jsx("div",{className:"fixed top-0 left-0 right-0 z-50 bg-red-500 text-white py-2 px-4 text-center text-sm font-medium shadow-lg",children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx(tY,{className:"w-4 h-4"}),e.jsx("span",{children:"       offline "})]})})}function u4e(){const[t,r]=N.useState(!1),[n,s]=N.useState("desktop");N.useEffect(()=>{if(j_())return;const o=localStorage.getItem("pwa-banner-dismissed");if(o){const u=parseInt(o);if((Date.now()-u)/(1e3*60*60*24)<7)return}s(O9());const l=()=>{T9()&&r(!0)},c=()=>{r(!1),localStorage.removeItem("pwa-banner-dismissed")};return window.addEventListener("pwa-install-available",l),window.addEventListener("pwa-install-completed",c),n==="ios"&&!j_()&&setTimeout(()=>r(!0),3e3),()=>{window.removeEventListener("pwa-install-available",l),window.removeEventListener("pwa-install-completed",c)}},[n]);const a=async()=>{if(n==="ios")return;await E9()&&r(!1)},i=()=>{r(!1),localStorage.setItem("pwa-banner-dismissed",Date.now().toString())};return t?n==="ios"?e.jsx(ne,{className:"fixed bottom-4 left-4 right-4 md:left-auto md:right-4 md:w-96 z-50 bg-gradient-to-r from-purple-600 to-pink-600 text-white border-none shadow-2xl",children:e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-xl flex items-center justify-center backdrop-blur",children:e.jsx(ML,{className:"w-6 h-6"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-lg",children:" Katia"}),e.jsx("p",{className:"text-sm opacity-90",children:"   "})]})]}),e.jsx("button",{onClick:i,className:"text-white/80 hover:text-white transition",children:e.jsx(ht,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"space-y-2 text-sm bg-white/10 rounded-lg p-3 backdrop-blur",children:[e.jsx("p",{className:"font-medium",children:"   iPhone/iPad:"}),e.jsxs("ol",{className:"space-y-1 list-decimal list-inside opacity-90",children:[e.jsxs("li",{children:['  "" ',e.jsx("span",{className:"inline-block",children:""})]}),e.jsx("li",{children:' "  "'}),e.jsx("li",{children:' ""'})]})]})]})}):e.jsx(ne,{className:"fixed bottom-4 left-4 right-4 md:left-auto md:right-4 md:w-96 z-50 bg-gradient-to-r from-purple-600 to-pink-600 text-white border-none shadow-2xl animate-in slide-in-from-bottom-5",children:e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-xl flex items-center justify-center backdrop-blur",children:e.jsx(vr,{className:"w-6 h-6"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-lg",children:" "}),e.jsx("p",{className:"text-sm opacity-90",children:"   offline"})]})]}),e.jsx("button",{onClick:i,className:"text-white/80 hover:text-white transition",children:e.jsx(ht,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"space-y-2 mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx("span",{className:"w-1.5 h-1.5 bg-white rounded-full"}),e.jsx("span",{children:"  "})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx("span",{className:"w-1.5 h-1.5 bg-white rounded-full"}),e.jsx("span",{children:"  offline"})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx("span",{className:"w-1.5 h-1.5 bg-white rounded-full"}),e.jsx("span",{children:" Push-"})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(Q,{onClick:a,className:"flex-1 bg-white text-purple-600 hover:bg-gray-100 font-semibold",children:""}),e.jsx(Q,{onClick:i,variant:"ghost",className:"text-white hover:bg-white/10",children:""})]})]})}):null}function h4e(){const t=Oa(),{user:r}=Ma();if(!ry()||t.pathname==="/auth"||t.pathname==="/register"||t.pathname.startsWith("/owner")||t.pathname.startsWith("/admin")||t.pathname.startsWith("/master")||t.pathname.startsWith("/superadmin"))return null;const s=i=>t.pathname===i,a=[{path:"/",icon:yC,label:"Home",show:!0},{path:"/salons",icon:wo,label:"Salons",show:!0},{path:"/feed",icon:qr,label:"Feed",show:!0},{path:r?"/dashboard":"/auth",icon:r?vt:zn,label:r?"Dashboard":"Login",show:!0}].filter(i=>i.show);return e.jsx("nav",{className:"fixed bottom-0 left-0 right-0 z-50 bg-white border-t border-gray-200 shadow-lg md:hidden",children:e.jsx("div",{className:"flex items-center justify-around px-2 py-2 safe-area-inset-bottom",children:a.map(({path:i,icon:o,label:l})=>{const c=s(i);return e.jsxs(It,{to:i,className:`
                flex flex-col items-center justify-center gap-1 px-3 py-2 rounded-lg
                transition-all duration-200 min-w-[4rem]
                ${c?"text-purple-600 bg-purple-50":"text-gray-600 hover:text-purple-600 hover:bg-gray-50"}
              `,children:[e.jsx(o,{className:`w-5 h-5 ${c?"scale-110":""}`,strokeWidth:c?2.5:2}),e.jsx("span",{className:`text-[10px] font-medium ${c?"font-semibold":""}`,children:l})]},i)})})})}function m4e(){return N.useEffect(()=>{(async()=>{try{await Vre()&&(console.log(" Katia PWA "),console.log("    Offline : "),console.log("    : "),console.log("     : ")),Yre()}catch{}})(),window.matchMedia("(display-mode: standalone)").matches?console.log(" Katia    "):console.log(" Katia   "),console.log(`
 Supabase Storage System:`),console.log("    Admin Panel: "+window.location.origin+"/#/storage-admin"),console.log("    Demo Page: "+window.location.origin+"/#/image-storage-demo"),console.log("    Status: Ready for bucket initialization"),console.log(`    Image Seeder: 30 demo images ready to upload
`),console.log(" Beauty Feed System:"),console.log("    Feed Page: "+window.location.origin+"/#/feed"),console.log("    Features: Posts, Last-Minute Deals, Like System"),console.log('    Demo Posts: Available (click "Load Demo Posts" button)\\n')},[]),e.jsx(mq,{children:e.jsx(EJ,{children:e.jsx(oY,{children:e.jsx(TJ,{children:e.jsx(OJ,{children:e.jsx(MJ,{children:e.jsx(LJ,{children:e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(DY,{position:"top-right",richColors:!0}),e.jsx(d4e,{}),e.jsx(u4e,{}),e.jsxs(UW,{children:[e.jsx(Nr,{path:"/",element:e.jsx(Ise,{})}),e.jsx(Nr,{path:"/pricing",element:e.jsx(kle,{})}),e.jsx(Nr,{path:"/register",element:e.jsx(Ale,{})}),e.jsx(Nr,{path:"/partner",element:e.jsx(Ele,{})}),e.jsx(Nr,{path:"/auth",element:e.jsx(Lle,{})}),e.jsx(Nr,{path:"/contact",element:e.jsx(EA,{})}),e.jsx(Nr,{path:"/support",element:e.jsx(EA,{})}),e.jsx(Nr,{path:"/salons",element:e.jsx(gce,{})}),e.jsx(Nr,{path:"/feed",element:e.jsx(n4e,{})}),e.jsx(Nr,{path:"/dashboard",element:e.jsx(vce,{})}),e.jsx(Nr,{path:"/owner",element:e.jsx(hSe,{})}),e.jsx(Nr,{path:"/admin",element:e.jsx(mSe,{})}),e.jsx(Nr,{path:"/client",element:e.jsx(bCe,{})}),e.jsx(Nr,{path:"/master",element:e.jsx(p7,{})}),e.jsx(Nr,{path:"/superadmin",element:e.jsx(CCe,{})}),e.jsx(Nr,{path:"/superadmin/leads",element:e.jsx(PCe,{})}),e.jsx(Nr,{path:"/salon/:salonId",element:e.jsx($Ce,{})}),e.jsx(Nr,{path:"/salon/:salonId/book",element:e.jsx(zI,{})}),e.jsx(Nr,{path:"/booking/:salonId/:serviceId",element:e.jsx(zI,{})}),e.jsx(Nr,{path:"/redirect",element:e.jsx(s4e,{})}),e.jsx(Nr,{path:"/test",element:e.jsx(Nq,{})}),e.jsx(Nr,{path:"/upgrade",element:e.jsx(IY,{})}),e.jsx(Nr,{path:"/quick-retail",element:e.jsx(BY,{})}),e.jsx(Nr,{path:"/blocked-demo",element:e.jsx(i4e,{})}),e.jsx(Nr,{path:"/image-storage-demo",element:e.jsx(GY,{})}),e.jsx(Nr,{path:"/storage-admin",element:e.jsx(YY,{})}),e.jsx(Nr,{path:"*",element:e.jsx(FW,{to:"/"})})]}),e.jsx(h4e,{})]})})})})})})})})}class f4e extends N.Component{constructor(r){super(r),this.state={hasError:!1}}static getDerivedStateFromError(r){return{hasError:!0,error:r}}componentDidCatch(r,n){console.error(" Katia Error:",r,n)}render(){return this.state.hasError?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-pink-50 to-blue-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"max-w-md w-full bg-white rounded-2xl shadow-2xl p-8 text-center",children:[e.jsx("div",{className:"w-20 h-20 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(An,{className:"w-10 h-10 text-red-600"})}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Oops! Something went wrong"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"We're sorry, but something unexpected happened. Please try refreshing the page."}),this.state.error&&e.jsxs("details",{className:"mb-6 text-left",children:[e.jsx("summary",{className:"cursor-pointer text-sm text-gray-500 hover:text-gray-700 mb-2",children:"Technical details"}),e.jsx("pre",{className:"text-xs bg-gray-100 p-3 rounded-lg overflow-auto max-h-32",children:this.state.error.toString()})]}),e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsxs(Q,{onClick:()=>window.location.reload(),className:"w-full bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white",children:[e.jsx(xn,{className:"w-4 h-4 mr-2"}),"Reload Page"]}),e.jsxs(Q,{onClick:()=>window.location.href="/",variant:"outline",className:"w-full",children:[e.jsx(yC,{className:"w-4 h-4 mr-2"}),"Go to Home"]})]})]})}):this.props.children}}console.log(" Katia Platform is starting...");if(!window.location.hash&&window.location.pathname!=="/"){const t=window.location.pathname+window.location.search;window.location.replace("#"+t)}const ri=document.getElementById("root")||document.getElementById("container");if(!ri)throw console.error(" No root element found!"),new Error("Root element not found");console.log(" Root element found:",ri.id);console.log(" Location:",window.location.href);const $S=e.jsx(f4e,{children:e.jsx(m4e,{})});if(window.__REACT_ROOT_INITIALIZED__)if(window.__REACT_ROOT__)console.log(" Reusing existing React root (HMR update)"),window.__REACT_ROOT__.render($S);else{for(console.warn(" Root flag set but no root found, recreating..."),window.__REACT_ROOT_INITIALIZED__=!1;ri.firstChild;)ri.removeChild(ri.firstChild);window.__REACT_ROOT__=kP.createRoot(ri),window.__REACT_ROOT_CONTAINER__=ri,window.__REACT_ROOT_INITIALIZED__=!0,window.__REACT_ROOT__.render($S)}else{for(console.log(" Creating new React root");ri.firstChild;)ri.removeChild(ri.firstChild);window.__REACT_ROOT__=kP.createRoot(ri),window.__REACT_ROOT_CONTAINER__=ri,window.__REACT_ROOT_INITIALIZED__=!0,window.__REACT_ROOT__.render($S),console.log(" App rendered successfully")}
